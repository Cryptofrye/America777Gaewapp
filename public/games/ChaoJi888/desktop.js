/*!
 * VERSION: 1.19.1
 * DATE: 2017-01-17
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},e=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},f=function(a,b,d){c.call(this,a,b,d),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=f.prototype.render},g=1e-10,h=c._internals,i=h.isSelector,j=h.isArray,k=f.prototype=c.to({},.1,{}),l=[];f.version="1.19.1",k.constructor=f,k.kill()._gc=!1,f.killTweensOf=f.killDelayedCallsTo=c.killTweensOf,f.getTweensOf=c.getTweensOf,f.lagSmoothing=c.lagSmoothing,f.ticker=c.ticker,f.render=c.render,k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),c.prototype.invalidate.call(this)},k.updateTo=function(a,b){var d,e=this.ratio,f=this.vars.immediateRender||a.immediateRender;b&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(d in a)this.vars[d]=a[d];if(this._initted||f)if(b)this._initted=!1,f&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&c._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var g=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(g,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||f)for(var h,i=1/(1-e),j=this._firstPT;j;)h=j.s+j.c,j.c*=i,j.s=h-j.c,j=j._next;return this},k.render=function(a,b,c){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var d,e,f,i,j,k,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._time,p=this._totalTime,q=this._cycle,r=this._duration,s=this._rawPrevTime;if(a>=n-1e-7&&a>=0?(this._totalTime=n,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=r,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===r&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>s||0>=a&&a>=-1e-7||s===g&&"isPause"!==this.data)&&s!==a&&(c=!0,s>g&&(e="onReverseComplete")),this._rawPrevTime=m=!b||a||s===a?a:g)):1e-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==p||0===r&&s>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===r&&(this._initted||!this.vars.lazy||c)&&(s>=0&&(c=!0),this._rawPrevTime=m=!b||a||s===a?a:g)),this._initted||(c=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(i=r+this._repeatDelay,this._cycle=this._totalTime/i>>0,0!==this._cycle&&this._cycle===this._totalTime/i&&a>=p&&this._cycle--,this._time=this._totalTime-this._cycle*i,this._yoyo&&0!==(1&this._cycle)&&(this._time=r-this._time),this._time>r?this._time=r:this._time<0&&(this._time=0)),this._easeType?(j=this._time/r,k=this._easeType,l=this._easePower,(1===k||3===k&&j>=.5)&&(j=1-j),3===k&&(j*=2),1===l?j*=j:2===l?j*=j*j:3===l?j*=j*j*j:4===l&&(j*=j*j*j*j),1===k?this.ratio=1-j:2===k?this.ratio=j:this._time/r<.5?this.ratio=j/2:this.ratio=1-j/2):this.ratio=this._ease.getRatio(this._time/r)),o===this._time&&!c&&q===this._cycle)return void(p!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=o,this._totalTime=p,this._rawPrevTime=s,this._cycle=q,h.lazyTweens.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/r):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&a>=0&&(this._active=!0),0===p&&(2===this._initted&&a>0&&this._init(),this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===r)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,b,c),b||(this._totalTime!==p||e)&&this._callback("onUpdate")),this._cycle!==q&&(b||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===r&&this._rawPrevTime===g&&m!==g&&(this._rawPrevTime=0))},f.to=function(a,b,c){return new f(a,b,c)},f.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new f(a,b,c)},f.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new f(a,b,d)},f.staggerTo=f.allTo=function(a,b,g,h,k,m,n){h=h||0;var o,p,q,r,s=0,t=[],u=function(){g.onComplete&&g.onComplete.apply(g.onCompleteScope||this,arguments),k.apply(n||g.callbackScope||this,m||l)},v=g.cycle,w=g.startAt&&g.startAt.cycle;for(j(a)||("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a))),a=a||[],0>h&&(a=d(a),a.reverse(),h*=-1),o=a.length-1,q=0;o>=q;q++){p={};for(r in g)p[r]=g[r];if(v&&(e(p,a,q),null!=p.duration&&(b=p.duration,delete p.duration)),w){w=p.startAt={};for(r in g.startAt)w[r]=g.startAt[r];e(p.startAt,a,q)}p.delay=s+(p.delay||0),q===o&&k&&(p.onComplete=u),t[q]=new f(a[q],b,p),s+=h}return t},f.staggerFrom=f.allFrom=function(a,b,c,d,e,g,h){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,f.staggerTo(a,b,c,d,e,g,h)},f.staggerFromTo=f.allFromTo=function(a,b,c,d,e,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,f.staggerTo(a,b,d,e,g,h,i)},f.delayedCall=function(a,b,c,d,e){return new f(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,useFrames:e,overwrite:0})},f.set=function(a,b){return new f(a,0,b)},f.isTweening=function(a){return c.getTweensOf(a,!0).length>0};var m=function(a,b){for(var d=[],e=0,f=a._first;f;)f instanceof c?d[e++]=f:(b&&(d[e++]=f),d=d.concat(m(f,b)),e=d.length),f=f._next;return d},n=f.getAllTweens=function(b){return m(a._rootTimeline,b).concat(m(a._rootFramesTimeline,b))};f.killAll=function(a,c,d,e){null==c&&(c=!0),null==d&&(d=!0);var f,g,h,i=n(0!=e),j=i.length,k=c&&d&&e;for(h=0;j>h;h++)g=i[h],(k||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&(a?g.totalTime(g._reversed?0:g.totalDuration()):g._enabled(!1,!1))},f.killChildTweensOf=function(a,b){if(null!=a){var e,g,k,l,m,n=h.tweenLookup;if("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a)),j(a))for(l=a.length;--l>-1;)f.killChildTweensOf(a[l],b);else{e=[];for(k in n)for(g=n[k].target.parentNode;g;)g===a&&(e=e.concat(n[k].tweens)),g=g.parentNode;for(m=e.length,l=0;m>l;l++)b&&e[l].totalTime(e[l].totalDuration()),e[l]._enabled(!1,!1)}}};var o=function(a,c,d,e){c=c!==!1,d=d!==!1,e=e!==!1;for(var f,g,h=n(e),i=c&&d&&e,j=h.length;--j>-1;)g=h[j],(i||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&g.paused(a)};return f.pauseAll=function(a,b,c){o(!0,a,b,c)},f.resumeAll=function(a,b,c){o(!1,a,b,c)},f.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;return arguments.length?(b=b||g,d._startTime=e-(e-d._startTime)*d._timeScale/b,d=a._rootFramesTimeline,e=c.ticker.frame,d._startTime=e-(e-d._startTime)*d._timeScale/b,d._timeScale=a._rootTimeline._timeScale=b,b):d._timeScale},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration},k.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},f},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],i(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));i(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals,g=d._internals={},h=f.isSelector,i=f.isArray,j=f.lazyTweens,k=f.lazyRender,l=_gsScope._gsDefine.globals,m=function(a){var b,c={};for(b in a)c[b]=a[b];return c},n=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},o=g.pauseCallback=function(){},p=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},q=d.prototype=new b;return d.version="1.19.1",q.constructor=d,q.kill()._gc=q._forcingPlayhead=q._hasPause=!1,q.to=function(a,b,d,e){var f=d.repeat&&l.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)},q.from=function(a,b,d,e){return this.add((d.repeat&&l.TweenMax||c).from(a,b,d),e)},q.fromTo=function(a,b,d,e,f){var g=e.repeat&&l.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)},q.staggerTo=function(a,b,e,f,g,i,j,k){var l,o,q=new d({onComplete:i,onCompleteParams:j,callbackScope:k,smoothChildTiming:this.smoothChildTiming}),r=e.cycle;for("string"==typeof a&&(a=c.selector(a)||a),a=a||[],h(a)&&(a=p(a)),f=f||0,0>f&&(a=p(a),a.reverse(),f*=-1),o=0;o<a.length;o++)l=m(e),l.startAt&&(l.startAt=m(l.startAt),l.startAt.cycle&&n(l.startAt,a,o)),r&&(n(l,a,o),null!=l.duration&&(b=l.duration,delete l.duration)),q.to(a[o],b,l,o*f);return this.add(q,g)},q.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},q.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},q.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},q.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},q.add=function(e,f,g,h){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&i(e)){for(g=g||"normal",h=h||0,j=f,k=e.length,l=0;k>l;l++)i(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===g?j=m._startTime+m.totalDuration()/m._timeScale:"start"===g&&(m._startTime-=m.delay())),j+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},q.remove=function(b){if(b instanceof a){this._remove(b,!1);var c=b._timeline=b.vars.useFrames?a._rootFramesTimeline:a._rootTimeline;return b._startTime=(b._paused?b._pauseTime:c._time)-(b._reversed?b.totalDuration()-b._totalTime:b._totalTime)/b._timeScale,this}if(b instanceof Array||b&&b.push&&i(b)){for(var d=b.length;--d>-1;)this.remove(b[d]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},q._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},q.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},q.insert=q.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},q.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},q.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},q.addPause=function(a,b,d,e){var f=c.delayedCall(0,o,d,e||this);return f.vars.onComplete=f.vars.onReverseComplete=b,f.data="isPause",this._hasPause=!0,this.add(f,a)},q.removeLabel=function(a){return delete this._labels[a],this},q.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},q._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&i(e)))for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},q.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},q.stop=function(){return this.paused(!0)},q.gotoAndPlay=function(a,b){return this.play(a,b)},q.gotoAndStop=function(a,b){return this.pause(a,b)},q.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._time,p=this._startTime,q=this._timeScale,r=this._paused;if(a>=n-1e-7&&a>=0)this._totalTime=this._time=n,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",i=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>e&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=n+1e-4;else if(1e-7>a)if(this._totalTime=this._time=0,(0!==o||0===this._duration&&this._rawPrevTime!==e&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(h="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(i=f=!0,h="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(i=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!b){if(a>=o)for(d=this._first;d&&d._startTime<=a&&!l;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(l=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!l;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(l=d),d=d._prev;l&&(this._time=a=l._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=a}if(this._time!==o&&this._first||c||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==o&&a>0&&(this._active=!0),0===o&&this.vars.onStart&&(0===this._time&&this._duration||b||this._callback("onStart")),m=this._time,m>=o)for(d=this._first;d&&(g=d._next,m===this._time&&(!this._paused||r));)(d._active||d._startTime<=m&&!d._paused&&!d._gc)&&(l===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,m===this._time&&(!this._paused||r));){if(d._active||d._startTime<=o&&!d._paused&&!d._gc){if(l===d){for(l=d._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(a-l._startTime)*l._timeScale:(a-l._startTime)*l._timeScale,b,c),l=l._prev;l=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=g}this._onUpdate&&(b||(j.length&&k(),this._callback("onUpdate"))),h&&(this._gc||(p===this._startTime||q!==this._timeScale)&&(0===this._time||n>=this.totalDuration())&&(f&&(j.length&&k(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this._callback(h)))}},q._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},q.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},q.getTweensOf=function(a,b){var d,e,f=this._gc,g=[],h=0;for(f&&this._enabled(!0,!0),d=c.getTweensOf(a),e=d.length;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(g[h++]=d[e]);return f&&this._enabled(!1,!0),g},q.recent=function(){return this._recent},q._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},q.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},q._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},q.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},q.invalidate=function(){for(var b=this._first;b;)b.invalidate(),b=b._next;return a.prototype.invalidate.call(this)},q._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},q.totalTime=function(b,c,d){this._forcingPlayhead=!0;var e=a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},q.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},q.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return a&&this.totalDuration()?this.timeScale(this._totalDuration/a):this},q.paused=function(b){if(!b)for(var c=this._first,d=this._time;c;)c._startTime===d&&"isPause"===c.data&&(c._rawPrevTime=0),c=c._next;return a.prototype.paused.apply(this,arguments)},q.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},q.rawTime=function(a){return a&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(a)-this._startTime)*this._timeScale},d},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=1e-10,f=b._internals,g=f.lazyTweens,h=f.lazyRender,i=_gsScope._gsDefine.globals,j=new c(null,null,1,0),k=d.prototype=new a;return k.constructor=d,k.kill()._gc=!1,d.version="1.19.1",k.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},k.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},k.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},k.removePause=function(b){return this.removeCallback(a._internals.pauseCallback,b)},k.tweenTo=function(a,c){c=c||{};var d,e,f,g={ease:j,useFrames:this.usesFrames(),immediateRender:!1},h=c.repeat&&i.TweenMax||b;for(e in c)g[e]=c[e];return g.time=this._parseTimeOrLabel(a),d=Math.abs(Number(g.time)-this._time)/this._timeScale||.001,f=new h(this,d,g),g.onStart=function(){f.target.paused(!0),f.vars.time!==f.target.time()&&d===f.duration()&&f.duration(Math.abs(f.vars.time-f.target.time())/f.target._timeScale),c.onStart&&c.onStart.apply(c.onStartScope||c.callbackScope||f,c.onStartParams||[])},f},k.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],callbackScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},k.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,i,j,k,l,m,n,o=this._dirty?this.totalDuration():this._totalDuration,p=this._duration,q=this._time,r=this._totalTime,s=this._startTime,t=this._timeScale,u=this._rawPrevTime,v=this._paused,w=this._cycle;if(a>=o-1e-7&&a>=0)this._locked||(this._totalTime=o,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(f=!0,j="onComplete",k=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||0>u||u===e)&&u!==a&&this._first&&(k=!0,u>e&&(j="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=p,a=p+1e-4);else if(1e-7>a)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==q||0===p&&u!==e&&(u>0||0>a&&u>=0)&&!this._locked)&&(j="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(k=f=!0,j="onReverseComplete"):u>=0&&this._first&&(k=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=p||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(k=!0)}else if(0===p&&0>u&&(k=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(l=p+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&a>=r&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=p-this._time),this._time>p?(this._time=p,a=p+1e-4):this._time<0?this._time=a=0:a=this._time)),this._hasPause&&!this._forcingPlayhead&&!b&&p>a){if(a=this._time,a>=q||this._repeat&&w!==this._cycle)for(d=this._first;d&&d._startTime<=a&&!m;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(m=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!m;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(m=d),d=d._prev;m&&(this._time=a=m._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var x=this._yoyo&&0!==(1&w),y=x===(this._yoyo&&0!==(1&this._cycle)),z=this._totalTime,A=this._cycle,B=this._rawPrevTime,C=this._time;if(this._totalTime=w*p,this._cycle<w?x=!x:this._totalTime+=p,this._time=q,this._rawPrevTime=0===p?u-1e-4:u,this._cycle=w,this._locked=!0,q=x?0:p,this.render(q,b,0===p),b||this._gc||this.vars.onRepeat&&(this._cycle=A,this._locked=!1,this._callback("onRepeat")),q!==this._time)return;if(y&&(this._cycle=w,this._locked=!0,q=x?p+1e-4:-1e-4,this.render(q,!0,!1)),this._locked=!1,this._paused&&!v)return;this._time=C,this._totalTime=z,this._cycle=A,this._rawPrevTime=B}if(!(this._time!==q&&this._first||c||k||m))return void(r!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==r&&a>0&&(this._active=!0),0===r&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||b||this._callback("onStart")),n=this._time,n>=q)for(d=this._first;d&&(i=d._next,n===this._time&&(!this._paused||v));)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(m===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=i;else for(d=this._last;d&&(i=d._prev,n===this._time&&(!this._paused||v));){if(d._active||d._startTime<=q&&!d._paused&&!d._gc){if(m===d){for(m=d._prev;m&&m.endTime()>this._time;)m.render(m._reversed?m.totalDuration()-(a-m._startTime)*m._timeScale:(a-m._startTime)*m._timeScale,b,c),m=m._prev;m=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=i}this._onUpdate&&(b||(g.length&&h(),this._callback("onUpdate"))),j&&(this._locked||this._gc||(s===this._startTime||t!==this._timeScale)&&(0===this._time||o>=this.totalDuration())&&(f&&(g.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[j]&&this._callback(j)))},k.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],g=this.getChildren(a,b,c),h=0,i=g.length;for(d=0;i>d;d++)e=g[d],e.isActive()&&(f[h++]=e);return f},k.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},k.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(b[c].time<a)return b[c].name;return null},k.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},k.invalidate=function(){return this._locked=!1,a.prototype.invalidate.call(this)},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},k.totalDuration=function(b){return arguments.length?-1!==this._repeat&&b?this.timeScale(this.totalDuration()/b):this:(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},k.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),function(){var a=180/Math.PI,b=[],c=[],d=[],e={},f=_gsScope._gsDefine.globals,g=function(a,b,c,d){c===d&&(c=d-(d-b)/1e6),a===b&&(b=a+(c-a)/1e6),this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,e,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=b[j],u=c[j],v=(u+t)*e*.25/(g?.5:d[j]||.5),o=l-(l-k)*(g?.5*e:0!==t?v/t:0),p=l+(m-l)*(g?.5*e:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-(l-k)*e*.5,p=l+(m-l)*e*.5,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,0!==j?n.b=y:n.b=y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,d,e,f){var h,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=f[d]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new g(a[0][d],0,0,a[-1>h?0:1][d]),n;for(i=0;h>i;i++)j=a[i][d],k=a[i+1][d],n[i]=new g(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new g(a[i][d],0,0,a[i+1][d]),n},l=function(a,f,g,i,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":h,null==f&&(f=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(b.length=c.length=d.length=0,n=w.length;--n>-1;)o=w[n],e[o]=-1!==l.indexOf(","+o+","),v[o]=k(a,o,e[o],m);for(n=b.length;--n>-1;)b[n]=Math.sqrt(b[n]),c[n]=Math.sqrt(c[n]);if(!i){for(n=w.length;--n>-1;)if(e[o])for(p=v[w[n]],s=p.length-1,q=0;s>q;q++)r=p[q+1].da/c[q]+p[q].da/b[q]||0,d[q]=(d[q]||0)+r*r;for(n=d.length;--n>-1;)d[n]=Math.sqrt(d[n])}for(n=w.length,q=g?4:1;--n>-1;)o=w[n],p=v[o],j(p,f,g,i,e[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},m=function(a,b,c){b=b||"soft";var d,e,f,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||a.length<q+1)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new g(d,e,f,h):new g(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,
h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._mod={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",n===!0?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(this._initialRotations=[],n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;){for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;d=n[f][2],this._initialRotations[f]=(this._func[d]?this._func[d].call(this._target):this._target[d])||0,this._overwriteProps.push(d)}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&(this._l2=k[++e])<=b;);this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(b<this._l1&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&b<this._l1?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&e<l.length-1){for(j=l.length-1;j>e&&(this._s2=l[++e])<=b;);this._s1=l[e-1],this._si=e}else if(b<this._s1&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&b<this._s1?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec||0}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=x[e][4]===!0?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new g(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=f.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new p;var j,k,l,m=b.values,n=m.length-1,o=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),o[j]=l.end;for(k in b)q[k]=b[k];return q.values=o,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=q.autoRotate===!0?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x?[["x","y","rotation",j,!1]]:!1),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,g._overwriteProps.push("rotation")),i._onInitTween(l.proxy,q,g._tween),h}})}},q._mod=function(a){for(var b,c=this._overwriteProps,d=c.length;--d>-1;)b=a[c[d]],b&&"function"==typeof b&&(this._mod[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);if(d=this._autoRotate)for(c=d.length;--c>-1;)a[d[c][2]]&&d.splice(c,1);return this._super._kill.call(this,a)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h=_gsScope._gsDefine.globals,i={},j=g.prototype=new a("css");j.constructor=g,g.version="1.19.1",g.API=2,g.defaultTransformPerspective=0,g.defaultSkewType="compensated",g.defaultSmoothOrigin=!0,j="px",g.suffixMap={top:j,right:j,bottom:j,left:j,width:j,height:j,fontSize:j,padding:j,margin:j,perspective:j,lineHeight:""};var k,l,m,n,o,p,q,r,s=/(?:\-|\.|\b)(\d|\.|e\-)+/g,t=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,u=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,v=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,w=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,y=/opacity:([^;]*)/i,z=/alpha\(opacity *=.+?\)/i,A=/^(rgb|hsl)/,B=/([A-Z])/g,C=/-([a-z])/gi,D=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,E=function(a,b){return b.toUpperCase()},F=/(?:Left|Right|Width)/i,G=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,H=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,J=/[\s,\(]/i,K=Math.PI/180,L=180/Math.PI,M={},N={style:{}},O=_gsScope.document||{createElement:function(){return N}},P=function(a,b){return O.createElementNS?O.createElementNS(b||"http://www.w3.org/1999/xhtml",a):O.createElement(a)},Q=P("div"),R=P("img"),S=g._internals={_specialProps:i},T=(_gsScope.navigator||{}).userAgent||"",U=function(){var a=T.indexOf("Android"),b=P("a");return m=-1!==T.indexOf("Safari")&&-1===T.indexOf("Chrome")&&(-1===a||parseFloat(T.substr(a+8,2))>3),o=m&&parseFloat(T.substr(T.indexOf("Version/")+8,2))<6,n=-1!==T.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(T)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(T))&&(p=parseFloat(RegExp.$1)),b?(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity)):!1}(),V=function(a){return x.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},W=function(a){_gsScope.console&&console.log(a)},X="",Y="",Z=function(a,b){b=b||Q;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(Y=3===d?"ms":c[d],X="-"+Y.toLowerCase()+"-",Y+a):null},$=O.defaultView?O.defaultView.getComputedStyle:function(){},_=g.getStyle=function(a,b,c,d,e){var f;return U||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||$(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(B,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):V(a)},aa=S.convertToPixels=function(a,c,d,e,f){if("px"===e||!e)return d;if("auto"===e||!d)return 0;var h,i,j,k=F.test(c),l=a,m=Q.style,n=0>d,o=1===d;if(n&&(d=-d),o&&(d*=100),"%"===e&&-1!==c.indexOf("border"))h=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+_(a,"position")+";line-height:0;","%"!==e&&l.appendChild&&"v"!==e.charAt(0)&&"rem"!==e)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||O.body,i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(Q),h=parseFloat(Q[k?"offsetWidth":"offsetHeight"]),l.removeChild(Q),k&&"%"===e&&g.cacheWidths!==!1&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=h/d*100),0!==h||f||(h=aa(a,c,d,e,!0))}return o&&(h/=100),n?-h:h},ba=S.calculateOffset=function(a,b,c){if("absolute"!==_(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=_(a,"margin"+d,c);return a["offset"+d]-(aa(a,b,parseFloat(e),e.replace(w,""))||0)},ca=function(a,b){var c,d,e,f={};if(b=b||$(a,null))if(c=b.length)for(;--c>-1;)e=b[c],(-1===e.indexOf("-transform")||Da===e)&&(f[e.replace(C,E)]=b.getPropertyValue(e));else for(c in b)(-1===c.indexOf("Transform")||Ca===c)&&(f[c]=b[c]);else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===f[c]&&(f[c.replace(C,E)]=b[c]);return U||(f.opacity=V(a)),d=Ra(a,b,!1),f.rotation=d.rotation,f.skewX=d.skewX,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.x=d.x,f.y=d.y,Fa&&(f.z=d.z,f.rotationX=d.rotationX,f.rotationY=d.rotationY,f.scaleZ=d.scaleZ),f.filters&&delete f.filters,f},da=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(v,"")?f:0:ba(a,g),void 0!==j[g]&&(h=new sa(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},ea={width:["Left","Right"],height:["Top","Bottom"]},fa=["marginLeft","marginRight","marginTop","marginBottom"],ga=function(a,b,c){if("svg"===(a.nodeName+"").toLowerCase())return(c||$(a))[b]||0;if(a.getCTM&&Oa(a))return a.getBBox()[b]||0;var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=ea[b],f=e.length;for(c=c||$(a,null);--f>-1;)d-=parseFloat(_(a,"padding"+e[f],c,!0))||0,d-=parseFloat(_(a,"border"+e[f]+"Width",c,!0))||0;return d},ha=function(a,b){if("contain"===a||"auto"===a||"auto auto"===a)return a+" ";(null==a||""===a)&&(a="0 0");var c,d=a.split(" "),e=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":d[0],f=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":d[1];if(d.length>3&&!b){for(d=a.split(", ").join(",").split(","),a=[],c=0;c<d.length;c++)a.push(ha(d[c]));return a.join(",")}return null==f?f="center"===e?"50%":"0":"center"===f&&(f="50%"),("center"===e||isNaN(parseFloat(e))&&-1===(e+"").indexOf("="))&&(e="50%"),a=e+" "+f+(d.length>2?" "+d[2]:""),b&&(b.oxp=-1!==e.indexOf("%"),b.oyp=-1!==f.indexOf("%"),b.oxr="="===e.charAt(1),b.oyr="="===f.charAt(1),b.ox=parseFloat(e.replace(v,"")),b.oy=parseFloat(f.replace(v,"")),b.v=a),b||a},ia=function(a,b){return"function"==typeof a&&(a=a(r,q)),"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)||0},ja=function(a,b){return"function"==typeof a&&(a=a(r,q)),null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)||0},ka=function(a,b,c,d){var e,f,g,h,i,j=1e-6;return"function"==typeof a&&(a=a(r,q)),null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),i="="===a.charAt(1),g=(i?parseInt(a.charAt(0)+"1",10)*parseFloat(f[0].substr(2)):parseFloat(f[0]))*(-1===a.indexOf("rad")?1:L)-(i?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(g/e|0)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(g/e|0)*e)),h=b+g),j>h&&h>-j&&(h=0),h},la={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ma=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*a?b+(c-b)*(2/3-a)*6:b)+.5|0},na=g.parseColor=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(a)if("number"==typeof a)c=[a>>16,a>>8&255,255&a];else{if(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),la[a])c=la[a];else if("#"===a.charAt(0))4===a.length&&(d=a.charAt(1),e=a.charAt(2),f=a.charAt(3),a="#"+d+d+e+e+f+f),a=parseInt(a.substr(1),16),c=[a>>16,a>>8&255,255&a];else if("hsl"===a.substr(0,3))if(c=m=a.match(s),b){if(-1!==a.indexOf("="))return a.match(t)}else g=Number(c[0])%360/360,h=Number(c[1])/100,i=Number(c[2])/100,e=.5>=i?i*(h+1):i+h-i*h,d=2*i-e,c.length>3&&(c[3]=Number(a[3])),c[0]=ma(g+1/3,d,e),c[1]=ma(g,d,e),c[2]=ma(g-1/3,d,e);else c=a.match(s)||la.transparent;c[0]=Number(c[0]),c[1]=Number(c[1]),c[2]=Number(c[2]),c.length>3&&(c[3]=Number(c[3]))}else c=la.black;return b&&!m&&(d=c[0]/255,e=c[1]/255,f=c[2]/255,j=Math.max(d,e,f),k=Math.min(d,e,f),i=(j+k)/2,j===k?g=h=0:(l=j-k,h=i>.5?l/(2-j-k):l/(j+k),g=j===d?(e-f)/l+(f>e?6:0):j===e?(f-d)/l+2:(d-e)/l+4,g*=60),c[0]=g+.5|0,c[1]=100*h+.5|0,c[2]=100*i+.5|0),c},oa=function(a,b){var c,d,e,f=a.match(pa)||[],g=0,h=f.length?"":a;for(c=0;c<f.length;c++)d=f[c],e=a.substr(g,a.indexOf(d,g)-g),g+=e.length+d.length,d=na(d,b),3===d.length&&d.push(1),h+=e+(b?"hsla("+d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:"rgba("+d.join(","))+")";return h+a.substr(g)},pa="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(j in la)pa+="|"+j+"\\b";pa=new RegExp(pa+")","gi"),g.colorStringFilter=function(a){var b,c=a[0]+a[1];pa.test(c)&&(b=-1!==c.indexOf("hsl(")||-1!==c.indexOf("hsla("),a[0]=oa(a[0],b),a[1]=oa(a[1],b)),pa.lastIndex=0},b.defaultStringFilter||(b.defaultStringFilter=g.colorStringFilter);var qa=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(pa)||[""])[0]:"",g=a.split(f).join("").match(u)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(s,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&I.test(a)){for(o=a.replace(I,"|").split("|"),n=0;n<o.length;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(pa)||[f])[0],m=a.split(b).join("").match(u)||[],n=m.length,k>n--)for(;++n<k;)m[n]=c?m[(n-1)/2|0]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&I.test(a)){for(f=a.replace(I,"|").split("|"),m=0;m<f.length;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(u)||[],m=b.length,k>m--)for(;++m<k;)b[m]=c?b[(m-1)/2|0]:g[m];return h+b.join(j)+i}:function(a){return a}},ra=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},sa=(S._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f,g=this.data,h=g.proxy,i=g.firstMPT,j=1e-6;i;)b=h[i.v],i.r?b=Math.round(b):j>b&&b>-j&&(b=0),i.t[i.p]=b,i=i._next;if(g.autoRotate&&(g.autoRotate.rotation=g.mod?g.mod(h.rotation,this.t):h.rotation),1===a||0===a)for(i=g.firstMPT,f=1===a?"e":"b";i;){if(c=i.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;d<c.l;d++)e+=c["xn"+d]+c["xs"+(d+1)];c[f]=e}}else c[f]=c.s+c.xs0;i=i._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),ta=(S._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=M;for(c._transform=null,M=b,d=k=c.parse(a,b,d,e),M=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(d.type<=1&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new sa(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new sa(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},S.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof ta||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),ua=function(a,b,c,d,e,f){var g=new ta(a,b,c,d-c,e,-1,f);return g.b=c,g.e=g.xs0=d,g},va=g.parseComplex=function(a,b,c,d,e,f,h,i,j,l){c=c||f||"","function"==typeof d&&(d=d(r,q)),h=new ta(a,b,0,0,h,l?2:1,null,!1,i,c,d),d+="",e&&pa.test(d+c)&&(d=[c,d],g.colorStringFilter(d),c=d[0],d=d[1]);var m,n,o,p,u,v,w,x,y,z,A,B,C,D=c.split(", ").join(",").split(" "),E=d.split(", ").join(",").split(" "),F=D.length,G=k!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(D=D.join(" ").replace(I,", ").split(" "),E=E.join(" ").replace(I,", ").split(" "),F=D.length),F!==E.length&&(D=(f||"").split(" "),F=D.length),h.plugin=j,h.setRatio=l,pa.lastIndex=0,m=0;F>m;m++)if(p=D[m],u=E[m],x=parseFloat(p),x||0===x)h.appendXtra("",x,ia(u,x),u.replace(t,""),G&&-1!==u.indexOf("px"),!0);else if(e&&pa.test(p))B=u.indexOf(")")+1,B=")"+(B?u.substr(B):""),C=-1!==u.indexOf("hsl")&&U,p=na(p,C),u=na(u,C),y=p.length+u.length>6,y&&!U&&0===u[3]?(h["xs"+h.l]+=h.l?" transparent":"transparent",h.e=h.e.split(E[m]).join("transparent")):(U||(y=!1),C?h.appendXtra(y?"hsla(":"hsl(",p[0],ia(u[0],p[0]),",",!1,!0).appendXtra("",p[1],ia(u[1],p[1]),"%,",!1).appendXtra("",p[2],ia(u[2],p[2]),y?"%,":"%"+B,!1):h.appendXtra(y?"rgba(":"rgb(",p[0],u[0]-p[0],",",!0,!0).appendXtra("",p[1],u[1]-p[1],",",!0).appendXtra("",p[2],u[2]-p[2],y?",":B,!0),y&&(p=p.length<4?1:p[3],h.appendXtra("",p,(u.length<4?1:u[3])-p,B,!1))),pa.lastIndex=0;else if(v=p.match(s)){if(w=u.match(t),!w||w.length!==v.length)return h;for(o=0,n=0;n<v.length;n++)A=v[n],z=p.indexOf(A,o),h.appendXtra(p.substr(o,z-o),Number(A),ia(w[n],A),"",G&&"px"===p.substr(z+A.length,2),0===n),o=z+A.length;h["xs"+h.l]+=p.substr(o)}else h["xs"+h.l]+=h.l||h["xs"+h.l]?" "+u:u;if(-1!==d.indexOf("=")&&h.data){for(B=h.xs0+h.data.s,m=1;m<h.l;m++)B+=h["xs"+m]+h.data["xn"+m];h.e=B+h["xs"+m]}return h.l||(h.type=-1,h.xs0=h.e),h.xfirst||h},wa=9;for(j=ta.prototype,j.l=j.pr=0;--wa>0;)j["xn"+wa]=0,j["xs"+wa]="";j.xs0="",j._next=j._prev=j.xfirst=j.data=j.plugin=j.setRatio=j.rxp=null,j.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&(h||g["xs"+h])?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new ta(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var xa=function(a,b){b=b||{},this.p=b.prefix?Z(a)||a:a,i[a]=i[this.p]=this,this.format=b.formatter||qa(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},ya=S._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;d<f.length;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new xa(f[d],b)},za=S._registerPluginProp=function(a){if(!i[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";ya(a,{parser:function(a,c,d,e,f,g,j){var k=h.com.greensock.plugins[b];return k?(k._cssRegister(),i[d].parse(a,c,d,e,f,g,j)):(W("Error: "+b+" js file not loaded."),f)}})}};j=xa.prototype,j.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(I.test(c)||I.test(b)?(h=b.replace(I,"|").split("|"),i=c.replace(I,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(-1===l?h[g]=h[g].split(m).join(""):-1===k&&(h[g]+=" "+m)));b=h.join(", "),c=i.join(", ")}return va(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},j.parse=function(a,b,c,d,f,g,h){return this.parseComplex(a.style,this.format(_(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){ya(a,{parser:function(a,d,e,f,g,h,i){var j=new ta(a,e,0,0,g,2,e,!1,c);return j.plugin=h,j.setRatio=b(a,d,f._tween,e),j},priority:c})},g.useSVGTransformAttr=!0;var Aa,Ba="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ca=Z("transform"),Da=X+"transform",Ea=Z("transformOrigin"),Fa=null!==Z("perspective"),Ga=S.Transform=function(){this.perspective=parseFloat(g.defaultTransformPerspective)||0,this.force3D=g.defaultForce3D!==!1&&Fa?g.defaultForce3D||"auto":!1},Ha=_gsScope.SVGElement,Ia=function(a,b,c){var d,e=O.createElementNS("http://www.w3.org/2000/svg",a),f=/([a-z])([A-Z])/g;for(d in c)e.setAttributeNS(null,d.replace(f,"$1-$2").toLowerCase(),c[d]);return b.appendChild(e),e},Ja=O.documentElement||{},Ka=function(){var a,b,c,d=p||/Android/i.test(T)&&!_gsScope.chrome;return O.createElementNS&&!d&&(a=Ia("svg",Ja),b=Ia("rect",a,{width:100,height:50,x:100}),c=b.getBoundingClientRect().width,b.style[Ea]="50% 50%",b.style[Ca]="scaleX(0.5)",d=c===b.getBoundingClientRect().width&&!(n&&Fa),Ja.removeChild(a)),d}(),La=function(a,b,c,d,e,f){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a._gsTransform,w=Qa(a,!0);v&&(t=v.xOrigin,u=v.yOrigin),(!d||(h=d.split(" ")).length<2)&&(n=a.getBBox(),0===n.x&&0===n.y&&n.width+n.height===0&&(n={x:parseFloat(a.hasAttribute("x")?a.getAttribute("x"):a.hasAttribute("cx")?a.getAttribute("cx"):0)||0,y:parseFloat(a.hasAttribute("y")?a.getAttribute("y"):a.hasAttribute("cy")?a.getAttribute("cy"):0)||0,width:0,height:0}),b=ha(b).split(" "),h=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*n.width:parseFloat(b[0]))+n.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*n.height:parseFloat(b[1]))+n.y]),c.xOrigin=k=parseFloat(h[0]),c.yOrigin=l=parseFloat(h[1]),d&&w!==Pa&&(m=w[0],n=w[1],o=w[2],p=w[3],q=w[4],r=w[5],s=m*p-n*o,s&&(i=k*(p/s)+l*(-o/s)+(o*r-p*q)/s,j=k*(-n/s)+l*(m/s)-(m*r-n*q)/s,k=c.xOrigin=h[0]=i,l=c.yOrigin=h[1]=j)),v&&(f&&(c.xOffset=v.xOffset,c.yOffset=v.yOffset,v=c),e||e!==!1&&g.defaultSmoothOrigin!==!1?(i=k-t,j=l-u,v.xOffset+=i*w[0]+j*w[2]-i,v.yOffset+=i*w[1]+j*w[3]-j):v.xOffset=v.yOffset=0),f||a.setAttribute("data-svg-origin",h.join(" "))},Ma=function(a){var b,c=P("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),d=this.parentNode,e=this.nextSibling,f=this.style.cssText;if(Ja.appendChild(c),c.appendChild(this),this.style.display="block",a)try{b=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Ma}catch(g){}else this._originalGetBBox&&(b=this._originalGetBBox());return e?d.insertBefore(this,e):d.appendChild(this),Ja.removeChild(c),this.style.cssText=f,b},Na=function(a){try{return a.getBBox()}catch(b){return Ma.call(a,!0)}},Oa=function(a){return!(!(Ha&&a.getCTM&&Na(a))||a.parentNode&&!a.ownerSVGElement)},Pa=[1,0,0,1,0,0],Qa=function(a,b){var c,d,e,f,g,h,i=a._gsTransform||new Ga,j=1e5,k=a.style;if(Ca?d=_(a,Da,null,!0):a.currentStyle&&(d=a.currentStyle.filter.match(G),d=d&&4===d.length?[d[0].substr(4),Number(d[2].substr(4)),Number(d[1].substr(4)),d[3].substr(4),i.x||0,i.y||0].join(","):""),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,c&&Ca&&((h="none"===$(a).display)||!a.parentNode)&&(h&&(f=k.display,k.display="block"),a.parentNode||(g=1,Ja.appendChild(a)),d=_(a,Da,null,!0),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,f?k.display=f:h&&Va(k,"display"),g&&Ja.removeChild(a)),(i.svg||a.getCTM&&Oa(a))&&(c&&-1!==(k[Ca]+"").indexOf("matrix")&&(d=k[Ca],c=0),e=a.getAttribute("transform"),c&&e&&(-1!==e.indexOf("matrix")?(d=e,c=0):-1!==e.indexOf("translate")&&(d="matrix(1,0,0,1,"+e.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",c=0))),c)return Pa;for(e=(d||"").match(s)||[],wa=e.length;--wa>-1;)f=Number(e[wa]),e[wa]=(g=f-(f|=0))?(g*j+(0>g?-.5:.5)|0)/j+f:f;return b&&e.length>6?[e[0],e[1],e[4],e[5],e[12],e[13]]:e},Ra=S.getTransform=function(a,c,d,e){if(a._gsTransform&&d&&!e)return a._gsTransform;var f,h,i,j,k,l,m=d?a._gsTransform||new Ga:new Ga,n=m.scaleX<0,o=2e-5,p=1e5,q=Fa?parseFloat(_(a,Ea,c,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,r=parseFloat(g.defaultTransformPerspective)||0;if(m.svg=!(!a.getCTM||!Oa(a)),m.svg&&(La(a,_(a,Ea,c,!1,"50% 50%")+"",m,a.getAttribute("data-svg-origin")),Aa=g.useSVGTransformAttr||Ka),f=Qa(a),f!==Pa){if(16===f.length){var s,t,u,v,w,x=f[0],y=f[1],z=f[2],A=f[3],B=f[4],C=f[5],D=f[6],E=f[7],F=f[8],G=f[9],H=f[10],I=f[12],J=f[13],K=f[14],M=f[11],N=Math.atan2(D,H);m.zOrigin&&(K=-m.zOrigin,I=F*K-f[12],J=G*K-f[13],K=H*K+m.zOrigin-f[14]),m.rotationX=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),s=B*v+F*w,t=C*v+G*w,u=D*v+H*w,F=B*-w+F*v,G=C*-w+G*v,H=D*-w+H*v,M=E*-w+M*v,B=s,C=t,D=u),N=Math.atan2(-z,H),m.rotationY=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),s=x*v-F*w,t=y*v-G*w,u=z*v-H*w,G=y*w+G*v,H=z*w+H*v,M=A*w+M*v,x=s,y=t,z=u),N=Math.atan2(y,x),m.rotation=N*L,N&&(v=Math.cos(-N),w=Math.sin(-N),x=x*v+B*w,t=y*v+C*w,C=y*-w+C*v,D=z*-w+D*v,y=t),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY=180-m.rotationY),m.scaleX=(Math.sqrt(x*x+y*y)*p+.5|0)/p,m.scaleY=(Math.sqrt(C*C+G*G)*p+.5|0)/p,m.scaleZ=(Math.sqrt(D*D+H*H)*p+.5|0)/p,m.rotationX||m.rotationY?m.skewX=0:(m.skewX=B||C?Math.atan2(B,C)*L+m.rotation:m.skewX||0,Math.abs(m.skewX)>90&&Math.abs(m.skewX)<270&&(n?(m.scaleX*=-1,m.skewX+=m.rotation<=0?180:-180,m.rotation+=m.rotation<=0?180:-180):(m.scaleY*=-1,m.skewX+=m.skewX<=0?180:-180))),m.perspective=M?1/(0>M?-M:M):0,m.x=I,m.y=J,m.z=K,m.svg&&(m.x-=m.xOrigin-(m.xOrigin*x-m.yOrigin*B),m.y-=m.yOrigin-(m.yOrigin*y-m.xOrigin*C))}else if(!Fa||e||!f.length||m.x!==f[4]||m.y!==f[5]||!m.rotationX&&!m.rotationY){var O=f.length>=6,P=O?f[0]:1,Q=f[1]||0,R=f[2]||0,S=O?f[3]:1;m.x=f[4]||0,m.y=f[5]||0,i=Math.sqrt(P*P+Q*Q),j=Math.sqrt(S*S+R*R),k=P||Q?Math.atan2(Q,P)*L:m.rotation||0,l=R||S?Math.atan2(R,S)*L+k:m.skewX||0,Math.abs(l)>90&&Math.abs(l)<270&&(n?(i*=-1,l+=0>=k?180:-180,k+=0>=k?180:-180):(j*=-1,l+=0>=l?180:-180)),m.scaleX=i,m.scaleY=j,m.rotation=k,m.skewX=l,Fa&&(m.rotationX=m.rotationY=m.z=0,m.perspective=r,m.scaleZ=1),m.svg&&(m.x-=m.xOrigin-(m.xOrigin*P+m.yOrigin*R),m.y-=m.yOrigin-(m.xOrigin*Q+m.yOrigin*S))}m.zOrigin=q;for(h in m)m[h]<o&&m[h]>-o&&(m[h]=0)}return d&&(a._gsTransform=m,m.svg&&(Aa&&a.style[Ca]?b.delayedCall(.001,function(){Va(a.style,Ca)}):!Aa&&a.getAttribute("transform")&&b.delayedCall(.001,function(){a.removeAttribute("transform")}))),m},Sa=function(a){var b,c,d=this.data,e=-d.rotation*K,f=e+d.skewX*K,g=1e5,h=(Math.cos(e)*d.scaleX*g|0)/g,i=(Math.sin(e)*d.scaleX*g|0)/g,j=(Math.sin(f)*-d.scaleY*g|0)/g,k=(Math.cos(f)*d.scaleY*g|0)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,o,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,u=d.x+q*d.xPercent/100,v=d.y+r*d.yPercent/100;if(null!=d.ox&&(n=(d.oxp?q*d.ox*.01:d.ox)-q/2,o=(d.oyp?r*d.oy*.01:d.oy)-r/2,u+=n-(n*h+o*i),v+=o-(n*j+o*k)),s?(n=q/2,o=r/2,t+=", Dx="+(n-(n*h+o*i)+u)+", Dy="+(o-(n*j+o*k)+v)+")"):t+=", sizingMethod='auto expand')",-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?l.filter=b.replace(H,t):l.filter=t+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===t.indexOf("Dx=0, Dy=0")||x.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>p?1:-1;for(n=d.ieOffsetX||0,o=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+u),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+v),wa=0;4>wa;wa++)z=fa[wa],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):aa(this.t,z,parseFloat(y),y.replace(w,""))||0,A=c!==d[z]?2>wa?-d.ieOffsetX:-d.ieOffsetY:2>wa?n-d.ieOffsetX:o-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===wa||2===wa?1:B)))+"px"}}},Ta=S.set3DTransformRatio=S.setTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z=this.data,A=this.t.style,B=z.rotation,C=z.rotationX,D=z.rotationY,E=z.scaleX,F=z.scaleY,G=z.scaleZ,H=z.x,I=z.y,J=z.z,L=z.svg,M=z.perspective,N=z.force3D,O=z.skewY,P=z.skewX;if(O&&(P+=O,B+=O),((1===a||0===a)&&"auto"===N&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!N)&&!J&&!M&&!D&&!C&&1===G||Aa&&L||!Fa)return void(B||P||L?(B*=K,x=P*K,y=1e5,c=Math.cos(B)*E,f=Math.sin(B)*E,d=Math.sin(B-x)*-F,g=Math.cos(B-x)*F,x&&"simple"===z.skewType&&(b=Math.tan(x-O*K),b=Math.sqrt(1+b*b),d*=b,g*=b,O&&(b=Math.tan(O*K),b=Math.sqrt(1+b*b),c*=b,f*=b)),L&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset,Aa&&(z.xPercent||z.yPercent)&&(q=this.t.getBBox(),H+=.01*z.xPercent*q.width,I+=.01*z.yPercent*q.height),q=1e-6,q>H&&H>-q&&(H=0),q>I&&I>-q&&(I=0)),u=(c*y|0)/y+","+(f*y|0)/y+","+(d*y|0)/y+","+(g*y|0)/y+","+H+","+I+")",L&&Aa?this.t.setAttribute("transform","matrix("+u):A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+u):A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+E+",0,0,"+F+","+H+","+I+")");if(n&&(q=1e-4,q>E&&E>-q&&(E=G=2e-5),q>F&&F>-q&&(F=G=2e-5),!M||z.z||z.rotationX||z.rotationY||(M=0)),B||P)B*=K,r=c=Math.cos(B),s=f=Math.sin(B),P&&(B-=P*K,r=Math.cos(B),s=Math.sin(B),"simple"===z.skewType&&(b=Math.tan((P-O)*K),b=Math.sqrt(1+b*b),r*=b,s*=b,z.skewY&&(b=Math.tan(O*K),b=Math.sqrt(1+b*b),c*=b,f*=b))),d=-s,g=r;else{if(!(D||C||1!==G||M||L))return void(A[Ca]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) translate3d(":"translate3d(")+H+"px,"+I+"px,"+J+"px)"+(1!==E||1!==F?" scale("+E+","+F+")":""));c=g=1,d=f=0}k=1,e=h=i=j=l=m=0,o=M?-1/M:0,p=z.zOrigin,q=1e-6,v=",",w="0",B=D*K,B&&(r=Math.cos(B),s=Math.sin(B),i=-s,l=o*-s,e=c*s,h=f*s,k=r,o*=r,c*=r,f*=r),B=C*K,B&&(r=Math.cos(B),s=Math.sin(B),b=d*r+e*s,t=g*r+h*s,j=k*s,m=o*s,e=d*-s+e*r,h=g*-s+h*r,k*=r,o*=r,d=b,g=t),1!==G&&(e*=G,h*=G,k*=G,o*=G),1!==F&&(d*=F,g*=F,j*=F,m*=F),1!==E&&(c*=E,f*=E,i*=E,l*=E),(p||L)&&(p&&(H+=e*-p,I+=h*-p,J+=k*-p+p),L&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset),q>H&&H>-q&&(H=w),q>I&&I>-q&&(I=w),q>J&&J>-q&&(J=0)),u=z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix3d(":"matrix3d(",u+=(q>c&&c>-q?w:c)+v+(q>f&&f>-q?w:f)+v+(q>i&&i>-q?w:i),u+=v+(q>l&&l>-q?w:l)+v+(q>d&&d>-q?w:d)+v+(q>g&&g>-q?w:g),C||D||1!==G?(u+=v+(q>j&&j>-q?w:j)+v+(q>m&&m>-q?w:m)+v+(q>e&&e>-q?w:e),u+=v+(q>h&&h>-q?w:h)+v+(q>k&&k>-q?w:k)+v+(q>o&&o>-q?w:o)+v):u+=",0,0,0,0,1,0,",u+=H+v+I+v+J+v+(M?1+-J/M:1)+")",A[Ca]=u};j=Ga.prototype,j.x=j.y=j.z=j.skewX=j.skewY=j.rotation=j.rotationX=j.rotationY=j.zOrigin=j.xPercent=j.yPercent=j.xOffset=j.yOffset=0,j.scaleX=j.scaleY=j.scaleZ=1,ya("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(a,b,c,d,f,h,i){if(d._lastParsedTransform===i)return f;d._lastParsedTransform=i;var j,k=i.scale&&"function"==typeof i.scale?i.scale:0;"function"==typeof i[c]&&(j=i[c],i[c]=b),k&&(i.scale=k(r,a));var l,m,n,o,p,s,t,u,v,w=a._gsTransform,x=a.style,y=1e-6,z=Ba.length,A=i,B={},C="transformOrigin",D=Ra(a,e,!0,A.parseTransform),E=A.transform&&("function"==typeof A.transform?A.transform(r,q):A.transform);if(d._transform=D,E&&"string"==typeof E&&Ca)m=Q.style,m[Ca]=E,m.display="block",m.position="absolute",O.body.appendChild(Q),l=Ra(Q,null,!1),D.svg&&(s=D.xOrigin,t=D.yOrigin,l.x-=D.xOffset,l.y-=D.yOffset,(A.transformOrigin||A.svgOrigin)&&(E={},La(a,ha(A.transformOrigin),E,A.svgOrigin,A.smoothOrigin,!0),s=E.xOrigin,t=E.yOrigin,l.x-=E.xOffset-D.xOffset,l.y-=E.yOffset-D.yOffset),(s||t)&&(u=Qa(Q,!0),l.x-=s-(s*u[0]+t*u[2]),l.y-=t-(s*u[1]+t*u[3]))),O.body.removeChild(Q),l.perspective||(l.perspective=D.perspective),null!=A.xPercent&&(l.xPercent=ja(A.xPercent,D.xPercent)),null!=A.yPercent&&(l.yPercent=ja(A.yPercent,D.yPercent));else if("object"==typeof A){if(l={scaleX:ja(null!=A.scaleX?A.scaleX:A.scale,D.scaleX),scaleY:ja(null!=A.scaleY?A.scaleY:A.scale,D.scaleY),scaleZ:ja(A.scaleZ,D.scaleZ),x:ja(A.x,D.x),y:ja(A.y,D.y),z:ja(A.z,D.z),xPercent:ja(A.xPercent,D.xPercent),
yPercent:ja(A.yPercent,D.yPercent),perspective:ja(A.transformPerspective,D.perspective)},p=A.directionalRotation,null!=p)if("object"==typeof p)for(m in p)A[m]=p[m];else A.rotation=p;"string"==typeof A.x&&-1!==A.x.indexOf("%")&&(l.x=0,l.xPercent=ja(A.x,D.xPercent)),"string"==typeof A.y&&-1!==A.y.indexOf("%")&&(l.y=0,l.yPercent=ja(A.y,D.yPercent)),l.rotation=ka("rotation"in A?A.rotation:"shortRotation"in A?A.shortRotation+"_short":"rotationZ"in A?A.rotationZ:D.rotation,D.rotation,"rotation",B),Fa&&(l.rotationX=ka("rotationX"in A?A.rotationX:"shortRotationX"in A?A.shortRotationX+"_short":D.rotationX||0,D.rotationX,"rotationX",B),l.rotationY=ka("rotationY"in A?A.rotationY:"shortRotationY"in A?A.shortRotationY+"_short":D.rotationY||0,D.rotationY,"rotationY",B)),l.skewX=ka(A.skewX,D.skewX),l.skewY=ka(A.skewY,D.skewY)}for(Fa&&null!=A.force3D&&(D.force3D=A.force3D,o=!0),D.skewType=A.skewType||D.skewType||g.defaultSkewType,n=D.force3D||D.z||D.rotationX||D.rotationY||l.z||l.rotationX||l.rotationY||l.perspective,n||null==A.scale||(l.scaleZ=1);--z>-1;)v=Ba[z],E=l[v]-D[v],(E>y||-y>E||null!=A[v]||null!=M[v])&&(o=!0,f=new ta(D,v,D[v],E,f),v in B&&(f.e=B[v]),f.xs0=0,f.plugin=h,d._overwriteProps.push(f.n));return E=A.transformOrigin,D.svg&&(E||A.svgOrigin)&&(s=D.xOffset,t=D.yOffset,La(a,ha(E),l,A.svgOrigin,A.smoothOrigin),f=ua(D,"xOrigin",(w?D:l).xOrigin,l.xOrigin,f,C),f=ua(D,"yOrigin",(w?D:l).yOrigin,l.yOrigin,f,C),(s!==D.xOffset||t!==D.yOffset)&&(f=ua(D,"xOffset",w?s:D.xOffset,D.xOffset,f,C),f=ua(D,"yOffset",w?t:D.yOffset,D.yOffset,f,C)),E="0px 0px"),(E||Fa&&n&&D.zOrigin)&&(Ca?(o=!0,v=Ea,E=(E||_(a,v,e,!1,"50% 50%"))+"",f=new ta(x,v,0,0,f,-1,C),f.b=x[v],f.plugin=h,Fa?(m=D.zOrigin,E=E.split(" "),D.zOrigin=(E.length>2&&(0===m||"0px"!==E[2])?parseFloat(E[2]):m)||0,f.xs0=f.e=E[0]+" "+(E[1]||"50%")+" 0px",f=new ta(D,"zOrigin",0,0,f,-1,f.n),f.b=m,f.xs0=f.e=D.zOrigin):f.xs0=f.e=E):ha(E+"",D)),o&&(d._transformType=D.svg&&Aa||!n&&3!==this._transformType?2:3),j&&(i[c]=j),k&&(i.scale=k),f},prefix:!0}),ya("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ya("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g,h){b=this.format(b);var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],z=a.style;for(q=parseFloat(a.offsetWidth),r=parseFloat(a.offsetHeight),i=b.split(" "),j=0;j<y.length;j++)this.p.indexOf("border")&&(y[j]=Z(y[j])),m=l=_(a,y[j],e,!1,"0px"),-1!==m.indexOf(" ")&&(l=m.split(" "),m=l[0],l=l[1]),n=k=i[j],o=parseFloat(m),t=m.substr((o+"").length),u="="===n.charAt(1),u?(p=parseInt(n.charAt(0)+"1",10),n=n.substr(2),p*=parseFloat(n),s=n.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(n),s=n.substr((p+"").length)),""===s&&(s=d[c]||t),s!==t&&(v=aa(a,"borderLeft",o,t),w=aa(a,"borderTop",o,t),"%"===s?(m=v/q*100+"%",l=w/r*100+"%"):"em"===s?(x=aa(a,"borderLeft",1,"em"),m=v/x+"em",l=w/x+"em"):(m=v+"px",l=w+"px"),u&&(n=parseFloat(m)+p+s,k=parseFloat(l)+p+s)),g=va(z,y[j],m+" "+l,n+" "+k,!1,"0px",g);return g},prefix:!0,formatter:qa("0px 0px 0px 0px",!1,!0)}),ya("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(a,b,c,d,f,g){return va(a.style,c,this.format(_(a,c,e,!1,"0px 0px")),this.format(b),!1,"0px",f)},prefix:!0,formatter:qa("0px 0px",!1,!0)}),ya("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",o=e||$(a,null),q=this.format((o?p?o.getPropertyValue(n+"-x")+" "+o.getPropertyValue(n+"-y"):o.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&r.split(",").length<2&&(m=_(a,"backgroundImage").replace(D,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),R.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-R.width:a.offsetHeight-R.height,h[j]=k?parseFloat(q)/100*l+"px":parseFloat(q)/l*100+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:ha}),ya("backgroundSize",{defaultValue:"0 0",formatter:function(a){return a+="",ha(-1===a.indexOf(" ")?a+" "+a:a)}}),ya("perspective",{defaultValue:"0px",prefix:!0}),ya("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ya("transformStyle",{prefix:!0}),ya("backfaceVisibility",{prefix:!0}),ya("userSelect",{prefix:!0}),ya("margin",{parser:ra("marginTop,marginRight,marginBottom,marginLeft")}),ya("padding",{parser:ra("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ya("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>p?(i=a.currentStyle,j=8>p?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(_(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),ya("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ya("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),ya("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){var h=_(a,"borderTopWidth",e,!1,"0px"),i=this.format(b).split(" "),j=i[0].replace(w,"");return"px"!==j&&(h=parseFloat(h)/aa(a,"borderTopWidth",1,j)+j),this.parseComplex(a.style,this.format(h+" "+_(a,"borderTopStyle",e,!1,"solid")+" "+_(a,"borderTopColor",e,!1,"#000")),i.join(" "),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(pa)||["#000"])[0]}}),ya("borderWidth",{parser:ra("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ya("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e,f){var g=a.style,h="cssFloat"in g?"cssFloat":"styleFloat";return new ta(g,h,0,0,e,-1,c,!1,0,g[h],b)}});var Ua=function(a){var b,c=this.t,d=c.filter||_(this.data,"filter")||"",e=this.s+this.c*a|0;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!_(this.data,"filter")):(c.filter=d.replace(z,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("pacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(x,"opacity="+e))};ya("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(_(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===_(a,"visibility",e)&&0!==b&&(h=0),U?f=new ta(i,"opacity",h,b-h,f):(f=new ta(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Ua),j&&(f=new ta(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Va=function(a,b){b&&(a.removeProperty?(("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))&&(b="-"+b),a.removeProperty(b.replace(B,"-$1").toLowerCase())):a.removeAttribute(b))},Wa=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Va(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ya("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.getAttribute("class")||"",p=a.style.cssText;if(g=f._classNamePT=new ta(a,d,0,0,g,2),g.setRatio=Wa,g.pr=-11,c=!0,g.b=o,k=ca(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(new RegExp("(?:\\s|^)"+b.substr(2)+"(?![\\w-])"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),a.setAttribute("class",g.e),j=da(a,k,ca(a),i,m),a.setAttribute("class",o),g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)}});var Xa=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f,g=this.t.style,h=i.transform.parse;if("all"===this.e)g.cssText="",e=!0;else for(b=this.e.split(" ").join("").split(","),d=b.length;--d>-1;)c=b[d],i[c]&&(i[c].parse===h?e=!0:c="transformOrigin"===c?Ea:i[c].p),Va(g,c);e&&(Va(g,Ca),f=this.t._gsTransform,f&&(f.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(ya("clearProps",{parser:function(a,b,d,e,f){return f=new ta(a,d,0,0,f,2),f.setRatio=Xa,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),j="bezier,throwProps,physicsProps,physics2D".split(","),wa=j.length;wa--;)za(j[wa]);j=g.prototype,j._firstPT=j._lastParsedTransform=j._transform=null,j._onInitTween=function(a,b,h,j){if(!a.nodeType)return!1;this._target=q=a,this._tween=h,this._vars=b,r=j,k=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=$(a,""),f=this._overwriteProps;var n,p,s,t,u,v,w,x,z,A=a.style;if(l&&""===A.zIndex&&(n=_(a,"zIndex",e),("auto"===n||""===n)&&this._addLazySet(A,"zIndex",0)),"string"==typeof b&&(t=A.cssText,n=ca(a,e),A.cssText=t+";"+b,n=da(a,n,ca(a)).difs,!U&&y.test(b)&&(n.opacity=parseFloat(RegExp.$1)),b=n,A.cssText=t),b.className?this._firstPT=p=i.className.parse(a,b.className,"className",this,null,null,b):this._firstPT=p=this.parse(a,b,null),this._transformType){for(z=3===this._transformType,Ca?m&&(l=!0,""===A.zIndex&&(w=_(a,"zIndex",e),("auto"===w||""===w)&&this._addLazySet(A,"zIndex",0)),o&&this._addLazySet(A,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(z?"visible":"hidden"))):A.zoom=1,s=p;s&&s._next;)s=s._next;x=new ta(a,"transform",0,0,null,2),this._linkCSSP(x,null,s),x.setRatio=Ca?Ta:Sa,x.data=this._transform||Ra(a,e,!0),x.tween=h,x.pr=-1,f.pop()}if(c){for(;p;){for(v=p._next,s=t;s&&s.pr>p.pr;)s=s._next;(p._prev=s?s._prev:u)?p._prev._next=p:t=p,(p._next=s)?s._prev=p:u=p,p=v}this._firstPT=t}return!0},j.parse=function(a,b,c,f){var g,h,j,l,m,n,o,p,s,t,u=a.style;for(g in b)n=b[g],"function"==typeof n&&(n=n(r,q)),h=i[g],h?c=h.parse(a,n,g,this,c,f,b):(m=_(a,g,e)+"",s="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||s&&A.test(n)?(s||(n=na(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=va(u,g,m,n,!0,"transparent",c,0,f)):s&&J.test(n)?c=va(u,g,m,n,!0,null,c,0,f):(j=parseFloat(m),o=j||0===j?m.substr((j+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(j=ga(a,g,e),o="px"):"left"===g||"top"===g?(j=ba(a,g,e),o="px"):(j="opacity"!==g?0:1,o="")),t=s&&"="===n.charAt(1),t?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(w,"")):(l=parseFloat(n),p=s?n.replace(w,""):""),""===p&&(p=g in d?d[g]:o),n=l||0===l?(t?l+j:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&j&&(j=aa(a,g,j,o),"%"===p?(j/=aa(a,g,100,"%")/100,b.strictUnits!==!0&&(m=j+"%")):"em"===p||"rem"===p||"vw"===p||"vh"===p?j/=aa(a,g,1,p):"px"!==p&&(l=aa(a,g,l,p),p="px"),t&&(l||0===l)&&(n=l+j+p)),t&&(l+=j),!j&&0!==j||!l&&0!==l?void 0!==u[g]&&(n||n+""!="NaN"&&null!=n)?(c=new ta(u,g,l||j||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):W("invalid "+g+" tween value: "+b[g]):(c=new ta(u,g,j,l-j,c,0,g,k!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p))),f&&c&&!c.plugin&&(c.plugin=f);return c},j.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=Math.round(b):f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;){if(2!==e.type)if(e.r&&-1!==e.type)if(b=Math.round(e.s+e.c),e.type){if(1===e.type){for(d=e.l,c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}}else e.t[e.p]=b+e.xs0;else e.t[e.p]=e.e;else e.setRatio(a);e=e._next}},j._enableTransforms=function(a){this._transform=this._transform||Ra(this._target,e,!0),this._transformType=this._transform.svg&&Aa||!a&&3!==this._transformType?2:3};var Ya=function(a){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};j._addLazySet=function(a,b,c){var d=this._firstPT=new ta(a,b,0,0,this._firstPT,2);d.e=c,d.setRatio=Ya,d.data=this},j._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},j._mod=function(a){for(var b=this._firstPT;b;)"function"==typeof a[b.p]&&a[b.p]===Math.round&&(b.r=1),b=b._next},j._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}for(b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),c=this._firstPT;c;)c.plugin&&c.plugin!==d&&c.plugin._kill&&(c.plugin._kill(b),d=c.plugin),c=c._next;return a.prototype._kill.call(this,f)};var Za=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Za(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push(ca(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Za(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h,i=b.to(a,c,d),j=[i],k=[],l=[],m=[],n=b._internals.reservedProps;for(a=i._targets||i.target,Za(a,k,m),i.render(c,!0,!0),Za(a,l),i.render(0,!0,!0),i._enabled(!0),e=m.length;--e>-1;)if(f=da(m[e],k[e],l[e]),f.firstMPT){f=f.difs;for(g in d)n[g]&&(f[g]=d[g]);h={};for(g in f)h[g]=k[e][g];j.push(b.fromTo(m[e],c,h,f))}return j},a.activate([g]),g},!0),function(){var a=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(a,b,c){return this._tween=c,!0}}),b=function(a){for(;a;)a.f||a.blob||(a.m=Math.round),a=a._next},c=a.prototype;c._onInitAllProps=function(){for(var a,c,d,e=this._tween,f=e.vars.roundProps.join?e.vars.roundProps:e.vars.roundProps.split(","),g=f.length,h={},i=e._propLookup.roundProps;--g>-1;)h[f[g]]=Math.round;for(g=f.length;--g>-1;)for(a=f[g],c=e._firstPT;c;)d=c._next,c.pg?c.t._mod(h):c.n===a&&(2===c.f&&c.t?b(c.t._firstPT):(this._add(c.t,a,c.s,c.c),d&&(d._prev=c._prev),c._prev?c._prev._next=d:e._firstPT===c&&(e._firstPT=d),c._next=c._prev=null,e._propLookup[a]=i)),c=d;return!1},c._add=function(a,b,c,d){this._addTween(a,b,c,c+d,b,Math.round),this._overwriteProps.push(b)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(a,b,c,d){var e,f;if("function"!=typeof a.setAttribute)return!1;for(e in b)f=b[e],"function"==typeof f&&(f=f(d,a)),this._addTween(a,"setAttribute",a.getAttribute(e)+"",f+"",e,!1,e),this._overwriteProps.push(e);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(a,b,c,d){"object"!=typeof b&&(b={rotation:b}),this.finals={};var e,f,g,h,i,j,k=b.useRadians===!0?2*Math.PI:360,l=1e-6;for(e in b)"useRadians"!==e&&(h=b[e],"function"==typeof h&&(h=h(d,a)),j=(h+"").split("_"),f=j[0],g=parseFloat("function"!=typeof a[e]?a[e]:a[e.indexOf("set")||"function"!=typeof a["get"+e.substr(3)]?e:"get"+e.substr(3)]()),h=this.finals[e]="string"==typeof f&&"="===f.charAt(1)?g+parseInt(f.charAt(0)+"1",10)*Number(f.substr(2)):Number(f)||0,i=h-g,j.length&&(f=j.join("_"),-1!==f.indexOf("short")&&(i%=k,i!==i%(k/2)&&(i=0>i?i+k:i-k)),-1!==f.indexOf("_cw")&&0>i?i=(i+9999999999*k)%k-(i/k|0)*k:-1!==f.indexOf("ccw")&&i>0&&(i=(i-9999999999*k)%k-(i/k|0)*k)),(i>l||-l>i)&&(this._addTween(a,e,g,g+i,e),this._overwriteProps.push(e)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=_gsScope.GreenSockGlobals||_gsScope,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d,e){var f=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(f,a),f},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return(a*=2)<1?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=f*f*.5*r):(f=2*(1-c),e=f*f*.5*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a>=1?a:1,this._p2=(b||d)/(1>a?a:1),this._p3=this._p2/g*(Math.asin(1/this._p1)||0),this._p2=g/this._p2},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2))},.3),d("ElasticInOut",function(a){return(a*=2)<1?-.5*(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*this._p2)*.5+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)}),j("SineIn",function(a){return-Math.cos(a*h)+1}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a,b){"use strict";var c={},d=a.document,e=a.GreenSockGlobals=a.GreenSockGlobals||a;if(!e.TweenLite){var f,g,h,i,j,k=function(a){var b,c=a.split("."),d=e;for(b=0;b<c.length;b++)d[c[b]]=d=d[c[b]]||{};return d},l=k("com.greensock"),m=1e-10,n=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},o=function(){},p=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),q={},r=function(d,f,g,h){this.sc=q[d]?q[d].sc:[],q[d]=this,this.gsClass=null,this.func=g;var i=[];this.check=function(j){for(var l,m,n,o,p,s=f.length,t=s;--s>-1;)(l=q[f[s]]||new r(f[s],[])).gsClass?(i[s]=l.gsClass,t--):j&&l.sc.push(this);if(0===t&&g){if(m=("com.greensock."+d).split("."),n=m.pop(),o=k(m.join("."))[n]=this.gsClass=g.apply(g,i),h)if(e[n]=c[n]=o,p="undefined"!=typeof module&&module.exports,!p&&"function"==typeof define&&define.amd)define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+d.split(".").pop(),[],function(){return o});else if(p)if(d===b){module.exports=c[b]=o;for(s in c)o[s]=c[s]}else c[b]&&(c[b][n]=o);for(s=0;s<this.sc.length;s++)this.sc[s].check()}},this.check(!0)},s=a._gsDefine=function(a,b,c,d){return new r(a,b,c,d)},t=l._class=function(a,b,c){return b=b||function(){},s(a,[],function(){return b},c),b};s.globals=e;var u=[0,0,1,1],v=t("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?u.concat(b):u},!0),w=v.map={},x=v.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),j=i.length,k=(c||"easeIn,easeOut,easeInOut").split(",");--j>-1;)for(f=i[j],e=d?t("easing."+f,null,!0):l.easing[f]||{},g=k.length;--g>-1;)h=k[g],w[f+"."+h]=w[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(h=v.prototype,h._calcEnd=!1,h.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},f=["Linear","Quad","Cubic","Quart","Quint,Strong"],g=f.length;--g>-1;)h=f[g]+",Power"+g,x(new v(null,null,1,g),h,"easeOut",!0),x(new v(null,null,2,g),h,"easeIn"+(0===g?",easeNone":"")),x(new v(null,null,3,g),h,"easeInOut");w.linear=l.easing.Linear.easeIn,w.swing=l.easing.Quad.easeInOut;var y=t("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});h=y.prototype,h.addEventListener=function(a,b,c,d,e){e=e||0;var f,g,h=this._listeners[a],k=0;for(this!==i||j||i.wake(),null==h&&(this._listeners[a]=h=[]),g=h.length;--g>-1;)f=h[g],f.c===b&&f.s===c?h.splice(g,1):0===k&&f.pr<e&&(k=g+1);h.splice(k,0,{c:b,s:c,up:d,pr:e})},h.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},h.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,b>1&&(e=e.slice(0)),c=this._eventTarget;--b>-1;)d=e[b],d&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var z=a.requestAnimationFrame,A=a.cancelAnimationFrame,B=Date.now||function(){return(new Date).getTime()},C=B();for(f=["ms","moz","webkit","o"],g=f.length;--g>-1&&!z;)z=a[f[g]+"RequestAnimationFrame"],A=a[f[g]+"CancelAnimationFrame"]||a[f[g]+"CancelRequestAnimationFrame"];t("Ticker",function(a,b){var c,e,f,g,h,k=this,l=B(),n=b!==!1&&z?"auto":!1,p=500,q=33,r="tick",s=function(a){var b,d,i=B()-C;i>p&&(l+=i-q),C+=i,k.time=(C-l)/1e3,b=k.time-h,(!c||b>0||a===!0)&&(k.frame++,h+=b+(b>=g?.004:g-b),d=!0),a!==!0&&(f=e(s)),d&&k.dispatchEvent(r)};y.call(k),k.time=k.frame=0,k.tick=function(){s(!0)},k.lagSmoothing=function(a,b){p=a||1/m,q=Math.min(b,p,0)},k.sleep=function(){null!=f&&(n&&A?A(f):clearTimeout(f),e=o,f=null,k===i&&(j=!1))},k.wake=function(a){null!==f?k.sleep():a?l+=-C+(C=B()):k.frame>10&&(C=B()-p+5),e=0===c?o:n&&z?z:function(a){return setTimeout(a,1e3*(h-k.time)+1|0)},k===i&&(j=!0),s(2)},k.fps=function(a){return arguments.length?(c=a,g=1/(c||60),h=this.time+g,void k.wake()):c},k.useRAF=function(a){return arguments.length?(k.sleep(),n=a,void k.fps(c)):n},k.fps(a),setTimeout(function(){"auto"===n&&k.frame<5&&"hidden"!==d.visibilityState&&k.useRAF(!1)},1500)}),h=l.Ticker.prototype=new l.events.EventDispatcher,h.constructor=l.Ticker;var D=t("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,W){j||i.wake();var c=this.vars.useFrames?V:W;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});i=D.ticker=new l.Ticker,h=D.prototype,h._dirty=h._gc=h._initted=h._paused=!1,h._totalTime=h._time=0,h._rawPrevTime=-1,h._next=h._last=h._onUpdate=h._timeline=h.timeline=null,h._paused=!1;var E=function(){j&&B()-C>2e3&&i.wake(),setTimeout(E,2e3)};E(),h.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},h.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},h.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},h.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},h.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},h.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},h.render=function(a,b,c){},h.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},h.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime(!0))>=c&&a<c+this.totalDuration()/this._timeScale},h._enabled=function(a,b){return j||i.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},h._kill=function(a,b){return this._enabled(!1,!1)},h.kill=function(a,b){return this._kill(a,b),this},h._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},h._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},h._callback=function(a){var b=this.vars,c=b[a],d=b[a+"Params"],e=b[a+"Scope"]||b.callbackScope||this,f=d?d.length:0;switch(f){case 0:c.call(e);break;case 1:c.call(e,d[0]);break;case 2:c.call(e,d[0],d[1]);break;default:c.apply(e,d)}},h.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=p(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},h.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},h.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},h.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},h.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},h.totalTime=function(a,b,c){if(j||i.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(J.length&&Y(),this.render(a,b,!1),J.length&&Y())}return this},h.progress=h.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio},h.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},h.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},h.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||m,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},h.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},h.paused=function(a){if(!arguments.length)return this._paused;var b,c,d=this._timeline;return a!=this._paused&&d&&(j||a||i.wake(),b=d.rawTime(),c=b-this._pauseTime,!a&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==c&&this._initted&&this.duration()&&(b=d.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,this.render(b,b===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};var F=t("core.SimpleTimeline",function(a){D.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});h=F.prototype=new D,h.constructor=F,h.kill()._gc=!1,h._first=h._last=h._recent=null,h._sortChildren=!1,h.add=h.insert=function(a,b,c,d){var e,f;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),e=this._last,this._sortChildren)for(f=a._startTime;e&&e._startTime>f;)e=e._prev;return e?(a._next=e._next,e._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=e,this._recent=a,this._timeline&&this._uncache(!0),this},h._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},h.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},h.rawTime=function(){return j||i.wake(),this._totalTime};var G=t("TweenLite",function(b,c,d){
if(D.call(this,c,d),this.render=G.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:G.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?U[G.defaultOverwrite]:"number"==typeof i?i>>0:U[i],(h||b instanceof Array||b.push&&p(b))&&"number"!=typeof b[0])for(this._targets=g=n(b),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(n(f))):(this._siblings[e]=Z(f,this,!1),1===i&&this._siblings[e].length>1&&_(f,this,null,1,this._siblings[e])):(f=g[e--]=G.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=Z(b,this,!1),1===i&&this._siblings.length>1&&_(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-m,this.render(Math.min(0,-this._delay)))},!0),H=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},I=function(a,b){var c,d={};for(c in a)T[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!Q[c]||Q[c]&&Q[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};h=G.prototype=new D,h.constructor=G,h.kill()._gc=!1,h.ratio=0,h._firstPT=h._targets=h._overwrittenProps=h._startAt=null,h._notifyPluginsOfEnabled=h._lazy=!1,G.version="1.19.1",G.defaultEase=h._ease=new v(null,null,1,1),G.defaultOverwrite="auto",G.ticker=i,G.autoSleep=120,G.lagSmoothing=function(a,b){i.lagSmoothing(a,b)},G.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(G.selector=c,c(b)):"undefined"==typeof d?b:d.querySelectorAll?d.querySelectorAll(b):d.getElementById("#"===b.charAt(0)?b.substr(1):b)};var J=[],K={},L=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,M=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.blob?1===a?this.end:a?this.join(""):this.start:c.c*a+c.s,c.m?b=c.m(b,this._target||c.t):d>b&&b>-d&&!c.blob&&(b=0),c.f?c.fp?c.t[c.p](c.fp,b):c.t[c.p](b):c.t[c.p]=b,c=c._next},N=function(a,b,c,d){var e,f,g,h,i,j,k,l=[],m=0,n="",o=0;for(l.start=a,l.end=b,a=l[0]=a+"",b=l[1]=b+"",c&&(c(l),a=l[0],b=l[1]),l.length=0,e=a.match(L)||[],f=b.match(L)||[],d&&(d._next=null,d.blob=1,l._firstPT=l._applyPT=d),i=f.length,h=0;i>h;h++)k=f[h],j=b.substr(m,b.indexOf(k,m)-m),n+=j||!h?j:",",m+=j.length,o?o=(o+1)%5:"rgba("===j.substr(-5)&&(o=1),k===e[h]||e.length<=h?n+=k:(n&&(l.push(n),n=""),g=parseFloat(e[h]),l.push(g),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:g,c:("="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*parseFloat(k.substr(2)):parseFloat(k)-g)||0,f:0,m:o&&4>o?Math.round:0}),m+=k.length;return n+=b.substr(m),n&&l.push(n),l.setRatio=M,l},O=function(a,b,c,d,e,f,g,h,i){"function"==typeof d&&(d=d(i||0,a));var j,k=typeof a[b],l="function"!==k?"":b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3),m="get"!==c?c:l?g?a[l](g):a[l]():a[b],n="string"==typeof d&&"="===d.charAt(1),o={t:a,p:b,s:m,f:"function"===k,pg:0,n:e||b,m:f?"function"==typeof f?f:Math.round:0,pr:0,c:n?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-m||0};return("number"!=typeof m||"number"!=typeof d&&!n)&&(g||isNaN(m)||!n&&isNaN(d)||"boolean"==typeof m||"boolean"==typeof d?(o.fp=g,j=N(m,n?o.s+o.c:d,h||G.defaultStringFilter,o),o={t:j,p:"setRatio",s:0,c:1,f:2,pg:0,n:e||b,pr:0,m:0}):(o.s=parseFloat(m),n||(o.c=parseFloat(d)-o.s||0))),o.c?((o._next=this._firstPT)&&(o._next._prev=o),this._firstPT=o,o):void 0},P=G._internals={isArray:p,isSelector:H,lazyTweens:J,blobDif:N},Q=G._plugins={},R=P.tweenLookup={},S=0,T=P.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},U={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},V=D._rootFramesTimeline=new F,W=D._rootTimeline=new F,X=30,Y=P.lazyRender=function(){var a,b=J.length;for(K={};--b>-1;)a=J[b],a&&a._lazy!==!1&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);J.length=0};W._startTime=i.time,V._startTime=i.frame,W._active=V._active=!0,setTimeout(Y,1),D._updateRoot=G.render=function(){var a,b,c;if(J.length&&Y(),W.render((i.time-W._startTime)*W._timeScale,!1,!1),V.render((i.frame-V._startTime)*V._timeScale,!1,!1),J.length&&Y(),i.frame>=X){X=i.frame+(parseInt(G.autoSleep,10)||120);for(c in R){for(b=R[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete R[c]}if(c=W._first,(!c||c._paused)&&G.autoSleep&&!V._first&&1===i._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||i.sleep()}}},i.addEventListener("tick",D._updateRoot);var Z=function(a,b,c){var d,e,f=a._gsTweenID;if(R[f||(a._gsTweenID=f="t"+S++)]||(R[f]={target:a,tweens:[]}),b&&(d=R[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return R[f].tweens},$=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=G.onOverwrite,g&&(f=g(a,b,c,d)),e!==!1&&f!==!1},_=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+m,l=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||aa(b,0,o),0===aa(h,j,o)&&(l[n++]=h)):h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale>k&&((o||!h._initted)&&k-h._startTime<=2e-10||(l[n++]=h)));for(f=n;--f>-1;)if(h=l[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!$(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},aa=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*m>f-b?m:(f+=a.totalDuration()/a._timeScale/e)>b+m?0:f-b-m};h._init=function(){var a,b,c,d,e,f,g=this.vars,h=this._overwrittenProps,i=this._duration,j=!!g.immediateRender,k=g.ease;if(g.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in g.startAt)e[d]=g.startAt[d];if(e.overwrite=!1,e.immediateRender=!0,e.lazy=j&&g.lazy!==!1,e.startAt=e.delay=null,this._startAt=G.to(this.target,0,e),j)if(this._time>0)this._startAt=null;else if(0!==i)return}else if(g.runBackwards&&0!==i)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(j=!1),c={};for(d in g)T[d]&&"autoCSS"!==d||(c[d]=g[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=j&&g.lazy!==!1,c.immediateRender=j,this._startAt=G.to(this.target,0,c),j){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=k=k?k instanceof v?k:"function"==typeof k?new v(k,g.easeParams):w[k]||G.defaultEase:G.defaultEase,g.easeParams instanceof Array&&k.config&&(this._ease=k.config.apply(k,g.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(f=this._targets.length,a=0;f>a;a++)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],h?h[a]:null,a)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,h,0);if(b&&G._onPluginEvent("_onInitAllProps",this),h&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),g.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=g.onUpdate,this._initted=!0},h._initProps=function(b,c,d,e,f){var g,h,i,j,k,l;if(null==b)return!1;K[b._gsTweenID]&&Y(),this.vars.css||b.style&&b!==a&&b.nodeType&&Q.css&&this.vars.autoCSS!==!1&&I(this.vars,b);for(g in this.vars)if(l=this.vars[g],T[g])l&&(l instanceof Array||l.push&&p(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[g]=l=this._swapSelfInParams(l,this));else if(Q[g]&&(j=new Q[g])._onInitTween(b,this.vars[g],this,f)){for(this._firstPT=k={_next:this._firstPT,t:j,p:"setRatio",s:0,c:1,f:1,n:g,pg:1,pr:j._priority,m:0},h=j._overwriteProps.length;--h>-1;)c[j._overwriteProps[h]]=this._firstPT;(j._priority||j._onInitAllProps)&&(i=!0),(j._onDisable||j._onEnable)&&(this._notifyPluginsOfEnabled=!0),k._next&&(k._next._prev=k)}else c[g]=O.call(this,b,g,"get",l,g,0,null,this.vars.stringFilter,f);return e&&this._kill(e,b)?this._initProps(b,c,d,e,f):this._overwrite>1&&this._firstPT&&d.length>1&&_(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e,f)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(K[b._gsTweenID]=!0),i)},h.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i-1e-7&&a>=0)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>j||0>=a&&a>=-1e-7||j===m&&"isPause"!==this.data)&&j!==a&&(c=!0,j>m&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:m);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==m||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:m)),this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,n=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===n?k*=k:2===n?k*=k*k:3===n?k*=k*k*k:4===n&&(k*=k*k*k*k),1===l?this.ratio=1-k:2===l?this.ratio=k:.5>a/i?this.ratio=k/2:this.ratio=1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,J.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&a!==-1e-4&&this._startAt.render(a,b,c),b||(this._time!==h||d||c)&&this._callback("onUpdate")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&a!==-1e-4&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===i&&this._rawPrevTime===m&&g!==m&&(this._rawPrevTime=0))}},h._kill=function(a,b,c){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:G.selector(b)||b;var d,e,f,g,h,i,j,k,l,m=c&&this._time&&c._startTime===this._startTime&&this._timeline===c._timeline;if((p(b)||H(b))&&"number"!=typeof b[0])for(d=b.length;--d>-1;)this._kill(a,b[d],c)&&(i=!0);else{if(this._targets){for(d=this._targets.length;--d>-1;)if(b===this._targets[d]){h=this._propLookup[d]||{},this._overwrittenProps=this._overwrittenProps||[],e=this._overwrittenProps[d]=a?this._overwrittenProps[d]||{}:"all";break}}else{if(b!==this.target)return!1;h=this._propLookup,e=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(h){if(j=a||h,k=a!==e&&"all"!==e&&a!==h&&("object"!=typeof a||!a._tempKill),c&&(G.onOverwrite||this.vars.onOverwrite)){for(f in j)h[f]&&(l||(l=[]),l.push(f));if((l||!a)&&!$(this,c,b,l))return!1}for(f in j)(g=h[f])&&(m&&(g.f?g.t[g.p](g.s):g.t[g.p]=g.s,i=!0),g.pg&&g.t._kill(j)&&(i=!0),g.pg&&0!==g.t._overwriteProps.length||(g._prev?g._prev._next=g._next:g===this._firstPT&&(this._firstPT=g._next),g._next&&(g._next._prev=g._prev),g._next=g._prev=null),delete h[f]),k&&(e[f]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return i},h.invalidate=function(){return this._notifyPluginsOfEnabled&&G._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],D.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-m,this.render(Math.min(0,-this._delay))),this},h._enabled=function(a,b){if(j||i.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=Z(d[c],this,!0);else this._siblings=Z(this.target,this,!0)}return D.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?G._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},G.to=function(a,b,c){return new G(a,b,c)},G.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new G(a,b,c)},G.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new G(a,b,d)},G.delayedCall=function(a,b,c,d,e){return new G(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},G.set=function(a,b){return new G(a,0,b)},G.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:G.selector(a)||a;var c,d,e,f;if((p(a)||H(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(G.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else for(d=Z(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d},G.killTweensOf=G.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=G.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var ba=t("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=ba.prototype},!0);if(h=ba.prototype,ba.version="1.19.0",ba.API=2,h._firstPT=null,h._addTween=O,h.setRatio=M,h._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},h._mod=h._roundProps=function(a){for(var b,c=this._firstPT;c;)b=a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")],b&&"function"==typeof b&&(2===c.f?c.t._applyPT.m=b:c.m=b),c=c._next},G._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},ba.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===ba.API&&(Q[(new a[b])._propName]=a[b]);return!0},s.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},g=t("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){ba.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new ba(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,ba.activate([g]),g},f=a._gsQueue){for(g=0;g<f.length;g++)f[g]();for(h in q)q[h].func||a.console.log("GSAP encountered missing dependency: "+h)}j=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");
/* Font Face Observer v2.0.13 -  Bram Stein. License: BSD-3-Clause */(function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c);a()}):document.attachEvent("onreadystatechange",function k(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",k),a()})};function r(a){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}
function t(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function y(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+"px";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function z(a,b){function c(){var a=k;y(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);y(a)};function A(a,b){var c=b||{};this.family=a;this.style=c.style||"normal";this.weight=c.weight||"normal";this.stretch=c.stretch||"normal"}var B=null,C=null,E=null,F=null;function G(){if(null===C)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);C=!!a&&603>parseInt(a[1],10)}else C=!1;return C}function J(){null===F&&(F=!!document.fonts);return F}
function K(){if(null===E){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}E=""!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:"","100px",b].join(" ")}
A.prototype.load=function(a,b){var c=this,k=a||"BESbswy",q=0,D=b||3E3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=D?b():document.fonts.load(L(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},function(){b()})}e()}),N=new Promise(function(a,c){q=setTimeout(c,D)});Promise.race([N,M]).then(function(){clearTimeout(q);a(c)},function(){b(c)})}else m(function(){function u(){var b;if(b=-1!=
f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===B&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=B&&(f==v&&g==v&&h==v||f==w&&g==w&&h==w||f==x&&g==x&&h==x)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(q),a(c))}function I(){if((new Date).getTime()-H>=D)d.parentNode&&d.parentNode.removeChild(d),b(c);else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,
g=n.a.offsetWidth,h=p.a.offsetWidth,u();q=setTimeout(I,50)}}var e=new r(k),n=new r(k),p=new r(k),f=-1,g=-1,h=-1,v=-1,w=-1,x=-1,d=document.createElement("div");d.dir="ltr";t(e,L(c,"sans-serif"));t(n,L(c,"serif"));t(p,L(c,"monospace"));d.appendChild(e.a);d.appendChild(n.a);d.appendChild(p.a);document.body.appendChild(d);v=e.a.offsetWidth;w=n.a.offsetWidth;x=p.a.offsetWidth;I();z(e,function(a){f=a;u()});t(e,L(c,'"'+c.family+'",sans-serif'));z(n,function(a){g=a;u()});t(n,L(c,'"'+c.family+'",serif'));
z(p,function(a){h=a;u()});t(p,L(c,'"'+c.family+'",monospace'))})})};"object"===typeof module?module.exports=A:(window.FontFaceObserver=A,window.FontFaceObserver.prototype.load=A.prototype.load);}());

/*!
 * pixi.js - v4.5.4
 * Compiled Mon, 24 Jul 2017 18:09:18 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PIXI=t()}}(function(){var t;return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return i(r||t)},l,l.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(t){return(t>0)-(t<0)},r.abs=function(t){var e=t>>31;return(t^e)-e},r.min=function(t,e){return e^(t^e)&-(t<e)},r.max=function(t,e){return t^(t^e)&-(t<e)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var e,r;return e=(t>65535)<<4,t>>>=e,r=(t>255)<<3,t>>>=r,e|=r,r=(t>15)<<2,t>>>=r,e|=r,r=(t>3)<<1,t>>>=r,(e|=r)|t>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),r.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},r.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},r.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},r.interleave3=function(t,e,r){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|r<<2},r.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},{}],2:[function(t,e,r){"use strict";function n(t,e,r){r=r||2;var n=e&&e.length,o=n?e[0]*r:t.length,a=i(t,0,o,r,!0),u=[];if(!a)return u;var h,l,d,f,p,v,y;if(n&&(a=c(t,e,a,r)),t.length>80*r){h=d=t[0],l=f=t[1];for(var g=r;g<o;g+=r)p=t[g],v=t[g+1],p<h&&(h=p),v<l&&(l=v),p>d&&(d=p),v>f&&(f=v);y=Math.max(d-h,f-l)}return s(a,u,r,h,l,y),u}function i(t,e,r,n,i){var o,s;if(i===A(t,e,r,n)>0)for(o=e;o<r;o+=n)s=M(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=M(o,t[o],t[o+1],s);return s&&T(s,s.next)&&(C(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!T(n,n.next)&&0!==x(n.prev,n,n.next))n=n.next;else{if(C(n),(n=e=n.prev)===n.next)return null;r=!0}}while(r||n!==e);return e}function s(t,e,r,n,i,c,d){if(t){!d&&c&&v(t,n,i,c);for(var f,p,y=t;t.prev!==t.next;)if(f=t.prev,p=t.next,c?u(t,n,i,c):a(t))e.push(f.i/r),e.push(t.i/r),e.push(p.i/r),C(t),t=p.next,y=p.next;else if((t=p)===y){d?1===d?(t=h(t,e,r),s(t,e,r,n,i,c,2)):2===d&&l(t,e,r,n,i,c):s(o(t),e,r,n,i,c,1);break}}}function a(t){var e=t.prev,r=t,n=t.next;if(x(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(_(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,r,n){var i=t.prev,o=t,s=t.next;if(x(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,h=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,l=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,c=g(a,u,e,r,n),d=g(h,l,e,r,n),f=t.nextZ;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&_(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=t.prevZ;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&_(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0}function h(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!T(i,o)&&w(i,n,n.next,o)&&S(i,o)&&S(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),C(n),C(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,r,n,i,a){var u=t;do{for(var h=u.next.next;h!==u.prev;){if(u.i!==h.i&&b(u,h)){var l=P(u,h);return u=o(u,u.next),l=o(l,l.next),s(u,e,r,n,i,a),void s(l,e,r,n,i,a)}h=h.next}u=u.next}while(u!==t)}function c(t,e,r,n){var s,a,u,h,l,c=[];for(s=0,a=e.length;s<a;s++)u=e[s]*n,h=s<a-1?e[s+1]*n:t.length,l=i(t,u,h,n,!1),l===l.next&&(l.steiner=!0),c.push(m(l));for(c.sort(d),s=0;s<c.length;s++)f(c[s],r),r=o(r,r.next);return r}function d(t,e){return t.x-e.x}function f(t,e){if(e=p(t,e)){var r=P(e,t);o(r,r.next)}}function p(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r.prev;var u,h=r,l=r.x,c=r.y,d=1/0;for(n=r.next;n!==h;)i>=n.x&&n.x>=l&&_(o<c?i:s,o,l,c,o<c?s:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<d||u===d&&n.x>r.x)&&S(n,t)&&(r=n,d=u),n=n.next;return r}function v(t,e,r,n){var i=t;do{null===i.z&&(i.z=g(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,y(i)}function y(t){var e,r,n,i,o,s,a,u,h=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ);e++);for(u=h;a>0||u>0&&n;)0===a?(i=n,n=n.nextZ,u--):0!==u&&n?r.z<=n.z?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,a--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(s>1);return t}function g(t,e,r,n,i){return t=32767*(t-r)/i,e=32767*(e-n)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function m(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function _(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&S(t,e)&&S(e,t)&&O(t,e)}function x(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function T(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,r,n){return!!(T(t,e)&&T(r,n)||T(t,n)&&T(r,e))||x(t,e,r)>0!=x(t,e,n)>0&&x(r,n,t)>0!=x(r,n,e)>0}function E(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&w(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function S(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function O(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}function P(t,e){var r=new R(t.i,t.x,t.y),n=new R(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function M(t,e,r,n){var i=new R(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function R(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}e.exports=n,n.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(A(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var h=e[a]*r,l=a<u-1?e[a+1]*r:t.length;s-=Math.abs(A(t,h,l,r))}var c=0;for(a=0;a<n.length;a+=3){var d=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},{}],3:[function(t,e,r){"use strict";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(){this._events=new n,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),o.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)s.call(t,e)&&r.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},o.prototype.listeners=function(t,e){var r=a?a+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},o.prototype.emit=function(t,e,r,n,i,o){var s=a?a+t:t;if(!this._events[s])return!1;var u,h,l=this._events[s],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,n),!0;case 5:return l.fn.call(l.context,e,r,n,i),!0;case 6:return l.fn.call(l.context,e,r,n,i,o),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];l.fn.apply(l.context,u)}else{var d,f=l.length;for(h=0;h<f;h++)switch(l[h].once&&this.removeListener(t,l[h].fn,void 0,!0),c){case 1:l[h].fn.call(l[h].context);break;case 2:l[h].fn.call(l[h].context,e);break;case 3:l[h].fn.call(l[h].context,e,r);break;case 4:l[h].fn.call(l[h].context,e,r,n);break;default:if(!u)for(d=1,u=new Array(c-1);d<c;d++)u[d-1]=arguments[d];l[h].fn.apply(l[h].context,u)}}return!0},o.prototype.on=function(t,e,r){var n=new i(e,r||this),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.once=function(t,e,r){var n=new i(e,r||this,!0),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.removeListener=function(t,e,r,i){var o=a?a+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new n:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||(0==--this._eventsCount?this._events=new n:delete this._events[o]);else{for(var u=0,h=[],l=s.length;u<l;u++)(s[u].fn!==e||i&&!s[u].once||r&&s[u].context!==r)&&h.push(s[u]);h.length?this._events[o]=1===h.length?h[0]:h:0==--this._eventsCount?this._events=new n:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=a?a+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,void 0!==e&&(e.exports=o)},{}],4:[function(e,r,n){!function(e){var n=/iPhone/i,i=/iPod/i,o=/iPad/i,s=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,u=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,h=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/Windows Phone/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,d=/BlackBerry/i,f=/BB10/i,p=/Opera Mini/i,v=/(CriOS|Chrome)(?=.*\bMobile\b)/i,y=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,g=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(t,e){return t.test(e)},_=function(t){var e=t||navigator.userAgent,r=e.split("[FBAN");if(void 0!==r[1]&&(e=r[0]),r=e.split("Twitter"),void 0!==r[1]&&(e=r[0]),this.apple={phone:m(n,e),ipod:m(i,e),tablet:!m(n,e)&&m(o,e),device:m(n,e)||m(i,e)||m(o,e)},this.amazon={phone:m(u,e),tablet:!m(u,e)&&m(h,e),device:m(u,e)||m(h,e)},this.android={phone:m(u,e)||m(s,e),tablet:!m(u,e)&&!m(s,e)&&(m(h,e)||m(a,e)),device:m(u,e)||m(h,e)||m(s,e)||m(a,e)},this.windows={phone:m(l,e),tablet:m(c,e),device:m(l,e)||m(c,e)},this.other={blackberry:m(d,e),blackberry10:m(f,e),opera:m(p,e),firefox:m(y,e),chrome:m(v,e),device:m(d,e)||m(f,e)||m(p,e)||m(y,e)||m(v,e)},this.seven_inch=m(g,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},b=function(){var t=new _;return t.Class=_,t};void 0!==r&&r.exports&&"undefined"==typeof window?r.exports=_:void 0!==r&&r.exports&&"undefined"!=typeof window?r.exports=b():"function"==typeof t&&t.amd?t("isMobile",[],e.isMobile=b()):e.isMobile=b()}(this)},{}],5:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return o(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}(),a=function(){function t(){n(this,t),this._head=this._tail=void 0}return o(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return i(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return i(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=s,r.default=a,e.exports=r.default},{}],6:[function(t,e,r){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,a,u=n(t),h=1;h<arguments.length;h++){r=Object(arguments[h]);for(var l in r)o.call(r,l)&&(u[l]=r[l]);if(i){a=i(r);for(var c=0;c<a.length;c++)s.call(r,a[c])&&(u[a[c]]=r[a[c]])}}return u}},{}],7:[function(t,e,r){"use strict";e.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(t,e,n){e&&(i[r.q.name][e]=n)}),i}},{}],8:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var i=t[n];"."===i?t.splice(n,1):".."===i?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function n(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,i="/"===s.charAt(0))}return r=e(n(r.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(t){var i=r.isAbsolute(t),o="/"===s(t,-1);return t=e(n(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var i=n(t.split("/")),o=n(e.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}for(var h=[],u=a;u<i.length;u++)h.push("..");return h=h.concat(o.slice(a)),h.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:26}],9:[function(t,e,r){var n=new ArrayBuffer(0),i=function(t,e,r,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=n,r&&this.upload(r),this._updateID=0};i.prototype.upload=function(t,e,r){r||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,r){return new i(t,t.ARRAY_BUFFER,e,r)},i.createIndexBuffer=function(t,e,r){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,r)},i.create=function(t,e,r,n){return new i(t,e,r,n)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=i},{}],10:[function(t,e,r){var n=t("./GLTexture"),i=function(t,e,r){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=r||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,r,n){this.bind();var i=this.gl;i.clearColor(t,e,r,n),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var r=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,r,o){var s=n.fromData(t,null,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},i.createFloat32=function(t,e,r,o){var s=new n.fromData(t,o,e,r);s.enableNearestScaling(),s.enableWrapClamp();var a=new i(t,e,r);return a.enableTexture(s),a.unbind(),a},e.exports=i},{"./GLTexture":12}],11:[function(t,e,r){var n=t("./shader/compileProgram"),i=t("./shader/extractAttributes"),o=t("./shader/extractUniforms"),s=t("./shader/setPrecision"),a=t("./shader/generateUniformAccessObject"),u=function(t,e,r,u,h){this.gl=t,u&&(e=s(e,u),r=s(r,u)),this.program=n(t,e,r,h),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=a(t,this.uniformData)};u.prototype.bind=function(){this.gl.useProgram(this.program)},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=u},{"./shader/compileProgram":17,"./shader/extractAttributes":19,"./shader/extractUniforms":20,"./shader/generateUniformAccessObject":21,"./shader/setPrecision":25}],12:[function(t,e,r){var n=function(t,e,r,n,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=r||-1,this.format=n||t.RGBA,this.type=i||t.UNSIGNED_BYTE};n.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||r!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=r,this.height=n};var i=!1;n.prototype.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!i){if(!n.getExtension("OES_texture_float"))throw new Error("floating point textures not available");i=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},n.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},n.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},n.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},n.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},n.fromSource=function(t,e,r){var i=new n(t);return i.premultiplyAlpha=r||!1,i.upload(e),i},n.fromData=function(t,e,r,i){var o=new n(t);return o.uploadData(e,r,i),o},e.exports=n},{}],13:[function(t,e,r){function n(t,e){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var i=t("./setVertexAttribArrays");n.prototype.constructor=n,e.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var t=this.gl,e=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return i(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(t,e,r,n,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:n||!1,stride:i||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(t,e,r){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):n.drawArrays(t,r,e||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},{"./setVertexAttribArrays":16}],14:[function(t,e,r){var n=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r)throw new Error("This browser does not support webGL. Try using the canvas renderer");return r};e.exports=n},{}],15:[function(t,e,r){var n={createContext:t("./createContext"),setVertexAttribArrays:t("./setVertexAttribArrays"),GLBuffer:t("./GLBuffer"),GLFramebuffer:t("./GLFramebuffer"),GLShader:t("./GLShader"),GLTexture:t("./GLTexture"),VertexArrayObject:t("./VertexArrayObject"),shader:t("./shader")};void 0!==e&&e.exports&&(e.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},{"./GLBuffer":9,"./GLFramebuffer":10,"./GLShader":11,"./GLTexture":12,"./VertexArrayObject":13,"./createContext":14,"./setVertexAttribArrays":16,"./shader":22}],16:[function(t,e,r){var n=function(t,e,r){var n;if(r){var i=r.tempAttribState,o=r.attribState;for(n=0;n<i.length;n++)i[n]=!1;for(n=0;n<e.length;n++)i[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==i[n]&&(o[n]=i[n],r.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var s=e[n];t.enableVertexAttribArray(s.attribute.location)}};e.exports=n},{}],17:[function(t,e,r){var n=function(t,e,r,n){var o=i(t,t.VERTEX_SHADER,e),s=i(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,s),n)for(var u in n)t.bindAttribLocation(a,n[u],u);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(o),t.deleteShader(s),a},i=function(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)};e.exports=n},{}],18:[function(t,e,r){var n=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return i(2*e);case"bvec3":return i(3*e);case"bvec4":return i(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},i=function(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e};e.exports=n},{}],19:[function(t,e,r){var n=t("./mapType"),i=t("./mapSize"),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<o;a++){var u=t.getActiveAttrib(e,a),h=n(t,u.type);r[u.name]={type:h,size:i(h),location:t.getAttribLocation(e,u.name),pointer:s}}return r},s=function(t,e,r,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,r||0,n||0)};e.exports=o},{"./mapSize":23,"./mapType":24}],20:[function(t,e,r){var n=t("./mapType"),i=t("./defaultValue"),o=function(t,e){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s),u=a.name.replace(/\[.*?\]/,""),h=n(t,a.type);r[u]={type:h,size:a.size,location:t.getUniformLocation(e,u),value:i(h,a.size)}}return r};e.exports=o},{"./defaultValue":18,"./mapType":24}],21:[function(t,e,r){var n=function(t,e){var r={data:{}};r.gl=t;for(var n=Object.keys(e),a=0;a<n.length;a++){var u=n[a],h=u.split("."),l=h[h.length-1],c=s(h,r),d=e[u];c.data[l]=d,c.gl=t,Object.defineProperty(c,l,{get:i(l),set:o(l,d)})}return r},i=function(t){var e=a.replace("%%",t);return new Function(e)},o=function(t,e){var r,n=u.replace(/%%/g,t);return r=1===e.size?h[e.type]:l[e.type],r&&(n+="\nthis.gl."+r+";"),
new Function("value",n)},s=function(t,e){for(var r=e,n=0;n<t.length-1;n++){var i=r[t[n]]||{data:{}};r[t[n]]=i,r=i}return r},a=["return this.data.%%.value;"].join("\n"),u=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n"),h={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},l={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};e.exports=n},{}],22:[function(t,e,r){e.exports={compileProgram:t("./compileProgram"),defaultValue:t("./defaultValue"),extractAttributes:t("./extractAttributes"),extractUniforms:t("./extractUniforms"),generateUniformAccessObject:t("./generateUniformAccessObject"),setPrecision:t("./setPrecision"),mapSize:t("./mapSize"),mapType:t("./mapType")}},{"./compileProgram":17,"./defaultValue":18,"./extractAttributes":19,"./extractUniforms":20,"./generateUniformAccessObject":21,"./mapSize":23,"./mapType":24,"./setPrecision":25}],23:[function(t,e,r){var n=function(t){return i[t]},i={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=n},{}],24:[function(t,e,r){var n=function(t,e){if(!i){var r=Object.keys(o);i={};for(var n=0;n<r.length;++n){var s=r[n];i[t[s]]=o[s]}}return i[e]},i=null,o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=n},{}],25:[function(t,e,r){var n=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t};e.exports=n},{}],26:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){y&&p&&(y=!1,p.length?v=p.concat(v):g=-1,v.length&&u())}function u(){if(!y){var t=o(a);y=!0;for(var e=v.length;e;){for(p=v,v=[];++g<e;)p&&p[g].run();g=-1,e=v.length}p=null,y=!1,s(t)}}function h(t,e){this.fun=t,this.array=e}function l(){}var c,d,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var p,v=[],y=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];v.push(new h(t,e)),1!==v.length||y||o(u)},h.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],27:[function(e,r,n){(function(e){!function(i){function o(t){throw new RangeError(L[t])}function s(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function a(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(D,"."),n+s(t.split("."),e).join(".")}function u(t){for(var e,r,n=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(r=t.charCodeAt(i++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--)):n.push(e);return n}function h(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=B(t>>>10&1023|55296),t=56320|1023&t),e+=B(t)}).join("")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:w}function c(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,r){var n=0;for(t=r?F(t/P):t>>1,t+=F(t/e);t>N*S>>1;n+=w)t=F(t/N);return F(n+(N+1)*t/(t+O))}function f(t){var e,r,n,i,s,a,u,c,f,p,v=[],y=t.length,g=0,m=C,_=M;for(r=t.lastIndexOf(R),r<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&o("not-basic"),v.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<y;){for(s=g,a=1,u=w;i>=y&&o("invalid-input"),c=l(t.charCodeAt(i++)),(c>=w||c>F((T-g)/a))&&o("overflow"),g+=c*a,f=u<=_?E:u>=_+S?S:u-_,!(c<f);u+=w)p=w-f,a>F(T/p)&&o("overflow"),a*=p;e=v.length+1,_=d(g-s,e,0==s),F(g/e)>T-m&&o("overflow"),m+=F(g/e),g%=e,v.splice(g++,0,m)}return h(v)}function p(t){var e,r,n,i,s,a,h,l,f,p,v,y,g,m,_,b=[];for(t=u(t),y=t.length,e=C,r=0,s=M,a=0;a<y;++a)(v=t[a])<128&&b.push(B(v));for(n=i=b.length,i&&b.push(R);n<y;){for(h=T,a=0;a<y;++a)(v=t[a])>=e&&v<h&&(h=v);for(g=n+1,h-e>F((T-r)/g)&&o("overflow"),r+=(h-e)*g,e=h,a=0;a<y;++a)if(v=t[a],v<e&&++r>T&&o("overflow"),v==e){for(l=r,f=w;p=f<=s?E:f>=s+S?S:f-s,!(l<p);f+=w)_=l-p,m=w-p,b.push(B(c(p+_%m,0))),l=F(_/m);b.push(B(c(l,0))),s=d(r,g,n==i),r=0,++n}++r,++e}return b.join("")}function v(t){return a(t,function(t){return A.test(t)?f(t.slice(4).toLowerCase()):t})}function y(t){return a(t,function(t){return I.test(t)?"xn--"+p(t):t})}var g="object"==typeof n&&n&&!n.nodeType&&n,m="object"==typeof r&&r&&!r.nodeType&&r,_="object"==typeof e&&e;_.global!==_&&_.window!==_&&_.self!==_||(i=_);var b,x,T=2147483647,w=36,E=1,S=26,O=38,P=700,M=72,C=128,R="-",A=/^xn--/,I=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=w-E,F=Math.floor,B=String.fromCharCode;if(b={version:"1.4.1",ucs2:{decode:u,encode:h},decode:f,encode:p,toASCII:y,toUnicode:v},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return b});else if(g&&m)if(r.exports==g)m.exports=b;else for(x in b)b.hasOwnProperty(x)&&(g[x]=b[x]);else i.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var l=0;l<h;++l){var c,d,f,p,v=t[l].replace(a,"%20"),y=v.indexOf(r);y>=0?(c=v.substr(0,y),d=v.substr(y+1)):(c=v,d=""),f=decodeURIComponent(c),p=decodeURIComponent(d),n(s,f)?i(s[f])?s[f].push(p):s[f]=[s[f],p]:s[f]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],29:[function(t,e,r){"use strict";function n(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?n(s(t),function(s){var a=encodeURIComponent(i(s))+r;return o(t[s])?n(t[s],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[s]))}).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],30:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":28,"./encode":29}],31:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){r=e+r>i?i-e:r;var o=i-r;for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}},{}],32:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t("mini-signals"),a=n(s),u=t("parse-uri"),h=n(u),l=t("./async"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(l),d=t("./Resource"),f=n(d),p=/(#[\w-]+)?$/,v=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;i(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=c.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new a.default,this.onError=new a.default,this.onLoad=new a.default,this.onStart=new a.default,this.onComplete=new a.default}return t.prototype.add=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"===(void 0===t?"undefined":o(t))&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new f.default(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var s=r.parentResource,a=[],u=0;u<s.children.length;++u)s.children[u].isComplete||a.push(s.children[u]);var h=s.progressChunk*(a.length+1),l=h/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},t.prototype._prepareUrl=function(t){var e=(0,h.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=p.exec(r)[0];r=r.substr(0,r.length-n.length),-1!==r.indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=n}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,c.eachSeries(this._beforeMiddleware,function(e,n){e.call(r,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},t.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),c.eachSeries(this._afterMiddleware,function(r,n){r.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&(e.progress=100,e._onComplete())},!0)},t}();r.default=v},{"./Resource":33,"./async":34,"mini-signals":5,"parse-uri":7}],33:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){}function s(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function a(t){return t.toString().replace("object ","")}r.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),h=t("parse-uri"),l=n(h),c=t("mini-signals"),d=n(c),f=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),p=null,v=function(){function t(e,r,n){if(i(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new d.default,this.onProgress=new d.default,this.onComplete=new d.default,this.onAfterMiddleware=new d.default}return t.setExtensionLoadType=function(e,r){s(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){s(t._xhrTypeMap,e,r)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete)return void(e&&setTimeout(function(){return e(r)},1));switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:f&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return void this.abort("Unsupported element: "+t);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(a(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(a(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(a(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===n&&r.length>0?n=200:1223===n&&(n=204),2!=(n/100|0))return void this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,p||(p=document.createElement("a")),p.href=t,t=(0,l.default)(p.href,{strictMode:!0});var r=!t.port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);t=t.substring(0,o),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},u(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();r.default=v,v.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},v.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},v.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},v.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},v._loadTypeMap={gif:v.LOAD_TYPE.IMAGE,png:v.LOAD_TYPE.IMAGE,bmp:v.LOAD_TYPE.IMAGE,jpg:v.LOAD_TYPE.IMAGE,jpeg:v.LOAD_TYPE.IMAGE,tif:v.LOAD_TYPE.IMAGE,tiff:v.LOAD_TYPE.IMAGE,webp:v.LOAD_TYPE.IMAGE,tga:v.LOAD_TYPE.IMAGE,svg:v.LOAD_TYPE.IMAGE,"svg+xml":v.LOAD_TYPE.IMAGE,mp3:v.LOAD_TYPE.AUDIO,ogg:v.LOAD_TYPE.AUDIO,wav:v.LOAD_TYPE.AUDIO,mp4:v.LOAD_TYPE.VIDEO,webm:v.LOAD_TYPE.VIDEO},v._xhrTypeMap={xhtml:v.XHR_RESPONSE_TYPE.DOCUMENT,html:v.XHR_RESPONSE_TYPE.DOCUMENT,htm:v.XHR_RESPONSE_TYPE.DOCUMENT,xml:v.XHR_RESPONSE_TYPE.DOCUMENT,tmx:v.XHR_RESPONSE_TYPE.DOCUMENT,svg:v.XHR_RESPONSE_TYPE.DOCUMENT,tsx:v.XHR_RESPONSE_TYPE.DOCUMENT,gif:v.XHR_RESPONSE_TYPE.BLOB,png:v.XHR_RESPONSE_TYPE.BLOB,bmp:v.XHR_RESPONSE_TYPE.BLOB,jpg:v.XHR_RESPONSE_TYPE.BLOB,jpeg:v.XHR_RESPONSE_TYPE.BLOB,tif:v.XHR_RESPONSE_TYPE.BLOB,tiff:v.XHR_RESPONSE_TYPE.BLOB,webp:v.XHR_RESPONSE_TYPE.BLOB,tga:v.XHR_RESPONSE_TYPE.BLOB,json:v.XHR_RESPONSE_TYPE.JSON,text:v.XHR_RESPONSE_TYPE.TEXT,txt:v.XHR_RESPONSE_TYPE.TEXT,ttf:v.XHR_RESPONSE_TYPE.BUFFER,otf:v.XHR_RESPONSE_TYPE.BUFFER},v.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":5,"parse-uri":7}],34:[function(t,e,r){"use strict";function n(){}function i(t,e,r,n){var i=0,o=t.length;!function s(a){if(a||i===o)return void(r&&r(a));n?setTimeout(function(){e(t[i++],s)},1):e(t[i++],s)}()}function o(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function s(t,e){function r(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(a.started=!0,null==t&&a.idle())return void setTimeout(function(){return a.drain()},1);var i={data:t,callback:"function"==typeof r?r:n};e?a._tasks.unshift(i):a._tasks.push(i),setTimeout(function(){return a.process()},1)}function i(t){return function(){s-=1,t.callback.apply(t,arguments),null!=arguments[0]&&a.error(arguments[0],t.data),s<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=0,a={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){r(t,!1,e)},kill:function(){s=0,a.drain=n,a.started=!1,a._tasks=[]},unshift:function(t,e){r(t,!0,e)},process:function(){for(;!a.paused&&s<a.concurrency&&a._tasks.length;){var e=a._tasks.shift();0===a._tasks.length&&a.empty(),s+=1,s===a.concurrency&&a.saturated(),t(e.data,o(i(e)))}},length:function(){return a._tasks.length},running:function(){return s},idle:function(){return a._tasks.length+s===0},pause:function(){!0!==a.paused&&(a.paused=!0)},resume:function(){if(!1!==a.paused){a.paused=!1;for(var t=1;t<=a.concurrency;t++)a.process()}}};return a}r.__esModule=!0,r.eachSeries=i,r.queue=s},{}],35:[function(t,e,r){"use strict";function n(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],o=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=255&t.charCodeAt(r++):n[s]=0;o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2];switch(r-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var a=0;a<o.length;++a)e+=i.charAt(o[a])}return e}r.__esModule=!0,r.encodeBinary=n;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],36:[function(t,e,r){"use strict";var n=t("./Loader").default,i=t("./Resource").default,o=t("./async"),s=t("./b64");n.Resource=i,n.async=o,n.base64=s,e.exports=n,e.exports.default=n},{"./Loader":32,"./Resource":33,"./async":34,"./b64":35}],37:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(){return function(t,e){if(!t.data)return void e();if(t.xhr&&t.xhrType===a.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=function(){var r=l.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=a.default.TYPE.IMAGE,t.data.onload=function(){l.revokeObjectURL(r),t.data.onload=null,e()},{v:void 0}}();if("object"===(void 0===r?"undefined":o(r)))return r.v}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+h.default.encodeBinary(t.xhr.responseText),t.type=a.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}}r.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.blobMiddlewareFactory=i;var s=t("../../Resource"),a=n(s),u=t("../../b64"),h=n(u),l=window.URL||window.webkitURL},{"../../Resource":33,"../../b64":35}],38:[function(t,e,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,r){if(t&&h.isObject(t)&&t instanceof n)return t;var i=new n;return i.parse(t,e,r),i}function o(t){return h.isString(t)&&(t=i(t)),t instanceof n?t.format():n.prototype.format.call(t)}function s(t,e){return i(t,!1,!0).resolve(e)}function a(t,e){return t?i(t,!1,!0).resolveObject(e):e}var u=t("punycode"),h=t("./util");r.parse=i,r.resolve=s,r.resolveObject=a,r.format=o,r.Url=n;var l=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(f),v=["'"].concat(p),y=["%","/","?",";","#"].concat(v),g=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=t("querystring");n.prototype.parse=function(t,e,r){if(!h.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=-1!==n&&n<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(i);var a=t;if(a=a.trim(),!r&&1===t.split("#").length){var c=d.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],this.query=e?w.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=l.exec(a);if(f){f=f[0];var p=f.toLowerCase();this.protocol=p,a=a.substr(f.length)}if(r||f||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===a.substr(0,2);!E||f&&x[f]||(a=a.substr(2),this.slashes=!0)}if(!x[f]&&(E||f&&!T[f])){for(var S=-1,O=0;O<g.length;O++){var P=a.indexOf(g[O]);-1!==P&&(-1===S||P<S)&&(S=P)}var M,C;C=-1===S?a.lastIndexOf("@"):a.lastIndexOf("@",S),-1!==C&&(M=a.slice(0,C),a=a.slice(C+1),this.auth=decodeURIComponent(M)),S=-1;for(var O=0;O<y.length;O++){var P=a.indexOf(y[O]);-1!==P&&(-1===S||P<S)&&(S=P)}-1===S&&(S=a.length),this.host=a.slice(0,S),a=a.slice(S),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var A=this.hostname.split(/\./),O=0,I=A.length;O<I;O++){var D=A[O];if(D&&!D.match(m)){for(var L="",N=0,F=D.length;N<F;N++)D.charCodeAt(N)>127?L+="x":L+=D[N];if(!L.match(m)){var B=A.slice(0,O),k=A.slice(O+1),j=D.match(_);j&&(B.push(j[1]),k.unshift(j[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=u.toASCII(this.hostname));var U=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+U,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!b[p])for(var O=0,I=v.length;O<I;O++){var G=v[O];if(-1!==a.indexOf(G)){var W=encodeURIComponent(G);W===G&&(W=escape(G)),a=a.split(G).join(W)}}var H=a.indexOf("#");-1!==H&&(this.hash=a.substr(H),a=a.slice(0,H));var Y=a.indexOf("?");if(-1!==Y?(this.search=a.substr(Y),this.query=a.substr(Y+1),e&&(this.query=w.parse(this.query)),a=a.slice(0,Y)):e&&(this.search="",this.query={}),a&&(this.pathname=a),T[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",V=this.search||"";this.path=U+V}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(o=w.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||T[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(t){
return encodeURIComponent(t)}),s=s.replace("#","%23"),e+i+r+s+n},n.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(h.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var r=new n,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var l=a[u];"protocol"!==l&&(r[l]=t[l])}return T[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!T[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var f=c[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||x[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",y=r.search||"";r.path=v+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=m||g||r.host&&t.pathname,b=_,w=r.pathname&&r.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],E=r.protocol&&!T[r.protocol];if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),_=_&&(""===p[0]||""===w[0])),m)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=t.search,r.query=t.query;else if(!h.isNullOrUndefined(t.search)){if(E){r.hostname=r.host=w.shift();var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return r.search=t.search,r.query=t.query,h.isNull(r.pathname)&&h.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=w.slice(-1)[0],P=(r.host||t.host||w.length>1)&&("."===O||".."===O)||""===O,M=0,C=w.length;C>=0;C--)O=w[C],"."===O?w.splice(C,1):".."===O?(w.splice(C,1),M++):M&&(w.splice(C,1),M--);if(!_&&!b)for(;M--;M)w.unshift("..");!_||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),P&&"/"!==w.join("/").substr(-1)&&w.push("");var R=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(E){r.hostname=r.host=R?"":w.length?w.shift():"";var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return _=_||r.host&&w.length,_&&!R&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),h.isNull(r.pathname)&&h.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var t=this.host,e=c.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":39,punycode:27,querystring:30}],39:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],40:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("ismobilejs"),u=n(a),h=t("./accessibleTarget"),l=n(h);s.utils.mixins.delayMixin(s.DisplayObject.prototype,l.default);var c=100,d=0,f=0,p=2,v=function(){function t(e){i(this,t),!u.default.tablet&&!u.default.phone||navigator.isCocoonJS||this.createTouchHook();var r=document.createElement("div");r.style.width=c+"px",r.style.height=c+"px",r.style.position="absolute",r.style.top=d+"px",r.style.left=f+"px",r.style.zIndex=p,this.div=r,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=e.length-1;r>=0;r--)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var i=0;i<this.children.length;i++){var o=this.children[i];if(o.renderId!==this.renderId)o._accessibleActive=!1,s.utils.removeItems(this.children,i,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,i--,0===this.children.length&&this.deactivate();else{n=o._accessibleDiv;var a=o.hitArea,u=o.worldTransform;o.hitArea?(n.style.left=(u.tx+a.x*u.a)*e+"px",n.style.top=(u.ty+a.y*u.d)*r+"px",n.style.width=a.width*u.a*e+"px",n.style.height=a.height*u.d*r+"px"):(a=o.getBounds(),this.capHitArea(a),n.style.left=a.x*e+"px",n.style.top=a.y*r+"px",n.style.width=a.width*e+"px",n.style.height=a.height*r+"px")}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=c+"px",e.style.height=c+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=p,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(){this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();r.default=v,s.WebGLRenderer.registerPlugin("accessibility",v),s.CanvasRenderer.registerPlugin("accessibility",v)},{"../core":65,"./accessibleTarget":41,ismobilejs:4}],41:[function(t,e,r){"use strict";r.__esModule=!0,r.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],42:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./accessibleTarget");Object.defineProperty(r,"accessibleTarget",{enumerable:!0,get:function(){return n(i).default}});var o=t("./AccessibilityManager");Object.defineProperty(r,"AccessibilityManager",{enumerable:!0,get:function(){return n(o).default}})},{"./AccessibilityManager":40,"./accessibleTarget":41}],43:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("./autoDetectRenderer"),a=t("./display/Container"),u=n(a),h=t("./ticker"),l=t("./settings"),c=n(l),d=t("./const"),f=function(){function t(e,r,n,o,a){i(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:r||c.default.RENDER_OPTIONS.height,forceCanvas:!!o,sharedTicker:!!a},n)),this._options=e=Object.assign({sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,s.autoDetectRenderer)(e),this.stage=new u.default,this._ticker=null,this.ticker=e.sharedTicker?h.shared:new h.Ticker,this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t){var e=this._ticker;this.ticker=null,e.destroy(),this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},o(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,d.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();r.default=f},{"./autoDetectRenderer":45,"./const":46,"./display/Container":48,"./settings":101,"./ticker":120}],44:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var r=t.slice(0);return r.unshift("precision "+e+" float;"),r}}else if("precision"!==t.substring(0,9))return"precision "+e+" float;\n"+t;return t}r.__esModule=!0;var a=t("pixi-gl-core"),u=t("./settings"),h=function(t){return t&&t.__esModule?t:{default:t}}(u),l=function(t){function e(r,o,a){return n(this,e),i(this,t.call(this,r,s(o,h.default.PRECISION_VERTEX),s(a,h.default.PRECISION_FRAGMENT)))}return o(e,t),e}(a.GLShader);r.default=l},{"./settings":101,"pixi-gl-core":15}],45:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,r,n){var i=t&&t.forceCanvas;return void 0!==n&&(i=n),!i&&s.isWebGLSupported()?new l.default(t,e,r):new u.default(t,e,r)}r.__esModule=!0,r.autoDetectRenderer=i;var o=t("./utils"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("./renderers/canvas/CanvasRenderer"),u=n(a),h=t("./renderers/webgl/WebGLRenderer"),l=n(h)},{"./renderers/canvas/CanvasRenderer":77,"./renderers/webgl/WebGLRenderer":84,"./utils":124}],46:[function(t,e,r){"use strict";r.__esModule=!0;r.VERSION="4.5.4",r.PI_2=2*Math.PI,r.RAD_TO_DEG=180/Math.PI,r.DEG_TO_RAD=Math.PI/180,r.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},r.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},r.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},r.SCALE_MODES={LINEAR:0,NEAREST:1},r.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},r.GC_MODES={AUTO:0,MANUAL:1},r.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,r.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},r.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},r.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},r.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},r.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],47:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../math"),o=function(){function t(){n(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:(t=t||new i.Rectangle(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[2],s=t[3],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[4],s=t[5],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,o=t[6],s=t[7],e=o<e?o:e,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){var o=t.worldTransform,s=o.a,a=o.b,u=o.c,h=o.d,l=o.tx,c=o.ty,d=this.minX,f=this.minY,p=this.maxX,v=this.maxY,y=s*e+u*r+l,g=a*e+h*r+c;d=y<d?y:d,f=g<f?g:f,p=y>p?y:p,v=g>v?g:v,y=s*n+u*r+l,g=a*n+h*r+c,d=y<d?y:d,f=g<f?g:f,p=y>p?y:p,v=g>v?g:v,y=s*e+u*i+l,g=a*e+h*i+c,d=y<d?y:d,f=g<f?g:f,p=y>p?y:p,v=g>v?g:v,y=s*n+u*i+l,g=a*n+h*i+c,d=y<d?y:d,f=g<f?g:f,p=y>p?y:p,v=g>v?g:v,this.minX=d,this.minY=f,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,r,n){for(var i=t.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=this.minX,d=this.minY,f=this.maxX,p=this.maxY,v=r;v<n;v+=2){var y=e[v],g=e[v+1],m=o*y+a*g+h,_=u*g+s*y+l;c=m<c?m:c,d=_<d?_:d,f=m>f?m:f,p=_>p?_:p}this.minX=c,this.minY=d,this.maxX=f,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,u=this.maxX,h=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>u?i:u,this.maxY=o>h?o:h}},t}();r.default=o},{"../math":70}],48:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../utils"),u=t("./DisplayObject"),h=function(t){return t&&t.__esModule?t:{default:t}}(u),l=function(t){function e(){n(this,e);var r=i(this,t.call(this));return r.children=[],r}return o(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.addChild(arguments[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);(0,a.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var r=0;r<e;r++)this.removeChild(arguments[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,(0,a.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,a.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=t,n="number"==typeof e?e:this.children.length,i=n-r,o=void 0;if(i>0&&i<=n){o=this.children.splice(r,i);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}r&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),r&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},s(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(h.default);r.default=l,l.prototype.containerUpdateTransform=l.prototype.updateTransform},{"../utils":124,"./DisplayObject":49}],49:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("eventemitter3"),h=n(u),l=t("../const"),c=t("../settings"),d=n(c),f=t("./TransformStatic"),p=n(f),v=t("./Transform"),y=n(v),g=t("./Bounds"),m=n(g),_=t("../math"),b=function(t){function e(){i(this,e);var r=o(this,t.call(this)),n=d.default.TRANSFORM_MODE===l.TRANSFORM_MODE.STATIC?p.default:y.default;return r.tempDisplayObjectParent=null,r.transform=new n,r.alpha=1,r.visible=!0,r.renderable=!0,r.parent=null,r.worldAlpha=1,r.filterArea=null,r._filters=null,r._enabledFilters=null,r._bounds=new m.default,r._boundsID=0,r._lastBoundsID=-1,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._destroyed=!1,r}return s(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new _.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new _.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},a(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(h.default);r.default=b,b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},{"../const":46,"../math":70,"../settings":101,"./Bounds":47,"./Transform":50,"./TransformStatic":52,eventemitter3:3}],50:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../math"),u=t("./TransformBase"),h=function(t){return t&&t.__esModule?t:{default:t}}(u),l=function(t){function e(){n(this,e);var r=i(this,t.call(this));return r.position=new a.Point(0,0),r.scale=new a.Point(1,1),r.skew=new a.ObservablePoint(r.updateSkew,r,0,0),r.pivot=new a.Point(0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r}return o(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(h.default);r.default=l},{"../math":70,"./TransformBase":51}],51:[function(t,e,r){"use strict";function n(t,e){
if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../math"),o=function(){function t(){n(this,t),this.worldTransform=new i.Matrix,this.localTransform=new i.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,r=this.worldTransform,n=this.localTransform;r.a=n.a*e.a+n.b*e.c,r.b=n.a*e.b+n.b*e.d,r.c=n.c*e.a+n.d*e.c,r.d=n.c*e.b+n.d*e.d,r.tx=n.tx*e.a+n.ty*e.c+e.tx,r.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();r.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},{"../math":70}],52:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../math"),u=t("./TransformBase"),h=function(t){return t&&t.__esModule?t:{default:t}}(u),l=function(t){function e(){n(this,e);var r=i(this,t.call(this));return r.position=new a.ObservablePoint(r.onChange,r,0,0),r.scale=new a.ObservablePoint(r.onChange,r,1,1),r.pivot=new a.ObservablePoint(r.onChange,r,0,0),r.skew=new a.ObservablePoint(r.updateSkew,r,0,0),r._rotation=0,r._cx=1,r._sx=0,r._cy=0,r._sy=1,r._localID=0,r._currentLocalID=0,r}return o(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(h.default);r.default=l},{"../math":70,"./TransformBase":51}],53:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../display/Container"),u=n(a),h=t("../textures/RenderTexture"),l=n(h),c=t("../textures/Texture"),d=n(c),f=t("./GraphicsData"),p=n(f),v=t("../sprites/Sprite"),y=n(v),g=t("../math"),m=t("../utils"),_=t("../const"),b=t("../display/Bounds"),x=n(b),T=t("./utils/bezierCurveTo"),w=n(T),E=t("../renderers/canvas/CanvasRenderer"),S=n(E),O=void 0,P=new g.Matrix,M=new g.Point,C=new Float32Array(4),R=new Float32Array(4),A=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,e);var n=o(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=r,n.lineColor=0,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=_.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new x.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return s(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r)t.graphicsData.push(this.graphicsData[r].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this.currentPath)if(this.currentPath.shape.points.length){var n=new g.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},e.prototype.moveTo=function(t,e){var r=new g.Polygon([t,e]);return r.closed=!1,this.drawShape(r),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,e,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,o=0,s=0;0===i.length&&this.moveTo(0,0);for(var a=i[i.length-2],u=i[i.length-1],h=1;h<=20;++h){var l=h/20;o=a+(t-a)*l,s=u+(e-u)*l,i.push(o+(t+(r-t)*l-o)*l,s+(e+(n-e)*l-s)*l)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=s[s.length-2],u=s[s.length-1];return s.length-=2,(0,w.default)(a,u,t,e,r,n,i,o,s),this.dirty++,this},e.prototype.arcTo=function(t,e,r,n,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],u=a-e,h=s-t,l=n-e,c=r-t,d=Math.abs(u*c-h*l);if(d<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=u*u+h*h,p=l*l+c*c,v=u*l+h*c,y=i*Math.sqrt(f)/d,g=i*Math.sqrt(p)/d,m=y*v/f,_=g*v/p,b=y*c+g*h,x=y*l+g*u,T=h*(g+m),w=u*(g+m),E=c*(y+_),S=l*(y+_),O=Math.atan2(w-x,T-b),P=Math.atan2(S-x,E-b);this.arc(b+t,x+e,i,O,P,h*l>c*u)}return this.dirty++,this},e.prototype.arc=function(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n===i)return this;!o&&i<=n?i+=2*Math.PI:o&&n<=i&&(n+=2*Math.PI);var s=i-n,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var u=t+Math.cos(n)*r,h=e+Math.sin(n)*r,l=this.currentPath?this.currentPath.shape.points:null;l?l[l.length-2]===u&&l[l.length-1]===h||l.push(u,h):(this.moveTo(u,h),l=this.currentPath.shape.points);for(var c=s/(2*a),d=2*c,f=Math.cos(c),p=Math.sin(c),v=a-1,y=v%1/v,g=0;g<=v;++g){var m=g+y*g,_=c+n+d*m,b=Math.cos(_),x=-Math.sin(_);l.push((f*b+p*x)*r+t,(f*-x+p*b)*r+e)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new g.Rectangle(t,e,r,n)),this},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new g.RoundedRectangle(t,e,r,n,i)),this},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new g.Circle(t,e,r)),this},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new g.Ellipse(t,e,r,n)),this},e.prototype.drawPolygon=function(t){var e=t,r=!0;if(e instanceof g.Polygon&&(r=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var i=new g.Polygon(e);return i.closed=r,this.drawShape(i),this},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===_.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new y.default(new d.default(d.default.WHITE)));var r=this._spriteRect;if(16777215===this.tint)r.tint=this.graphicsData[0].fillColor;else{var n=C,i=R;(0,m.hex2rgb)(this.graphicsData[0].fillColor,n),(0,m.hex2rgb)(this.tint,i),n[0]*=i[0],n[1]*=i[1],n[2]*=i[2],r.tint=(0,m.rgb2hex)(n)}r.alpha=this.graphicsData[0].fillAlpha,r.worldAlpha=this.worldAlpha*r.alpha,r.blendMode=this.blendMode,r._texture._frame.width=e.width,r._texture._frame.height=e.height,r.transform.worldTransform=this.transform.worldTransform,r.anchor.set(-e.x/e.width,-e.y/e.height),r._onAnchorUpdate(),r._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,M);for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fill&&(n.shape&&n.shape.contains(M.x,M.y))){if(n.holes)for(var i=0;i<n.holes.length;i++){var o=n.holes[i];if(o.contains(M.x,M.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,n=-1/0;if(this.graphicsData.length)for(var i=0,o=0,s=0,a=0,u=0,h=0;h<this.graphicsData.length;h++){var l=this.graphicsData[h],c=l.type,d=l.lineWidth;if(i=l.shape,c===_.SHAPES.RECT||c===_.SHAPES.RREC)o=i.x-d/2,s=i.y-d/2,a=i.width+d,u=i.height+d,t=o<t?o:t,e=o+a>e?o+a:e,r=s<r?s:r,n=s+u>n?s+u:n;else if(c===_.SHAPES.CIRC)o=i.x,s=i.y,a=i.radius+d/2,u=i.radius+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else if(c===_.SHAPES.ELIP)o=i.x,s=i.y,a=i.width+d/2,u=i.height+d/2,t=o-a<t?o-a:t,e=o+a>e?o+a:e,r=s-u<r?s-u:r,n=s+u>n?s+u:n;else for(var f=i.points,p=0,v=0,y=0,g=0,m=0,b=0,x=0,T=0,w=0;w+2<f.length;w+=2)o=f[w],s=f[w+1],p=f[w+2],v=f[w+3],y=Math.abs(p-o),g=Math.abs(v-s),u=d,(a=Math.sqrt(y*y+g*g))<1e-9||(m=(u/a*g+y)/2,b=(u/a*y+g)/2,x=(p+o)/2,T=(v+s)/2,t=x-m<t?x-m:t,e=x+m>e?x+m:e,r=T-b<r?T-b:r,n=T+b>n?T+b:n)}else t=0,e=0,r=0,n=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=r-E,this._localBounds.maxY=n+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new p.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===_.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.getLocalBounds(),n=l.default.create(r.width,r.height,t,e);O||(O=new S.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(P),P.invert(),P.tx-=r.x,P.ty-=r.y,O.render(this,n,!0,P);var i=d.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics");return i.baseTexture.resolution=e,i.baseTexture.update(),i},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();for(var n in this._webgl)for(var i=0;i<this._webgl[n].data.length;++i)this._webgl[n].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e}(u.default);r.default=A,A._SPRITE_TEXTURE=null},{"../const":46,"../display/Bounds":47,"../display/Container":48,"../math":70,"../renderers/canvas/CanvasRenderer":77,"../sprites/Sprite":102,"../textures/RenderTexture":113,"../textures/Texture":115,"../utils":124,"./GraphicsData":54,"./utils/bezierCurveTo":56}],54:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e,r,i,o,s,a,u,h){n(this,t),this.lineWidth=e,this.nativeLines=u,this.lineColor=r,this.lineAlpha=i,this._lineTint=r,this.fillColor=o,this.fillAlpha=s,this._fillTint=o,this.fill=a,this.holes=[],this.shape=h,this.type=h.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();r.default=i},{}],55:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../renderers/canvas/CanvasRenderer"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../const"),a=function(){function t(e){n(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldAlpha,i=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],h=u.shape,l=u._fillTint,c=u._lineTint;if(r.lineWidth=u.lineWidth,u.type===s.SHAPES.POLY){r.beginPath(),this.renderPolygon(h.points,h.closed,r);for(var d=0;d<u.holes.length;d++)this.renderPolygon(u.holes[d].points,!0,r);u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fillRect(h.x,h.y,h.width,h.height)),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.strokeRect(h.x,h.y,h.width,h.height));else if(u.type===s.SHAPES.CIRC)r.beginPath(),r.arc(h.x,h.y,h.radius,0,2*Math.PI),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke());else if(u.type===s.SHAPES.ELIP){var f=2*h.width,p=2*h.height,v=h.x-f/2,y=h.y-p/2;r.beginPath();var g=f/2*.5522848,m=p/2*.5522848,_=v+f,b=y+p,x=v+f/2,T=y+p/2;r.moveTo(v,T),r.bezierCurveTo(v,T-m,x-g,y,x,y),r.bezierCurveTo(x+g,y,_,T-m,_,T),r.bezierCurveTo(_,T+m,x+g,b,x,b),r.bezierCurveTo(x-g,b,v,T+m,v,T),r.closePath(),u.fill&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}else if(u.type===s.SHAPES.RREC){var w=h.x,E=h.y,S=h.width,O=h.height,P=h.radius,M=Math.min(S,O)/2|0;P=P>M?M:P,r.beginPath(),r.moveTo(w,E+P),r.lineTo(w,E+O-P),r.quadraticCurveTo(w,E+O,w+P,E+O),r.lineTo(w+S-P,E+O),r.quadraticCurveTo(w+S,E+O,w+S,E+O-P),r.lineTo(w+S,E+P),r.quadraticCurveTo(w+S,E,w+S-P,E),r.lineTo(w+P,E),r.quadraticCurveTo(w,E,w,E+P),r.closePath(),(u.fillColor||0===u.fillColor)&&(r.globalAlpha=u.fillAlpha*n,r.fillStyle="#"+("00000"+(0|l).toString(16)).substr(-6),r.fill()),u.lineWidth&&(r.globalAlpha=u.lineAlpha*n,r.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),r.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,n=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*n*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*n*255}},t.prototype.renderPolygon=function(t,e,r){r.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)r.lineTo(t[2*n],t[2*n+1]);e&&r.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();r.default=a,o.default.registerPlugin("graphics",a)},{"../../const":46,"../../renderers/canvas/CanvasRenderer":77}],56:[function(t,e,r){"use strict";function n(t,e,r,n,i,o,s,a){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],h=0,l=0,c=0,d=0,f=0;u.push(t,e);for(var p=1,v=0;p<=20;++p)v=p/20,h=1-v,l=h*h,c=l*h,d=v*v,f=d*v,u.push(c*t+3*l*v*r+3*h*d*i+f*s,c*e+3*l*v*n+3*h*d*o+f*a);return u}r.__esModule=!0,r.default=n},{}],57:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../utils"),u=t("../../const"),h=t("../../renderers/webgl/utils/ObjectRenderer"),l=n(h),c=t("../../renderers/webgl/WebGLRenderer"),d=n(c),f=t("./WebGLGraphicsData"),p=n(f),v=t("./shaders/PrimitiveShader"),y=n(v),g=t("./utils/buildPoly"),m=n(g),_=t("./utils/buildRectangle"),b=n(_),x=t("./utils/buildRoundedRectangle"),T=n(x),w=t("./utils/buildCircle"),E=n(w),S=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=r.gl,n.CONTEXT_UID=0,n}return s(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new y.default(this.gl)},e.prototype.destroy=function(){l.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=void 0,i=t._webGL[this.CONTEXT_UID];i&&t.dirty===i.dirty||(this.updateGraphics(t),i=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var s=0,u=i.data.length;s<u;s++){n=i.data[s];var h=n.shader;e.bindShader(h),h.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),h.uniforms.tint=(0,a.hex2rgb)(t.tint),h.uniforms.alpha=t.worldAlpha,e.bindVao(n.vao),n.nativeLines?r.drawArrays(r.LINES,0,n.points.length/6):n.vao.draw(r.TRIANGLE_STRIP,n.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[this.CONTEXT_UID];if(r||(r=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),r.dirty=t.dirty,t.clearDirty!==r.clearDirty){r.clearDirty=t.clearDirty;for(var n=0;n<r.data.length;n++)this.graphicsDataPool.push(r.data[n]);r.data.length=0,r.lastIndex=0}for(var i=void 0,o=void 0,s=r.lastIndex;s<t.graphicsData.length;s++){var a=t.graphicsData[s];i=this.getWebGLData(r,0),a.nativeLines&&a.lineWidth&&(o=this.getWebGLData(r,0,!0),r.lastIndex++),a.type===u.SHAPES.POLY&&(0,m.default)(a,i,o),a.type===u.SHAPES.RECT?(0,b.default)(a,i,o):a.type===u.SHAPES.CIRC||a.type===u.SHAPES.ELIP?(0,E.default)(a,i,o):a.type===u.SHAPES.RREC&&(0,T.default)(a,i,o),r.lastIndex++}this.renderer.bindVao(null);for(var h=0;h<r.data.length;h++)i=r.data[h],i.dirty&&i.upload()},e.prototype.getWebGLData=function(t,e,r){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==r||n.points.length>32e4)&&(n=this.graphicsDataPool.pop()||new p.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),n.nativeLines=r,n.reset(e),t.data.push(n)),n.dirty=!0,n},e}(l.default);r.default=S,d.default.registerPlugin("graphics",S)},{"../../const":46,"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../utils":124,"./WebGLGraphicsData":58,"./shaders/PrimitiveShader":59,"./utils/buildCircle":60,"./utils/buildPoly":62,"./utils/buildRectangle":63,"./utils/buildRoundedRectangle":64}],58:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("pixi-gl-core"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(e,r,i){n(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=r,this.vao=new o.default.VertexArrayObject(e,i).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();r.default=s},{"pixi-gl-core":15}],59:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../../../Shader"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(r){return n(this,e),i(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return o(e,t),e}(a.default);r.default=u},{"../../../Shader":44}],60:[function(t,e,r){"use strict";function n(t,e,r){var n=t.shape,i=n.x,u=n.y,h=void 0,l=void 0;if(t.type===s.SHAPES.CIRC?(h=n.radius,l=n.radius):(h=n.width,l=n.height),0!==h&&0!==l){var c=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),d=2*Math.PI/c;if(t.fill){var f=(0,a.hex2rgb)(t.fillColor),p=t.fillAlpha,v=f[0]*p,y=f[1]*p,g=f[2]*p,m=e.points,_=e.indices,b=m.length/6;_.push(b);for(var x=0;x<c+1;x++)m.push(i,u,v,y,g,p),m.push(i+Math.sin(d*x)*h,u+Math.cos(d*x)*l,v,y,g,p),_.push(b++,b++);_.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var w=0;w<c+1;w++)t.points.push(i+Math.sin(d*w)*h,u+Math.cos(d*w)*l);(0,o.default)(t,e,r),t.points=T}}}r.__esModule=!0,r.default=n;var i=t("./buildLine"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../../const"),a=t("../../../utils")},{"../../../const":46,"../../../utils":124,"./buildLine":61}],61:[function(t,e,r){"use strict";function n(t,e){var r=t.points;if(0!==r.length){var n=new o.Point(r[0],r[1]),i=new o.Point(r[r.length-2],r[r.length-1]);if(n.x===i.x&&n.y===i.y){r=r.slice(),r.pop(),r.pop(),i=new o.Point(r[r.length-2],r[r.length-1]);var a=i.x+.5*(n.x-i.x),u=i.y+.5*(n.y-i.y);r.unshift(a,u),r.push(a,u)}var h=e.points,l=e.indices,c=r.length/2,d=r.length,f=h.length/6,p=t.lineWidth/2,v=(0,s.hex2rgb)(t.lineColor),y=t.lineAlpha,g=v[0]*y,m=v[1]*y,_=v[2]*y,b=r[0],x=r[1],T=r[2],w=r[3],E=0,S=0,O=-(x-w),P=b-T,M=0,C=0,R=0,A=0,I=Math.sqrt(O*O+P*P);O/=I,P/=I,O*=p,P*=p,h.push(b-O,x-P,g,m,_,y),h.push(b+O,x+P,g,m,_,y);for(var D=1;D<c-1;++D){b=r[2*(D-1)],x=r[2*(D-1)+1],T=r[2*D],w=r[2*D+1],E=r[2*(D+1)],S=r[2*(D+1)+1],O=-(x-w),P=b-T,I=Math.sqrt(O*O+P*P),O/=I,P/=I,O*=p,P*=p,M=-(w-S),C=T-E,I=Math.sqrt(M*M+C*C),M/=I,C/=I,M*=p,C*=p;var L=-P+x-(-P+w),N=-O+T-(-O+b),F=(-O+b)*(-P+w)-(-O+T)*(-P+x),B=-C+S-(-C+w),k=-M+T-(-M+E),j=(-M+E)*(-C+w)-(-M+T)*(-C+S),U=L*k-B*N;if(Math.abs(U)<.1)U+=10.1,h.push(T-O,w-P,g,m,_,y),h.push(T+O,w+P,g,m,_,y);else{var X=(N*j-k*F)/U,G=(B*F-L*j)/U;(X-T)*(X-T)+(G-w)*(G-w)>196*p*p?(R=O-M,A=P-C,I=Math.sqrt(R*R+A*A),R/=I,A/=I,R*=p,A*=p,h.push(T-R,w-A),h.push(g,m,_,y),h.push(T+R,w+A),h.push(g,m,_,y),h.push(T-R,w-A),h.push(g,m,_,y),d++):(h.push(X,G),h.push(g,m,_,y),h.push(T-(X-T),w-(G-w)),h.push(g,m,_,y))}}b=r[2*(c-2)],x=r[2*(c-2)+1],T=r[2*(c-1)],w=r[2*(c-1)+1],O=-(x-w),P=b-T,I=Math.sqrt(O*O+P*P),O/=I,P/=I,O*=p,P*=p,h.push(T-O,w-P),h.push(g,m,_,y),h.push(T+O,w+P),h.push(g,m,_,y),l.push(f);for(var W=0;W<d;++W)l.push(f++);l.push(f-1)}}function i(t,e){var r=0,n=t.points;if(0!==n.length){var i=e.points,o=n.length/2,a=(0,s.hex2rgb)(t.lineColor),u=t.lineAlpha,h=a[0]*u,l=a[1]*u,c=a[2]*u;for(r=1;r<o;r++){var d=n[2*(r-1)],f=n[2*(r-1)+1],p=n[2*r],v=n[2*r+1];i.push(d,f),i.push(h,l,c,u),i.push(p,v),i.push(h,l,c,u)}}}r.__esModule=!0,r.default=function(t,e,r){t.nativeLines?i(t,r):n(t,e)};var o=t("../../../math"),s=t("../../../utils")},{"../../../math":70,"../../../utils":124}],62:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,r){t.points=t.shape.points.slice();var n=t.points;if(t.fill&&n.length>=6){for(var i=[],o=t.holes,u=0;u<o.length;u++){var l=o[u];i.push(n.length/2),n=n.concat(l.points)}var c=e.points,d=e.indices,f=n.length/2,p=(0,a.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,m=p[2]*v,_=(0,h.default)(n,i,2);if(!_)return;for(var b=c.length/6,x=0;x<_.length;x+=3)d.push(_[x]+b),d.push(_[x]+b),d.push(_[x+1]+b),d.push(_[x+2]+b),d.push(_[x+2]+b);for(var T=0;T<f;T++)c.push(n[2*T],n[2*T+1],y,g,m,v)}t.lineWidth>0&&(0,s.default)(t,e,r)}r.__esModule=!0,r.default=i;var o=t("./buildLine"),s=n(o),a=t("../../../utils"),u=t("earcut"),h=n(u)},{"../../../utils":124,"./buildLine":61,earcut:2}],63:[function(t,e,r){"use strict";function n(t,e,r){var n=t.shape,i=n.x,a=n.y,u=n.width,h=n.height;if(t.fill){var l=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,d=l[0]*c,f=l[1]*c,p=l[2]*c,v=e.points,y=e.indices,g=v.length/6;v.push(i,a),v.push(d,f,p,c),v.push(i+u,a),v.push(d,f,p,c),v.push(i,a+h),v.push(d,f,p,c),v.push(i+u,a+h),v.push(d,f,p,c),y.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var m=t.points;t.points=[i,a,i+u,a,i+u,a+h,i,a+h,i,a],(0,o.default)(t,e,r),t.points=m}}r.__esModule=!0,r.default=n;var i=t("./buildLine"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../../utils")},{"../../../utils":124,"./buildLine":61}],64:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e,r){var n=t.shape,i=n.x,o=n.y,a=n.width,h=n.height,d=n.radius,f=[];if(f.push(i,o+d),s(i,o+h-d,i,o+h,i+d,o+h,f),s(i+a-d,o+h,i+a,o+h,i+a,o+h-d,f),s(i+a,o+d,i+a,o,i+a-d,o,f),s(i+d,o,i,o,i,o+d+1e-10,f),t.fill){for(var p=(0,c.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,m=p[2]*v,_=e.points,b=e.indices,x=_.length/6,T=(0,u.default)(f,null,2),w=0,E=T.length;w<E;w+=3)b.push(T[w]+x),b.push(T[w]+x),b.push(T[w+1]+x),b.push(T[w+2]+x),b.push(T[w+2]+x);for(var S=0,O=f.length;S<O;S++)_.push(f[S],f[++S],y,g,m,v)}if(t.lineWidth){var P=t.points;t.points=f,(0,l.default)(t,e,r),t.points=P}}function o(t,e,r){return t+(e-t)*r}function s(t,e,r,n,i,s){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=a,h=0,l=0,c=0,d=0,f=0,p=0,v=0,y=0;v<=20;++v)y=v/20,h=o(t,r,y),l=o(e,n,y),c=o(r,i,y),d=o(n,s,y),f=o(h,c,y),p=o(l,d,y),u.push(f,p);return u}r.__esModule=!0,r.default=i;var a=t("earcut"),u=n(a),h=t("./buildLine"),l=n(h),c=t("../../../utils")},{"../../../utils":124,"./buildLine":61,earcut:2}],65:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.autoDetectRenderer=r.Application=r.Filter=r.SpriteMaskFilter=r.Quad=r.RenderTarget=r.ObjectRenderer=r.WebGLManager=r.Shader=r.CanvasRenderTarget=r.TextureUvs=r.VideoBaseTexture=r.BaseRenderTexture=r.RenderTexture=r.BaseTexture=r.Texture=r.Spritesheet=r.CanvasGraphicsRenderer=r.GraphicsRenderer=r.GraphicsData=r.Graphics=r.TextMetrics=r.TextStyle=r.Text=r.SpriteRenderer=r.CanvasTinter=r.CanvasSpriteRenderer=r.Sprite=r.TransformBase=r.TransformStatic=r.Transform=r.Container=r.DisplayObject=r.Bounds=r.glCore=r.WebGLRenderer=r.CanvasRenderer=r.ticker=r.utils=r.settings=void 0;var o=t("./const");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return o[t]}})});var s=t("./math");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return s[t]}})});var a=t("pixi-gl-core");Object.defineProperty(r,"glCore",{enumerable:!0,get:function(){return i(a).default}});var u=t("./display/Bounds");Object.defineProperty(r,"Bounds",{enumerable:!0,get:function(){return i(u).default}})
;var h=t("./display/DisplayObject");Object.defineProperty(r,"DisplayObject",{enumerable:!0,get:function(){return i(h).default}});var l=t("./display/Container");Object.defineProperty(r,"Container",{enumerable:!0,get:function(){return i(l).default}});var c=t("./display/Transform");Object.defineProperty(r,"Transform",{enumerable:!0,get:function(){return i(c).default}});var d=t("./display/TransformStatic");Object.defineProperty(r,"TransformStatic",{enumerable:!0,get:function(){return i(d).default}});var f=t("./display/TransformBase");Object.defineProperty(r,"TransformBase",{enumerable:!0,get:function(){return i(f).default}});var p=t("./sprites/Sprite");Object.defineProperty(r,"Sprite",{enumerable:!0,get:function(){return i(p).default}});var v=t("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(r,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return i(v).default}});var y=t("./sprites/canvas/CanvasTinter");Object.defineProperty(r,"CanvasTinter",{enumerable:!0,get:function(){return i(y).default}});var g=t("./sprites/webgl/SpriteRenderer");Object.defineProperty(r,"SpriteRenderer",{enumerable:!0,get:function(){return i(g).default}});var m=t("./text/Text");Object.defineProperty(r,"Text",{enumerable:!0,get:function(){return i(m).default}});var _=t("./text/TextStyle");Object.defineProperty(r,"TextStyle",{enumerable:!0,get:function(){return i(_).default}});var b=t("./text/TextMetrics");Object.defineProperty(r,"TextMetrics",{enumerable:!0,get:function(){return i(b).default}});var x=t("./graphics/Graphics");Object.defineProperty(r,"Graphics",{enumerable:!0,get:function(){return i(x).default}});var T=t("./graphics/GraphicsData");Object.defineProperty(r,"GraphicsData",{enumerable:!0,get:function(){return i(T).default}});var w=t("./graphics/webgl/GraphicsRenderer");Object.defineProperty(r,"GraphicsRenderer",{enumerable:!0,get:function(){return i(w).default}});var E=t("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(r,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return i(E).default}});var S=t("./textures/Spritesheet");Object.defineProperty(r,"Spritesheet",{enumerable:!0,get:function(){return i(S).default}});var O=t("./textures/Texture");Object.defineProperty(r,"Texture",{enumerable:!0,get:function(){return i(O).default}});var P=t("./textures/BaseTexture");Object.defineProperty(r,"BaseTexture",{enumerable:!0,get:function(){return i(P).default}});var M=t("./textures/RenderTexture");Object.defineProperty(r,"RenderTexture",{enumerable:!0,get:function(){return i(M).default}});var C=t("./textures/BaseRenderTexture");Object.defineProperty(r,"BaseRenderTexture",{enumerable:!0,get:function(){return i(C).default}});var R=t("./textures/VideoBaseTexture");Object.defineProperty(r,"VideoBaseTexture",{enumerable:!0,get:function(){return i(R).default}});var A=t("./textures/TextureUvs");Object.defineProperty(r,"TextureUvs",{enumerable:!0,get:function(){return i(A).default}});var I=t("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(r,"CanvasRenderTarget",{enumerable:!0,get:function(){return i(I).default}});var D=t("./Shader");Object.defineProperty(r,"Shader",{enumerable:!0,get:function(){return i(D).default}});var L=t("./renderers/webgl/managers/WebGLManager");Object.defineProperty(r,"WebGLManager",{enumerable:!0,get:function(){return i(L).default}});var N=t("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(r,"ObjectRenderer",{enumerable:!0,get:function(){return i(N).default}});var F=t("./renderers/webgl/utils/RenderTarget");Object.defineProperty(r,"RenderTarget",{enumerable:!0,get:function(){return i(F).default}});var B=t("./renderers/webgl/utils/Quad");Object.defineProperty(r,"Quad",{enumerable:!0,get:function(){return i(B).default}});var k=t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(r,"SpriteMaskFilter",{enumerable:!0,get:function(){return i(k).default}});var j=t("./renderers/webgl/filters/Filter");Object.defineProperty(r,"Filter",{enumerable:!0,get:function(){return i(j).default}});var U=t("./Application");Object.defineProperty(r,"Application",{enumerable:!0,get:function(){return i(U).default}});var X=t("./autoDetectRenderer");Object.defineProperty(r,"autoDetectRenderer",{enumerable:!0,get:function(){return X.autoDetectRenderer}});var G=t("./utils"),W=n(G),H=t("./ticker"),Y=n(H),V=t("./settings"),z=i(V),q=t("./renderers/canvas/CanvasRenderer"),K=i(q),Z=t("./renderers/webgl/WebGLRenderer"),J=i(Z);r.settings=z.default,r.utils=W,r.ticker=Y,r.CanvasRenderer=K.default,r.WebGLRenderer=J.default},{"./Application":43,"./Shader":44,"./autoDetectRenderer":45,"./const":46,"./display/Bounds":47,"./display/Container":48,"./display/DisplayObject":49,"./display/Transform":50,"./display/TransformBase":51,"./display/TransformStatic":52,"./graphics/Graphics":53,"./graphics/GraphicsData":54,"./graphics/canvas/CanvasGraphicsRenderer":55,"./graphics/webgl/GraphicsRenderer":57,"./math":70,"./renderers/canvas/CanvasRenderer":77,"./renderers/canvas/utils/CanvasRenderTarget":79,"./renderers/webgl/WebGLRenderer":84,"./renderers/webgl/filters/Filter":86,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":89,"./renderers/webgl/managers/WebGLManager":93,"./renderers/webgl/utils/ObjectRenderer":94,"./renderers/webgl/utils/Quad":95,"./renderers/webgl/utils/RenderTarget":96,"./settings":101,"./sprites/Sprite":102,"./sprites/canvas/CanvasSpriteRenderer":103,"./sprites/canvas/CanvasTinter":104,"./sprites/webgl/SpriteRenderer":106,"./text/Text":108,"./text/TextMetrics":109,"./text/TextStyle":110,"./textures/BaseRenderTexture":111,"./textures/BaseTexture":112,"./textures/RenderTexture":113,"./textures/Spritesheet":114,"./textures/Texture":115,"./textures/TextureUvs":116,"./textures/VideoBaseTexture":117,"./ticker":120,"./utils":124,"pixi-gl-core":15}],66:[function(t,e,r){"use strict";function n(t){return t<0?-1:t>0?1:0}r.__esModule=!0;var i=t("./Matrix"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var r=0;r<16;r++)for(var i=n(s[t]*s[r]+u[t]*a[r]),d=n(a[t]*s[r]+h[t]*a[r]),f=n(s[t]*u[r]+u[t]*h[r]),p=n(a[t]*u[r]+h[t]*h[r]),v=0;v<16;v++)if(s[v]===i&&a[v]===d&&u[v]===f&&h[v]===p){e.push(v);break}}for(var y=0;y<16;y++){var g=new o.default;g.set(s[y],a[y],u[y],h[y],0,0),l.push(g)}}();var d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return s[t]},uY:function(t){return a[t]},vX:function(t){return u[t]},vY:function(t){return h[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][d.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW},matrixAppendRotationInv:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l[d.inv(e)];i.tx=r,i.ty=n,t.append(i)}};r.default=d},{"./Matrix":67}],67:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("./Point"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n(this,t),this.a=e,this.b=r,this.c=i,this.d=o,this.tx=s,this.ty=a,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new s.default;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s.default;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,s,a,u){var h=Math.sin(s),l=Math.cos(s),c=Math.cos(u),d=Math.sin(u),f=-Math.sin(a),p=Math.cos(a),v=l*i,y=h*i,g=-h*o,m=l*o;return this.a=c*v+d*g,this.b=c*y+d*m,this.c=f*v+p*g,this.d=f*y+p*m,this.tx=t+(r*v+n*g),this.ty=e+(r*y+n*m),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=-Math.atan2(-n,i),s=Math.atan2(r,e);return Math.abs(o+s)<1e-5?(t.rotation=s,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();r.default=a},{"./Point":69}],68:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this._x=i,this._y=o,this.cb=e,this.scope=r}return t.prototype.set=function(t,e){var r=t||0,n=e||(0!==e?r:0);this._x===r&&this._y===n||(this._x=r,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},i(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();r.default=o},{}],69:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(this,t),this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();r.default=i},{}],70:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./Point");Object.defineProperty(r,"Point",{enumerable:!0,get:function(){return n(i).default}});var o=t("./ObservablePoint");Object.defineProperty(r,"ObservablePoint",{enumerable:!0,get:function(){return n(o).default}});var s=t("./Matrix");Object.defineProperty(r,"Matrix",{enumerable:!0,get:function(){return n(s).default}});var a=t("./GroupD8");Object.defineProperty(r,"GroupD8",{enumerable:!0,get:function(){return n(a).default}});var u=t("./shapes/Circle");Object.defineProperty(r,"Circle",{enumerable:!0,get:function(){return n(u).default}});var h=t("./shapes/Ellipse");Object.defineProperty(r,"Ellipse",{enumerable:!0,get:function(){return n(h).default}});var l=t("./shapes/Polygon");Object.defineProperty(r,"Polygon",{enumerable:!0,get:function(){return n(l).default}});var c=t("./shapes/Rectangle");Object.defineProperty(r,"Rectangle",{enumerable:!0,get:function(){return n(c).default}});var d=t("./shapes/RoundedRectangle");Object.defineProperty(r,"RoundedRectangle",{enumerable:!0,get:function(){return n(d).default}})},{"./GroupD8":66,"./Matrix":67,"./ObservablePoint":68,"./Point":69,"./shapes/Circle":71,"./shapes/Ellipse":72,"./shapes/Polygon":73,"./shapes/Rectangle":74,"./shapes/RoundedRectangle":75}],71:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("./Rectangle"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../const"),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n(this,t),this.x=e,this.y=r,this.radius=i,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return n*=n,i*=i,n+i<=r},t.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();r.default=a},{"../../const":46,"./Rectangle":74}],72:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("./Rectangle"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../const"),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this.x=e,this.y=r,this.width=i,this.height=o,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return r*=r,n*=n,r+n<=1},t.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();r.default=a},{"../../const":46,"./Rectangle":74}],73:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../Point"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=t("../../const"),a=function(){function t(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];if(n(this,t),Array.isArray(r[0])&&(r=r[0]),r[0]instanceof o.default){for(var a=[],u=0,h=r.length;u<h;u++)a.push(r[u].x,r[u].y);r=a}this.closed=!0,this.points=r,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],u=this.points[2*o],h=this.points[2*o+1];a>e!=h>e&&t<(e-a)/(h-a)*(u-s)+s&&(r=!r)}return r},t}();r.default=a},{"../../const":46,"../Point":69}],74:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../../const"),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(s),this.type=o.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=n,this.height=i-n},i(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();r.default=s},{"../../const":46}],75:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../const"),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;n(this,t),this.x=e,this.y=r,this.width=o,this.height=s,this.radius=a,this.type=i.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(n=e-(this.y+this.height-this.radius),r*r+n*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}();r.default=o},{"../../const":46}],76:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../utils"),h=t("../math"),l=t("../const"),c=t("../settings"),d=n(c),f=t("../display/Container"),p=n(f),v=t("../textures/RenderTexture"),y=n(v),g=t("eventemitter3"),m=n(g),_=new h.Matrix,b=function(t){function e(r,n,s,a){i(this,e);var c=o(this,t.call(this));return(0,u.sayHello)(r),"number"==typeof n&&(n=Object.assign({width:n,height:s||d.default.RENDER_OPTIONS.height},a)),n=Object.assign({},d.default.RENDER_OPTIONS,n),c.options=n,c.type=l.RENDERER_TYPE.UNKNOWN,c.screen=new h.Rectangle(0,0,n.width,n.height),c.view=n.view||document.createElement("canvas"),c.resolution=n.resolution||d.default.RESOLUTION,c.transparent=n.transparent,c.autoResize=n.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=n.preserveDrawingBuffer,c.clearBeforeRender=n.clearBeforeRender,c.roundPixels=n.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=n.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new p.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return s(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r){var n=t.getLocalBounds(),i=y.default.create(0|n.width,0|n.height,e,r);return _.tx=-n.x,_.ty=-n.y,this.render(t,i,!1,_,!0),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=l.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},a(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,u.hex2string)(t),(0,u.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(m.default);r.default=b},{"../const":46,"../display/Container":48,"../math":70,"../settings":101,"../textures/RenderTexture":113,"../utils":124,eventemitter3:3}],77:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../SystemRenderer"),u=n(a),h=t("./utils/CanvasMaskManager"),l=n(h),c=t("./utils/CanvasRenderTarget"),d=n(c),f=t("./utils/mapCanvasBlendModesToPixi"),p=n(f),v=t("../../utils"),y=t("../../const"),g=t("../../settings"),m=n(g),_=function(t){function e(r,n,s){i(this,e);var a=o(this,t.call(this,"Canvas",r,n,s));return a.type=y.RENDERER_TYPE.CANVAS,a.rootContext=a.view.getContext("2d",{alpha:a.transparent}),a.context=a.rootContext,a.refresh=!0,a.maskManager=new l.default(a),a.smoothProperty="imageSmoothingEnabled",a.rootContext.imageSmoothingEnabled||(a.rootContext.webkitImageSmoothingEnabled?a.smoothProperty="webkitImageSmoothingEnabled":a.rootContext.mozImageSmoothingEnabled?a.smoothProperty="mozImageSmoothingEnabled":a.rootContext.oImageSmoothingEnabled?a.smoothProperty="oImageSmoothingEnabled":a.rootContext.msImageSmoothingEnabled&&(a.smoothProperty="msImageSmoothingEnabled")),a.initPlugins(),a.blendModes=(0,p.default)(),a._activeBlendMode=null,a.renderingToScreen=!1,a.resize(a.options.width,a.options.height),a}return s(e,t),e.prototype.render=function(t,e,r,n,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?(e=e.baseTexture||e,e._canvasRenderTarget||(e._canvasRenderTarget=new d.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!i){var a=t.parent,u=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(u),this._tempDisplayObjectParent.transform._worldID=-1):u.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=a}s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,s.globalCompositeOperation=this.blendModes[y.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),(void 0!==r?r:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var h=this.context;this.context=s,t.renderCanvas(this),this.context=h,this.resolution=o,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=m.default.SCALE_MODE===y.SCALE_MODES.LINEAR)},e}(u.default);r.default=_,v.pluginTarget.mixin(_)},{"../../const":46,"../../settings":101,"../../utils":124,"../SystemRenderer":76,"./utils/CanvasMaskManager":78,"./utils/CanvasRenderTarget":79,"./utils/mapCanvasBlendModesToPixi":81}],78:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../../const"),o=function(){function t(e){n(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var r=t.alpha,n=t.transform.worldTransform,i=e.resolution;e.context.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=r},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;n<r;n++){var o=t.graphicsData[n],s=o.shape;if(o.type===i.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var h=2*s.width,l=2*s.height,c=s.x-h/2,d=s.y-l/2,f=h/2*.5522848,p=l/2*.5522848,v=c+h,y=d+l,g=c+h/2,m=d+l/2;e.moveTo(c,m),e.bezierCurveTo(c,m-p,g-f,d,g,d),e.bezierCurveTo(g+f,d,v,m-p,v,m),e.bezierCurveTo(v,m+p,g+f,y,g,y),e.bezierCurveTo(g-f,y,c,m+p,c,m),e.closePath()}else if(o.type===i.SHAPES.RREC){var _=s.x,b=s.y,x=s.width,T=s.height,w=s.radius,E=Math.min(x,T)/2|0;w=w>E?E:w,e.moveTo(_,b+w),e.lineTo(_,b+T-w),e.quadraticCurveTo(_,b+T,_+w,b+T),e.lineTo(_+x-w,b+T),e.quadraticCurveTo(_+x,b+T,_+x,b+T-w),e.lineTo(_+x,b+w),e.quadraticCurveTo(_+x,b,_+x-w,b),e.lineTo(_+w,b),e.quadraticCurveTo(_,b,_,b+w),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore()},t.prototype.destroy=function(){},t}();r.default=o},{"../../../const":46}],79:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../../../settings"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(){function t(e,r,i){n(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||s.default.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();r.default=a},{"../../../settings":101}],80:[function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");return r.fillStyle=t,r.fillRect(0,0,6,1),e}function i(){if("undefined"==typeof document)return!1;var t=n("#ff00ff"),e=n("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var s=o.data;return 255===s[0]&&0===s[1]&&0===s[2]}r.__esModule=!0,r.default=i},{}],81:[function(t,e,r){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,s.default)()?(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="multiply",t[i.BLEND_MODES.SCREEN]="screen",t[i.BLEND_MODES.OVERLAY]="overlay",t[i.BLEND_MODES.DARKEN]="darken",t[i.BLEND_MODES.LIGHTEN]="lighten",t[i.BLEND_MODES.COLOR_DODGE]="color-dodge",t[i.BLEND_MODES.COLOR_BURN]="color-burn",t[i.BLEND_MODES.HARD_LIGHT]="hard-light",t[i.BLEND_MODES.SOFT_LIGHT]="soft-light",t[i.BLEND_MODES.DIFFERENCE]="difference",t[i.BLEND_MODES.EXCLUSION]="exclusion",t[i.BLEND_MODES.HUE]="hue",
t[i.BLEND_MODES.SATURATION]="saturate",t[i.BLEND_MODES.COLOR]="color",t[i.BLEND_MODES.LUMINOSITY]="luminosity"):(t[i.BLEND_MODES.NORMAL]="source-over",t[i.BLEND_MODES.ADD]="lighter",t[i.BLEND_MODES.MULTIPLY]="source-over",t[i.BLEND_MODES.SCREEN]="source-over",t[i.BLEND_MODES.OVERLAY]="source-over",t[i.BLEND_MODES.DARKEN]="source-over",t[i.BLEND_MODES.LIGHTEN]="source-over",t[i.BLEND_MODES.COLOR_DODGE]="source-over",t[i.BLEND_MODES.COLOR_BURN]="source-over",t[i.BLEND_MODES.HARD_LIGHT]="source-over",t[i.BLEND_MODES.SOFT_LIGHT]="source-over",t[i.BLEND_MODES.DIFFERENCE]="source-over",t[i.BLEND_MODES.EXCLUSION]="source-over",t[i.BLEND_MODES.HUE]="source-over",t[i.BLEND_MODES.SATURATION]="source-over",t[i.BLEND_MODES.COLOR]="source-over",t[i.BLEND_MODES.LUMINOSITY]="source-over"),t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL],t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD],t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN],t}r.__esModule=!0,r.default=n;var i=t("../../../const"),o=t("./canUseNewCanvasBlendModes"),s=function(t){return t&&t.__esModule?t:{default:t}}(o)},{"../../../const":46,"./canUseNewCanvasBlendModes":80}],82:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../const"),o=t("../../settings"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(){function t(e){n(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&++this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t}();r.default=a},{"../../const":46,"../../settings":101}],83:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("pixi-gl-core"),o=t("../../const"),s=t("./utils/RenderTarget"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=t("../../utils"),h=function(){function t(e){n(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var r=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,r.activeTexture(r.TEXTURE0+e);var h=t._glTextures[this.renderer.CONTEXT_UID];if(h)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):h.upload(t.source);else{if(n){var l=new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);l.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=l,h=l.texture}else h=new i.GLTexture(this.gl,null,null,null,null),h.bind(e),h.premultiplyAlpha=!0,h.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=h,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&h.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?h.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?h.enableWrapRepeat():h.enableWrapMirrorRepeat()):h.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?h.enableNearestScaling():h.enableLinearScaling()}return h},t.prototype.destroyTexture=function(t,e){if(t=t.baseTexture||t,t.hasLoaded){var r=this.renderer.CONTEXT_UID,n=t._glTextures,i=t._glRenderTargets;if(n[r]&&(this.renderer.unbindTexture(t),n[r].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete n[r],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,u.removeItems)(this._managedTextures,o,1)}i&&i[r]&&(i[r].destroy(),delete i[r])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();r.default=h},{"../../const":46,"../../utils":124,"./utils/RenderTarget":96,"pixi-gl-core":15}],84:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../SystemRenderer"),u=n(a),h=t("./managers/MaskManager"),l=n(h),c=t("./managers/StencilManager"),d=n(c),f=t("./managers/FilterManager"),p=n(f),v=t("./utils/RenderTarget"),y=n(v),g=t("./utils/ObjectRenderer"),m=n(g),_=t("./TextureManager"),b=n(_),x=t("../../textures/BaseTexture"),T=n(x),w=t("./TextureGarbageCollector"),E=n(w),S=t("./WebGLState"),O=n(S),P=t("./utils/mapWebGLDrawModesToPixi"),M=n(P),C=t("./utils/validateContext"),R=n(C),A=t("../../utils"),I=t("pixi-gl-core"),D=n(I),L=t("../../const"),N=0,F=function(t){function e(r,n,s){i(this,e);var a=o(this,t.call(this,"WebGL",r,n,s));return a.legacy=a.options.legacy,a.legacy&&(D.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=L.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new l.default(a),a.stencilManager=new d.default(a),a.emptyRenderer=new m.default(a),a.currentRenderer=a.emptyRenderer,a.initPlugins(),a.options.context&&(0,R.default)(a.options.context),a.gl=a.options.context||D.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=N++,a.state=new O.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.filterManager=new p.default(a),a.drawModes=(0,M.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return s(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new b.default(this),this.textureGC=new E.default(this),this.state.resetToDefault(),this.rootRenderTarget=new y.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new D.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new T.default;o._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){u.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var r=t.baseTexture,n=r._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var r=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),r=n._glRenderTargets[this.CONTEXT_UID],r.setFrame(t.frame)}else r=this.rootRenderTarget;return r.transform=e,this.bindRenderTarget(r),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,r){if(t=t||this.emptyTextures[e],t=t.baseTexture||t,t.touched=this.textureGC.count,r)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===t&&(this.boundTextures[r]=this.emptyTextures[r],e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new D.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(u.default);r.default=F,A.pluginTarget.mixin(F)},{"../../const":46,"../../textures/BaseTexture":112,"../../utils":124,"../SystemRenderer":76,"./TextureGarbageCollector":82,"./TextureManager":83,"./WebGLState":85,"./managers/FilterManager":90,"./managers/MaskManager":91,"./managers/StencilManager":92,"./utils/ObjectRenderer":94,"./utils/RenderTarget":96,"./utils/mapWebGLDrawModesToPixi":99,"./utils/validateContext":100,"pixi-gl-core":15}],85:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("./utils/mapWebGLBlendModesToPixi"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(e){n(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var r=1;r<this.maxAttribs;r++)this.gl.disableVertexAttribArray(r)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();r.default=s},{"./utils/mapWebGLBlendModesToPixi":98}],86:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("./extractUniformsFromSrc"),a=n(s),u=t("../../../utils"),h=t("../../../const"),l=t("../../../settings"),c=n(l),d={},f=function(){function t(e,r,n){i(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this._blendMode=h.BLEND_MODES.NORMAL,this.uniformData=n||(0,a.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var o in this.uniformData)this.uniforms[o]=this.uniformData[o].value;this.glShaders={},d[this.vertexSrc+this.fragmentSrc]||(d[this.vertexSrc+this.fragmentSrc]=(0,u.uid)()),this.glShaderKey=d[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=c.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},o(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();r.default=f},{"../../../const":46,"../../../settings":101,"../../../utils":124,"./extractUniformsFromSrc":87}],87:[function(t,e,r){"use strict";function n(t,e,r){var n=i(t),o=i(e);return Object.assign(n,o)}function i(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),r={},n=void 0,i=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<i.length;o++){var s=i[o].trim();if(s.indexOf("uniform")>-1){var u=s.split(" "),h=u[1],l=u[2],c=1;l.indexOf("[")>-1&&(n=l.split(/\[|]/),l=n[0],c*=Number(n[1])),l.match(e)||(r[l]={value:a(h,c),name:l,type:h})}}return r}r.__esModule=!0,r.default=n;var o=t("pixi-gl-core"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=s.default.shader.defaultValue},{"pixi-gl-core":15}],88:[function(t,e,r){"use strict";function n(t,e,r){var n=t.identity();return n.translate(e.x/r.width,e.y/r.height),n.scale(r.width,r.height),n}function i(t,e,r){var n=t.identity();n.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,o=r.height/e.height;return n.scale(i,o),n}function o(t,e,r,n){var i=n.worldTransform.copy(s.Matrix.TEMP_MATRIX),o=n._texture.baseTexture,a=t.identity(),u=r.height/r.width;a.translate(e.x/r.width,e.y/r.height),a.scale(1,u);var h=r.width/o.width,l=r.height/o.height;return i.tx/=o.width*h,i.ty/=o.width*h,i.invert(),a.prepend(i),a.scale(1,1/u),a.scale(h,l),a.translate(n.anchor.x,n.anchor.y),a}r.__esModule=!0,r.calculateScreenSpaceMatrix=n,r.calculateNormalizedScreenSpaceMatrix=i,r.calculateSpriteMatrix=o;var s=t("../../../math")},{"../../../math":70}],89:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../Filter"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=t("../../../../math"),h=(t("path"),function(t){function e(r){n(this,e);var o=new u.Matrix,s=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return r.renderable=!1,s.maskSprite=r,s.maskMatrix=o,s}return o(e,t),e.prototype.apply=function(t,e,r){var n=this.maskSprite;this.uniforms.mask=n._texture,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n),this.uniforms.alpha=n.worldAlpha,t.applyFilter(this,e,r)},e}(a.default));r.default=h},{"../../../../math":70,"../Filter":86,path:8}],90:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var a=t("./WebGLManager"),u=n(a),h=t("../utils/RenderTarget"),l=n(h),c=t("../utils/Quad"),d=n(c),f=t("../../../math"),p=t("../../../Shader"),v=n(p),y=t("../filters/filterTransforms"),g=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(y),m=t("bit-twiddle"),_=n(m),b=function t(){s(this,t),this.renderTarget=null,this.sourceFrame=new f.Rectangle,this.destinationFrame=new f.Rectangle,this.filters=[],this.target=null,this.resolution=1},x=function(t){function e(r){s(this,e);var n=i(this,t.call(this,r));return n.gl=n.renderer.gl,n.quad=new d.default(n.gl,r.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n}return o(e,t),e.prototype.pushFilter=function(t,e){var r=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var i=new b;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=r._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[i]},this.filterData=n}var o=n.stack[++n.index];o||(o=n.stack[n.index]=new b);var s=e[0].resolution,a=0|e[0].padding,u=t.filterArea||t.getBounds(!0),h=o.sourceFrame,l=o.destinationFrame;h.x=(u.x*s|0)/s,h.y=(u.y*s|0)/s,h.width=(u.width*s|0)/s,h.height=(u.height*s|0)/s,n.stack[0].renderTarget.transform||e[0].autoFit&&h.fit(n.stack[0].destinationFrame),h.pad(a),l.width=h.width,l.height=h.height;var c=this.getPotRenderTarget(r.gl,h.width,h.height,s);o.target=t,o.filters=e,o.resolution=s,o.renderTarget=c,c.setFrame(l,h),r.bindRenderTarget(c),c.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],r=t.stack[t.index];this.quad.map(r.renderTarget.size,r.sourceFrame).upload();var n=r.filters;if(1===n.length)n[0].apply(this,r.renderTarget,e.renderTarget,!1,r),this.freePotRenderTarget(r.renderTarget);else{var i=r.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,r.resolution);o.setFrame(r.destinationFrame,r.sourceFrame),o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,i,o,!0,r);var a=i;i=o,o=a}n[s].apply(this,i,e.renderTarget,!1,r),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}0===--t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,r,n){var i=this.renderer,o=i.gl,s=t.glShaders[i.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new v.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s):s=t.glShaders[i.CONTEXT_UID]=new v.default(this.gl,t.vertexSrc,t.fragmentSrc),i.bindVao(null),this.quad.initVao(s)),i.bindVao(this.quad.vao),i.bindRenderTarget(r),n&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),r===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(s);var a=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=a,this.syncUniforms(s,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var r=e.uniformData,n=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var u in r)if("sampler2D"===r[u].type&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,i);else{t.uniforms[u]=i;var h=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],h.activeTexture(h.TEXTURE0+i),n[u].texture.bind()}i++}else if("mat3"===r[u].type)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===r[u].type)if(void 0!==n[u].x){var l=t.uniforms[u]||new Float32Array(2);l[0]=n[u].x,l[1]=n[u].y,t.uniforms[u]=l}else t.uniforms[u]=n[u];else"float"===r[u].type?t.uniforms.data[u].value!==r[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]},e.prototype.getRenderTarget=function(t,e){var r=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,r.sourceFrame.width,r.sourceFrame.height,e||r.resolution);return n.setFrame(r.destinationFrame,r.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return g.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return g.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.filterData.stack[this.filterData.index];return g.calculateSpriteMatrix(t,r.sourceFrame,r.renderTarget.size,e)},e.prototype.destroy=function(){this.shaderCache={},this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,r,n){e=_.default.nextPow2(e*n),r=_.default.nextPow2(r*n);var i=(65535&e)<<16|65535&r;this.pool[i]||(this.pool[i]=[]);var o=this.pool[i].pop();if(!o){var s=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new l.default(t,e,r,null,1),t.bindTexture(t.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=n,o.defaultFrame.width=o.size.width=e/n,o.defaultFrame.height=o.size.height=r/n,o},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){var e=t.size.width*t.resolution,r=t.size.height*t.resolution,n=(65535&e)<<16|65535&r;this.pool[n].push(t)},e}(u.default);r.default=x},{"../../../Shader":44,"../../../math":70,"../filters/filterTransforms":88,"../utils/Quad":95,"../utils/RenderTarget":96,"./WebGLManager":93,"bit-twiddle":1}],91:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("./WebGLManager"),u=n(a),h=t("../filters/spriteMask/SpriteMaskFilter"),l=n(h),c=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return s(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a);n=Math.round(n*(180/Math.PI)),n%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new l.default(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,r),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(n.x*i,(r.root?r.size.height-n.y-n.height:n.y)*i,n.width*i,n.height*i),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(u.default);r.default=c},{"../filters/spriteMask/SpriteMaskFilter":89,"./WebGLManager":93}],92:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,
configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("./WebGLManager"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(r){n(this,e);var o=i(this,t.call(this,r));return o.stencilMaskStack=null,o}return o(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,r=this.stencilMaskStack;0===r.length&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.stencilFunc(e.ALWAYS,1,1)),r.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,0,r.length),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,r.length),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack,r=e.pop();0===e.length?t.disable(t.STENCIL_TEST):(t.colorMask(!1,!1,!1,!1),t.stencilFunc(t.EQUAL,0,e.length),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(r),t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.NOTEQUAL,0,e.length),t.stencilOp(t.KEEP,t.KEEP,t.KEEP))},e.prototype.destroy=function(){a.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(a.default);r.default=u},{"./WebGLManager":93}],93:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();r.default=i},{}],94:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../managers/WebGLManager"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(){return n(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(a.default);r.default=u},{"../managers/WebGLManager":93}],95:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("pixi-gl-core"),s=n(o),a=t("../../../utils/createIndicesForQuads"),u=n(a),h=function(){function t(e,r){i(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,u.default)(1),this.vertexBuffer=s.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(e,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();r.default=h},{"../../../utils/createIndicesForQuads":122,"pixi-gl-core":15}],96:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../../math"),o=t("../../../const"),s=t("../../../settings"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=t("pixi-gl-core"),h=function(){function t(e,r,s,h,l,c){n(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=l||a.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==h?h:a.default.SCALE_MODE,this.root=c,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(r,s)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var r=this.projectionMatrix;e=e||t,r.identity(),this.root?(r.a=1/t.width*2,r.d=-1/t.height*2,r.tx=-1-e.x*r.a,r.ty=1-e.y*r.d):(r.a=1/t.width*2,r.d=1/t.height*2,r.tx=-1-e.x*r.a,r.ty=-1-e.y*r.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var r=this.frame||this.size;this.calculateProjection(r)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();r.default=h},{"../../../const":46,"../../../math":70,"../../../settings":101,"pixi-gl-core":15}],97:[function(t,e,r){"use strict";function n(t,e){var r=!e;if(r){var n=document.createElement("canvas");n.width=1,n.height=1,e=s.default.createContext(n)}for(var o=e.createShader(e.FRAGMENT_SHADER);;){var u=a.replace(/%forloop%/gi,i(t));if(e.shaderSource(o,u),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS))break;t=t/2|0}return r&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function i(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}r.__esModule=!0,r.default=n;var o=t("pixi-gl-core"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},{"pixi-gl-core":15}],98:[function(t,e,r){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[i.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[i.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[i.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e}r.__esModule=!0,r.default=n;var i=t("../../../const")},{"../../../const":46}],99:[function(t,e,r){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[i.DRAW_MODES.POINTS]=t.POINTS,e[i.DRAW_MODES.LINES]=t.LINES,e[i.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[i.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[i.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[i.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[i.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e}r.__esModule=!0,r.default=n;var i=t("../../../const")},{"../../../const":46}],100:[function(t,e,r){"use strict";function n(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}r.__esModule=!0,r.default=n},{}],101:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./utils/maxRecommendedTextures"),o=n(i),s=t("./utils/canUploadSameBuffer"),a=n(s);r.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,a.default)()}},{"./utils/canUploadSameBuffer":121,"./utils/maxRecommendedTextures":126}],102:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../math"),h=t("../utils"),l=t("../const"),c=t("../textures/Texture"),d=n(c),f=t("../display/Container"),p=n(f),v=new u.Point,y=function(t){function e(r){i(this,e);var n=o(this,t.call(this));return n._anchor=new u.ObservablePoint(n._onAnchorUpdate,n),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=l.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=r||d.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return s(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._width&&(this.scale.x=(0,h.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,h.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,h=t.trim,l=t.orig,c=this._anchor,d=0,f=0,p=0,v=0;h?(f=h.x-c._x*l.width,d=f+h.width,v=h.y-c._y*l.height,p=v+h.height):(f=-c._x*l.width,d=f+l.width,v=-c._y*l.height,p=v+l.height),u[0]=r*f+i*v+s,u[1]=o*v+n*f+a,u[2]=r*d+i*v+s,u[3]=o*v+n*d+a,u[4]=r*d+i*p+s,u[5]=o*p+n*d+a,u[6]=r*f+i*p+s,u[7]=o*p+n*f+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,u=i.d,h=i.tx,l=i.ty,c=-n._x*r.width,d=c+r.width,f=-n._y*r.height,p=f+r.height;e[0]=o*c+a*f+h,e[1]=u*f+s*c+l,e[2]=o*d+a*f+h,e[3]=u*f+s*d+l,e[4]=o*d+a*p+h,e[5]=u*p+s*d+l,e[6]=o*c+a*p+h,e[7]=u*p+s*c+l},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,v);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return v.x>=n&&v.x<n+e&&(i=-r*this.anchor.y,v.y>=i&&v.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t){return new e(d.default.from(t))},e.fromFrame=function(t){var r=h.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(r)},e.fromImage=function(t,r,n){return new e(d.default.fromImage(t,r,n))},a(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,h.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,h.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(p.default);r.default=y},{"../const":46,"../display/Container":48,"../math":70,"../textures/Texture":115,"../utils":124}],103:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("../../renderers/canvas/CanvasRenderer"),s=n(o),a=t("../../const"),u=t("../../math"),h=t("./CanvasTinter"),l=n(h),c=new u.Matrix,d=function(){function t(e){i(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,r=this.renderer,n=e._frame.width,i=e._frame.height,o=t.transform.worldTransform,s=0,h=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(r.setBlendMode(t.blendMode),e.valid)){r.context.globalAlpha=t.worldAlpha;var d=e.baseTexture.scaleMode===a.SCALE_MODES.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==d&&(r.context[r.smoothProperty]=d),e.trim?(s=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,h=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(s=(.5-t.anchor.x)*e.orig.width,h=(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copy(c),o=c,u.GroupD8.matrixAppendRotationInv(o,e.rotate,s,h),s=0,h=0),s-=n/2,h-=i/2,r.roundPixels?(r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution|0,o.ty*r.resolution|0),s|=0,h|=0):r.context.setTransform(o.a,o.b,o.c,o.d,o.tx*r.resolution,o.ty*r.resolution);var f=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=l.default.getTintedTexture(t,t.tint)),r.context.drawImage(t.tintedTexture,0,0,n*f,i*f,s*r.resolution,h*r.resolution,n*r.resolution,i*r.resolution)):r.context.drawImage(e.baseTexture.source,e._frame.x*f,e._frame.y*f,n*f,i*f,s*r.resolution,h*r.resolution,n*r.resolution,i*r.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();r.default=d,s.default.registerPlugin("sprite",d)},{"../../const":46,"../../math":70,"../../renderers/canvas/CanvasRenderer":77,"./CanvasTinter":104}],104:[function(t,e,r){"use strict";r.__esModule=!0;var n=t("../../utils"),i=t("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s={getTintedTexture:function(t,e){var r=t._texture;e=s.roundColor(e);var n="#"+("00000"+(0|e).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var i=r.tintCache[n],o=void 0;if(i){if(i.tintId===r._updateID)return r.tintCache[n];o=r.tintCache[n]}else o=s.canvas||document.createElement("canvas");if(s.tintMethod(r,e,o),o.tintId=r._updateID,s.convertTintToImage){var a=new Image;a.src=o.toDataURL(),r.tintCache[n]=a}else r.tintCache[n]=o,s.canvas=null;return o},tintWithMultiply:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},tintWithOverlay:function(t,e,r){var n=r.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,r.width=Math.ceil(i.width),r.height=Math.ceil(i.height),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,i.width,i.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height)},tintWithPerPixel:function(t,e,r){var i=r.getContext("2d"),o=t._frame.clone(),s=t.baseTexture.resolution;o.x*=s,o.y*=s,o.width*=s,o.height*=s,r.width=Math.ceil(o.width),r.height=Math.ceil(o.height),i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var a=(0,n.hex2rgb)(e),u=a[0],h=a[1],l=a[2],c=i.getImageData(0,0,o.width,o.height),d=c.data,f=0;f<d.length;f+=4)d[f+0]*=u,d[f+1]*=h,d[f+2]*=l;i.putImageData(c,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,r=(0,n.hex2rgb)(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),(0,n.rgb2hex)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,o.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,r.default=s},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":80,"../../utils":124}],105:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();r.default=i},{}],106:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../renderers/webgl/utils/ObjectRenderer"),u=n(a),h=t("../../renderers/webgl/WebGLRenderer"),l=n(h),c=t("../../utils/createIndicesForQuads"),d=n(c),f=t("./generateMultiTextureShader"),p=n(f),v=t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),y=n(v),g=t("./BatchBuffer"),m=n(g),_=t("../../settings"),b=n(_),x=t("../../utils"),T=t("pixi-gl-core"),w=n(T),E=t("bit-twiddle"),S=n(E),O=0,P=0,M=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=b.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var s=1;s<=S.default.nextPow2(n.size);s*=2)n.buffers.push(new m.default(4*s*n.vertByteSize));n.indices=(0,d.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var a=0;a<n.size;a++)n.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),b.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,y.default)(this.MAX_TEXTURES,t)),this.shader=(0,p.default)(t,this.MAX_TEXTURES),this.indexBuffer=w.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,r=0;r<this.vaoMax;r++){var n=this.vertexBuffers[r]=w.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,r=S.default.nextPow2(this.currentIndex),n=S.default.log2(r),i=this.buffers[n],o=this.sprites,s=this.groups,a=i.float32View,u=i.uint32View,h=this.boundTextures,l=this.renderer.boundTextures,c=this.renderer.textureGC.count,d=0,f=void 0,p=void 0,v=1,y=0,g=s[0],m=void 0,_=void 0,T=x.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];g.textureCount=0,g.start=0,g.blend=T,O++;var E=void 0;for(E=0;E<e;++E)h[E]=l[E],h[E]._virtalBoundId=E;for(E=0;E<this.currentIndex;++E){var M=o[E];f=M._texture.baseTexture;var C=x.premultiplyBlendMode[Number(f.premultipliedAlpha)][M.blendMode];if(T!==C&&(T=C,p=null,y=e,O++),p!==f&&(p=f,f._enabled!==O)){if(y===e&&(O++,g.size=E-g.start,y=0,g=s[v++],g.blend=T,g.textureCount=0,g.start=E),f.touched=c,-1===f._virtalBoundId)for(var R=0;R<e;++R){var A=(R+P)%e,I=h[A];if(I._enabled!==O){P++,I._virtalBoundId=-1,f._virtalBoundId=A,h[A]=f;break}}f._enabled=O,g.textureCount++,g.ids[y]=f._virtalBoundId,g.textures[y++]=f}if(m=M.vertexData,_=M._texture._uvs.uvsUint32,this.renderer.roundPixels){var D=this.renderer.resolution;a[d]=(m[0]*D|0)/D,a[d+1]=(m[1]*D|0)/D,a[d+5]=(m[2]*D|0)/D,a[d+6]=(m[3]*D|0)/D,a[d+10]=(m[4]*D|0)/D,a[d+11]=(m[5]*D|0)/D,a[d+15]=(m[6]*D|0)/D,a[d+16]=(m[7]*D|0)/D}else a[d]=m[0],a[d+1]=m[1],a[d+5]=m[2],a[d+6]=m[3],a[d+10]=m[4],a[d+11]=m[5],a[d+15]=m[6],a[d+16]=m[7];u[d+2]=_[0],u[d+7]=_[1],u[d+12]=_[2],u[d+17]=_[3];var L=Math.min(M.worldAlpha,1),N=L<1&&f.premultipliedAlpha?(0,x.premultiplyTint)(M._tintRGB,L):M._tintRGB+(255*L<<24);u[d+3]=u[d+8]=u[d+13]=u[d+18]=N,a[d+4]=a[d+9]=a[d+14]=a[d+19]=f._virtalBoundId,d+=20}if(g.size=E-g.start,b.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var F=this.shader.attributes,B=this.vertexBuffers[this.vertexCount]=w.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),k=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(B,F.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(B,F.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(B,F.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);F.aTextureId&&k.addAttribute(B,F.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=k}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(E=0;E<e;++E)l[E]._virtalBoundId=-1;for(E=0;E<v;++E){for(var j=s[E],U=j.textureCount,X=0;X<U;X++)p=j.textures[X],l[j.ids[X]]!==p&&this.renderer.bindTexture(p,j.ids[X],!0),p._virtalBoundId=-1;this.renderer.state.setBlendMode(j.blend),t.drawElements(t.TRIANGLES,6*j.size,t.UNSIGNED_SHORT,6*j.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),b.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},e}(u.default);r.default=M,l.default.registerPlugin("sprite",M)},{"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":97,"../../settings":101,"../../utils":124,"../../utils/createIndicesForQuads":122,"./BatchBuffer":105,"./generateMultiTextureShader":107,"bit-twiddle":1,"pixi-gl-core":15}],107:[function(t,e,r){"use strict";function n(t,e){var r=a;r=r.replace(/%count%/gi,e),r=r.replace(/%forloop%/gi,i(e));for(var n=new s.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",r),o=[],u=0;u<e;u++)o[u]=u;return n.bind(),n.uniforms.uSamplers=o,n}function i(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(textureId == "+r+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}r.__esModule=!0,r.default=n;var o=t("../../Shader"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=(t("path"),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},{"../../Shader":44,path:8}],108:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../sprites/Sprite"),h=n(u),l=t("../textures/Texture"),c=n(l),d=t("../math"),f=t("../utils"),p=t("../const"),v=t("../settings"),y=n(v),g=t("./TextStyle"),m=n(g),_=t("./TextMetrics"),b=n(_),x=t("../utils/trimCanvas"),T=n(x),w={texture:!0,children:!1,baseTexture:!0},E=function(t){function e(r,n,s){i(this,e),s=s||document.createElement("canvas"),s.width=3,s.height=3;var a=c.default.fromCanvas(s,y.default.SCALE_MODE,"text");a.orig=new d.Rectangle,a.trim=new d.Rectangle;var u=o(this,t.call(this,a));return c.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=s,u.context=u.canvas.getContext("2d"),u.resolution=y.default.RESOLUTION,
u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=r,u.style=n,u.localStyleID=-1,u}return s(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r=this.context,n=b.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=n.width,o=n.height,s=n.lines,a=n.lineHeight,u=n.lineWidths,h=n.maxLineWidth,l=n.fontProperties;this.canvas.width=Math.ceil((i+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((o+2*e.padding)*this.resolution),r.scale(this.resolution,this.resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.strokeStyle=e.stroke,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;var c=void 0,d=void 0;if(e.dropShadow){r.fillStyle=e.dropShadowColor,r.globalAlpha=e.dropShadowAlpha,r.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(r.shadowColor=e.dropShadowColor);for(var f=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,p=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,v=0;v<s.length;v++)c=e.strokeThickness/2,d=e.strokeThickness/2+v*a+l.ascent,"right"===e.align?c+=h-u[v]:"center"===e.align&&(c+=(h-u[v])/2),e.fill&&(this.drawLetterSpacing(s[v],c+f+e.padding,d+p+e.padding),e.stroke&&e.strokeThickness&&(r.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[v],c+f+e.padding,d+p+e.padding,!0),r.strokeStyle=e.stroke))}r.shadowBlur=0,r.globalAlpha=1,r.fillStyle=this._generateFillStyle(e,s);for(var y=0;y<s.length;y++)c=e.strokeThickness/2,d=e.strokeThickness/2+y*a+l.ascent,"right"===e.align?c+=h-u[y]:"center"===e.align&&(c+=(h-u[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[y],c+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(s[y],c+e.padding,d+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style,o=i.letterSpacing;if(0===o)return void(n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r));for(var s=String.prototype.split.call(t,""),a=e,u=0,h="";u<t.length;)h=s[u++],n?this.context.strokeText(h,a,r):this.context.fillText(h,a,r),a+=this.context.measureText(h).width+o},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,T.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,r.trim.width=r._frame.width=t.width/this.resolution,r.trim.height=r._frame.height=t.height/this.resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var r=void 0,n=void 0,i=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,u=t.fill.slice(),h=t.fillGradientStops.slice();if(!h.length)for(var l=u.length+1,c=1;c<l;++c)h.push(c/l);if(u.unshift(t.fill[0]),h.unshift(0),u.push(t.fill[t.fill.length-1]),h.push(1),t.fillGradientType===p.TEXT_GRADIENT.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),n=(u.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var f=0;f<u.length;f++)o="number"==typeof h[f]?h[f]/e.length+d/e.length:i/n,r.addColorStop(o,u[f]),i++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),n=u.length+1,i=1;for(var v=0;v<u.length;v++)o="number"==typeof h[v]?h[v]:i/n,r.addColorStop(o,u[v]),i++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},w,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},a(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,f.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,f.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){t=t||{},t instanceof m.default?this._style=t:this._style=new m.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(h.default);r.default=E},{"../const":46,"../math":70,"../settings":101,"../sprites/Sprite":102,"../textures/Texture":115,"../utils":124,"../utils/trimCanvas":129,"./TextMetrics":109,"./TextStyle":110}],109:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e,r,i,o,s,a,u,h,l){n(this,t),this.text=e,this.style=r,this.width=i,this.height=o,this.lines=s,this.lineWidths=a,this.lineHeight=u,this.maxLineWidth=h,this.fontProperties=l}return t.measureText=function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=n||r.wordWrap;var o=r.toFontString(),s=t.measureFont(o),a=i.getContext("2d");a.font=o;for(var u=n?t.wordWrap(e,r,i):e,h=u.split(/(?:\r\n|\r|\n)/),l=new Array(h.length),c=0,d=0;d<h.length;d++){var f=a.measureText(h[d]).width+(h[d].length-1)*r.letterSpacing;l[d]=f,c=Math.max(c,f)}var p=c+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var v=r.lineHeight||s.fontSize+r.strokeThickness,y=Math.max(v,s.fontSize+r.strokeThickness)+(h.length-1)*v;return r.dropShadow&&(y+=r.dropShadowDistance),new t(e,r,p,y,h,l,v,c,s)},t.wordWrap=function(e,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas,i=n.getContext("2d"),o="",s=e.split("\n"),a=r.wordWrapWidth,u={},h=0;h<s.length;h++){for(var l=a,c=s[h].split(" "),d=0;d<c.length;d++){var f=i.measureText(c[d]).width;if(r.breakWords&&f>a)for(var p=c[d].split(""),v=0;v<p.length;v++){var y=p[v],g=u[y];void 0===g&&(g=i.measureText(y).width,u[y]=g),g>l?(o+="\n"+y,l=a-g):(0===v&&(o+=" "),o+=y,l-=g)}else{var m=f+i.measureText(" ").width;0===d||m>l?(d>0&&(o+="\n"),o+=c[d],l=a-f):(l-=m,o+=" "+c[d])}}h<s.length-1&&(o+="\n")}return o},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={},n=t._canvas,i=t._context;i.font=e;var o=Math.ceil(i.measureText("|Mq").width),s=Math.ceil(i.measureText("M").width),a=2*s;s=1.4*s|0,n.width=o,n.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|Mq",0,s);var u=i.getImageData(0,0,o,a).data,h=u.length,l=4*o,c=0,d=0,f=!1;for(c=0;c<s;++c){for(var p=0;p<l;p+=4)if(255!==u[d+p]){f=!0;break}if(f)break;d+=l}for(r.ascent=s-c,d=h-l,f=!1,c=a;c>s;--c){for(var v=0;v<l;v+=4)if(255!==u[d+v]){f=!0;break}if(f)break;d-=l}return r.descent=c-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t}();r.default=i;var o=document.createElement("canvas");o.width=o.height=10,i._canvas=o,i._context=o.getContext("2d"),i._fonts={}},{}],110:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return"number"==typeof t?(0,h.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function o(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=i(t[e]);return t}return i(t)}function s(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../const"),h=t("../utils"),l={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:u.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100},c=function(){function t(e){n(this,t),this.styleID=0,Object.assign(this,l,e)}return t.prototype.clone=function(){var e={};for(var r in l)e[r]=this[r];return new t(e)},t.prototype.reset=function(){Object.assign(this,l)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();/([\"\'])[^\'\"]+\1/.test(n)||(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},a(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=o(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=o(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){s(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=o(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();r.default=c},{"../const":46,"../utils":124}],111:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("./BaseTexture"),u=n(a),h=t("../settings"),l=n(h),c=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments[2],a=arguments[3];i(this,e);var u=o(this,t.call(this,null,s));return u.resolution=a||l.default.RESOLUTION,u.width=r,u.height=n,u.realWidth=u.width*u.resolution,u.realHeight=u.height*u.resolution,u.scaleMode=void 0!==s?s:l.default.SCALE_MODE,u.hasLoaded=!0,u._glRenderTargets={},u._canvasRenderTarget=null,u.valid=!1,u}return s(e,t),e.prototype.resize=function(t,e){t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(u.default);r.default=c},{"../settings":101,"./BaseTexture":112}],112:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../utils"),u=t("../settings"),h=n(u),l=t("eventemitter3"),c=n(l),d=t("../utils/determineCrossOrigin"),f=n(d),p=t("bit-twiddle"),v=n(p),y=function(t){function e(r,n,s){i(this,e);var u=o(this,t.call(this));return u.uid=(0,a.uid)(),u.touched=0,u.resolution=s||h.default.RESOLUTION,u.width=100,u.height=100,u.realWidth=100,u.realHeight=100,u.scaleMode=void 0!==n?n:h.default.SCALE_MODE,u.hasLoaded=!1,u.isLoading=!1,u.source=null,u.origSource=null,u.imageType=null,u.sourceScale=1,u.premultipliedAlpha=!0,u.imageUrl=null,u.isPowerOfTwo=!1,u.mipmap=h.default.MIPMAP_TEXTURES,u.wrapMode=h.default.WRAP_MODE,u._glTextures={},u._enabled=0,u._virtalBoundId=-1,u._destroyed=!1,u.textureCacheIds=[],r&&u.loadSource(r),u}return s(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=v.default.isPow2(this.realWidth)&&v.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var r=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),r&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){if(n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading){if(n.isLoading=!1,n._sourceLoaded(),"svg"===n.imageType)return void n._loadSvgSource();n.emit("loaded",n)}},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,a.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(e=(0,a.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(e=(0,a.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,a.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var r=(0,a.getSvgSize)(t),n=r.width,i=r.height;if(!n||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(n*this.sourceScale),this.realHeight=Math.round(i*this.sourceScale),this._updateDimensions();var o=document.createElement("canvas");o.width=this.realWidth,o.height=this.realHeight,o._pixiId="canvas_"+(0,a.uid)(),o.getContext("2d").drawImage(this.source,0,0,n,i,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=o,e.addToCache(this,o._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete a.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,r,n,i){var o=a.BaseTextureCache[t];if(!o){var s=new Image;void 0===r&&0!==t.indexOf("data:")?s.crossOrigin=(0,f.default)(t):r&&(s.crossOrigin="string"==typeof r?r:"anonymous"),o=new e(s,n),o.imageUrl=t,i&&(o.sourceScale=i),o.resolution=(0,a.getResolutionOfUrl)(t),s.src=t,e.addToCache(o,t)}return o},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=n+"_"+(0,a.uid)());var i=a.BaseTextureCache[t._pixiId];return i||(i=new e(t,r),e.addToCache(i,t._pixiId)),i},e.from=function(t,r,n){if("string"==typeof t)return e.fromImage(t,void 0,r,n);if(t instanceof HTMLImageElement){var i=t.src,o=a.BaseTextureCache[i];return o||(o=new e(t,r),o.imageUrl=i,n&&(o.sourceScale=n),o.resolution=(0,a.getResolutionOfUrl)(i),e.addToCache(o,i)),o}return t instanceof HTMLCanvasElement?e.fromCanvas(t,r):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=a.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete a.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete a.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e}(c.default);r.default=y},{"../settings":101,"../utils":124,"../utils/determineCrossOrigin":123,"bit-twiddle":1,eventemitter3:3}],113:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("./BaseRenderTexture"),u=n(a),h=t("./Texture"),l=n(h),c=function(t){function e(r,n){i(this,e);var s=null;if(!(r instanceof u.default)){var a=arguments[1],h=arguments[2],l=arguments[3],c=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+h+") instead of the ctor directly."),s=arguments[0],n=null,r=new u.default(a,h,l,c)}var d=o(this,t.call(this,r,n));return d.legacyRenderer=s,d.valid=!0,d._updateUvs(),d}return s(e,t),e.prototype.resize=function(t,e,r){this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,r,n,i){return new e(new u.default(t,r,n,i))},e}(l.default);r.default=c},{"./BaseRenderTexture":111,"./Texture":115}],114:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../"),s=t("../utils"),a=function(){function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n(this,t),this.baseTexture=e,this.textures={},this.data=r,this.resolution=this._updateResolution(i||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,s.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],s=this._frames[i].frame;if(s){var a=null,u=null,h=new o.Rectangle(0,0,this._frames[i].sourceSize.w/this.resolution,this._frames[i].sourceSize.h/this.resolution);a=this._frames[i].rotated?new o.Rectangle(s.x/this.resolution,s.y/this.resolution,s.h/this.resolution,s.w/this.resolution):new o.Rectangle(s.x/this.resolution,s.y/this.resolution,s.w/this.resolution,s.h/this.resolution),this._frames[i].trimmed&&(u=new o.Rectangle(this._frames[i].spriteSourceSize.x/this.resolution,this._frames[i].spriteSourceSize.y/this.resolution,s.w/this.resolution,s.h/this.resolution)),this.textures[i]=new o.Texture(this.baseTexture,a,h,u,this._frames[i].rotated?2:0),o.Texture.addToCache(this.textures[i],i)}r++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();r.default=a},{"../":65,"../utils":124}],115:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}r.__esModule=!0;var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),h=t("./BaseTexture"),l=n(h),c=t("./VideoBaseTexture"),d=n(c),f=t("./TextureUvs"),p=n(f),v=t("eventemitter3"),y=n(v),g=t("../math"),m=t("../utils"),_=t("../settings"),b=n(_),x=function(t){function e(r,n,s,a,u){i(this,e);var h=o(this,t.call(this));if(h.noFrame=!1,n||(h.noFrame=!0,n=new g.Rectangle(0,0,1,1)),r instanceof e&&(r=r.baseTexture),h.baseTexture=r,h._frame=n,h.trim=a,h.valid=!1,h.requiresUpdate=!1,h._uvs=null,h.orig=s||n,h._rotate=Number(u||0),!0===u)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return r.hasLoaded?(h.noFrame&&(n=new g.Rectangle(0,0,r.width,r.height),r.on("update",h.onBaseTextureUpdated,h)),h.frame=n):r.once("loaded",h.onBaseTextureLoaded,h),h._updateID=0,h.transform=null,h.textureCacheIds=[],h}return s(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new g.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(m.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new p.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,r,n,i){var o=m.TextureCache[t];return o||(o=new e(l.default.fromImage(t,r,n,i)),e.addToCache(o,t)),o},e.fromFrame=function(t){var e=m.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(l.default.fromCanvas(t,r,n))},e.fromVideo=function(t,r){return"string"==typeof t?e.fromVideoUrl(t,r):new e(d.default.fromVideo(t,r))},e.fromVideoUrl=function(t,r){return new e(d.default.fromUrl(t,r))},e.from=function(t){if("string"==typeof t){var r=m.TextureCache[t];if(!r){return null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t)}return r}return t instanceof HTMLImageElement?new e(l.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,b.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof l.default?new e(t):t},e.fromLoader=function(t,r,n){var i=new l.default(t,void 0,(0,m.getResolutionOfUrl)(r)),o=new e(i);return i.imageUrl=r,n||(n=r),l.default.addToCache(o.baseTexture,n),e.addToCache(o,n),n!==r&&(l.default.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),m.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=m.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete m.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete m.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},u(e,[{key:"frame",get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+t.x+" + "+t.width+" = "+(t.x+t.width)+" > "+this.baseTexture.width+" Y: "+t.y+" + "+t.height+" = "+(t.y+t.height)+" > "+this.baseTexture.height);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(y.default);r.default=x,x.EMPTY=new x(new l.default),a(x.EMPTY),a(x.EMPTY.baseTexture),x.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new x(new l.default(t))}(),a(x.WHITE),a(x.WHITE.baseTexture)},{"../math":70,"../settings":101,"../utils":124,"./BaseTexture":112,"./TextureUvs":116,"./VideoBaseTexture":117,eventemitter3:3}],116:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0
;var i=t("../math/GroupD8"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(){n(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var s=t.width/2/n,a=t.height/2/i,u=t.x/n+s,h=t.y/i+a;r=o.default.add(r,o.default.NW),this.x0=u+s*o.default.uX(r),this.y0=h+a*o.default.uY(r),r=o.default.add(r,2),this.x1=u+s*o.default.uX(r),this.y1=h+a*o.default.uY(r),r=o.default.add(r,2),this.x2=u+s*o.default.uX(r),this.y2=h+a*o.default.uY(r),r=o.default.add(r,2),this.x3=u+s*o.default.uX(r),this.y3=h+a*o.default.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();r.default=s},{"../math/GroupD8":66}],117:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("./BaseTexture"),h=function(t){return t&&t.__esModule?t:{default:t}}(u),l=t("../utils"),c=t("../ticker"),d=t("../const"),f=function(t){function e(r,o){if(n(this,e),!r)throw new Error("No video source element specified.");(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0);var s=i(this,t.call(this,r,o));return s.width=r.videoWidth,s.height=r.videoHeight,s._autoUpdate=!0,s._isAutoUpdating=!1,s.autoPlay=!0,s.update=s.update.bind(s),s._onCanPlay=s._onCanPlay.bind(s),r.addEventListener("play",s._onPlayStart.bind(s)),r.addEventListener("pause",s._onPlayStop.bind(s)),s.hasLoaded=!1,s.__loaded=!1,s._isSourceReady()?s._onCanPlay():(r.addEventListener("canplay",s._onCanPlay),r.addEventListener("canplaythrough",s._onCanPlay)),s}return o(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(c.shared.add(this.update,this,d.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(c.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&c.shared.remove(this.update,this),this.source&&this.source._pixiId&&(h.default.removeFromCache(this.source._pixiId),delete this.source._pixiId),t.prototype.destroy.call(this)},e.fromVideo=function(t,r){t._pixiId||(t._pixiId="video_"+(0,l.uid)());var n=l.BaseTextureCache[t._pixiId];return n||(n=new e(t,r),h.default.addToCache(n,t._pixiId)),n},e.fromUrl=function(t,r){var n=document.createElement("video");if(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),Array.isArray(t))for(var i=0;i<t.length;++i)n.appendChild(s(t[i].src||t[i],t[i].mime));else n.appendChild(s(t.src||t,t.mime));return n.load(),e.fromVideo(n,r)},a(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(c.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(c.shared.add(this.update,this,d.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(h.default);r.default=f,f.fromUrls=f.fromUrl},{"../const":46,"../ticker":120,"../utils":124,"./BaseTexture":112}],118:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("../settings"),a=n(s),u=t("../const"),h=t("./TickerListener"),l=n(h),c=function(){function t(){var e=this;i(this,t),this._head=new l.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/a.default.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.UPDATE_PRIORITY.NORMAL;return this._addListener(new l.default(t,e,r))},t.prototype.addOnce=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.UPDATE_PRIORITY.NORMAL;return this._addListener(new l.default(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*a.default.TARGET_FPMS*this.speed;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},o(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,a.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();r.default=c},{"../const":46,"../settings":101,"./TickerListener":119}],119:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,t),this.fn=e,this.context=r,this.priority=i,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.previous;return this.next=t?null:e,this.previous=null,e},t}();r.default=i},{}],120:[function(t,e,r){"use strict";r.__esModule=!0,r.Ticker=r.shared=void 0;var n=t("./Ticker"),i=function(t){return t&&t.__esModule?t:{default:t}}(n),o=new i.default;o.autoStart=!0,o.destroy=function(){},r.shared=o,r.Ticker=i.default},{"./Ticker":118}],121:[function(t,e,r){"use strict";function n(){return!(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}r.__esModule=!0,r.default=n},{}],122:[function(t,e,r){"use strict";function n(t){for(var e=6*t,r=new Uint16Array(e),n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}r.__esModule=!0,r.default=n},{}],123:[function(t,e,r){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a")),s.href=t,t=o.default.parse(s.href);var r=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"}r.__esModule=!0,r.default=n;var i=t("url"),o=function(t){return t&&t.__esModule?t:{default:t}}(i),s=void 0},{url:38}],124:[function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(){return++k}function s(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function a(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function u(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function h(t,e){var r=S.default.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}function l(t){var e=w.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]}}function c(t){var e=w.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()}function d(t){var e=w.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}function f(){j=!0}function p(t){if(!j){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+w.VERSION+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+w.VERSION+" - "+t+" - http://www.pixijs.com/");j=!0}}function v(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(t){return!1}}function y(t){return 0===t?0:t<0?-1:1}function g(){var t=void 0;for(t in U)U[t].destroy();for(t in X)X[t].destroy()}function m(){var t=void 0;for(t in U)delete U[t];for(t in X)delete X[t]}function _(t,e){return G[e?1:0][t]}function b(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(255*e<<24)+(r<<16)+(n<<8)+i}function x(t,e,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function T(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}r.__esModule=!0,r.premultiplyBlendMode=r.BaseTextureCache=r.TextureCache=r.mixins=r.pluginTarget=r.EventEmitter=r.removeItems=r.isMobile=void 0,r.uid=o,r.hex2rgb=s,r.hex2string=a,r.rgb2hex=u,r.getResolutionOfUrl=h,r.decomposeDataUri=l,r.getUrlFileExtension=c,r.getSvgSize=d,r.skipHello=f,r.sayHello=p,r.isWebGLSupported=v,r.sign=y,r.destroyTextureCache=g,r.clearTextureCache=m,r.correctBlendMode=_,r.premultiplyTint=b,r.premultiplyRgba=x,r.premultiplyTintToRgba=T;var w=t("../const"),E=t("../settings"),S=i(E),O=t("eventemitter3"),P=i(O),M=t("./pluginTarget"),C=i(M),R=t("./mixin"),A=n(R),I=t("ismobilejs"),D=n(I),L=t("remove-array-items"),N=i(L),F=t("./mapPremultipliedBlendModes"),B=i(F),k=0,j=!1;r.isMobile=D,r.removeItems=N.default,r.EventEmitter=P.default,r.pluginTarget=C.default,r.mixins=A;var U=r.TextureCache=Object.create(null),X=r.BaseTextureCache=Object.create(null),G=r.premultiplyBlendMode=(0,B.default)()},{"../const":46,"../settings":101,"./mapPremultipliedBlendModes":125,"./mixin":127,"./pluginTarget":128,eventemitter3:3,ismobilejs:4,"remove-array-items":31}],125:[function(t,e,r){"use strict";function n(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[i.BLEND_MODES.NORMAL_NPM]=i.BLEND_MODES.NORMAL,t[i.BLEND_MODES.ADD_NPM]=i.BLEND_MODES.ADD,t[i.BLEND_MODES.SCREEN_NPM]=i.BLEND_MODES.SCREEN,e[i.BLEND_MODES.NORMAL]=i.BLEND_MODES.NORMAL_NPM,e[i.BLEND_MODES.ADD]=i.BLEND_MODES.ADD_NPM,e[i.BLEND_MODES.SCREEN]=i.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}r.__esModule=!0,r.default=n;var i=t("../const")},{"../const":46}],126:[function(t,e,r){"use strict";function n(t){return o.default.tablet||o.default.phone?4:t}r.__esModule=!0,r.default=n;var i=t("ismobilejs"),o=function(t){return t&&t.__esModule?t:{default:t}}(i)},{ismobilejs:4}],127:[function(t,e,r){"use strict";function n(t,e){if(t&&e)for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}function i(t,e){s.push(t,e)}function o(){for(var t=0;t<s.length;t+=2)n(s[t],s[t+1]);s.length=0}r.__esModule=!0,r.mixin=n,r.delayMixin=i,r.performMixins=o;var s=[]},{}],128:[function(t,e,r){"use strict";function n(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}r.__esModule=!0,r.default={mixin:function(t){n(t)}}},{}],129:[function(t,e,r){"use strict";function n(t){var e=t.width,r=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,e,r),o=i.data,s=o.length,a={top:null,left:null,right:null,bottom:null},u=void 0,h=void 0,l=void 0;for(u=0;u<s;u+=4)0!==o[u+3]&&(h=u/4%e,l=~~(u/4/e),null===a.top&&(a.top=l),null===a.left?a.left=h:h<a.left&&(a.left=h),null===a.right?a.right=h+1:a.right<h&&(a.right=h+1),null===a.bottom?a.bottom=l:a.bottom<l&&(a.bottom=l));return e=a.right-a.left,r=a.bottom-a.top+1,{height:r,width:e,data:n.getImageData(a.left,a.top,e,r)}}r.__esModule=!0,r.default=n},{}],130:[function(t,e,r){"use strict";function n(t){}function i(t){var e=t.mesh,r=t.particles,i=t.extras,o=t.filters,s=t.prepare,a=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return n("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),r.ParticleContainer}},MovieClip:{get:function(){return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),i.AnimatedSprite}},TilingSprite:{get:function(){return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),i.TilingSprite}},BitmapText:{get:function(){return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),i.BitmapText}},blendModes:{get:function(){return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return n("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var h=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],l=0;l<h.length;l++)!function(e){var r=h[e];Object.defineProperty(t[r.parent],"DEFAULT",{get:function(){return n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]},set:function(e){n("PIXI."+r.parent+".DEFAULT has been deprecated, please use PIXI.settings."+r.target),t.settings[r.target]=e}})}(l);Object.defineProperties(t.settings,{PRECISION:{get:function(){return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),i.AnimatedSprite&&Object.defineProperties(i,{MovieClip:{get:function(){return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),i.AnimatedSprite}}}),t.DisplayObject.prototype.generateTexture=function(t,e,r){return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,r)},t.Graphics.prototype.generateTexture=function(t,e){return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.RenderTexture.prototype.render=function(t,e,r,i){this.legacyRenderer.render(t,this,r,e,!i),n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},i.BitmapText&&(i.BitmapText.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),t.Text.prototype.setText=function(t){this.text=t,n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return n("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return n("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return n("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),e=e||{},e instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),r=-1;this._fontSize=26;for(var i=0;i<e.length;++i)if(e[i].match(/(px|pt|em|%)/)){r=i,this._fontSize=e[i];break}this._fontWeight="normal";for(var o=0;o<r;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(r>-1&&r<e.length-1){this._fontFamily="";for(var s=r+1;s<e.length;++s)this._fontFamily+=e[s]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,r){t.Texture.addToCache(e,r),n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}}}),t.utils.uuid=function(){return n("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var c=!0;if(Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),c=t},get:function(){return c}}),s.BasePrepare&&(s.BasePrepare.prototype.register=function(t,e){return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),s.canvas&&Object.defineProperty(s.canvas,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),s.webgl&&Object.defineProperty(s.webgl,"UPLOADS_PER_FRAME",{set:function(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.Loader){var d=a.Resource,f=a.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===d.TYPE.JSON}},isXml:{get:function(){return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===d.TYPE.XML}},isImage:{get:function(){return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(f.prototype,{before:{get:function(){return n("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return n("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return n("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}r.__esModule=!0,r.default=i},{}],131:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=new o.Rectangle,a=function(){function t(e){n(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,a=void 0;t&&(a=t instanceof o.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,n=a.baseTexture._canvasRenderTarget.resolution,i=a.frame):(r=e.rootContext,i=s,i.width=this.renderer.width,i.height=this.renderer.height);var u=i.width*n,h=i.height*n,l=new o.CanvasRenderTarget(u,h),c=r.getImageData(i.x*n,i.y*n,u,h);return l.context.putImageData(c,0,0),l.canvas},
t.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,a=void 0;return t&&(a=t instanceof o.RenderTexture?t:e.generateTexture(t)),a?(r=a.baseTexture._canvasRenderTarget.context,n=a.baseTexture._canvasRenderTarget.resolution,i=a.frame):(r=e.rootContext,i=s,i.width=e.width,i.height=e.height),r.getImageData(0,0,i.width*n,i.height*n).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();r.default=a,o.CanvasRenderer.registerPlugin("extract",a)},{"../../core":65}],132:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./webgl/WebGLExtract");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return n(i).default}});var o=t("./canvas/CanvasExtract");Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return n(o).default}})},{"./canvas/CanvasExtract":131,"./webgl/WebGLExtract":133}],133:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=new o.Rectangle,a=function(){function t(e){n(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,a=!1,u=void 0;t&&(u=t instanceof o.RenderTexture?t:this.renderer.generateTexture(t)),u?(r=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,i=u.frame,a=!1):(r=this.renderer.rootRenderTarget,n=r.resolution,a=!0,i=s,i.width=r.size.width,i.height=r.size.height);var h=i.width*n,l=i.height*n,c=new o.CanvasRenderTarget(h,l);if(r){e.bindRenderTarget(r);var d=new Uint8Array(4*h*l),f=e.gl;f.readPixels(i.x*n,i.y*n,h,l,f.RGBA,f.UNSIGNED_BYTE,d);var p=c.context.getImageData(0,0,h,l);p.data.set(d),c.context.putImageData(p,0,0),a&&(c.context.scale(1,-1),c.context.drawImage(c.canvas,0,-l))}return c.canvas},t.prototype.pixels=function(t){var e=this.renderer,r=void 0,n=void 0,i=void 0,a=void 0;t&&(a=t instanceof o.RenderTexture?t:this.renderer.generateTexture(t)),a?(r=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=r.resolution,i=a.frame):(r=this.renderer.rootRenderTarget,n=r.resolution,i=s,i.width=r.size.width,i.height=r.size.height);var u=i.width*n,h=i.height*n,l=new Uint8Array(4*u*h);if(r){e.bindRenderTarget(r);var c=e.gl;c.readPixels(i.x*n,i.y*n,u,h,c.RGBA,c.UNSIGNED_BYTE,l)}return l},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();r.default=a,o.WebGLRenderer.registerPlugin("extract",a)},{"../../core":65}],134:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=function(t){function e(r,o){n(this,e);var s=i(this,t.call(this,r[0]instanceof u.Texture?r[0]:r[0].texture));return s._textures=null,s._durations=null,s.textures=r,s._autoUpdate=!1!==o,s.animationSpeed=1,s.loop=!0,s.onComplete=null,s.onFrameChange=null,s.onLoop=null,s._currentTime=0,s.playing=!1,s}return o(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&u.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&u.ticker.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(u.Texture.fromFrame(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(u.Texture.fromImage(t[n]));return new e(r)},s(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof u.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(u.Sprite);r.default=h},{"../core":65}],135:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../core"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),l=t("../core/math/ObservablePoint"),c=n(l),d=t("../core/settings"),f=n(d),p=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e);var s=o(this,t.call(this));return s._textWidth=0,s._textHeight=0,s._glyphs=[],s._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},s.font=n.font,s._text=r,s._maxWidth=0,s._maxLineHeight=0,s._anchor=new c.default(function(){s.dirty=!0},s,0,0),s.dirty=!1,s.updateText(),s}return s(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,n=new h.Point,i=[],o=[],s=null,a=0,u=0,l=0,c=-1,d=0,f=0,p=0,v=0;v<this.text.length;v++){var y=this.text.charCodeAt(v);if(/(\s)/.test(this.text.charAt(v))&&(c=v,d=a),/(?:\r\n|\r|\n)/.test(this.text.charAt(v)))o.push(a),u=Math.max(u,a),l++,n.x=0,n.y+=t.lineHeight,s=null;else if(-1!==c&&this._maxWidth>0&&n.x*r>this._maxWidth)h.utils.removeItems(i,c-f,v-c),v=c,c=-1,++f,o.push(d),u=Math.max(u,d),l++,n.x=0,n.y+=t.lineHeight,s=null;else{var g=t.chars[y];g&&(s&&g.kerning[s]&&(n.x+=g.kerning[s]),i.push({texture:g.texture,line:l,charCode:y,position:new h.Point(n.x+g.xOffset,n.y+g.yOffset)}),a=n.x+(g.texture.width+g.xOffset),n.x+=g.xAdvance,p=Math.max(p,g.yOffset+g.texture.height),s=y)}}o.push(a),u=Math.max(u,a);for(var m=[],_=0;_<=l;_++){var b=0;"right"===this._font.align?b=u-o[_]:"center"===this._font.align&&(b=(u-o[_])/2),m.push(b)}for(var x=i.length,T=this.tint,w=0;w<x;w++){var E=this._glyphs[w];E?E.texture=i[w].texture:(E=new h.Sprite(i[w].texture),this._glyphs.push(E)),E.position.x=(i[w].position.x+m[i[w].line])*r,E.position.y=i[w].position.y*r,E.scale.x=E.scale.y=r,E.tint=T,E.parent||this.addChild(E)}for(var S=x;S<this._glyphs.length;++S)this.removeChild(this._glyphs[S]);if(this._textWidth=u*r,this._textHeight=(n.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var O=0;O<x;O++)this._glyphs[O].x-=this._textWidth*this.anchor.x,this._glyphs[O].y-=this._textHeight*this.anchor.y;this._maxLineHeight=p*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,r){var n={},i=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],s=r.baseTexture.resolution||f.default.RESOLUTION;n.font=i.getAttribute("face"),n.size=parseInt(i.getAttribute("size"),10),n.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/s,n.chars={};for(var a=t.getElementsByTagName("char"),u=0;u<a.length;u++){var l=a[u],c=parseInt(l.getAttribute("id"),10),d=new h.Rectangle(parseInt(l.getAttribute("x"),10)/s+r.frame.x/s,parseInt(l.getAttribute("y"),10)/s+r.frame.y/s,parseInt(l.getAttribute("width"),10)/s,parseInt(l.getAttribute("height"),10)/s);n.chars[c]={xOffset:parseInt(l.getAttribute("xoffset"),10)/s,yOffset:parseInt(l.getAttribute("yoffset"),10)/s,xAdvance:parseInt(l.getAttribute("xadvance"),10)/s,kerning:{},texture:new h.Texture(r.baseTexture,d)}}for(var p=t.getElementsByTagName("kerning"),v=0;v<p.length;v++){var y=p[v],g=parseInt(y.getAttribute("first"),10)/s,m=parseInt(y.getAttribute("second"),10)/s,_=parseInt(y.getAttribute("amount"),10)/s;n.chars[m]&&(n.chars[m].kerning[g]=_)}return e.fonts[n.font]=n,n},a(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(h.Container);r.default=p,p.fonts={}},{"../core":65,"../core/math/ObservablePoint":68,"../core/settings":101}],136:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../core/math/Matrix"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=new s.default,u=function(){function t(e,r){n(this,t),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===r?.5:r}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(a.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+u+h)/o.width,s[1]=(e._frame.y+u+h)/o.height,s[2]=(e._frame.x+e._frame.width-u+h)/o.width,s[3]=(e._frame.y+e._frame.height-u+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,!0},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();r.default=u},{"../core/math/Matrix":67}],137:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../core"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),l=t("../core/sprites/canvas/CanvasTinter"),c=n(l),d=t("./TextureTransform"),f=n(d),p=new h.Point,v=function(t){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;i(this,e);var a=o(this,t.call(this,r));return a.tileTransform=new h.TransformStatic,a._width=n,a._height=s,a._canvasPattern=null,a.uvTransform=r.transform||new f.default(r),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return s(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,n=this.worldTransform,i=t.resolution,o=e.baseTexture,s=o.resolution,a=this.tilePosition.x/this.tileScale.x%e._frame.width*s,u=this.tilePosition.y/this.tileScale.y%e._frame.height*s;if(!this._canvasPattern){var l=new h.CanvasRenderTarget(e._frame.width,e._frame.height,s);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=c.default.getTintedTexture(this,this.tint)),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(o.source,-e._frame.x*s,-e._frame.y*s),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/s,this.tileScale.y/s);var d=this.anchor.x*-this._width,f=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(a,u),r.fillRect(-a+d,-u+f,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s)):(r.translate(a+d,u+f),r.fillRect(-a,-u,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new h.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,p);var e=this._width,r=this._height,n=-e*this.anchor._x;if(p.x>=n&&p.x<n+e){var i=-r*this.anchor._y;if(p.y>=i&&p.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,r,n){return new e(h.Texture.from(t),r,n)},e.fromFrame=function(t,r,n){var i=h.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,r,n)},e.fromImage=function(t,r,n,i,o){return new e(h.Texture.fromImage(t,i,o),r,n)},a(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(h.Sprite);r.default=v},{"../core":65,"../core/sprites/canvas/CanvasTinter":104,"./TextureTransform":136}],138:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=t("../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=t("../core/textures/Texture"),u=n(a),h=t("../core/textures/BaseTexture"),l=n(h),c=t("../core/utils"),d=s.DisplayObject,f=new s.Matrix;d.prototype._cacheAsBitmap=!1,d.prototype._cacheData=!1;var p=function t(){i(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(d.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new p),e=this._cacheData,e.originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),d.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},d.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;r.pad(n)}var i=t._activeRenderTarget,o=t.filterManager.filterStack,a=s.RenderTexture.create(0|r.width,0|r.height),h="cacheAsBitmap_"+(0,c.uid)();this._cacheData.textureCacheId=h,l.default.addToCache(a.baseTexture,h),u.default.addToCache(a,h);var d=f;d.tx=-r.x,d.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,a,!0,d,!0),t.bindRenderTarget(i),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var p=new s.Sprite(a);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-r.x/r.width,p.anchor.y=-r.y/r.height,p.alpha=e,p._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},d.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},d.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var n=t.context,i=s.RenderTexture.create(0|e.width,0|e.height),o="cacheAsBitmap_"+(0,c.uid)();this._cacheData.textureCacheId=o,l.default.addToCache(i.baseTexture,o),u.default.addToCache(i,o);var a=f;this.transform.localTransform.copy(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,i,!0,a,!1),t.context=n,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var h=new s.Sprite(i);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h._bounds=this._bounds,h.alpha=r,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=h,this.containsPoint=h.containsPoint.bind(h)}},d.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},d.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},d.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,l.default.removeFromCache(this._cacheData.textureCacheId),u.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},d.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},{"../core":65,"../core/textures/BaseTexture":112,"../core/textures/Texture":115,"../core/utils":124}],139:[function(t,e,r){"use strict";var n=t("../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n);i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":65}],140:[function(t,e,r){"use strict";var n=t("../core"),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(n);i.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":65}],141:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.BitmapText=r.TilingSpriteRenderer=r.TilingSprite=r.TextureTransform=r.AnimatedSprite=void 0;var i=t("./AnimatedSprite");Object.defineProperty(r,"AnimatedSprite",{enumerable:!0,get:function(){return n(i).default}});var o=t("./TextureTransform");Object.defineProperty(r,"TextureTransform",{enumerable:!0,get:function(){return n(o).default}});var s=t("./TilingSprite");Object.defineProperty(r,"TilingSprite",{enumerable:!0,get:function(){return n(s).default}});var a=t("./webgl/TilingSpriteRenderer");Object.defineProperty(r,"TilingSpriteRenderer",{enumerable:!0,get:function(){return n(a).default}});var u=t("./BitmapText");Object.defineProperty(r,"BitmapText",{enumerable:!0,get:function(){return n(u).default}}),t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition")},{"./AnimatedSprite":134,"./BitmapText":135,"./TextureTransform":136,"./TilingSprite":137,"./cacheAsBitmap":138,"./getChildByName":139,"./getGlobalPosition":140,"./webgl/TilingSpriteRenderer":142}],142:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../../core"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(s),u=t("../../core/const"),h=(t("path"),new a.Matrix),l=function(t){function e(r){n(this,e);var o=i(this,t.call(this,r));return o.shader=null,o.simpleShader=null,o.quad=null,o}return o(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new a.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new a.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new a.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,r=this.quad;e.bindVao(r.vao);var n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&(n=r.uvs,n[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.upload();var i=t._texture,o=i.baseTexture,s=t.tileTransform.localTransform,l=t.uvTransform,c=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;c&&(o._glTextures[e.CONTEXT_UID]?c=o.wrapMode!==u.WRAP_MODES.CLAMP:o.wrapMode===u.WRAP_MODES.CLAMP&&(o.wrapMode=u.WRAP_MODES.REPEAT));var d=c?this.simpleShader:this.shader;e.bindShader(d);var f=i.width,p=i.height,v=t._width,y=t._height;h.set(s.a*f/v,s.b*f/y,s.c*p/v,s.d*p/y,s.tx/v,s.ty/y),h.invert(),c?h.prepend(l.mapCoord):(d.uniforms.uMapCoord=l.mapCoord.toArray(!0),d.uniforms.uClampFrame=l.uClampFrame,d.uniforms.uClampOffset=l.uClampOffset),d.uniforms.uTransform=h.toArray(!0),d.uniforms.uColor=a.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,d.uniforms.uColor,o.premultipliedAlpha),d.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),d.uniforms.uSampler=e.bindTexture(i),e.setBlendMode(a.utils.correctBlendMode(t.blendMode,o.premultipliedAlpha)),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(a.ObjectRenderer);r.default=l,a.WebGLRenderer.registerPlugin("tilingSprite",l)},{"../../core":65,"../../core/const":46,path:8}],143:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../../core"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e
}(u),l=t("./BlurXFilter"),c=n(l),d=t("./BlurYFilter"),f=n(d),p=function(t){function e(r,n,s,a){i(this,e);var u=o(this,t.call(this));return u.blurXFilter=new c.default(r,n,s,a),u.blurYFilter=new f.default(r,n,s,a),u.padding=0,u.resolution=s||h.settings.RESOLUTION,u.quality=n||4,u.blur=r||8,u}return s(e,t),e.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},a(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(h.Filter);r.default=p},{"../../core":65,"./BlurXFilter":144,"./BlurYFilter":145}],144:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../../core"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),l=t("./generateBlurVertSource"),c=n(l),d=t("./generateBlurFragSource"),f=n(d),p=t("./getMaxBlurKernelSize"),v=n(p),y=function(t){function e(r,n,s,a){i(this,e),a=a||5;var u=(0,c.default)(a,!0),l=(0,f.default)(a),d=o(this,t.call(this,u,l));return d.resolution=s||h.settings.RESOLUTION,d._quality=0,d.quality=n||4,d.strength=r||8,d.firstRun=!0,d}return s(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,v.default)(i);this.vertexSrc=(0,c.default)(o,!0),this.fragmentSrc=(0,f.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var s=t.getRenderTarget(!0),a=e,u=s,h=0;h<this.passes-1;h++){t.applyFilter(this,a,u,!0);var l=u;u=a,a=l}t.applyFilter(this,a,r,n),t.returnRenderTarget(s)}},a(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(h.Filter);r.default=y},{"../../core":65,"./generateBlurFragSource":146,"./generateBlurVertSource":147,"./getMaxBlurKernelSize":148}],145:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=t("../../core"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),l=t("./generateBlurVertSource"),c=n(l),d=t("./generateBlurFragSource"),f=n(d),p=t("./getMaxBlurKernelSize"),v=n(p),y=function(t){function e(r,n,s,a){i(this,e),a=a||5;var u=(0,c.default)(a,!1),l=(0,f.default)(a),d=o(this,t.call(this,u,l));return d.resolution=s||h.settings.RESOLUTION,d._quality=0,d.quality=n||4,d.strength=r||8,d.firstRun=!0,d}return s(e,t),e.prototype.apply=function(t,e,r,n){if(this.firstRun){var i=t.renderer.gl,o=(0,v.default)(i);this.vertexSrc=(0,c.default)(o,!1),this.fragmentSrc=(0,f.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var s=t.getRenderTarget(!0),a=e,u=s,h=0;h<this.passes-1;h++){t.applyFilter(this,a,u,!0);var l=u;u=a,a=l}t.applyFilter(this,a,r,n),t.returnRenderTarget(s)}},a(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(h.Filter);r.default=y},{"../../core":65,"./generateBlurFragSource":146,"./generateBlurVertSource":147,"./getMaxBlurKernelSize":148}],146:[function(t,e,r){"use strict";function n(t){for(var e=i[t],r=e.length,n=o,s="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",u=void 0,h=0;h<t;h++){var l=a.replace("%index%",h);u=h,h>=r&&(u=t-h-1),l=l.replace("%value%",e[u]),s+=l,s+="\n"}return n=n.replace("%blur%",s),n=n.replace("%size%",t)}r.__esModule=!0,r.default=n;var i={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},o=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],147:[function(t,e,r){"use strict";function n(t,e){var r=Math.ceil(t/2),n=i,o="",s=void 0;s=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var u=s.replace("%index%",a);u=u.replace("%sampleIndex%",a-(r-1)+".0"),o+=u,o+="\n"}return n=n.replace("%blur%",o),n=n.replace("%size%",t)}r.__esModule=!0,r.default=n;var i=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],148:[function(t,e,r){"use strict";function n(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),r=15;r>e;)r-=2;return r}r.__esModule=!0,r.default=n},{}],149:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=(t("path"),function(t){function e(){n(this,e);var r=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],r.alpha=1,r}return o(e,t),e.prototype._loadMatrix=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=Math.sqrt,o=1/3,s=i(o),a=r+(1-r)*o,u=o*(1-r)-s*n,h=o*(1-r)+s*n,l=o*(1-r)+s*n,c=r+o*(1-r),d=o*(1-r)-s*n,f=o*(1-r)-s*n,p=o*(1-r)+s*n,v=r+o*(1-r),y=[a,u,h,0,0,l,c,d,0,0,f,p,v,0,0,0,0,0,1,0];this._loadMatrix(y,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.colorTone=function(t,e,r,n,i){t=t||.2,e=e||.15,r=r||16770432,n=n||3375104;var o=(r>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=(n>>16&255)/255,h=(n>>8&255)/255,l=(255&n)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,u,h,l,e,0,o-u,s-h,a-l,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){t=t||.1;var r=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},s(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(u.Filter));r.default=h,h.prototype.grayscale=h.prototype.greyscale},{"../../core":65,path:8}],150:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=(t("path"),function(t){function e(r,o){n(this,e);var s=new u.Matrix;r.renderable=!1;var a=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return a.maskSprite=r,a.maskMatrix=s,a.uniforms.mapSampler=r._texture,a.uniforms.filterMatrix=s,a.uniforms.scale={x:1,y:1},null!==o&&void 0!==o||(o=20),a.scale=new u.Point(o,o),a}return o(e,t),e.prototype.apply=function(t,e,r){var n=1/r.destinationFrame.width*(r.size.width/e.size.width);this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*n,this.uniforms.scale.y=this.scale.y*n,t.applyFilter(this,e,r)},s(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(u.Filter));r.default=h},{"../../core":65,path:8}],151:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../../core"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(s),u=(t("path"),function(t){function e(){return n(this,e),i(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return o(e,t),e}(a.Filter));r.default=u},{"../../core":65,path:8}],152:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./fxaa/FXAAFilter");Object.defineProperty(r,"FXAAFilter",{enumerable:!0,get:function(){return n(i).default}});var o=t("./noise/NoiseFilter");Object.defineProperty(r,"NoiseFilter",{enumerable:!0,get:function(){return n(o).default}});var s=t("./displacement/DisplacementFilter");Object.defineProperty(r,"DisplacementFilter",{enumerable:!0,get:function(){return n(s).default}});var a=t("./blur/BlurFilter");Object.defineProperty(r,"BlurFilter",{enumerable:!0,get:function(){return n(a).default}});var u=t("./blur/BlurXFilter");Object.defineProperty(r,"BlurXFilter",{enumerable:!0,get:function(){return n(u).default}});var h=t("./blur/BlurYFilter");Object.defineProperty(r,"BlurYFilter",{enumerable:!0,get:function(){return n(h).default}});var l=t("./colormatrix/ColorMatrixFilter");Object.defineProperty(r,"ColorMatrixFilter",{enumerable:!0,get:function(){return n(l).default}});var c=t("./void/VoidFilter");Object.defineProperty(r,"VoidFilter",{enumerable:!0,get:function(){return n(c).default}})},{"./blur/BlurFilter":143,"./blur/BlurXFilter":144,"./blur/BlurYFilter":145,"./colormatrix/ColorMatrixFilter":149,"./displacement/DisplacementFilter":150,"./fxaa/FXAAFilter":151,"./noise/NoiseFilter":153,"./void/VoidFilter":154}],153:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=(t("path"),function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();n(this,e);var s=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return s.noise=r,s.seed=o,s}return o(e,t),s(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(u.Filter));r.default=h},{"../../core":65,path:8}],154:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../../core"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(s),u=(t("path"),function(t){function e(){n(this,e);var r=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));return r.glShaderKey="void",r}return o(e,t),e}(a.Filter));r.default=u},{"../../core":65,path:8}],155:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=t("../core"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(o),a=function(){function t(){n(this,t),this.global=new s.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype._copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=t.buttons,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype._reset=function(){this.isPrimary=!1},i(t,[{key:"pointerId",
get:function(){return this.identifier}}]),t}();r.default=a},{"../core":65}],156:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(){n(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();r.default=i},{}],157:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=t("../core"),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),l=t("./InteractionData"),c=n(l),d=t("./InteractionEvent"),f=n(d),p=t("./InteractionTrackingData"),v=n(p),y=t("eventemitter3"),g=n(y),m=t("./interactiveTarget"),_=n(m);h.utils.mixins.delayMixin(h.DisplayObject.prototype,_.default);var b="MOUSE",x={target:null,data:{global:null}},T=function(t){function e(r,n){i(this,e);var s=o(this,t.call(this));return n=n||{},s.renderer=r,s.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,s.interactionFrequency=n.interactionFrequency||10,s.mouse=new c.default,s.mouse.identifier=b,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[b]=s.mouse,s.interactionDataPool=[],s.eventData=new f.default,s.interactionDOMElement=null,s.moveWhenInside=!1,s.eventsAdded=!1,s.mouseOverRenderer=!1,s.supportsTouchEvents="ontouchstart"in window,s.supportsPointerEvents=!!window.PointerEvent,s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={default:"inherit",pointer:"pointer"},s.currentCursorMode=null,s.cursor=null,s._tempPoint=new h.Point,s.resolution=1,s.setTargetElement(s.renderer.view,s.renderer.resolution),s}return s(e,t),e.prototype.hitTest=function(t,e){return x.target=null,x.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(x,e,null,!0),x.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(h.ticker.shared.add(this.update,this,h.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(h.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":a(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global;i=e.interactive||i;var s=!1,a=i;if(e.hitArea?a=!1:n&&e._mask&&(e._mask.containsPoint(o)||(n=!1)),e.interactiveChildren&&e.children)for(var u=e.children,h=u.length-1;h>=0;h--){var l=u[h],c=this.processInteractive(t,l,r,n,a);if(c){if(!l.parent)continue;a=!1,c&&(t.target&&(n=!1),s=!0)}}return i&&(n&&!t.target&&(e.hitArea?(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(s=!0)):e.containsPoint&&e.containsPoint(o)&&(s=!0)),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new v.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<i;s++){var a=n[s],u=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,h),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,h),this.releaseInteractionDataForPointerId(a.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],s="touch"===n.pointerType;if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button,u=v.default.FLAGS,h=a?u.RIGHT_DOWN:u.LEFT_DOWN,l=void 0!==o&&o.flags&h;r?(this.dispatchEvent(e,a?"rightup":"mouseup",t),l&&this.dispatchEvent(e,a?"rightclick":"click",t)):l&&this.dispatchEvent(e,a?"rightupoutside":"mouseupoutside",t),o&&(a?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"===e[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=t;var a="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t),r=e[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(r),i=this.configureInteractionEventForDOMEvent(this.eventData,r,n);i.data.originalEvent=r,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===r.pointerType||"pen"===r.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[i];r&&!s&&(s=e.trackedPointers[i]=new v.default(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t),r=e[0],n=this.getInteractionDataForPointerId(r),i=this.configureInteractionEventForDOMEvent(this.eventData,r,n);i.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,r=void 0;return e===b||"mouse"===t.pointerType?r=this.mouse:this.activeInteractionData[e]?r=this.activeInteractionData[e]:(r=this.interactionDataPool.pop()||new c.default,r.identifier=e,this.activeInteractionData[e]=r),r._copyEvent(t),r},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e._reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(r.global.x=r.global.x/this.resolution,r.global.y=r.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t._reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=b),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(g.default);r.default=T,h.WebGLRenderer.registerPlugin("interaction",T),h.CanvasRenderer.registerPlugin("interaction",T)},{"../core":65,"./InteractionData":155,"./InteractionEvent":156,"./InteractionTrackingData":158,"./interactiveTarget":160,eventemitter3:3}],158:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(e){n(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},i(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();r.default=o,o.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],159:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./InteractionData");Object.defineProperty(r,"InteractionData",{enumerable:!0,get:function(){return n(i).default}});var o=t("./InteractionManager");Object.defineProperty(r,"InteractionManager",{enumerable:!0,get:function(){return n(o).default}});var s=t("./interactiveTarget");Object.defineProperty(r,"interactiveTarget",{enumerable:!0,get:function(){return n(s).default}});var a=t("./InteractionTrackingData");Object.defineProperty(r,"InteractionTrackingData",{enumerable:!0,get:function(){return n(a).default}});var u=t("./InteractionEvent");Object.defineProperty(r,"InteractionEvent",{enumerable:!0,get:function(){return n(u).default}})},{"./InteractionData":155,"./InteractionEvent":156,"./InteractionManager":157,"./InteractionTrackingData":158,"./interactiveTarget":160}],160:[function(t,e,r){"use strict";r.__esModule=!0,r.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],161:[function(t,e,r){"use strict";function n(t,e){t.bitmapFont=u.BitmapText.registerFont(t.data,e)}r.__esModule=!0,r.parse=n,r.default=function(){return function(t,e){if(!t.data||t.type!==a.Resource.TYPE.XML)return void e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return void e();var r=t.isDataUrl?"":o.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");var i=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(s.utils.TextureCache[i])n(t,s.utils.TextureCache[i]),e();else{var u={crossOrigin:t.crossOrigin,loadType:a.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",i,u,function(r){n(t,r.texture),e()})}}};var i=t("path"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=t("../core"),a=t("resource-loader"),u=t("../extras")},{"../core":65,"../extras":141,path:8,"resource-loader":36}],162:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0,r.shared=r.Resource=r.textureParser=r.getResourcePath=r.spritesheetParser=r.parseBitmapFontData=r.bitmapFontParser=r.Loader=void 0;var i=t("./bitmapFontParser");Object.defineProperty(r,"bitmapFontParser",{enumerable:!0,get:function(){return n(i).default}}),Object.defineProperty(r,"parseBitmapFontData",{enumerable:!0,get:function(){return i.parse}});var o=t("./spritesheetParser");Object.defineProperty(r,"spritesheetParser",{enumerable:!0,get:function(){return n(o).default}}),Object.defineProperty(r,"getResourcePath",{enumerable:!0,get:function(){return o.getResourcePath}});var s=t("./textureParser");Object.defineProperty(r,"textureParser",{enumerable:!0,get:function(){return n(s).default}});var a=t("resource-loader");Object.defineProperty(r,"Resource",{enumerable:!0,get:function(){return a.Resource}});var u=t("../core/Application"),h=n(u),l=t("./loader"),c=n(l);r.Loader=c.default;var d=new c.default;d.destroy=function(){},r.shared=d;var f=h.default.prototype;f._loader=null,Object.defineProperty(f,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?d:new c.default}return this._loader}}),f._parentDestroy=f.destroy,f.destroy=function(t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t)}},{"../core/Application":43,"./bitmapFontParser":161,"./loader":163,"./spritesheetParser":164,"./textureParser":165,"resource-loader":36}],163:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("resource-loader"),u=n(a),h=t("resource-loader/lib/middlewares/parsing/blob"),l=t("eventemitter3"),c=n(l),d=t("./textureParser"),f=n(d),p=t("./spritesheetParser"),v=n(p),y=t("./bitmapFontParser"),g=n(y),m=function(t){function e(r,n){i(this,e);var s=o(this,t.call(this,r,n));c.default.call(s);for(var a=0;a<e._pixiMiddleware.length;++a)s.use(e._pixiMiddleware[a]());return s.onStart.add(function(t){return s.emit("start",t)}),s.onProgress.add(function(t,e){return s.emit("progress",t,e)}),s.onError.add(function(t,e,r){return s.emit("error",t,e,r)}),s.onLoad.add(function(t,e){return s.emit("load",t,e)}),s.onComplete.add(function(t,e){return s.emit("complete",t,e)}),s}return s(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(u.default);r.default=m;for(var _ in c.default.prototype)m.prototype[_]=c.default.prototype[_];m._pixiMiddleware=[h.blobMiddlewareFactory,f.default,v.default,g.default];var b=u.default.Resource;b.setExtensionXhrType("fnt",b.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":161,"./spritesheetParser":164,"./textureParser":165,eventemitter3:3,"resource-loader":36,"resource-loader/lib/middlewares/parsing/blob":37}],164:[function(t,e,r){"use strict";function n(t,e){return t.isDataUrl?t.data.meta.image:s.default.resolve(t.url.replace(e,""),t.data.meta.image)}r.__esModule=!0,r.default=function(){return function(t,e){var r=t.name+"_image";if(!t.data||t.type!==i.Resource.TYPE.JSON||!t.data.frames||this.resources[r])return void e();var o={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t},s=n(t,this.baseUrl);this.add(r,s,o,function(r){var n=new a.Spritesheet(r.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})})}},r.getResourcePath=n;var i=t("resource-loader"),o=t("url"),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=t("../core")},{"../core":65,"resource-loader":36,url:38}],165:[function(t,e,r){"use strict";r.__esModule=!0,r.default=function(){return function(t,e){t.data&&t.type===n.Resource.TYPE.IMAGE&&(t.texture=o.default.fromLoader(t.data,t.url,t.name)),e()}};var n=t("resource-loader"),i=t("../core/textures/Texture"),o=function(t){return t&&t.__esModule?t:{default:t}}(i)},{"../core/textures/Texture":115,"resource-loader":36}],166:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=t("../extras/TextureTransform"),l=function(t){return t&&t.__esModule?t:{default:t}}(h),c=new u.Point,d=new u.Polygon,f=function(t){function e(r,o,s,a,h){n(this,e);var c=i(this,t.call(this));return c._texture=r,c.uvs=s||new Float32Array([0,0,1,0,1,1,0,1]),c.vertices=o||new Float32Array([0,0,100,0,100,100,0,100]),c.indices=a||new Uint16Array([0,1,3,2]),c.dirty=0,c.indexDirty=0,c.blendMode=u.BLEND_MODES.NORMAL,c.canvasPadding=0,c.drawMode=h||e.DRAW_MODES.TRIANGLE_MESH,c.shader=null,c.tintRgb=new Float32Array([1,1,1]),c._glDatas={},c._uvTransform=new l.default(r),c.uploadUvTransform=!1,c.pluginName="mesh",c}return o(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,c);for(var r=this.vertices,n=d.points,i=this.indices,o=this.indices.length,s=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<o;a+=s){var u=2*i[a],h=2*i[a+1],l=2*i[a+2];if(n[0]=r[u],n[1]=r[u+1],n[2]=r[h],n[3]=r[h+1],n[4]=r[l],n[5]=r[l+1],d.contains(c.x,c.y))return!0}return!1},s(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return u.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=u.utils.hex2rgb(t,this.tintRgb)}}]),e}(u.Container);r.default=f,f.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":65,"../extras/TextureTransform":136}],167:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("./Plane"),u=function(t){return t&&t.__esModule?t:{default:t}}(a),h=10,l=function(t){function e(r,o,s,a,u){n(this,e);var l=i(this,t.call(this,r,4,4));return l._origWidth=r.orig.width,l._origHeight=r.orig.height,l._width=l._origWidth,l._height=l._origHeight,l.leftWidth=void 0!==o?o:h,l.rightWidth=void 0!==a?a:h,l.topHeight=void 0!==s?s:h,l.bottomHeight=void 0!==u?u:h,l.refresh(!0),l}return o(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha;var r=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):e.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n);var i=this._texture.baseTexture,o=i.source,s=i.width,a=i.height;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},e.prototype.drawSegment=function(t,e,r,n,i,o,s,a){var u=this.uvs,h=this.vertices,l=(u[s]-u[i])*r,c=(u[a]-u[o])*n,d=h[s]-h[i],f=h[a]-h[o];l<1&&(l=1),c<1&&(c=1),d<1&&(d=1),f<1&&(f=1),t.drawImage(e,u[i]*r,u[o]*n,l,c,h[i],h[o],d,f)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,r=this._texture;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var n=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty=!0,this.multiplyUvs()},s(e,[{key:"width",
get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(u.default);r.default=l},{"./Plane":168}],168:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("./Mesh"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(r,o,s){n(this,e);var u=i(this,t.call(this,r));return u._ready=!0,u.verticesX=o||10,u.verticesY=s||10,u.drawMode=a.default.DRAW_MODES.TRIANGLES,u.refresh(),u}return o(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],n=[],i=[],o=[],s=this.verticesX-1,a=this.verticesY-1,u=t.width/s,h=t.height/a,l=0;l<e;l++){var c=l%this.verticesX,d=l/this.verticesX|0;r.push(c*u,d*h),i.push(c/s,d/a)}for(var f=s*a,p=0;p<f;p++){var v=p%s,y=p/s|0,g=y*this.verticesX+v,m=y*this.verticesX+v+1,_=(y+1)*this.verticesX+v,b=(y+1)*this.verticesX+v+1;o.push(g,m,_),o.push(m,b,_)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(i),this.colors=new Float32Array(n),this.indices=new Uint16Array(o),this.indexDirty=!0,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){a.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(a.default);r.default=u},{"./Mesh":166}],169:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("./Mesh"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(r,o){n(this,e);var s=i(this,t.call(this,r));return s.points=o,s.vertices=new Float32Array(4*o.length),s.uvs=new Float32Array(4*o.length),s.colors=new Float32Array(2*o.length),s.indices=new Uint16Array(2*o.length),s.autoUpdate=!0,s.refresh(),s}return o(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i=t.length,o=1;o<i;o++){var s=4*o,a=o/(i-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,s=2*o,n[s]=1,n[s+1]=1,s=2*o,r[s]=s,r[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,s=t.length,a=0;a<s;a++){var u=t[a],h=4*a;r=a<t.length-1?t[a+1]:u,i=-(r.x-e.x),n=r.y-e.y;var l=10*(1-a/(s-1));l>1&&(l=1);var c=Math.sqrt(n*n+i*i),d=this._texture.height/2;n/=c,i/=c,n*=d,i*=d,o[h]=u.x+n,o[h+1]=u.y+i,o[h+2]=u.x-n,o[h+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(a.default);r.default=u},{"./Mesh":166}],170:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=t("../../core"),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(i),s=t("../Mesh"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(){function t(e){n(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,r=e.context,n=t.worldTransform,i=e.resolution;e.roundPixels?r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0):r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),e.setBlendMode(t.blendMode),t.drawMode===a.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,r=0;r<e-2;r++){var n=2*r;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,r=e.length,n=0;n<r;n+=3){var i=2*e[n],o=2*e[n+1],s=2*e[n+2];this._renderDrawTriangle(t,i,o,s)}},t.prototype._renderDrawTriangle=function(t,e,r,n){var i=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var u=a.baseTexture,h=u.source,l=u.width,c=u.height,d=void 0,f=void 0,p=void 0,v=void 0,y=void 0,g=void 0;if(t.uploadUvTransform){var m=t._uvTransform.mapCoord;d=(o[e]*m.a+o[e+1]*m.c+m.tx)*u.width,f=(o[r]*m.a+o[r+1]*m.c+m.tx)*u.width,p=(o[n]*m.a+o[n+1]*m.c+m.tx)*u.width,v=(o[e]*m.b+o[e+1]*m.d+m.ty)*u.height,y=(o[r]*m.b+o[r+1]*m.d+m.ty)*u.height,g=(o[n]*m.b+o[n+1]*m.d+m.ty)*u.height}else d=o[e]*u.width,f=o[r]*u.width,p=o[n]*u.width,v=o[e+1]*u.height,y=o[r+1]*u.height,g=o[n+1]*u.height;var _=s[e],b=s[r],x=s[n],T=s[e+1],w=s[r+1],E=s[n+1];if(t.canvasPadding>0){var S=t.canvasPadding/t.worldTransform.a,O=t.canvasPadding/t.worldTransform.d,P=(_+b+x)/3,M=(T+w+E)/3,C=_-P,R=T-M,A=Math.sqrt(C*C+R*R);_=P+C/A*(A+S),T=M+R/A*(A+O),C=b-P,R=w-M,A=Math.sqrt(C*C+R*R),b=P+C/A*(A+S),w=M+R/A*(A+O),C=x-P,R=E-M,A=Math.sqrt(C*C+R*R),x=P+C/A*(A+S),E=M+R/A*(A+O)}i.save(),i.beginPath(),i.moveTo(_,T),i.lineTo(b,w),i.lineTo(x,E),i.closePath(),i.clip();var I=d*y+v*p+f*g-y*p-v*f-d*g,D=_*y+v*x+b*g-y*x-v*b-_*g,L=d*b+_*p+f*x-b*p-_*f-d*x,N=d*y*x+v*b*p+_*f*g-_*y*p-v*f*x-d*b*g,F=T*y+v*E+w*g-y*E-v*w-T*g,B=d*w+T*p+f*E-w*p-T*f-d*E,k=d*y*E+v*w*p+T*f*g-T*y*p-v*f*E-d*w*g;i.transform(D/I,F/I,L/I,B/I,N/I,k/I),i.drawImage(h,0,0,l*u.resolution,c*u.resolution,0,0,l,c),i.restore()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.vertices,n=r.length/2;e.beginPath();for(var i=1;i<n-2;++i){var o=2*i,s=r[o],a=r[o+1],u=r[o+2],h=r[o+3],l=r[o+4],c=r[o+5];e.moveTo(s,a),e.lineTo(u,h),e.lineTo(l,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();r.default=u,o.CanvasRenderer.registerPlugin("mesh",u)},{"../../core":65,"../Mesh":166}],171:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./Mesh");Object.defineProperty(r,"Mesh",{enumerable:!0,get:function(){return n(i).default}});var o=t("./webgl/MeshRenderer");Object.defineProperty(r,"MeshRenderer",{enumerable:!0,get:function(){return n(o).default}});var s=t("./canvas/CanvasMeshRenderer");Object.defineProperty(r,"CanvasMeshRenderer",{enumerable:!0,get:function(){return n(s).default}});var a=t("./Plane");Object.defineProperty(r,"Plane",{enumerable:!0,get:function(){return n(a).default}});var u=t("./NineSlicePlane");Object.defineProperty(r,"NineSlicePlane",{enumerable:!0,get:function(){return n(u).default}});var h=t("./Rope");Object.defineProperty(r,"Rope",{enumerable:!0,get:function(){return n(h).default}})},{"./Mesh":166,"./NineSlicePlane":167,"./Plane":168,"./Rope":169,"./canvas/CanvasMeshRenderer":170,"./webgl/MeshRenderer":172}],172:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=t("pixi-gl-core"),l=n(h),c=t("../Mesh"),d=n(c),f=(t("path"),u.Matrix.IDENTITY),p=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.shader=null,n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new u.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,r=e.gl,n=t._texture;if(n.valid){var i=t._glDatas[e.CONTEXT_UID];i||(e.bindVao(null),i={shader:this.shader,vertexBuffer:l.default.GLBuffer.createVertexBuffer(r,t.vertices,r.STREAM_DRAW),uvBuffer:l.default.GLBuffer.createVertexBuffer(r,t.uvs,r.STREAM_DRAW),indexBuffer:l.default.GLBuffer.createIndexBuffer(r,t.indices,r.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty},i.vao=new l.default.VertexArrayObject(r).addIndex(i.indexBuffer).addAttribute(i.vertexBuffer,i.shader.attributes.aVertexPosition,r.FLOAT,!1,8,0).addAttribute(i.uvBuffer,i.shader.attributes.aTextureCoord,r.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=i),e.bindVao(i.vao),t.dirty!==i.dirty&&(i.dirty=t.dirty,i.uvBuffer.upload(t.uvs)),t.indexDirty!==i.indexDirty&&(i.indexDirty=t.indexDirty,i.indexBuffer.upload(t.indices)),i.vertexBuffer.upload(t.vertices),e.bindShader(i.shader),i.shader.uniforms.uSampler=e.bindTexture(n),e.state.setBlendMode(u.utils.correctBlendMode(t.blendMode,n.baseTexture.premultipliedAlpha)),i.shader.uniforms.uTransform&&(t.uploadUvTransform?i.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):i.shader.uniforms.uTransform=f.toArray(!0)),i.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),i.shader.uniforms.uColor=u.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,i.shader.uniforms.uColor,n.baseTexture.premultipliedAlpha);var o=t.drawMode===d.default.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;i.vao.draw(o,t.indices.length,0)}},e}(u.ObjectRenderer);r.default=p,u.WebGLRenderer.registerPlugin("mesh",p)},{"../../core":65,"../Mesh":166,path:8,"pixi-gl-core":15}],173:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=t("../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=t("../core/utils"),l=function(t){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,o=arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384;n(this,e);var a=i(this,t.call(this));return s>16384&&(s=16384),s>r&&(s=r),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=s,a._glBuffers={},a._bufferToUpdate=0,a.interactiveChildren=!1,a.blendMode=u.BLEND_MODES.NORMAL,a.roundPixels=!0,a.baseTexture=null,a.setProperties(o),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return o(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,n=!0,i=0,o=0,s=0,a=0,u=t.blendModes[this.blendMode];u!==e.globalCompositeOperation&&(e.globalCompositeOperation=u),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var h=0;h<this.children.length;++h){var l=this.children[h];if(l.visible){var c=l._texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)==0)n&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx*t.resolution,r.ty*t.resolution),n=!1),i=l.anchor.x*(-c.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-c.height*l.scale.y)+l.position.y+.5,s=c.width*l.scale.x,a=c.height*l.scale.y;else{n||(n=!0),l.displayObjectUpdateTransform();var d=l.worldTransform;t.roundPixels?e.setTransform(d.a,d.b,d.c,d.d,d.tx*t.resolution|0,d.ty*t.resolution|0):e.setTransform(d.a,d.b,d.c,d.d,d.tx*t.resolution,d.ty*t.resolution),i=l.anchor.x*-c.width+.5,o=l.anchor.y*-c.height+.5,s=c.width,a=c.height}var f=l._texture.baseTexture.resolution;e.drawImage(l._texture.baseTexture.source,c.x*f,c.y*f,c.width*f,c.height*f,i*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null},s(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,h.hex2rgb)(t,this.tintRgb)}}]),e}(u.Container);r.default=l},{"../core":65,"../core/utils":124}],174:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./ParticleContainer");Object.defineProperty(r,"ParticleContainer",{enumerable:!0,get:function(){return n(i).default}});var o=t("./webgl/ParticleRenderer");Object.defineProperty(r,"ParticleRenderer",{enumerable:!0,get:function(){return n(o).default}})},{"./ParticleContainer":173,"./webgl/ParticleRenderer":176}],175:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=t("pixi-gl-core"),s=n(o),a=t("../../core/utils/createIndicesForQuads"),u=n(a),h=function(){function t(e,r,n,o){i(this,t),this.gl=e,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var s=0;s<r.length;++s){var a=r[s];a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,offset:a.offset},n[s]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,u.default)(this.size),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var n=this.dynamicProperties[r];n.offset=e,e+=n.size,this.dynamicStride+=n.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=s.default.GLBuffer.createVertexBuffer(t,this.dynamicData,t.STREAM_DRAW);var i=0;this.staticStride=0;for(var o=0;o<this.staticProperties.length;++o){var a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=s.default.GLBuffer.createVertexBuffer(t,this.staticData,t.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var h=0;h<this.dynamicProperties.length;++h){var l=this.dynamicProperties[h];this.vao.addAttribute(this.dynamicBuffer,l.attribute,t.FLOAT,!1,4*this.dynamicStride,4*l.offset)}for(var c=0;c<this.staticProperties.length;++c){var d=this.staticProperties[c];this.vao.addAttribute(this.staticBuffer,d.attribute,t.FLOAT,!1,4*this.staticStride,4*d.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},t}();r.default=h},{"../../core/utils/createIndicesForQuads":122,"pixi-gl-core":15}],176:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=t("./ParticleShader"),l=n(h),c=t("./ParticleBuffer"),d=n(c),f=function(t){function e(r){i(this,e);var n=o(this,t.call(this,r));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new u.Matrix,n.CONTEXT_UID=0,n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new l.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>r&&(o=r);var s=t._glBuffers[i.CONTEXT_UID];s||(s=t._glBuffers[i.CONTEXT_UID]=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.setBlendMode(u.utils.correctBlendMode(t.blendMode,a.premultipliedAlpha));var h=i.gl,l=t.worldTransform.copy(this.tempMatrix);l.prepend(i._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=u.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.premultipliedAlpha),this.shader.uniforms.uSampler=i.bindTexture(a);for(var c=0,d=0;c<o;c+=n,d+=1){var f=o-c;f>n&&(f=n);var p=s[d];p.uploadDynamic(e,c,f),t._bufferToUpdate===d&&(p.uploadStatic(e,c,f),t._bufferToUpdate=d+1),i.bindVao(p.vao),p.vao.draw(h.TRIANGLES,6*f)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,r=[],n=t._maxSize,i=t._batchSize,o=t._properties,s=0;s<n;s+=i)r.push(new d.default(e,this.properties,o,i));return r},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var s=0,a=0,u=0,h=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,f=c.scale.x,p=c.scale.y,v=d.trim,y=d.orig;v?(a=v.x-c.anchor.x*y.width,s=a+v.width,h=v.y-c.anchor.y*y.height,u=h+v.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,u=y.height*(1-c.anchor.y),h=y.height*-c.anchor.y),n[o]=a*f,n[o+1]=h*p,n[o+i]=s*f,n[o+i+1]=h*p,n[o+2*i]=s*f,n[o+2*i+1]=u*p,n[o+3*i]=a*f,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadAlpha=function(t,e,r,n,i,o){for(var s=0;s<r;s++){var a=t[e+s].alpha;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(u.ObjectRenderer);r.default=f,u.WebGLRenderer.registerPlugin("particle",f)},{"../../core":65,"./ParticleBuffer":175,"./ParticleShader":177}],177:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}r.__esModule=!0;var s=t("../../core/Shader"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=function(t){function e(r){return n(this,e),i(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform vec4 uColor;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uColor;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n")))}return o(e,t),e}(a.default);r.default=u},{"../../core/Shader":44}],178:[function(t,e,r){"use strict";Math.sign||(Math.sign=function(t){return t=Number(t),0===t||isNaN(t)?t:t>0?1:-1})},{}],179:[function(t,e,r){"use strict";var n=t("object-assign"),i=function(t){return t&&t.__esModule?t:{default:t}}(n);Object.assign||(Object.assign=i.default)},{"object-assign":6}],180:[function(t,e,r){"use strict";t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":178,"./Object.assign":179,"./requestAnimationFrame":181}],181:[function(t,e,r){(function(t){"use strict";if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i){var o=n[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+r-e;return n<0&&(n=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],182:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof d.Texture){var i=t._textures[n].baseTexture;-1===e.indexOf(i)&&(e.push(i),r=!0)}return r}function o(t,e){return t instanceof d.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function s(t,e){if(t._texture&&t._texture instanceof d.Texture){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function a(t,e){return e instanceof d.Text&&(e.updateText(!0),!0)}function u(t,e){if(e instanceof d.TextStyle){var r=e.toFontString();return d.TextMetrics.measureFont(r),!0}return!1}function h(t,e){if(t instanceof d.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function l(t,e){return t instanceof d.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}r.__esModule=!0;var c=t("../core"),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(c),f=t("./limiters/CountLimiter"),p=function(t){return t&&t.__esModule?t:{default:t}}(f),v=d.ticker.shared;d.settings.UPLOADS_PER_FRAME=4;var y=function(){function t(e){var r=this;n(this,t),this.limiter=new p.default(d.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){r.queue&&r.prepareItems()},this.registerFindHook(h),this.registerFindHook(l),this.registerFindHook(i),this.registerFindHook(o),this.registerFindHook(s),this.registerUploadHook(a),this.registerUploadHook(u)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,v.addOnce(this.tick,this,d.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)v.addOnce(this.tick,this,d.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(var o=0,s=i.length;o<s;o++)i[o]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof d.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&v.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();r.default=y},{"../core":65,"./limiters/CountLimiter":185}],183:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(e instanceof u.BaseTexture){var r=e.source,n=0===r.width?t.canvas.width:Math.min(t.canvas.width,r.width),i=0===r.height?t.canvas.height:Math.min(t.canvas.height,r.height);return t.ctx.drawImage(r,0,0,n,i,0,0,t.canvas.width,t.canvas.height),!0}return!1}r.__esModule=!0;var a=t("../../core"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(a),h=t("../BasePrepare"),l=function(t){return t&&t.__esModule?t:{default:t}}(h),c=16,d=function(t){function e(r){n(this,e);var o=i(this,t.call(this,r));return o.uploadHookHelper=o,o.canvas=document.createElement("canvas"),o.canvas.width=c,o.canvas.height=c,o.ctx=o.canvas.getContext("2d"),o.registerUploadHook(s),o}return o(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(l.default);r.default=d,u.CanvasRenderer.registerPlugin("prepare",d)},{"../../core":65,"../BasePrepare":182}],184:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}r.__esModule=!0;var i=t("./webgl/WebGLPrepare");Object.defineProperty(r,"webgl",{enumerable:!0,get:function(){return n(i).default}});var o=t("./canvas/CanvasPrepare");Object.defineProperty(r,"canvas",{enumerable:!0,get:function(){return n(o).default}});var s=t("./BasePrepare");Object.defineProperty(r,"BasePrepare",{enumerable:!0,get:function(){return n(s).default}});var a=t("./limiters/CountLimiter")
;Object.defineProperty(r,"CountLimiter",{enumerable:!0,get:function(){return n(a).default}});var u=t("./limiters/TimeLimiter");Object.defineProperty(r,"TimeLimiter",{enumerable:!0,get:function(){return n(u).default}})},{"./BasePrepare":182,"./canvas/CanvasPrepare":183,"./limiters/CountLimiter":185,"./limiters/TimeLimiter":186,"./webgl/WebGLPrepare":187}],185:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();r.default=i},{}],186:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(){function t(e){n(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();r.default=i},{}],187:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return e instanceof l.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function a(t,e){return e instanceof l.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function u(t,e){return t instanceof l.Graphics&&(e.push(t),!0)}r.__esModule=!0;var h=t("../../core"),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(h),c=t("../BasePrepare"),d=function(t){return t&&t.__esModule?t:{default:t}}(c),f=function(t){function e(r){n(this,e);var o=i(this,t.call(this,r));return o.uploadHookHelper=o.renderer,o.registerFindHook(u),o.registerUploadHook(s),o.registerUploadHook(a),o}return o(e,t),e}(d.default);r.default=f,l.WebGLRenderer.registerPlugin("prepare",f)},{"../../core":65,"../BasePrepare":182}],188:[function(t,e,r){(function(e){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}r.__esModule=!0,r.loader=r.prepare=r.particles=r.mesh=r.loaders=r.interaction=r.filters=r.extras=r.extract=r.accessibility=void 0;var i=t("./polyfill");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./core");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(r,t,{enumerable:!0,get:function(){return o[t]}})});var s=t("./deprecation"),a=function(t){return t&&t.__esModule?t:{default:t}}(s),u=t("./accessibility"),h=n(u),l=t("./extract"),c=n(l),d=t("./extras"),f=n(d),p=t("./filters"),v=n(p),y=t("./interaction"),g=n(y),m=t("./loaders"),_=n(m),b=t("./mesh"),x=n(b),T=t("./particles"),w=n(T),E=t("./prepare"),S=n(E);o.utils.mixins.performMixins();var O=_.shared||null;r.accessibility=h,r.extract=c,r.extras=f,r.filters=v,r.interaction=g,r.loaders=_,r.mesh=x,r.particles=w,r.prepare=S,r.loader=O,"function"==typeof a.default&&(0,a.default)(r),e.PIXI=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":42,"./core":65,"./deprecation":130,"./extract":132,"./extras":141,"./filters":152,"./interaction":159,"./loaders":162,"./mesh":171,"./particles":174,"./polyfill":180,"./prepare":184}]},{},[188])(188)});
//# sourceMappingURL=pixi.min.js.map

/*!
 * pixi-particles - v2.1.5
 * Compiled Tue, 14 Mar 2017 22:08:59 UTC
 *
 * pixi-particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,i.pixiParticles=t()}}(function(){var define,module,exports;return function t(i,e,s){function a(n,o){if(!e[n]){if(!i[n]){var h="function"==typeof require&&require;if(!o&&h)return h(n,!0);if(r)return r(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var p=e[n]={exports:{}};i[n][0].call(p.exports,function(t){var e=i[n][1][t];return a(e?e:t)},p,p.exports,t,i,e,s)}return e[n].exports}for(var r="function"==typeof require&&require,n=0;n<s.length;n++)a(s[n]);return a}({1:[function(t,i,e){"use strict";var s=t("./ParticleUtils"),a=t("./Particle"),r=PIXI.Texture,n=function(t){a.call(this,t),this.textures=null,this.duration=0,this.framerate=0,this.elapsed=0,this.loop=!1},o=a.prototype,h=n.prototype=Object.create(o);h.init=function(){this.Particle_init(),this.elapsed=0,this.framerate<0&&(this.duration=this.maxLife,this.framerate=this.textures.length/this.duration)},h.applyArt=function(t){this.textures=t.textures,this.framerate=t.framerate,this.duration=t.duration,this.loop=t.loop},h.update=function(t){if(this.Particle_update(t)>=0){this.elapsed+=t,this.elapsed>this.duration&&(this.loop?this.elapsed=this.elapsed%this.duration:this.elapsed=this.duration-1e-6);var i=this.elapsed*this.framerate+1e-7|0;this.texture=this.textures[i]||s.EMPTY_TEXTURE}},h.Particle_destroy=a.prototype.destroy,h.destroy=function(){this.Particle_destroy(),this.textures=null},n.parseArt=function(t){var i,e,s,a,n,o,h=[];for(i=0;i<t.length;++i){for(e=t[i],t[i]=h={},h.textures=o=[],a=e.textures,s=0;s<a.length;++s)if(n=a[s],"string"==typeof n)o.push(r.fromImage(n));else if(n instanceof r)o.push(n);else{var l=n.count||1;for(n="string"==typeof n.texture?r.fromImage(n.texture):n.texture;l>0;--l)o.push(n)}"matchLife"==e.framerate?(h.framerate=-1,h.duration=0,h.loop=!1):(h.loop=!!e.loop,h.framerate=e.framerate>0?e.framerate:60,h.duration=o.length/h.framerate)}return t},i.exports=n},{"./Particle":3,"./ParticleUtils":4}],2:[function(t,i,e){"use strict";var s=t("./ParticleUtils"),a=t("./Particle"),r=PIXI.particles.ParticleContainer||PIXI.ParticleContainer,n=PIXI.ticker.shared,o=function(t,i,e){this._particleConstructor=a,this.particleImages=null,this.startAlpha=1,this.endAlpha=1,this.startSpeed=0,this.endSpeed=0,this.minimumSpeedMultiplier=1,this.acceleration=null,this.maxSpeed=NaN,this.startScale=1,this.endScale=1,this.minimumScaleMultiplier=1,this.startColor=null,this.endColor=null,this.minLifetime=0,this.maxLifetime=0,this.minStartRotation=0,this.maxStartRotation=0,this.noRotation=!1,this.minRotationSpeed=0,this.maxRotationSpeed=0,this.particleBlendMode=0,this.customEase=null,this.extraData=null,this._frequency=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=null,this.spawnType=null,this._spawnFunc=null,this.spawnRect=null,this.spawnCircle=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0,this.rotation=0,this.ownerPos=null,this._prevEmitterPos=null,this._prevPosIsValid=!1,this._posChanged=!1,this._parentIsPC=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._origArt=null,this._autoUpdate=!1,this._destroyWhenComplete=!1,this.parent=t,i&&e&&this.init(i,e),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos},h=o.prototype={},l=new PIXI.Point;Object.defineProperty(h,"frequency",{get:function(){return this._frequency},set:function(t){"number"==typeof t&&t>0?this._frequency=t:this._frequency=1}}),Object.defineProperty(h,"particleConstructor",{get:function(){return this._particleConstructor},set:function(t){if(t!=this._particleConstructor){this._particleConstructor=t,this.cleanup();for(var i=this._poolFirst;i;i=i.next)i.destroy();this._poolFirst=null,this._origConfig&&this._origArt&&this.init(this._origArt,this._origConfig)}}}),Object.defineProperty(h,"parent",{get:function(){return this._parent},set:function(t){if(this._parentIsPC)for(var i=this._poolFirst;i;i=i.next)i.parent&&i.parent.removeChild(i);this.cleanup(),this._parent=t,this._parentIsPC=r&&t&&t instanceof r}}),h.init=function(t,i){if(t&&i){this.cleanup(),this._origConfig=i,this._origArt=t,t=Array.isArray(t)?t.slice():[t];var e=this._particleConstructor;this.particleImages=e.parseArt?e.parseArt(t):t,i.alpha?(this.startAlpha=i.alpha.start,this.endAlpha=i.alpha.end):this.startAlpha=this.endAlpha=1,i.speed?(this.startSpeed=i.speed.start,this.endSpeed=i.speed.end,this.minimumSpeedMultiplier=i.speed.minimumSpeedMultiplier||1):(this.minimumSpeedMultiplier=1,this.startSpeed=this.endSpeed=0);var a=i.acceleration;a&&(a.x||a.y)?(this.endSpeed=this.startSpeed,this.acceleration=new PIXI.Point(a.x,a.y),this.maxSpeed=i.maxSpeed||NaN):this.acceleration=new PIXI.Point,i.scale?(this.startScale=i.scale.start,this.endScale=i.scale.end,this.minimumScaleMultiplier=i.scale.minimumScaleMultiplier||1):this.startScale=this.endScale=this.minimumScaleMultiplier=1,i.color&&(this.startColor=s.hexToRGB(i.color.start),i.color.start!=i.color.end?this.endColor=s.hexToRGB(i.color.end):this.endColor=null),i.startRotation?(this.minStartRotation=i.startRotation.min,this.maxStartRotation=i.startRotation.max):this.minStartRotation=this.maxStartRotation=0,i.noRotation&&(this.minStartRotation||this.maxStartRotation)?this.noRotation=!!i.noRotation:this.noRotation=!1,i.rotationSpeed?(this.minRotationSpeed=i.rotationSpeed.min,this.maxRotationSpeed=i.rotationSpeed.max):this.minRotationSpeed=this.maxRotationSpeed=0,this.minLifetime=i.lifetime.min,this.maxLifetime=i.lifetime.max,this.particleBlendMode=s.getBlendMode(i.blendMode),i.ease?this.customEase="function"==typeof i.ease?i.ease:s.generateEase(i.ease):this.customEase=null,e.parseData?this.extraData=e.parseData(i.extraData):this.extraData=i.extraData||null,this.spawnRect=this.spawnCircle=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0;var r;switch(i.spawnType){case"rect":this.spawnType="rect",this._spawnFunc=this._spawnRect;var n=i.spawnRect;this.spawnRect=new PIXI.Rectangle(n.x,n.y,n.w,n.h);break;case"circle":this.spawnType="circle",this._spawnFunc=this._spawnCircle,r=i.spawnCircle,this.spawnCircle=new PIXI.Circle(r.x,r.y,r.r);break;case"ring":this.spawnType="ring",this._spawnFunc=this._spawnRing,r=i.spawnCircle,this.spawnCircle=new PIXI.Circle(r.x,r.y,r.r),this.spawnCircle.minRadius=r.minR;break;case"burst":this.spawnType="burst",this._spawnFunc=this._spawnBurst,this.particlesPerWave=i.particlesPerWave,this.particleSpacing=i.particleSpacing,this.angleStart=i.angleStart?i.angleStart:0;break;case"point":this.spawnType="point",this._spawnFunc=this._spawnPoint;break;default:this.spawnType="point",this._spawnFunc=this._spawnPoint}this.frequency=i.frequency,this.emitterLifetime=i.emitterLifetime||-1,this.maxParticles=i.maxParticles>0?i.maxParticles:1e3,this.addAtBack=!!i.addAtBack,this.rotation=0,this.ownerPos=new PIXI.Point,this.spawnPos=new PIXI.Point(i.pos.x,i.pos.y),this._prevEmitterPos=this.spawnPos.clone(),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=void 0===i.emit||!!i.emit,this.autoUpdate=void 0!==i.autoUpdate&&!!i.autoUpdate}},h.recycle=function(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t==this._activeParticlesLast&&(this._activeParticlesLast=t.prev),t==this._activeParticlesFirst&&(this._activeParticlesFirst=t.next),t.prev=null,t.next=this._poolFirst,this._poolFirst=t,this._parentIsPC?(t.alpha=0,t.visible=!1):t.parent&&t.parent.removeChild(t),--this.particleCount},h.rotate=function(t){if(this.rotation!=t){var i=t-this.rotation;this.rotation=t,s.rotatePoint(i,this.spawnPos),this._posChanged=!0}},h.updateSpawnPos=function(t,i){this._posChanged=!0,this.spawnPos.x=t,this.spawnPos.y=i},h.updateOwnerPos=function(t,i){this._posChanged=!0,this.ownerPos.x=t,this.ownerPos.y=i},h.resetPositionTracking=function(){this._prevPosIsValid=!1},Object.defineProperty(h,"emit",{get:function(){return this._emit},set:function(t){this._emit=!!t,this._emitterLife=this.emitterLifetime}}),Object.defineProperty(h,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){this._autoUpdate&&!t?n.remove(this.update,this):!this._autoUpdate&&t&&n.add(this.update,this),this._autoUpdate=!!t}}),h.playOnceAndDestroy=function(){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0},h.update=function(t){if(this._autoUpdate&&(t=t/PIXI.settings.TARGET_FPMS/1e3),this._parent){var i,e,s;for(e=this._activeParticlesFirst;e;e=s)s=e.next,e.update(t);var a,r;this._prevPosIsValid&&(a=this._prevEmitterPos.x,r=this._prevEmitterPos.y);var n=this.ownerPos.x+this.spawnPos.x,o=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=t;this._spawnTimer<=0;){if(this._emitterLife>0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles)this._spawnTimer+=this._frequency;else{var h;if(h=this.minLifetime==this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer<h){var l,p;if(this._prevPosIsValid&&this._posChanged){var c=1+this._spawnTimer/t;l=(n-a)*c+a,p=(o-r)*c+r}else l=n,p=o;i=0;for(var d=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount);i<d;++i){var u,m;if(this._poolFirst?(u=this._poolFirst,this._poolFirst=this._poolFirst.next,u.next=null):u=new this.particleConstructor(this),this.particleImages.length>1?u.applyArt(this.particleImages.random()):u.applyArt(this.particleImages[0]),u.startAlpha=this.startAlpha,u.endAlpha=this.endAlpha,1!=this.minimumSpeedMultiplier?(m=Math.random()*(1-this.minimumSpeedMultiplier)+this.minimumSpeedMultiplier,u.startSpeed=this.startSpeed*m,u.endSpeed=this.endSpeed*m):(u.startSpeed=this.startSpeed,u.endSpeed=this.endSpeed),u.acceleration.x=this.acceleration.x,u.acceleration.y=this.acceleration.y,u.maxSpeed=this.maxSpeed,1!=this.minimumScaleMultiplier?(m=Math.random()*(1-this.minimumScaleMultiplier)+this.minimumScaleMultiplier,u.startScale=this.startScale*m,u.endScale=this.endScale*m):(u.startScale=this.startScale,u.endScale=this.endScale),u.startColor=this.startColor,u.endColor=this.endColor,this.minRotationSpeed==this.maxRotationSpeed?u.rotationSpeed=this.minRotationSpeed:u.rotationSpeed=Math.random()*(this.maxRotationSpeed-this.minRotationSpeed)+this.minRotationSpeed,u.noRotation=this.noRotation,u.maxLife=h,u.blendMode=this.particleBlendMode,u.ease=this.customEase,u.extraData=this.extraData,this._spawnFunc(u,l,p,i),u.init(),u.update(-this._spawnTimer),this._parentIsPC&&u.parent){var f=this._parent.children;if(f[0]==u)f.shift();else if(f[f.length-1]==u)f.pop();else{var P=f.indexOf(u);f.splice(P,1)}this.addAtBack?f.unshift(u):f.push(u)}else this.addAtBack?this._parent.addChildAt(u,0):this._parent.addChild(u);this._activeParticlesLast?(this._activeParticlesLast.next=u,u.prev=this._activeParticlesLast,this._activeParticlesLast=u):this._activeParticlesLast=this._activeParticlesFirst=u,++this.particleCount}}this._spawnTimer+=this._frequency}}this._posChanged&&(this._prevEmitterPos.x=n,this._prevEmitterPos.y=o,this._prevPosIsValid=!0,this._posChanged=!1),!this._destroyWhenComplete||this._emit||this._activeParticlesFirst||this.destroy()}},h._spawnPoint=function(t,i,e){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,t.position.x=i,t.position.y=e},h._spawnRect=function(t,i,e){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,l.x=Math.random()*this.spawnRect.width+this.spawnRect.x,l.y=Math.random()*this.spawnRect.height+this.spawnRect.y,0!==this.rotation&&s.rotatePoint(this.rotation,l),t.position.x=i+l.x,t.position.y=e+l.y},h._spawnCircle=function(t,i,e){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,l.x=Math.random()*this.spawnCircle.radius,l.y=0,s.rotatePoint(360*Math.random(),l),l.x+=this.spawnCircle.x,l.y+=this.spawnCircle.y,0!==this.rotation&&s.rotatePoint(this.rotation,l),t.position.x=i+l.x,t.position.y=e+l.y},h._spawnRing=function(t,i,e){var a=this.spawnCircle;this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,a.minRadius==a.radius?l.x=Math.random()*(a.radius-a.minRadius)+a.minRadius:l.x=a.radius,l.y=0;var r=360*Math.random();t.rotation+=r,s.rotatePoint(r,l),l.x+=this.spawnCircle.x,l.y+=this.spawnCircle.y,0!==this.rotation&&s.rotatePoint(this.rotation,l),t.position.x=i+l.x,t.position.y=e+l.y},h._spawnBurst=function(t,i,e,s){0===this.particleSpacing?t.rotation=360*Math.random():t.rotation=this.angleStart+this.particleSpacing*s+this.rotation,t.position.x=i,t.position.y=e},h.cleanup=function(){var t,i;for(t=this._activeParticlesFirst;t;t=i)i=t.next,this.recycle(t),t.parent&&t.parent.removeChild(t);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0},h.destroy=function(){this.autoUpdate=!1,this.cleanup();for(var t,i=this._poolFirst;i;i=t)t=i.next,i.destroy();this._poolFirst=this._parent=this.particleImages=this.spawnPos=this.ownerPos=this.startColor=this.endColor=this.customEase=null},i.exports=o},{"./Particle":3,"./ParticleUtils":4}],3:[function(t,i,e){var s=t("./ParticleUtils"),a=PIXI.Sprite,r=function(t){a.call(this),this.emitter=t,this.anchor.x=this.anchor.y=.5,this.velocity=new PIXI.Point,this.maxLife=0,this.age=0,this.ease=null,this.extraData=null,this.startAlpha=0,this.endAlpha=0,this.startSpeed=0,this.endSpeed=0,this.acceleration=new PIXI.Point,this.maxSpeed=NaN,this.startScale=0,this.endScale=0,this.startColor=null,this._sR=0,this._sG=0,this._sB=0,this.endColor=null,this._eR=0,this._eG=0,this._eB=0,this._doAlpha=!1,this._doScale=!1,this._doSpeed=!1,this._doAcceleration=!1,this._doColor=!1,this._doNormalMovement=!1,this._oneOverLife=0,this.next=null,this.prev=null,this.init=this.init,this.Particle_init=this.Particle_init,this.update=this.update,this.Particle_update=this.Particle_update,this.applyArt=this.applyArt,this.kill=this.kill},n=r.prototype=Object.create(a.prototype);n.init=n.Particle_init=function(){this.age=0,this.velocity.x=this.startSpeed,this.velocity.y=0,s.rotatePoint(this.rotation,this.velocity),this.noRotation?this.rotation=0:this.rotation*=s.DEG_TO_RADS,this.rotationSpeed*=s.DEG_TO_RADS,this.alpha=this.startAlpha,this.scale.x=this.scale.y=this.startScale,this.startColor&&(this._sR=this.startColor[0],this._sG=this.startColor[1],this._sB=this.startColor[2],this.endColor&&(this._eR=this.endColor[0],this._eG=this.endColor[1],this._eB=this.endColor[2])),this._doAlpha=this.startAlpha!=this.endAlpha,this._doSpeed=this.startSpeed!=this.endSpeed,this._doScale=this.startScale!=this.endScale,this._doColor=!!this.endColor,this._doAcceleration=0!==this.acceleration.x||0!==this.acceleration.y,this._doNormalMovement=this._doSpeed||0!==this.startSpeed||this._doAcceleration,this._oneOverLife=1/this.maxLife,this.tint=s.combineRGBComponents(this._sR,this._sG,this._sB),this.visible=!0},n.applyArt=function(t){this.texture=t||s.EMPTY_TEXTURE},n.update=n.Particle_update=function(t){if(this.age+=t,this.age>=this.maxLife)return this.kill(),-1;var i=this.age*this._oneOverLife;if(this.ease&&(i=4==this.ease.length?this.ease(i,0,1,1):this.ease(i)),this._doAlpha&&(this.alpha=(this.endAlpha-this.startAlpha)*i+this.startAlpha),this._doScale){var e=(this.endScale-this.startScale)*i+this.startScale;this.scale.x=this.scale.y=e}if(this._doNormalMovement){if(this._doSpeed){var a=(this.endSpeed-this.startSpeed)*i+this.startSpeed;s.normalize(this.velocity),s.scaleBy(this.velocity,a)}else if(this._doAcceleration&&(this.velocity.x+=this.acceleration.x*t,this.velocity.y+=this.acceleration.y*t,this.maxSpeed)){var r=s.length(this.velocity);r>this.maxSpeed&&s.scaleBy(this.velocity,this.maxSpeed/r)}this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t}if(this._doColor){var n=(this._eR-this._sR)*i+this._sR,o=(this._eG-this._sG)*i+this._sG,h=(this._eB-this._sB)*i+this._sB;this.tint=s.combineRGBComponents(n,o,h)}return 0!==this.rotationSpeed?this.rotation+=this.rotationSpeed*t:this.acceleration&&!this.noRotation&&(this.rotation=Math.atan2(this.velocity.y,this.velocity.x)),i},n.kill=function(){this.emitter.recycle(this)},n.Sprite_Destroy=a.prototype.destroy,n.destroy=function(){this.parent&&this.parent.removeChild(this),this.Sprite_Destroy&&this.Sprite_Destroy(),this.emitter=this.velocity=this.startColor=this.endColor=this.ease=this.next=this.prev=null},r.parseArt=function(t){var i;for(i=t.length;i>=0;--i)"string"==typeof t[i]&&(t[i]=PIXI.Texture.fromImage(t[i]));if(s.verbose)for(i=t.length-1;i>0;--i)if(t[i].baseTexture!=t[i-1].baseTexture){window.console&&console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");break}return t},r.parseData=function(t){return t},i.exports=r},{"./ParticleUtils":4}],4:[function(t,i,e){"use strict";var s=PIXI.BLEND_MODES||PIXI.blendModes,a=PIXI.Texture,r={};r.verbose=!1;var n=r.DEG_TO_RADS=Math.PI/180,o=r.EMPTY_TEXTURE=a.EMPTY;o.on=o.destroy=o.once=o.emit=function(){},r.rotatePoint=function(t,i){if(t){t*=n;var e=Math.sin(t),s=Math.cos(t),a=i.x*s-i.y*e,r=i.x*e+i.y*s;i.x=a,i.y=r}},r.combineRGBComponents=function(t,i,e){return t<<16|i<<8|e},r.normalize=function(t){var i=1/r.length(t);t.x*=i,t.y*=i},r.scaleBy=function(t,i){t.x*=i,t.y*=i},r.length=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.hexToRGB=function(t,i){i?i.length=0:i=[],"#"==t.charAt(0)?t=t.substr(1):0===t.indexOf("0x")&&(t=t.substr(2));var e;return 8==t.length&&(e=t.substr(0,2),t=t.substr(2)),i.push(parseInt(t.substr(0,2),16)),i.push(parseInt(t.substr(2,2),16)),i.push(parseInt(t.substr(4,2),16)),e&&i.push(parseInt(e,16)),i},r.generateEase=function(t){var i=t.length,e=1/i,s=function(s){var a,r,n=i*s|0;return a=(s-n*e)*i,r=t[n]||t[i-1],r.s+a*(2*(1-a)*(r.cp-r.s)+a*(r.e-r.s))};return s},r.getBlendMode=function(t){if(!t)return s.NORMAL;for(t=t.toUpperCase();t.indexOf(" ")>=0;)t=t.replace(" ","_");return s[t]||s.NORMAL},i.exports=r},{}],5:[function(require,module,exports){"use strict";var ParticleUtils=require("./ParticleUtils"),Particle=require("./Particle"),PathParticle=function(t){Particle.call(this,t),this.path=null,this.initialRotation=0,this.initialPosition=new PIXI.Point,this.movement=0},s=Particle.prototype,p=PathParticle.prototype=Object.create(s),helperPoint=new PIXI.Point;p.init=function(){this.initialRotation=this.rotation,this.Particle_init(),this.path=this.extraData.path,this._doNormalMovement=!this.path,this.movement=0,this.initialPosition.x=this.position.x,this.initialPosition.y=this.position.y};for(var MATH_FUNCS=["pow","sqrt","abs","floor","round","ceil","E","PI","sin","cos","tan","asin","acos","atan","atan2","log"],WHITELISTER="[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]",index=MATH_FUNCS.length-1;index>=0;--index)WHITELISTER+="|"+MATH_FUNCS[index];WHITELISTER=new RegExp(WHITELISTER,"g");var parsePath=function(pathString){for(var rtn,matches=pathString.match(WHITELISTER),i=matches.length-1;i>=0;--i)MATH_FUNCS.indexOf(matches[i])>=0&&(matches[i]="Math."+matches[i]);return pathString=matches.join(""),eval("rtn = function(x){ return "+pathString+"; };"),rtn};p.update=function(t){var i=this.Particle_update(t);if(i>=0&&this.path){var e=(this.endSpeed-this.startSpeed)*i+this.startSpeed;this.movement+=e*t,helperPoint.x=this.movement,helperPoint.y=this.path(this.movement),ParticleUtils.rotatePoint(this.initialRotation,helperPoint),this.position.x=this.initialPosition.x+helperPoint.x,this.position.y=this.initialPosition.y+helperPoint.y}},p.Particle_destroy=Particle.prototype.destroy,p.destroy=function(){this.Particle_destroy(),this.path=this.initialPosition=null},PathParticle.parseArt=function(t){return Particle.parseArt(t)},PathParticle.parseData=function(t){var i={};if(t&&t.path)try{i.path=parsePath(t.path)}catch(t){ParticleUtils.verbose&&console.error("PathParticle: error in parsing path expression"),i.path=null}else ParticleUtils.verbose&&console.error("PathParticle requires a path string in extraData!"),i.path=null;return i},module.exports=PathParticle},{"./Particle":3,"./ParticleUtils":4}],6:[function(t,i,e){},{}],7:[function(t,i,e){t("./polyfills.js"),e.ParticleUtils=t("./ParticleUtils.js"),e.Particle=t("./Particle.js"),e.Emitter=t("./Emitter.js"),e.PathParticle=t("./PathParticle.js"),e.AnimatedParticle=t("./AnimatedParticle.js"),t("./deprecation.js")},{"./AnimatedParticle.js":1,"./Emitter.js":2,"./Particle.js":3,"./ParticleUtils.js":4,"./PathParticle.js":5,"./deprecation.js":6,"./polyfills.js":8}],8:[function(t,i,e){Array.prototype.shuffle||Object.defineProperty(Array.prototype,"shuffle",{enumerable:!1,writable:!1,value:function(){for(var t,i,e=this.length;e;t=Math.floor(Math.random()*e),i=this[--e],this[e]=this[t],this[t]=i);return this}}),Array.prototype.random||Object.defineProperty(Array.prototype,"random",{enumerable:!1,writable:!1,value:function(){return this[Math.floor(Math.random()*this.length)]}})},{}],9:[function(t,i,e){"use strict";var s="undefined"!=typeof window?window:GLOBAL;if(s.PIXI.particles||(s.PIXI.particles={}),"undefined"!=typeof i&&i.exports)"undefined"==typeof PIXI&&t("pixi.js"),i.exports=s.PIXI.particles||a;else if("undefined"==typeof PIXI)throw"pixi-particles requires pixi.js to be loaded first";var a=t("./particles");for(var r in a)s.PIXI.particles[r]=a[r]},{"./particles":7,"pixi.js":void 0}]},{},[9])(9)});
//# sourceMappingURL=pixi-particles.min.js.map

/*!
* @license PreloadJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011-2015 gskinner.com, inc.
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{},function(){"use strict";var a=createjs.PreloadJS=createjs.PreloadJS||{};a.version="0.6.2",a.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(a,b){"use strict";function c(){this.constructor=a}return c.prototype=b.prototype,a.prototype=new c},this.createjs=this.createjs||{},createjs.promote=function(a,b){"use strict";var c=a.prototype,d=Object.getPrototypeOf&&Object.getPrototypeOf(c)||c.__proto__;if(d){c[(b+="_")+"constructor"]=d.constructor;for(var e in d)c.hasOwnProperty(e)&&"function"==typeof d[e]&&(c[b+e]=d[e])}return a},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}}(),this.createjs=this.createjs||{},createjs.indexOf=function(a,b){"use strict";for(var c=0,d=a.length;d>c;c++)if(b===a[c])return c;return-1},this.createjs=this.createjs||{},function(){"use strict";function Event(a,b,c){this.type=a,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!b,this.cancelable=!!c,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var a=Event.prototype;a.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},a.stopPropagation=function(){this.propagationStopped=!0},a.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},a.remove=function(){this.removed=!0},a.clone=function(){return new Event(this.type,this.bubbles,this.cancelable)},a.set=function(a){for(var b in a)this[b]=a[b];return this},a.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=Event}(),this.createjs=this.createjs||{},function(){"use strict";function ErrorEvent(a,b,c){this.Event_constructor("error"),this.title=a,this.message=b,this.data=c}var a=createjs.extend(ErrorEvent,createjs.Event);a.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(ErrorEvent,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function EventDispatcher(){this._listeners=null,this._captureListeners=null}var a=EventDispatcher.prototype;EventDispatcher.initialize=function(b){b.addEventListener=a.addEventListener,b.on=a.on,b.removeEventListener=b.off=a.removeEventListener,b.removeAllEventListeners=a.removeAllEventListeners,b.hasEventListener=a.hasEventListener,b.dispatchEvent=a.dispatchEvent,b._dispatchEvent=a._dispatchEvent,b.willTrigger=a.willTrigger},a.addEventListener=function(a,b,c){var d;d=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var e=d[a];return e&&this.removeEventListener(a,b,c),e=d[a],e?e.push(b):d[a]=[b],b},a.on=function(a,b,c,d,e,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e),d&&a.remove()},f)},a.removeEventListener=function(a,b,c){var d=c?this._captureListeners:this._listeners;if(d){var e=d[a];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==b){1==g?delete d[a]:e.splice(f,1);break}}},a.off=a.removeEventListener,a.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null},a.dispatchEvent=function(a,b,c){if("string"==typeof a){var d=this._listeners;if(!(b||d&&d[a]))return!0;a=new createjs.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(e){}if(a.bubbles&&this.parent){for(var f=this,g=[f];f.parent;)g.push(f=f.parent);var h,i=g.length;for(h=i-1;h>=0&&!a.propagationStopped;h--)g[h]._dispatchEvent(a,1+(0==h));for(h=1;i>h&&!a.propagationStopped;h++)g[h]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented},a.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])},a.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1},a.toString=function(){return"[EventDispatcher]"},a._dispatchEvent=function(a,b){var c,d=1==b?this._captureListeners:this._listeners;if(a&&d){var e=d[a.type];if(!e||!(c=e.length))return;try{a.currentTarget=this}catch(f){}try{a.eventPhase=b}catch(f){}a.removed=!1,e=e.slice();for(var g=0;c>g&&!a.immediatePropagationStopped;g++){var h=e[g];h.handleEvent?h.handleEvent(a):h(a),a.removed&&(this.off(a.type,h,1==b),a.removed=!1)}}},createjs.EventDispatcher=EventDispatcher}(),this.createjs=this.createjs||{},function(){"use strict";function ProgressEvent(a,b){this.Event_constructor("progress"),this.loaded=a,this.total=null==b?1:b,this.progress=0==b?0:this.loaded/this.total}var a=createjs.extend(ProgressEvent,createjs.Event);a.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(ProgressEvent,"Event")}(window),function(){function a(b,d){function f(a){if(f[a]!==q)return f[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=f("json-stringify")&&f("json-parse");else{var c,e='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=d.stringify,k="function"==typeof i&&t;if(k){(c=function(){return 1}).toJSON=c;try{k="0"===i(0)&&"0"===i(new g)&&'""'==i(new h)&&i(s)===q&&i(q)===q&&i()===q&&"1"===i(c)&&"[1]"==i([c])&&"[null]"==i([q])&&"null"==i(null)&&"[null,null,null]"==i([q,s,null])&&i({a:[c,!0,!1,null,"\x00\b\n\f\r	"]})==e&&"1"===i(null,c)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new j(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new j(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new j(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new j(-1))}catch(l){k=!1}}b=k}if("json-parse"==a){var m=d.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){c=m(e);var n=5==c.a.length&&1===c.a[0];if(n){try{n=!m('"	"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}b=n}}return f[a]=!!b}b||(b=e.Object()),d||(d=e.Object());var g=b.Number||e.Number,h=b.String||e.String,i=b.Object||e.Object,j=b.Date||e.Date,k=b.SyntaxError||e.SyntaxError,l=b.TypeError||e.TypeError,m=b.Math||e.Math,n=b.JSON||e.JSON;"object"==typeof n&&n&&(d.stringify=n.stringify,d.parse=n.parse);var o,p,q,r=i.prototype,s=r.toString,t=new j(-0xc782b5b800cec);try{t=-109252==t.getUTCFullYear()&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(u){}if(!f("json")){var v="[object Function]",w="[object Date]",x="[object Number]",y="[object String]",z="[object Array]",A="[object Boolean]",B=f("bug-string-char-index");if(!t)var C=m.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var d,e,f,g=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(f in e)o.call(e,f)&&g++;return d=e=null,g?p=2==g?function(a,b){var c,d={},e=s.call(a)==v;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==v;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var d,f,g=s.call(a)==v,h=!g&&"function"!=typeof a.constructor&&c[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(d in a)g&&"prototype"==d||!h.call(a,d)||b(d);for(f=e.length;d=e[--f];h.call(a,d)&&b(d));}),p(a,b)},!f("json-stringify")){var F={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},G="000000",H=function(a,b){return(G+(b||0)).slice(-a)},I="\\u00",J=function(a){for(var b='"',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(""):a);d>c;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(32>g){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},K=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,v,B,D,F,G,I,L;try{h=b[a]}catch(M){}if("object"==typeof h&&h)if(i=s.call(h),i!=w||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=x&&i!=y&&i!=z||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&1/0>h){if(E){for(m=C(h/864e5),j=C(m/365.2425)+1970-1;E(j+1,0)<=m;j++);for(k=C((m-E(j,0))/30.42);E(j,k+1)<=m;k++);m=1+m-E(j,k),n=(h%864e5+864e5)%864e5,r=C(n/36e5)%24,t=C(n/6e4)%60,u=C(n/1e3)%60,v=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),v=h.getUTCMilliseconds();h=(0>=j||j>=1e4?(0>j?"-":"+")+H(6,0>j?-j:j):H(4,j))+"-"+H(2,k+1)+"-"+H(2,m)+"T"+H(2,r)+":"+H(2,t)+":"+H(2,u)+"."+H(3,v)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=s.call(h),i==A)return""+h;if(i==x)return h>-1/0&&1/0>h?""+h:"null";if(i==y)return J(""+h);if("object"==typeof h){for(G=g.length;G--;)if(g[G]===h)throw l();if(g.push(h),B=[],I=f,f+=e,i==z){for(F=0,G=h.length;G>F;F++)D=K(F,h,c,d,e,f,g),B.push(D===q?"null":D);L=B.length?e?"[\n"+f+B.join(",\n"+f)+"\n"+I+"]":"["+B.join(",")+"]":"[]"}else p(d||h,function(a){var b=K(a,h,c,d,e,f,g);b!==q&&B.push(J(a)+":"+(e?" ":"")+b)}),L=B.length?e?"{\n"+f+B.join(",\n"+f)+"\n"+I+"}":"{"+B.join(",")+"}":"{}";return g.pop(),L}};d.stringify=function(a,b,d){var e,f,g,h;if(c[typeof b]&&b)if((h=s.call(b))==v)f=b;else if(h==z){g={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=s.call(i),(h==y||h==x)&&(g[i]=1));}if(d)if((h=s.call(d))==x){if((d-=d%1)>0)for(e="",d>10&&(d=10);e.length<d;e+=" ");}else h==y&&(e=d.length<=10?d:d.slice(0,10));return K("",(i={},i[""]=a,i),f,g,e,"",[])}}if(!f("json-parse")){var L,M,N=h.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},P=function(){throw L=M=null,k()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;g>L;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;g>L;)if(e=f.charCodeAt(L),32>e)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;c>L;L++)e=f.charCodeAt(L),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(L+1),e>=48&&57>=e)&&P(),d=!1;g>L&&(e=f.charCodeAt(L),e>=48&&57>=e);L++);if(46==f.charCodeAt(L)){for(c=++L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}if(e=f.charCodeAt(L),101==e||69==e){for(e=f.charCodeAt(++L),(43==e||45==e)&&L++,c=L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),"true"==f.slice(L,L+4))return L+=4,!0;if("false"==f.slice(L,L+5))return L+=5,!1;if("null"==f.slice(L,L+4))return L+=4,null;P()}return"$"},R=function(a){var b,c;if("$"==a&&P(),"string"==typeof a){if("@"==(B?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=Q(),"]"!=a;c||(c=!0))c&&(","==a?(a=Q(),"]"==a&&P()):P()),","==a&&P(),b.push(R(a));return b}if("{"==a){for(b={};a=Q(),"}"!=a;c||(c=!0))c&&(","==a?(a=Q(),"}"==a&&P()):P()),(","==a||"string"!=typeof a||"@"!=(B?a.charAt(0):a[0])||":"!=Q())&&P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===q?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==z)for(d=e.length;d--;)S(e,d,c);else p(e,function(a){S(e,a,c)});return c.call(a,b,e)};d.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&s.call(b)==v?T((d={},d[""]=c,d),"",b):c}}}return d.runInContext=a,d}var b="function"==typeof define&&define.amd,c={"function":!0,object:!0},d=c[typeof exports]&&exports&&!exports.nodeType&&exports,e=c[typeof window]&&window||this,f=d&&c[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!f||f.global!==f&&f.window!==f&&f.self!==f||(e=f),d&&!b)a(e,d);else{var g=e.JSON,h=e.JSON3,i=!1,j=a(e,e.JSON3={noConflict:function(){return i||(i=!0,e.JSON=g,e.JSON3=h,g=h=null),j}});e.JSON={parse:j.parse,stringify:j.stringify}}b&&define(function(){return j})}.call(this),function(){var a={};a.appendToHead=function(b){a.getHead().appendChild(b)},a.getHead=function(){return document.head||document.getElementsByTagName("head")[0]},a.getBody=function(){return document.body||document.getElementsByTagName("body")[0]},createjs.DomUtils=a}(),function(){var a={};a.parseXML=function(a,b){var c=null;try{if(window.DOMParser){var d=new DOMParser;c=d.parseFromString(a,b)}}catch(e){}if(!c)try{c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(a)}catch(e){c=null}return c},a.parseJSON=function(a){if(null==a)return null;try{return JSON.parse(a)}catch(b){throw b}},createjs.DataUtils=a}(),this.createjs=this.createjs||{},function(){"use strict";function LoadItem(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=b.LOAD_TIMEOUT_DEFAULT}var a=LoadItem.prototype={},b=LoadItem;b.LOAD_TIMEOUT_DEFAULT=8e3,b.create=function(a){if("string"==typeof a){var c=new LoadItem;return c.src=a,c}if(a instanceof b)return a;if(a instanceof Object&&a.src)return null==a.loadTimeout&&(a.loadTimeout=b.LOAD_TIMEOUT_DEFAULT),a;throw new Error("Type not recognized.")},a.set=function(a){for(var b in a)this[b]=a[b];return this},createjs.LoadItem=b}(),function(){var a={};a.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,a.RELATIVE_PATT=/^[.\/]*?\//i,a.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,a.parseURI=function(b){var c={absolute:!1,relative:!1};if(null==b)return c;var d=b.indexOf("?");d>-1&&(b=b.substr(0,d));var e;return a.ABSOLUTE_PATT.test(b)?c.absolute=!0:a.RELATIVE_PATT.test(b)&&(c.relative=!0),(e=b.match(a.EXTENSION_PATT))&&(c.extension=e[1].toLowerCase()),c},a.formatQueryString=function(a,b){if(null==a)throw new Error("You must specify data.");var c=[];for(var d in a)c.push(d+"="+escape(a[d]));return b&&(c=c.concat(b)),c.join("&")},a.buildPath=function(a,b){if(null==b)return a;var c=[],d=a.indexOf("?");if(-1!=d){var e=a.slice(d+1);c=c.concat(e.split("&"))}return-1!=d?a.slice(0,d)+"?"+this.formatQueryString(b,c):a+"?"+this.formatQueryString(b,c)},a.isCrossDomain=function(a){var b=document.createElement("a");b.href=a.src;var c=document.createElement("a");c.href=location.href;var d=""!=b.hostname&&(b.port!=c.port||b.protocol!=c.protocol||b.hostname!=c.hostname);return d},a.isLocal=function(a){var b=document.createElement("a");return b.href=a.src,""==b.hostname&&"file:"==b.protocol},a.isBinary=function(a){switch(a){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},a.isImageTag=function(a){return a instanceof HTMLImageElement},a.isAudioTag=function(a){return window.HTMLAudioElement?a instanceof HTMLAudioElement:!1},a.isVideoTag=function(a){return window.HTMLVideoElement?a instanceof HTMLVideoElement:!1},a.isText=function(a){switch(a){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},a.getTypeByExtension=function(a){if(null==a)return createjs.AbstractLoader.TEXT;switch(a.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=a}(),this.createjs=this.createjs||{},function(){"use strict";function AbstractLoader(a,b,c){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=c,this.resultFormatter=null,this._item=a?createjs.LoadItem.create(a):null,this._preferXHR=b,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var a=createjs.extend(AbstractLoader,createjs.EventDispatcher),b=AbstractLoader;b.POST="POST",b.GET="GET",b.BINARY="binary",b.CSS="css",b.IMAGE="image",b.JAVASCRIPT="javascript",b.JSON="json",b.JSONP="jsonp",b.MANIFEST="manifest",b.SOUND="sound",b.VIDEO="video",b.SPRITESHEET="spritesheet",b.SVG="svg",b.TEXT="text",b.XML="xml",a.getItem=function(){return this._item},a.getResult=function(a){return a?this._rawResult:this._result},a.getTag=function(){return this._tag},a.setTag=function(a){this._tag=a},a.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var a=new createjs.Event("initialize");a.loader=this._request,this.dispatchEvent(a),this._request.load()},a.cancel=function(){this.canceled=!0,this.destroy()},a.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},a.getLoadedItems=function(){return this._loadedItems},a._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},a._createTag=function(){return null},a._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},a._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,b=new createjs.ProgressEvent(this.progress)):(b=a,this.progress=a.loaded/a.total,b.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(b)}},a._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var a=new createjs.Event("complete");a.rawResult=this._rawResult,null!=this._result&&(a.result=this._result),this.dispatchEvent(a)}},a._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(a))},a._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},a.resultFormatter=null,a.handleEvent=function(a){switch(a.type){case"complete":this._rawResult=a.target._response;var b=this.resultFormatter&&this.resultFormatter(this);b instanceof Function?b.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=b||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(a);break;case"error":this._sendError(a);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+a.type.toUpperCase()+"_ERROR"))}},a._resultFormatSuccess=function(a){this._result=a,this._sendComplete()},a._resultFormatFailed=function(a){this._sendError(a)},a.buildPath=function(a,b){return createjs.RequestUtils.buildPath(a,b)},a.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(AbstractLoader,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function AbstractMediaLoader(a,b,c){this.AbstractLoader_constructor(a,b,c),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var a=createjs.extend(AbstractMediaLoader,createjs.AbstractLoader);a.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},a._createTag=function(){},a._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},a._updateXHR=function(a){a.loader.setResponseType&&a.loader.setResponseType("blob")},a._formatResult=function(a){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var b=window.URL||window.webkitURL,c=a.getResult(!0);a.getTag().src=b.createObjectURL(c)}return a.getTag()},createjs.AbstractMediaLoader=createjs.promote(AbstractMediaLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var AbstractRequest=function(a){this._item=a},a=createjs.extend(AbstractRequest,createjs.EventDispatcher);a.load=function(){},a.destroy=function(){},a.cancel=function(){},createjs.AbstractRequest=createjs.promote(AbstractRequest,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function TagRequest(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var a=createjs.extend(TagRequest,createjs.AbstractRequest);a.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var a=new createjs.Event("initialize");a.loader=this._tag,this.dispatchEvent(a),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},a.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},a._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleTagComplete()},a._handleError=function(){this._clean(),this.dispatchEvent("error")},a._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},a._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},a._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},a._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},a._showTag=function(){this._tag.style.visibility=this._startTagVisibility},a._handleStalled=function(){},createjs.TagRequest=createjs.promote(TagRequest,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function MediaTagRequest(a,b,c){this.AbstractRequest_constructor(a),this._tag=b,this._tagSrcAttribute=c,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var a=createjs.extend(MediaTagRequest,createjs.TagRequest);a.load=function(){var a=createjs.proxy(this._handleStalled,this);this._stalledCallback=a;var b=createjs.proxy(this._handleProgress,this);this._handleProgress=b,this._tag.addEventListener("stalled",a),this._tag.addEventListener("progress",b),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},a._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleTagComplete()},a._handleStalled=function(){},a._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},a._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(MediaTagRequest,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function XHRRequest(a){this.AbstractRequest_constructor(a),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(a)}var a=createjs.extend(XHRRequest,createjs.AbstractRequest);XHRRequest.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],a.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response},a.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},a.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(a){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,a))}},a.setResponseType=function(a){"blob"===a&&(a=window.URL?"blob":"arraybuffer",this._responseType=a),this._request.responseType=a},a.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},a.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null},a._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.ProgressEvent(a.loaded,a.total);this.dispatchEvent(b)}},a._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},a._handleAbort=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,a))},a._handleError=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(a.message))},a._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},a._handleLoad=function(){if(!this.loaded){this.loaded=!0;var a=this._checkError();if(a)return void this._handleError(a);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(b){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===b.name&&window.BlobBuilder){var c=new BlobBuilder;c.append(this._response),this._response=c.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},a._handleTimeout=function(a){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,a))},a._checkError=function(){var a=parseInt(this._request.status);switch(a){case 404:case 0:return new Error(a)}return null},a._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null},a._createXHR=function(a){var b=createjs.RequestUtils.isCrossDomain(a),c={},d=null;if(window.XMLHttpRequest)d=new XMLHttpRequest,b&&void 0===d.withCredentials&&window.XDomainRequest&&(d=new XDomainRequest);else{for(var e=0,f=s.ACTIVEX_VERSIONS.length;f>e;e++){var g=s.ACTIVEX_VERSIONS[e];try{d=new ActiveXObject(g);break}catch(h){}}if(null==d)return!1}null==a.mimeType&&createjs.RequestUtils.isText(a.type)&&(a.mimeType="text/plain; charset=utf-8"),a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType),this._xhrLevel="string"==typeof d.responseType?2:1;var i=null;if(i=a.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(a.src,a.values):a.src,d.open(a.method||createjs.AbstractLoader.GET,i,!0),b&&d instanceof XMLHttpRequest&&1==this._xhrLevel&&(c.Origin=location.origin),a.values&&a.method==createjs.AbstractLoader.POST&&(c["Content-Type"]="application/x-www-form-urlencoded"),b||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest"),a.headers)for(var j in a.headers)c[j]=a.headers[j];for(j in c)d.setRequestHeader(j,c[j]);return d instanceof XMLHttpRequest&&void 0!==a.withCredentials&&(d.withCredentials=a.withCredentials),this._request=d,!0},a._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},a.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(XHRRequest,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function LoadQueue(a,b,c){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(a,b,c)
}var a=createjs.extend(LoadQueue,createjs.AbstractLoader),b=LoadQueue;a.init=function(a,b,c){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(a),this._paused=!1,this._basePath=b,this._crossOrigin=c,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=0/0},b.loadTimeout=8e3,b.LOAD_TIMEOUT=0,b.BINARY=createjs.AbstractLoader.BINARY,b.CSS=createjs.AbstractLoader.CSS,b.IMAGE=createjs.AbstractLoader.IMAGE,b.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT,b.JSON=createjs.AbstractLoader.JSON,b.JSONP=createjs.AbstractLoader.JSONP,b.MANIFEST=createjs.AbstractLoader.MANIFEST,b.SOUND=createjs.AbstractLoader.SOUND,b.VIDEO=createjs.AbstractLoader.VIDEO,b.SVG=createjs.AbstractLoader.SVG,b.TEXT=createjs.AbstractLoader.TEXT,b.XML=createjs.AbstractLoader.XML,b.POST=createjs.AbstractLoader.POST,b.GET=createjs.AbstractLoader.GET,a.registerLoader=function(a){if(!a||!a.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(a))throw new Error("loader already exists.");this._availableLoaders.unshift(a)},a.unregisterLoader=function(a){var b=this._availableLoaders.indexOf(a);-1!=b&&b<this._defaultLoaderLength-1&&this._availableLoaders.splice(b,1)},a.setUseXHR=function(a){return this.setPreferXHR(a)},a.setPreferXHR=function(a){return this.preferXHR=0!=a&&null!=window.XMLHttpRequest,this.preferXHR},a.removeAll=function(){this.remove()},a.remove=function(a){var b=null;if(a&&!Array.isArray(a))b=[a];else if(a)b=a;else if(arguments.length>0)return;var c=!1;if(b){for(;b.length;){var d=b.pop(),e=this.getResult(d);for(f=this._loadQueue.length-1;f>=0;f--)if(g=this._loadQueue[f].getItem(),g.id==d||g.src==d){this._loadQueue.splice(f,1)[0].cancel();break}for(f=this._loadQueueBackup.length-1;f>=0;f--)if(g=this._loadQueueBackup[f].getItem(),g.id==d||g.src==d){this._loadQueueBackup.splice(f,1)[0].cancel();break}if(e)this._disposeItem(this.getItem(d));else for(var f=this._currentLoads.length-1;f>=0;f--){var g=this._currentLoads[f].getItem();if(g.id==d||g.src==d){this._currentLoads.splice(f,1)[0].cancel(),c=!0;break}}}c&&this._loadNext()}else{this.close();for(var h in this._loadItemsById)this._disposeItem(this._loadItemsById[h]);this.init(this.preferXHR,this._basePath)}},a.reset=function(){this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);for(var b=[],c=0,d=this._loadQueueBackup.length;d>c;c++)b.push(this._loadQueueBackup[c].getItem());this.loadManifest(b,!1)},a.installPlugin=function(a){if(null!=a&&null!=a.getPreloadHandlers){this._plugins.push(a);var b=a.getPreloadHandlers();if(b.scope=a,null!=b.types)for(var c=0,d=b.types.length;d>c;c++)this._typeCallbacks[b.types[c]]=b;if(null!=b.extensions)for(c=0,d=b.extensions.length;d>c;c++)this._extensionCallbacks[b.extensions[c]]=b}},a.setMaxConnections=function(a){this._maxConnections=a,!this._paused&&this._loadQueue.length>0&&this._loadNext()},a.loadFile=function(a,b,c){if(null==a){var d=new createjs.ErrorEvent("PRELOAD_NO_FILE");return void this._sendError(d)}this._addItem(a,null,c),this.setPaused(b!==!1?!1:!0)},a.loadManifest=function(a,c,d){var e=null,f=null;if(Array.isArray(a)){if(0==a.length){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(g)}e=a}else if("string"==typeof a)e=[{src:a,type:b.MANIFEST}];else{if("object"!=typeof a){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(g)}if(void 0!==a.src){if(null==a.type)a.type=b.MANIFEST;else if(a.type!=b.MANIFEST){var g=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(g)}e=[a]}else void 0!==a.manifest&&(e=a.manifest,f=a.path)}for(var h=0,i=e.length;i>h;h++)this._addItem(e[h],f,d);this.setPaused(c!==!1?!1:!0)},a.load=function(){this.setPaused(!1)},a.getItem=function(a){return this._loadItemsById[a]||this._loadItemsBySrc[a]},a.getResult=function(a,b){var c=this._loadItemsById[a]||this._loadItemsBySrc[a];if(null==c)return null;var d=c.id;return b&&this._loadedRawResults[d]?this._loadedRawResults[d]:this._loadedResults[d]},a.getItems=function(a){var b=[];for(var c in this._loadItemsById){var d=this._loadItemsById[c],e=this.getResult(c);(a!==!0||null!=e)&&b.push({item:d,result:e,rawResult:this.getResult(c,!0)})}return b},a.setPaused=function(a){this._paused=a,this._paused||this._loadNext()},a.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=0/0},a._addItem=function(a,b,c){var d=this._createLoadItem(a,b,c);if(null!=d){var e=this._createLoader(d);null!=e&&("plugins"in e&&(e.plugins=this._plugins),d._loader=e,this._loadQueue.push(e),this._loadQueueBackup.push(e),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&d.type==createjs.LoadQueue.JAVASCRIPT||d.maintainOrder===!0)&&(this._scriptOrder.push(d),this._loadedScripts.push(null)))}},a._createLoadItem=function(a,b,c){var d=createjs.LoadItem.create(a);if(null==d)return null;var e="",f=c||this._basePath;if(d.src instanceof Object){if(!d.type)return null;if(b){e=b;var g=createjs.RequestUtils.parseURI(b);null==f||g.absolute||g.relative||(e=f+e)}else null!=f&&(e=f)}else{var h=createjs.RequestUtils.parseURI(d.src);h.extension&&(d.ext=h.extension),null==d.type&&(d.type=createjs.RequestUtils.getTypeByExtension(d.ext));var i=d.src;if(!h.absolute&&!h.relative)if(b){e=b;var g=createjs.RequestUtils.parseURI(b);i=b+i,null==f||g.absolute||g.relative||(e=f+e)}else null!=f&&(e=f);d.src=e+d.src}d.path=e,(void 0===d.id||null===d.id||""===d.id)&&(d.id=i);var j=this._typeCallbacks[d.type]||this._extensionCallbacks[d.ext];if(j){var k=j.callback.call(j.scope,d,this);if(k===!1)return null;k===!0||null!=k&&(d._loader=k),h=createjs.RequestUtils.parseURI(d.src),null!=h.extension&&(d.ext=h.extension)}return this._loadItemsById[d.id]=d,this._loadItemsBySrc[d.src]=d,null==d.crossOrigin&&(d.crossOrigin=this._crossOrigin),d},a._createLoader=function(a){if(null!=a._loader)return a._loader;for(var b=this.preferXHR,c=0;c<this._availableLoaders.length;c++){var d=this._availableLoaders[c];if(d&&d.canLoadItem(a))return new d(a,b)}return null},a._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);a++){var b=this._loadQueue[a];this._canStartLoad(b)&&(this._loadQueue.splice(a,1),a--,this._loadItem(b))}}},a._loadItem=function(a){a.on("fileload",this._handleFileLoad,this),a.on("progress",this._handleProgress,this),a.on("complete",this._handleFileComplete,this),a.on("error",this._handleError,this),a.on("fileerror",this._handleFileError,this),this._currentLoads.push(a),this._sendFileStart(a.getItem()),a.load()},a._handleFileLoad=function(a){a.target=null,this.dispatchEvent(a)},a._handleFileError=function(a){var b=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,a.item);this._sendError(b)},a._handleError=function(a){var b=a.target;this._numItemsLoaded++,this._finishOrderedItem(b,!0),this._updateProgress();var c=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,b.getItem());this._sendError(c),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(b),this._cleanLoadItem(b),this._loadNext())},a._handleFileComplete=function(a){var b=a.target,c=b.getItem(),d=b.getResult();this._loadedResults[c.id]=d;var e=b.getResult(!0);null!=e&&e!==d&&(this._loadedRawResults[c.id]=e),this._saveLoadedItems(b),this._removeLoadItem(b),this._finishOrderedItem(b)||this._processFinishedLoad(c,b),this._cleanLoadItem(b)},a._saveLoadedItems=function(a){var b=a.getLoadedItems();if(null!==b)for(var c=0;c<b.length;c++){var d=b[c].item;this._loadItemsBySrc[d.src]=d,this._loadItemsById[d.id]=d,this._loadedResults[d.id]=b[c].result,this._loadedRawResults[d.id]=b[c].rawResult}},a._finishOrderedItem=function(a,b){var c=a.getItem();if(this.maintainScriptOrder&&c.type==createjs.LoadQueue.JAVASCRIPT||c.maintainOrder){a instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var d=createjs.indexOf(this._scriptOrder,c);return-1==d?!1:(this._loadedScripts[d]=b===!0?!0:c,this._checkScriptLoadOrder(),!0)}return!1},a._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;a>b;b++){var c=this._loadedScripts[b];if(null===c)break;if(c!==!0){var d=this._loadedResults[c.id];c.type==createjs.LoadQueue.JAVASCRIPT&&createjs.DomUtils.appendToHead(d);var e=c._loader;this._processFinishedLoad(c,e),this._loadedScripts[b]=!0}}},a._processFinishedLoad=function(a,b){if(this._numItemsLoaded++,!this.maintainScriptOrder&&a.type==createjs.LoadQueue.JAVASCRIPT){var c=b.getTag();createjs.DomUtils.appendToHead(c)}this._updateProgress(),this._sendFileComplete(a,b),this._loadNext()},a._canStartLoad=function(a){if(!this.maintainScriptOrder||a.preferXHR)return!0;var b=a.getItem();if(b.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var c=this._scriptOrder.indexOf(b),d=0;c>d;){var e=this._loadedScripts[d];if(null==e)return!1;d++}return this._currentlyLoadingScript=!0,!0},a._removeLoadItem=function(a){for(var b=this._currentLoads.length,c=0;b>c;c++)if(this._currentLoads[c]==a){this._currentLoads.splice(c,1);break}},a._cleanLoadItem=function(a){var b=a.getItem();b&&delete b._loader},a._handleProgress=function(a){var b=a.target;this._sendFileProgress(b.getItem(),b.progress),this._updateProgress()},a._updateProgress=function(){var a=this._numItemsLoaded/this._numItems,b=this._numItems-this._numItemsLoaded;if(b>0){for(var c=0,d=0,e=this._currentLoads.length;e>d;d++)c+=this._currentLoads[d].progress;a+=c/b*(b/this._numItems)}this._lastProgress!=a&&(this._sendProgress(a),this._lastProgress=a)},a._disposeItem=function(a){delete this._loadedResults[a.id],delete this._loadedRawResults[a.id],delete this._loadItemsById[a.id],delete this._loadItemsBySrc[a.src]},a._sendFileProgress=function(a,b){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var c=new createjs.Event("fileprogress");c.progress=b,c.loaded=b,c.total=1,c.item=a,this.dispatchEvent(c)}},a._sendFileComplete=function(a,b){if(!this._isCanceled()&&!this._paused){var c=new createjs.Event("fileload");c.loader=b,c.item=a,c.result=this._loadedResults[a.id],c.rawResult=this._loadedRawResults[a.id],a.completeHandler&&a.completeHandler(c),this.hasEventListener("fileload")&&this.dispatchEvent(c)}},a._sendFileStart=function(a){var b=new createjs.Event("filestart");b.item=a,this.hasEventListener("filestart")&&this.dispatchEvent(b)},a.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(LoadQueue,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function TextLoader(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.TEXT)}var a=(createjs.extend(TextLoader,createjs.AbstractLoader),TextLoader);a.canLoadItem=function(a){return a.type==createjs.AbstractLoader.TEXT},createjs.TextLoader=createjs.promote(TextLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function BinaryLoader(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var a=createjs.extend(BinaryLoader,createjs.AbstractLoader),b=BinaryLoader;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.BINARY},a._updateXHR=function(a){a.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(BinaryLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function CSSLoader(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=document.createElement(b?"style":"link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var a=createjs.extend(CSSLoader,createjs.AbstractLoader),b=CSSLoader;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.CSS},a._formatResult=function(a){if(this._preferXHR){var b=a.getTag();if(b.styleSheet)b.styleSheet.cssText=a.getResult(!0);else{var c=document.createTextNode(a.getResult(!0));b.appendChild(c)}}else b=this._tag;return createjs.DomUtils.appendToHead(b),b},createjs.CSSLoader=createjs.promote(CSSLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function ImageLoader(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.RequestUtils.isImageTag(a)?this._tag=a:createjs.RequestUtils.isImageTag(a.src)?this._tag=a.src:createjs.RequestUtils.isImageTag(a.tag)&&(this._tag=a.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var a=createjs.extend(ImageLoader,createjs.AbstractLoader),b=ImageLoader;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.IMAGE},a.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var a=this._item.crossOrigin;1==a&&(a="Anonymous"),null==a||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=a),this.AbstractLoader_load()},a._updateXHR=function(a){a.loader.mimeType="text/plain; charset=x-user-defined-binary",a.loader.setResponseType&&a.loader.setResponseType("blob")},a._formatResult=function(){return this._formatImage},a._formatImage=function(a,b){var c=this._tag,d=window.URL||window.webkitURL;if(this._preferXHR)if(d){var e=d.createObjectURL(this.getResult(!0));c.src=e,c.addEventListener("load",this._cleanUpURL,!1),c.addEventListener("error",this._cleanUpURL,!1)}else c.src=this._item.src;else;c.complete?a(c):(c.onload=createjs.proxy(function(){a(this._tag)},this),c.onerror=createjs.proxy(function(){b(_this._tag)},this))},a._cleanUpURL=function(a){var b=window.URL||window.webkitURL;b.revokeObjectURL(a.target.src)},createjs.ImageLoader=createjs.promote(ImageLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function JavaScriptLoader(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var a=createjs.extend(JavaScriptLoader,createjs.AbstractLoader),b=JavaScriptLoader;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JAVASCRIPT},a._formatResult=function(a){var b=a.getTag();return this._preferXHR&&(b.text=a.getResult(!0)),b},createjs.JavaScriptLoader=createjs.promote(JavaScriptLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function JSONLoader(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var a=createjs.extend(JSONLoader,createjs.AbstractLoader),b=JSONLoader;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSON},a._formatResult=function(a){var b=null;try{b=createjs.DataUtils.parseJSON(a.getResult(!0))}catch(c){var d=new createjs.ErrorEvent("JSON_FORMAT",null,c);return this._sendError(d),c}return b},createjs.JSONLoader=createjs.promote(JSONLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function JSONPLoader(a){this.AbstractLoader_constructor(a,!1,createjs.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var a=createjs.extend(JSONPLoader,createjs.AbstractLoader),b=JSONPLoader;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.JSONP},a.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},a.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},a._handleLoad=function(a){this._result=this._rawResult=a,this._sendComplete(),this._dispose()},a._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},a._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(JSONPLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function ManifestLoader(a){this.AbstractLoader_constructor(a,null,createjs.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var a=createjs.extend(ManifestLoader,createjs.AbstractLoader),b=ManifestLoader;b.MANIFEST_PROGRESS=.25,b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.MANIFEST},a.load=function(){this.AbstractLoader_load()},a._createRequest=function(){var a=this._item.callback;this._request=null!=a?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},a.handleEvent=function(a){switch(a.type){case"complete":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(b.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return a.loaded*=b.MANIFEST_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)},a.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},a._loadManifest=function(a){if(a&&a.manifest){var b=this._manifestQueue=new createjs.LoadQueue;b.on("fileload",this._handleManifestFileLoad,this),b.on("progress",this._handleManifestProgress,this),b.on("complete",this._handleManifestComplete,this,!0),b.on("error",this._handleManifestError,this,!0);for(var c=0,d=this.plugins.length;d>c;c++)b.installPlugin(this.plugins[c]);b.loadManifest(a)}else this._sendComplete()},a._handleManifestFileLoad=function(a){a.target=null,this.dispatchEvent(a)},a._handleManifestComplete=function(){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},a._handleManifestProgress=function(a){this.progress=a.progress*(1-b.MANIFEST_PROGRESS)+b.MANIFEST_PROGRESS,this._sendProgress(this.progress)},a._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data,this.dispatchEvent(b)},createjs.ManifestLoader=createjs.promote(ManifestLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function SoundLoader(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(a)?this._tag=a:createjs.RequestUtils.isAudioTag(a.src)?this._tag=a:createjs.RequestUtils.isAudioTag(a.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(a)?a:a.src),null!=this._tag&&(this._preferXHR=!1)}var a=createjs.extend(SoundLoader,createjs.AbstractMediaLoader),b=SoundLoader;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SOUND},a._createTag=function(a){var b=document.createElement("audio");return b.autoplay=!1,b.preload="none",b.src=a,b},createjs.SoundLoader=createjs.promote(SoundLoader,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function VideoLoader(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.AbstractLoader.VIDEO),createjs.RequestUtils.isVideoTag(a)||createjs.RequestUtils.isVideoTag(a.src)?(this.setTag(createjs.RequestUtils.isVideoTag(a)?a:a.src),this._preferXHR=!1):this.setTag(this._createTag())}var a=createjs.extend(VideoLoader,createjs.AbstractMediaLoader),b=VideoLoader;a._createTag=function(){return document.createElement("video")},b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.VIDEO},createjs.VideoLoader=createjs.promote(VideoLoader,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function SpriteSheetLoader(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var a=createjs.extend(SpriteSheetLoader,createjs.AbstractLoader),b=SpriteSheetLoader;b.SPRITESHEET_PROGRESS=.25,b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SPRITESHEET},a.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},a._createRequest=function(){var a=this._item.callback;this._request=null!=a?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},a.handleEvent=function(a){switch(a.type){case"complete":return this._rawResult=a.target.getResult(!0),this._result=a.target.getResult(),this._sendProgress(b.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return a.loaded*=b.SPRITESHEET_PROGRESS,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(a)}this.AbstractLoader_handleEvent(a)},a._loadManifest=function(a){if(a&&a.images){var b=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);b.on("complete",this._handleManifestComplete,this,!0),b.on("fileload",this._handleManifestFileLoad,this),b.on("progress",this._handleManifestProgress,this),b.on("error",this._handleManifestError,this,!0),b.loadManifest(a.images)}},a._handleManifestFileLoad=function(a){var b=a.result;if(null!=b){var c=this.getResult().images,d=c.indexOf(a.item.src);c[d]=b}},a._handleManifestComplete=function(){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},a._handleManifestProgress=function(a){this.progress=a.progress*(1-b.SPRITESHEET_PROGRESS)+b.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},a._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data,this.dispatchEvent(b)},createjs.SpriteSheetLoader=createjs.promote(SpriteSheetLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function SVGLoader(a,b){this.AbstractLoader_constructor(a,b,createjs.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",b?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var a=createjs.extend(SVGLoader,createjs.AbstractLoader),b=SVGLoader;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.SVG},a._formatResult=function(a){var b=createjs.DataUtils.parseXML(a.getResult(!0),"text/xml"),c=a.getTag();return!this._preferXHR&&document.body.contains(c)&&document.body.removeChild(c),null!=b.documentElement?(c.appendChild(b.documentElement),c.style.visibility="visible",c):b},createjs.SVGLoader=createjs.promote(SVGLoader,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function XMLLoader(a){this.AbstractLoader_constructor(a,!0,createjs.AbstractLoader.XML),this.resultFormatter=this._formatResult}var a=createjs.extend(XMLLoader,createjs.AbstractLoader),b=XMLLoader;b.canLoadItem=function(a){return a.type==createjs.AbstractLoader.XML},a._formatResult=function(a){return createjs.DataUtils.parseXML(a.getResult(!0),"text/xml")},createjs.XMLLoader=createjs.promote(XMLLoader,"AbstractLoader")}();
/*!
 * @license SoundJS
 * Visit http://createjs.com/ for documentation, updates and examples.
 *
 * Copyright (c) 2011-2015 gskinner.com, inc.
 *
 * Distributed under the terms of the MIT license.
 * http://www.opensource.org/licenses/mit-license.html
 *
 * This notice shall be included in all copies or substantial portions of the Software.
 */

/**!
 * SoundJS FlashAudioPlugin also includes swfobject (http://code.google.com/p/swfobject/)
 *
 * edited by Egor.Podlutsiy to fix iOS issues with distorted sound
 */

this.createjs=this.createjs||{},function(){var t=createjs.SoundJS=createjs.SoundJS||{};t.version="0.6.2",t.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function s(){this.constructor=t}return s.prototype=e.prototype,t.prototype=new s},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var s=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(s)||s.__proto__;if(i){s[(e+="_")+"constructor"]=i.constructor;for(var n in i)s.hasOwnProperty(n)&&"function"==typeof i[n]&&(s[e+n]=i[n])}return t},this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var s=0,i=t.length;i>s;s++)if(e===t[s])return s;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(t,e){var s=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(s))}}}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,t.isFirefox=e.indexOf("Firefox")>-1,t.isOpera=null!=window.opera,t.isChrome=e.indexOf("Chrome")>-1,t.isIOS=(e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&!t.isWindowPhone,t.isAndroid=e.indexOf("Android")>-1&&!t.isWindowPhone,t.isBlackberry=e.indexOf("Blackberry")>-1,createjs.BrowserDetect=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,s){var i;i=s?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var n=i[t];return n&&this.removeEventListener(t,e,s),n=i[t],n?n.push(e):i[t]=[e],e},e.on=function(t,e,s,i,n,r){return e.handleEvent&&(s=s||e,e=e.handleEvent),s=s||this,this.addEventListener(t,function(t){e.call(s,t,n),i&&t.remove()},r)},e.removeEventListener=function(t,e,s){var i=s?this._captureListeners:this._listeners;if(i){var n=i[t];if(n)for(var r=0,a=n.length;a>r;r++)if(n[r]==e){1==a?delete i[t]:n.splice(r,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,s){if("string"==typeof t){var i=this._listeners;if(!(e||i&&i[t]))return!0;t=new createjs.Event(t,e,s)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(n){}if(t.bubbles&&this.parent){for(var r=this,a=[r];r.parent;)a.push(r=r.parent);var o,u=a.length;for(o=u-1;o>=0&&!t.propagationStopped;o--)a[o]._dispatchEvent(t,1+(0==o));for(o=1;u>o&&!t.propagationStopped;o++)a[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,s=this._captureListeners;return!!(e&&e[t]||s&&s[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var s,i=1==e?this._captureListeners:this._listeners;if(t&&i){var n=i[t.type];if(!n||!(s=n.length))return;try{t.currentTarget=this}catch(r){}try{t.eventPhase=e}catch(r){}t.removed=!1,n=n.slice();for(var a=0;s>a&&!t.immediatePropagationStopped;a++){var o=n[a];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,s){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!s,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,s){this.Event_constructor("error"),this.title=t,this.message=e,this.data=s}var e=createjs.extend(t,createjs.Event);e.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(t){"use strict";function e(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}var s=createjs.extend(e,createjs.Event);s.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(e,"Event")}(window),this.createjs=this.createjs||{},function(){"use strict";function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=s.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},s=t;s.LOAD_TIMEOUT_DEFAULT=8e3,s.create=function(e){if("string"==typeof e){var i=new t;return i.src=e,i}if(e instanceof s)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=s.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=s}(),function(){var t={};t.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,t.RELATIVE_PATT=/^[.\/]*?\//i,t.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,t.parseURI=function(e){var s={absolute:!1,relative:!1};if(null==e)return s;var i=e.indexOf("?");i>-1&&(e=e.substr(0,i));var n;return t.ABSOLUTE_PATT.test(e)?s.absolute=!0:t.RELATIVE_PATT.test(e)&&(s.relative=!0),(n=e.match(t.EXTENSION_PATT))&&(s.extension=n[1].toLowerCase()),s},t.formatQueryString=function(t,e){if(null==t)throw new Error("You must specify data.");var s=[];for(var i in t)s.push(i+"="+escape(t[i]));return e&&(s=s.concat(e)),s.join("&")},t.buildPath=function(t,e){if(null==e)return t;var s=[],i=t.indexOf("?");if(-1!=i){var n=t.slice(i+1);s=s.concat(n.split("&"))}return-1!=i?t.slice(0,i)+"?"+this.formatQueryString(e,s):t+"?"+this.formatQueryString(e,s)},t.isCrossDomain=function(t){var e=document.createElement("a");e.href=t.src;var s=document.createElement("a");s.href=location.href;var i=""!=e.hostname&&(e.port!=s.port||e.protocol!=s.protocol||e.hostname!=s.hostname);return i},t.isLocal=function(t){var e=document.createElement("a");return e.href=t.src,""==e.hostname&&"file:"==e.protocol},t.isBinary=function(t){switch(t){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},t.isImageTag=function(t){return t instanceof HTMLImageElement},t.isAudioTag=function(t){return window.HTMLAudioElement?t instanceof HTMLAudioElement:!1},t.isVideoTag=function(t){return window.HTMLVideoElement?t instanceof HTMLVideoElement:!1},t.isText=function(t){switch(t){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},t.getTypeByExtension=function(t){if(null==t)return createjs.AbstractLoader.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,s){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=s,this.resultFormatter=null,t?this._item=createjs.LoadItem.create(t):this._item=null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),s=t;s.POST="POST",s.GET="GET",s.BINARY="binary",s.CSS="css",s.IMAGE="image",s.JAVASCRIPT="javascript",s.JSON="json",s.JSONP="jsonp",s.MANIFEST="manifest",s.SOUND="sound",s.VIDEO="video",s.SPRITESHEET="spritesheet",s.SVG="svg",s.TEXT="text",s.XML="xml",e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(t){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new createjs.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"))}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.buildPath=function(t,e){return createjs.RequestUtils.buildPath(t,e)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,s){this.AbstractLoader_constructor(t,e,s),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._preferXHR?this._request=new createjs.XHRRequest(this._item):this._request=new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,s=t.getResult(!0);t.getTag().src=e.createObjectURL(s)}return t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t){this._item=t},e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,s){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=s,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},e._showTag=function(){this._tag.style.visibility=this._startTagVisibility},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,s){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=s,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,t))}},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(t){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(t){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(t){if(!this.loaded){this.loaded=!0;var e=this._checkError();if(e)return void this._handleError(e);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(s){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===s.name&&window.BlobBuilder){var i=new BlobBuilder;i.append(this._response),this._response=i.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:case 0:return new Error(t)}return null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.RequestUtils.isCrossDomain(t),i={},n=null;if(window.XMLHttpRequest)n=new XMLHttpRequest,e&&void 0===n.withCredentials&&window.XDomainRequest&&(n=new XDomainRequest);else{for(var r=0,a=s.ACTIVEX_VERSIONS.length;a>r;r++){var o=s.ACTIVEX_VERSIONS[r];try{n=new ActiveXObject(o);break}catch(u){}}if(null==n)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&n.overrideMimeType&&n.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof n.responseType?2:1;var c=null;if(c=t.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(t.src,t.values):t.src,n.open(t.method||createjs.AbstractLoader.GET,c,!0),e&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),t.values&&t.method==createjs.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),e||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var l in t.headers)i[l]=t.headers[l];for(l in i)n.setRequestHeader(l,i[l]);return n instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(n.withCredentials=t.withCredentials),this._request=n,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(t)?this._tag=t:createjs.RequestUtils.isAudioTag(t.src)?this._tag=t:createjs.RequestUtils.isAudioTag(t.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader),s=t;s.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SOUND},e._createTag=function(t){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e.src=t,e},createjs.SoundLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},e=t.prototype={},s=t;s.create=function(t){if(t instanceof s||t instanceof Object){var e=new createjs.PlayPropsConfig;return e.set(t),e}throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=s}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Sound cannot be instantiated"}function e(t,e){this.init(t,e)}var s=t;s.INTERRUPT_ANY="any",s.INTERRUPT_EARLY="early",s.INTERRUPT_LATE="late",s.INTERRUPT_NONE="none",s.PLAY_INITED="playInited",s.PLAY_SUCCEEDED="playSucceeded",s.PLAY_INTERRUPTED="playInterrupted",s.PLAY_FINISHED="playFinished",s.PLAY_FAILED="playFailed",s.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],s.EXTENSION_MAP={m4a:"mp4"},s.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,s.defaultInterruptBehavior=s.INTERRUPT_NONE,s.alternateExtensions=[],s.activePlugin=null,s._masterVolume=1,Object.defineProperty(s,"volume",{get:function(){return this._masterVolume},set:function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),s._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,i=0,n=e.length;n>i;i++)e[i].setMasterVolume(t)}}),s._masterMute=!1,Object.defineProperty(s,"muted",{get:function(){return this._masterMute},set:function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,s=0,i=e.length;i>s;s++)e[s].setMasterMute(t);return!0}}),Object.defineProperty(s,"capabilities",{get:function(){return null==s.activePlugin?null:s.activePlugin._capabilities},set:function(t){return!1}}),s._pluginsRegistered=!1,s._lastID=0,s._instances=[],s._idHash={},s._preloadHash={},s._defaultPlayPropsHash={},s.addEventListener=null,s.removeEventListener=null,s.removeAllEventListeners=null,s.dispatchEvent=null,s.hasEventListener=null,s._listeners=null,createjs.EventDispatcher.initialize(s),s.getPreloadHandlers=function(){return{callback:createjs.proxy(s.initLoad,s),types:["sound"],extensions:s.SUPPORTED_EXTENSIONS}},s._handleLoadComplete=function(t){var e=t.target.getItem().src;if(s._preloadHash[e])for(var i=0,n=s._preloadHash[e].length;n>i;i++){var r=s._preloadHash[e][i];if(s._preloadHash[e][i]=!0,s.hasEventListener("fileload")){var t=new createjs.Event("fileload");t.src=r.src,t.id=r.id,t.data=r.data,t.sprite=r.sprite,s.dispatchEvent(t)}}},s._handleLoadError=function(t){var e=t.target.getItem().src;if(s._preloadHash[e])for(var i=0,n=s._preloadHash[e].length;n>i;i++){var r=s._preloadHash[e][i];if(s._preloadHash[e][i]=!1,s.hasEventListener("fileerror")){var t=new createjs.Event("fileerror");t.src=r.src,t.id=r.id,t.data=r.data,t.sprite=r.sprite,s.dispatchEvent(t)}}},s._registerPlugin=function(t){return t.isSupported()?(s.activePlugin=new t,!0):!1},s.registerPlugins=function(t){s._pluginsRegistered=!0;for(var e=0,i=t.length;i>e;e++)if(s._registerPlugin(t[e]))return!0;return!1},s.initializeDefaultPlugins=function(){return null!=s.activePlugin?!0:s._pluginsRegistered?!1:s.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1},s.isReady=function(){return null!=s.activePlugin},s.getCapabilities=function(){return null==s.activePlugin?null:s.activePlugin._capabilities},s.getCapability=function(t){return null==s.activePlugin?null:s.activePlugin._capabilities[t]},s.initLoad=function(t){return s._registerSound(t)},s._registerSound=function(t){if(!s.initializeDefaultPlugins())return!1;var i;if(t.src instanceof Object?(i=s._parseSrc(t.src),i.src=t.path+i.src):i=s._parsePath(t.src),null==i)return!1;t.src=i.src,t.type="sound";var n=t.data,r=null;if(null!=n&&(isNaN(n.channels)?isNaN(n)||(r=parseInt(n)):r=parseInt(n.channels),n.audioSprite))for(var a,o=n.audioSprite.length;o--;)a=n.audioSprite[o],s._idHash[a.id]={src:t.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)},a.defaultPlayProps&&(s._defaultPlayPropsHash[a.id]=createjs.PlayPropsConfig.create(a.defaultPlayProps));null!=t.id&&(s._idHash[t.id]={src:t.src});var u=s.activePlugin.register(t);return e.create(t.src,r),null!=n&&isNaN(n)?t.data.channels=r||e.maxPerChannel():t.data=r||e.maxPerChannel(),u.type&&(t.type=u.type),t.defaultPlayProps&&(s._defaultPlayPropsHash[t.src]=createjs.PlayPropsConfig.create(t.defaultPlayProps)),u},s.registerSound=function(t,e,i,n,r){var a={src:t,id:e,data:i,defaultPlayProps:r};t instanceof Object&&t.src&&(n=e,a=t),a=createjs.LoadItem.create(a),a.path=n,null==n||a.src instanceof Object||(a.src=n+t);var o=s._registerSound(a);if(!o)return!1;if(s._preloadHash[a.src]||(s._preloadHash[a.src]=[]),s._preloadHash[a.src].push(a),1==s._preloadHash[a.src].length)o.on("complete",createjs.proxy(this._handleLoadComplete,this)),o.on("error",createjs.proxy(this._handleLoadError,this)),s.activePlugin.preload(o);else if(1==s._preloadHash[a.src][0])return!0;return a},s.registerSounds=function(t,e){var s=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,n=t.length;n>i;i++)s[i]=createjs.Sound.registerSound(t[i].src,t[i].id,t[i].data,e,t[i].defaultPlayProps);return s},s.removeSound=function(t,i){if(null==s.activePlugin)return!1;t instanceof Object&&t.src&&(t=t.src);var n;if(t instanceof Object?n=s._parseSrc(t):(t=s._getSrcById(t).src,n=s._parsePath(t)),null==n)return!1;t=n.src,null!=i&&(t=i+t);for(var r in s._idHash)s._idHash[r].src==t&&delete s._idHash[r];return e.removeSrc(t),delete s._preloadHash[t],s.activePlugin.removeSound(t),!0},s.removeSounds=function(t,e){var s=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,n=t.length;n>i;i++)s[i]=createjs.Sound.removeSound(t[i].src,e);return s},s.removeAllSounds=function(){s._idHash={},s._preloadHash={},e.removeAll(),s.activePlugin&&s.activePlugin.removeAllSounds()},s.loadComplete=function(t){if(!s.isReady())return!1;var e=s._parsePath(t);return t=e?s._getSrcById(e.src).src:s._getSrcById(t).src,void 0==s._preloadHash[t]?!1:1==s._preloadHash[t][0]},s._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var e=t.match(s.FILE_PATTERN);if(null==e)return!1;for(var i=e[4],n=e[5],r=s.capabilities,a=0;!r[n];)if(n=s.alternateExtensions[a++],a>s.alternateExtensions.length)return null;t=t.replace("."+e[5],"."+n);var o={name:i,src:t,extension:n};return o},s._parseSrc=function(t){var e={name:void 0,src:void 0,extension:void 0},i=s.capabilities;for(var n in t)if(t.hasOwnProperty(n)&&i[n]){e.src=t[n],e.extension=n;break}if(!e.src)return!1;var r=e.src.lastIndexOf("/");return-1!=r?e.name=e.src.slice(r+1):e.name=e.src,e},s.play=function(t,e,i,n,r,a,o,u,c){var l;l=e instanceof Object||e instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(e):createjs.PlayPropsConfig.create({interrupt:e,delay:i,offset:n,loop:r,volume:a,pan:o,startTime:u,duration:c});var h=s.createInstance(t,l.startTime,l.duration),d=s._playInstance(h,l);return d||h._playFailed(),h},s.createInstance=function(t,i,n){if(!s.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(t,i,n);var r=s._defaultPlayPropsHash[t];t=s._getSrcById(t);var a=s._parsePath(t.src),o=null;return null!=a&&null!=a.src?(e.create(a.src),null==i&&(i=t.startTime),o=s.activePlugin.create(a.src,i,n||t.duration),r=r||s._defaultPlayPropsHash[a.src],r&&o.applyPlayProps(r)):o=new createjs.DefaultSoundInstance(t,i,n),o.uniqueId=s._lastID++,o},s.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},s.setVolume=function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),s._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,i=0,n=e.length;n>i;i++)e[i].setMasterVolume(t);
},s.getVolume=function(){return this._masterVolume},s.setMute=function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,s=0,i=e.length;i>s;s++)e[s].setMasterMute(t);return!0},s.getMute=function(){return this._masterMute},s.setDefaultPlayProps=function(t,e){t=s._getSrcById(t),s._defaultPlayPropsHash[s._parsePath(t.src).src]=createjs.PlayPropsConfig.create(e)},s.getDefaultPlayProps=function(t){return t=s._getSrcById(t),s._defaultPlayPropsHash[s._parsePath(t.src).src]},s._playInstance=function(t,e){var i=s._defaultPlayPropsHash[t.src]||{};if(null==e.interrupt&&(e.interrupt=i.interrupt||s.defaultInterruptBehavior),null==e.delay&&(e.delay=i.delay||0),null==e.offset&&(e.offset=t.getPosition()),null==e.loop&&(e.loop=t.loop),null==e.volume&&(e.volume=t.volume),null==e.pan&&(e.pan=t.pan),0==e.delay){var n=s._beginPlaying(t,e);if(!n)return!1}else{var r=setTimeout(function(){s._beginPlaying(t,e)},e.delay);t.delayTimeoutId=r}return this._instances.push(t),!0},s._beginPlaying=function(t,s){if(!e.add(t,s.interrupt))return!1;var i=t._beginPlaying(s);if(!i){var n=createjs.indexOf(this._instances,t);return n>-1&&this._instances.splice(n,1),!1}return!0},s._getSrcById=function(t){return s._idHash[t]||{src:t}},s._playFinished=function(t){e.remove(t);var s=createjs.indexOf(this._instances,t);s>-1&&this._instances.splice(s,1)},createjs.Sound=t,e.channels={},e.create=function(t,s){var i=e.get(t);return null==i?(e.channels[t]=new e(t,s),!0):!1},e.removeSrc=function(t){var s=e.get(t);return null==s?!1:(s._removeAll(),delete e.channels[t],!0)},e.removeAll=function(){for(var t in e.channels)e.channels[t]._removeAll();e.channels={}},e.add=function(t,s){var i=e.get(t.src);return null==i?!1:i._add(t,s)},e.remove=function(t){var s=e.get(t.src);return null==s?!1:(s._remove(t),!0)},e.maxPerChannel=function(){return i.maxDefault},e.get=function(t){return e.channels[t]};var i=e.prototype;i.constructor=e,i.src=null,i.max=null,i.maxDefault=100,i.length=0,i.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},i._get=function(t){return this._instances[t]},i._add=function(t,e){return this._getSlot(e,t)?(this._instances.push(t),this.length++,!0):!1},i._remove=function(t){var e=createjs.indexOf(this._instances,t);return-1==e?!1:(this._instances.splice(e,1),this.length--,!0)},i._removeAll=function(){for(var t=this.length-1;t>=0;t--)this._instances[t].stop()},i._getSlot=function(e,s){var i,n;if(e!=t.INTERRUPT_NONE&&(n=this._get(0),null==n))return!0;for(var r=0,a=this.max;a>r;r++){if(i=this._get(r),null==i)return!0;if(i.playState==t.PLAY_FINISHED||i.playState==t.PLAY_INTERRUPTED||i.playState==t.PLAY_FAILED){n=i;break}e!=t.INTERRUPT_NONE&&(e==t.INTERRUPT_EARLY&&i.getPosition()<n.getPosition()||e==t.INTERRUPT_LATE&&i.getPosition()>n.getPosition())&&(n=i)}return null!=n?(n._interrupt(),this._remove(n),!0):!1},i.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t,e,s,i){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,s||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),i!==!1&&i!==!0&&this.setPlaybackResource(i),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},e=createjs.extend(t,createjs.EventDispatcher);e.play=function(t,e,s,i,n,r){var a;return a=t instanceof Object||t instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(t):createjs.PlayPropsConfig.create({interrupt:t,delay:e,offset:s,loop:i,volume:n,pan:r}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(a),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,a),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this.setPosition(t.offset),null!=t.loop&&this.setLoop(t.loop),null!=t.volume&&this.setVolume(t.volume),null!=t.pan&&this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e.getPaused=function(){return this._paused},e.setPaused=function(t){return t!==!0&&t!==!1||this._paused==t||1==t&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=t,t?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},e.setVolume=function(t){return t==this._volume?this:(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume(),this)},e.getVolume=function(){return this._volume},e.setMuted=function(t){return t===!0||t===!1?(this._muted=t,this._updateVolume(),this):void 0},e.getMuted=function(){return this._muted},e.setPan=function(t){return t==this._pan?this:(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan(),this)},e.getPan=function(){return this._pan},e.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e.setPosition=function(t){return this._position=Math.max(0,t),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e.getStartTime=function(){return this._startTime},e.setStartTime=function(t){return t==this._startTime?this:(this._startTime=Math.max(0,t||0),this._updateStartTime(),this)},e.getDuration=function(){return this._duration},e.setDuration=function(t){return t==this._duration?this:(this._duration=Math.max(0,t||0),this._updateDuration(),this)},e.setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._setDurationFromSource(),this},e.getPlaybackResource=function(){return this._playbackResource},e.getLoop=function(){return this._loop},e.setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new createjs.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this.setPosition(t.offset),this.setLoop(t.loop),this.setVolume(t.volume),this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(t){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(t){},e._addLooping=function(t){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(t,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],e=new this._loaderClass(t),e.on("complete",this._handlePreloadComplete,this),this._loaders[t.src]=e,e)},e.preload=function(t){t.on("error",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;){var s=this._soundInstances[t][e];s.destroy()}delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,s){this.isPreloadStarted(t)||this.preload(this.register(t));var i=new this._soundInstanceClass(t,e,s,this._audioSources[t]);return this._soundInstances[t].push(i),i},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(t){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var s=0,i=this._soundInstances[e].length;i>s;s++){var n=this._soundInstances[e][s];n.setPlaybackResource(this._audioSources[e])}},e._handlePreloadError=function(t){},e._updateVolume=function(){},createjs.AbstractPlugin=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.SOUND)}var e=createjs.extend(t,createjs.AbstractLoader);t.context=null,e.toString=function(){return"[WebAudioLoader]"},e._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},e._sendComplete=function(e){t.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},e._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i,n){this.AbstractSoundInstance_constructor(t,e,i,n),this.gainNode=s.context.createGain(),this.panNode=s.context.createPanner(),this.panNode.panningModel=s._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var e=createjs.extend(t,createjs.AbstractSoundInstance),s=t;s.context=null,s._scratchBuffer=null,s.destinationNode=null,s._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(t){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(t){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){t.stop(0),t.disconnect(0);try{t.buffer=s._scratchBuffer}catch(e){}t=null}return t},e._handleSoundReady=function(t){this.gainNode.connect(s.destinationNode);var e=.001*this._duration,i=.001*this._position;i>e&&(i=e),this.sourceNode=this._createAndPlayAudioNode(s.context.currentTime-e,i),this._playbackStartTime=this.sourceNode.startTime-i,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-i)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var i=s.context.createBufferSource();i.buffer=this.playbackResource,i.connect(this.panNode);var n=.001*this._duration;return i.startTime=t+n,i.start(i.startTime,e+.001*this._startTime,n-e),i},e._pause=function(){this._position=1e3*(s.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(s.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this._panningModel=s._panningModel,this.context=s.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=s._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var e=createjs.extend(t,createjs.AbstractPlugin),s=t;s._capabilities=null,s._panningModel="equalpower",s.context=null,s._scratchBuffer=null,s._unlocked=!1,s.isSupported=function(){var t=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return"file:"!=location.protocol||t||this._isFileXHRSupported()?(s._generateCapabilities(),null==s.context?!1:!0):!1},s.playEmptySound=function(){if(null!=s.context){var t=s.context.createBufferSource(),e=s.context.createBuffer(1,1,44100);t.buffer=e,t.connect(s.context.destination),t.start(0,0,0),t.disconnect()}},s._isFileXHRSupported=function(){var t=!0,e=new XMLHttpRequest;try{e.open("GET","WebAudioPluginTest.fail",!1)}catch(s){return t=!1}e.onerror=function(){t=!1},e.onload=function(){t=404==this.status||200==this.status||0==this.status&&""!=this.response};try{e.send()}catch(s){t=!1}return t},s._generateCapabilities=function(){if(null==s._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==s.context)if(window.AudioContext)s.context=new AudioContext;else{if(!window.webkitAudioContext)return null;s.context=new webkitAudioContext,createjs.BrowserDetect.isIOS&&(s.playEmptySound(),s.context=new webkitAudioContext)}null==s._scratchBuffer&&(s._scratchBuffer=s.context.createBuffer(1,1,22050)),s._compatibilitySetUp(),"ontouchstart"in window&&"running"!=s.context.state&&(document.addEventListener("mousedown",s._unlock,!0),document.addEventListener("touchend",s._unlock,!0)),s._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,n=0,r=e.length;r>n;n++){var a=e[n],o=i[a]||a;s._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)}s.context.destination.numberOfChannels<2&&(s._capabilities.panning=!1)}},s._compatibilitySetUp=function(){if(s._panningModel="equalpower",!s.context.createGain){s.context.createGain=s.context.createGainNode;var t=s.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,s._panningModel=0}},s._unlock=function(){s._unlocked||(s.playEmptySound(),"running"==s.context.state&&(document.removeEventListener("mousedown",s._unlock,!0),document.removeEventListener("touchend",s._unlock,!0),s._unlocked=!0))},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=s._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=createjs.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},createjs.WebAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"HTMLAudioTagPool cannot be instantiated"}function e(t){this._tags=[]}var s=t;s._tags={},s._tagPool=new e,s._tagUsed={},s.get=function(t){var e=s._tags[t];return null==e?(e=s._tags[t]=s._tagPool.get(),e.src=t):s._tagUsed[t]?(e=s._tagPool.get(),e.src=t):s._tagUsed[t]=!0,e},s.set=function(t,e){e==s._tags[t]?s._tagUsed[t]=!1:s._tagPool.set(e)},s.remove=function(t){var e=s._tags[t];return null==e?!1:(s._tagPool.set(e),delete s._tags[t],delete s._tagUsed[t],!0)},s.getDuration=function(t){var e=s._tags[t];return null!=e&&e.duration?1e3*e.duration:0},createjs.HTMLAudioTagPool=t;var i=e.prototype;i.constructor=e,i.get=function(){var t;return t=0==this._tags.length?this._createTag():this._tags.pop(),null==t.parentNode&&document.body.appendChild(t),t},i.set=function(t){var e=createjs.indexOf(this._tags,t);-1==e&&(this._tags.src=null,this._tags.push(t))},i.toString=function(){return"[TagPool]"},i._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,s,i){this.AbstractSoundInstance_constructor(t,e,s,i),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),s?this._audioSpriteStopTime=.001*(e+s):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var e=createjs.extend(t,createjs.AbstractSoundInstance);e.setMasterVolume=function(t){this._updateVolume()},e.setMasterMute=function(t){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(e){}createjs.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(t){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(t){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){if(null!=this._playbackResource){var t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;t!=this._playbackResource.volume&&(this._playbackResource.volume=t)}},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(t){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(t){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(t){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=s._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var e=createjs.extend(t,createjs.AbstractPlugin),s=t;s.MAX_INSTANCES=30,s._AUDIO_READY="canplaythrough",s._AUDIO_ENDED="ended",s._AUDIO_SEEKED="seeked",s._AUDIO_STALLED="stalled",s._TIME_UPDATE="timeupdate",s._capabilities=null,s.isSupported=function(){return s._generateCapabilities(),null!=s._capabilities},s._generateCapabilities=function(){if(null==s._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;s._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,n=0,r=e.length;r>n;n++){var a=e[n],o=i[a]||a;s._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)}}},e.register=function(t){var e=createjs.HTMLAudioTagPool.get(t.src),s=this.AbstractPlugin_register(t);return s.setTag(e),s},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),createjs.HTMLAudioTagPool.remove(t)},e.create=function(t,e,s){var i=this.AbstractPlugin_create(t,e,s);return i.setPlaybackResource(null),i},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(t,"AbstractPlugin")}();

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var Animation = (function () {
            function Animation(name, timelines, duration) {
                if (name == null)
                    throw new Error("name cannot be null.");
                if (timelines == null)
                    throw new Error("timelines cannot be null.");
                this.name = name;
                this.timelines = timelines;
                this.duration = duration;
            }
            Animation.prototype.apply = function (skeleton, lastTime, time, loop, events, alpha, pose, direction) {
                if (skeleton == null)
                    throw new Error("skeleton cannot be null.");
                if (loop && this.duration != 0) {
                    time %= this.duration;
                    if (lastTime > 0)
                        lastTime %= this.duration;
                }
                var timelines = this.timelines;
                for (var i = 0, n = timelines.length; i < n; i++)
                    timelines[i].apply(skeleton, lastTime, time, events, alpha, pose, direction);
            };
            Animation.binarySearch = function (values, target, step) {
                if (step === void 0) { step = 1; }
                var low = 0;
                var high = values.length / step - 2;
                if (high == 0)
                    return step;
                var current = high >>> 1;
                while (true) {
                    if (values[(current + 1) * step] <= target)
                        low = current + 1;
                    else
                        high = current;
                    if (low == high)
                        return (low + 1) * step;
                    current = (low + high) >>> 1;
                }
            };
            Animation.linearSearch = function (values, target, step) {
                for (var i = 0, last = values.length - step; i <= last; i += step)
                    if (values[i] > target)
                        return i;
                return -1;
            };
            return Animation;
        }());
        core.Animation = Animation;
        var MixPose;
        (function (MixPose) {
            MixPose[MixPose["setup"] = 0] = "setup";
            MixPose[MixPose["current"] = 1] = "current";
            MixPose[MixPose["currentLayered"] = 2] = "currentLayered";
        })(MixPose = core.MixPose || (core.MixPose = {}));
        var MixDirection;
        (function (MixDirection) {
            MixDirection[MixDirection["in"] = 0] = "in";
            MixDirection[MixDirection["out"] = 1] = "out";
        })(MixDirection = core.MixDirection || (core.MixDirection = {}));
        var TimelineType;
        (function (TimelineType) {
            TimelineType[TimelineType["rotate"] = 0] = "rotate";
            TimelineType[TimelineType["translate"] = 1] = "translate";
            TimelineType[TimelineType["scale"] = 2] = "scale";
            TimelineType[TimelineType["shear"] = 3] = "shear";
            TimelineType[TimelineType["attachment"] = 4] = "attachment";
            TimelineType[TimelineType["color"] = 5] = "color";
            TimelineType[TimelineType["deform"] = 6] = "deform";
            TimelineType[TimelineType["event"] = 7] = "event";
            TimelineType[TimelineType["drawOrder"] = 8] = "drawOrder";
            TimelineType[TimelineType["ikConstraint"] = 9] = "ikConstraint";
            TimelineType[TimelineType["transformConstraint"] = 10] = "transformConstraint";
            TimelineType[TimelineType["pathConstraintPosition"] = 11] = "pathConstraintPosition";
            TimelineType[TimelineType["pathConstraintSpacing"] = 12] = "pathConstraintSpacing";
            TimelineType[TimelineType["pathConstraintMix"] = 13] = "pathConstraintMix";
            TimelineType[TimelineType["twoColor"] = 14] = "twoColor";
        })(TimelineType = core.TimelineType || (core.TimelineType = {}));
        var CurveTimeline = (function () {
            function CurveTimeline(frameCount) {
                if (frameCount <= 0)
                    throw new Error("frameCount must be > 0: " + frameCount);
                this.curves = core.Utils.newFloatArray((frameCount - 1) * CurveTimeline.BEZIER_SIZE);
            }
            CurveTimeline.prototype.getFrameCount = function () {
                return this.curves.length / CurveTimeline.BEZIER_SIZE + 1;
            };
            CurveTimeline.prototype.setLinear = function (frameIndex) {
                this.curves[frameIndex * CurveTimeline.BEZIER_SIZE] = CurveTimeline.LINEAR;
            };
            CurveTimeline.prototype.setStepped = function (frameIndex) {
                this.curves[frameIndex * CurveTimeline.BEZIER_SIZE] = CurveTimeline.STEPPED;
            };
            CurveTimeline.prototype.getCurveType = function (frameIndex) {
                var index = frameIndex * CurveTimeline.BEZIER_SIZE;
                if (index == this.curves.length)
                    return CurveTimeline.LINEAR;
                var type = this.curves[index];
                if (type == CurveTimeline.LINEAR)
                    return CurveTimeline.LINEAR;
                if (type == CurveTimeline.STEPPED)
                    return CurveTimeline.STEPPED;
                return CurveTimeline.BEZIER;
            };
            CurveTimeline.prototype.setCurve = function (frameIndex, cx1, cy1, cx2, cy2) {
                var tmpx = (-cx1 * 2 + cx2) * 0.03, tmpy = (-cy1 * 2 + cy2) * 0.03;
                var dddfx = ((cx1 - cx2) * 3 + 1) * 0.006, dddfy = ((cy1 - cy2) * 3 + 1) * 0.006;
                var ddfx = tmpx * 2 + dddfx, ddfy = tmpy * 2 + dddfy;
                var dfx = cx1 * 0.3 + tmpx + dddfx * 0.16666667, dfy = cy1 * 0.3 + tmpy + dddfy * 0.16666667;
                var i = frameIndex * CurveTimeline.BEZIER_SIZE;
                var curves = this.curves;
                curves[i++] = CurveTimeline.BEZIER;
                var x = dfx, y = dfy;
                for (var n = i + CurveTimeline.BEZIER_SIZE - 1; i < n; i += 2) {
                    curves[i] = x;
                    curves[i + 1] = y;
                    dfx += ddfx;
                    dfy += ddfy;
                    ddfx += dddfx;
                    ddfy += dddfy;
                    x += dfx;
                    y += dfy;
                }
            };
            CurveTimeline.prototype.getCurvePercent = function (frameIndex, percent) {
                percent = core.MathUtils.clamp(percent, 0, 1);
                var curves = this.curves;
                var i = frameIndex * CurveTimeline.BEZIER_SIZE;
                var type = curves[i];
                if (type == CurveTimeline.LINEAR)
                    return percent;
                if (type == CurveTimeline.STEPPED)
                    return 0;
                i++;
                var x = 0;
                for (var start = i, n = i + CurveTimeline.BEZIER_SIZE - 1; i < n; i += 2) {
                    x = curves[i];
                    if (x >= percent) {
                        var prevX = void 0, prevY = void 0;
                        if (i == start) {
                            prevX = 0;
                            prevY = 0;
                        }
                        else {
                            prevX = curves[i - 2];
                            prevY = curves[i - 1];
                        }
                        return prevY + (curves[i + 1] - prevY) * (percent - prevX) / (x - prevX);
                    }
                }
                var y = curves[i - 1];
                return y + (1 - y) * (percent - x) / (1 - x);
            };
            CurveTimeline.LINEAR = 0;
            CurveTimeline.STEPPED = 1;
            CurveTimeline.BEZIER = 2;
            CurveTimeline.BEZIER_SIZE = 10 * 2 - 1;
            return CurveTimeline;
        }());
        core.CurveTimeline = CurveTimeline;
        var RotateTimeline = (function (_super) {
            __extends(RotateTimeline, _super);
            function RotateTimeline(frameCount) {
                var _this = _super.call(this, frameCount) || this;
                _this.frames = core.Utils.newFloatArray(frameCount << 1);
                return _this;
            }
            RotateTimeline.prototype.getPropertyId = function () {
                return (TimelineType.rotate << 24) + this.boneIndex;
            };
            RotateTimeline.prototype.setFrame = function (frameIndex, time, degrees) {
                frameIndex <<= 1;
                this.frames[frameIndex] = time;
                this.frames[frameIndex + RotateTimeline.ROTATION] = degrees;
            };
            RotateTimeline.prototype.apply = function (skeleton, lastTime, time, events, alpha, pose, direction) {
                var frames = this.frames;
                var bone = skeleton.bones[this.boneIndex];
                if (time < frames[0]) {
                    switch (pose) {
                        case MixPose.setup:
                            bone.rotation = bone.data.rotation;
                            return;
                        case MixPose.current:
                            var r_1 = bone.data.rotation - bone.rotation;
                            r_1 -= (16384 - ((16384.499999999996 - r_1 / 360) | 0)) * 360;
                            bone.rotation += r_1 * alpha;
                    }
                    return;
                }
                if (time >= frames[frames.length - RotateTimeline.ENTRIES]) {
                    if (pose == MixPose.setup)
                        bone.rotation = bone.data.rotation + frames[frames.length + RotateTimeline.PREV_ROTATION] * alpha;
                    else {
                        var r_2 = bone.data.rotation + frames[frames.length + RotateTimeline.PREV_ROTATION] - bone.rotation;
                        r_2 -= (16384 - ((16384.499999999996 - r_2 / 360) | 0)) * 360;
                        bone.rotation += r_2 * alpha;
                    }
                    return;
                }
                var frame = Animation.binarySearch(frames, time, RotateTimeline.ENTRIES);
                var prevRotation = frames[frame + RotateTimeline.PREV_ROTATION];
                var frameTime = frames[frame];
                var percent = this.getCurvePercent((frame >> 1) - 1, 1 - (time - frameTime) / (frames[frame + RotateTimeline.PREV_TIME] - frameTime));
                var r = frames[frame + RotateTimeline.ROTATION] - prevRotation;
                r -= (16384 - ((16384.499999999996 - r / 360) | 0)) * 360;
                r = prevRotation + r * percent;
                if (pose == MixPose.setup) {
                    r -= (16384 - ((16384.499999999996 - r / 360) | 0)) * 360;
                    bone.rotation = bone.data.rotation + r * alpha;
                }
                else {
                    r = bone.data.rotation + r - bone.rotation;
                    r -= (16384 - ((16384.499999999996 - r / 360) | 0)) * 360;
                    bone.rotation += r * alpha;
                }
            };
            RotateTimeline.ENTRIES = 2;
            RotateTimeline.PREV_TIME = -2;
            RotateTimeline.PREV_ROTATION = -1;
            RotateTimeline.ROTATION = 1;
            return RotateTimeline;
        }(CurveTimeline));
        core.RotateTimeline = RotateTimeline;
        var TranslateTimeline = (function (_super) {
            __extends(TranslateTimeline, _super);
            function TranslateTimeline(frameCount) {
                var _this = _super.call(this, frameCount) || this;
                _this.frames = core.Utils.newFloatArray(frameCount * TranslateTimeline.ENTRIES);
                return _this;
            }
            TranslateTimeline.prototype.getPropertyId = function () {
                return (TimelineType.translate << 24) + this.boneIndex;
            };
            TranslateTimeline.prototype.setFrame = function (frameIndex, time, x, y) {
                frameIndex *= TranslateTimeline.ENTRIES;
                this.frames[frameIndex] = time;
                this.frames[frameIndex + TranslateTimeline.X] = x;
                this.frames[frameIndex + TranslateTimeline.Y] = y;
            };
            TranslateTimeline.prototype.apply = function (skeleton, lastTime, time, events, alpha, pose, direction) {
                var frames = this.frames;
                var bone = skeleton.bones[this.boneIndex];
                if (time < frames[0]) {
                    switch (pose) {
                        case MixPose.setup:
                            bone.x = bone.data.x;
                            bone.y = bone.data.y;
                            return;
                        case MixPose.current:
                            bone.x += (bone.data.x - bone.x) * alpha;
                            bone.y += (bone.data.y - bone.y) * alpha;
                    }
                    return;
                }
                var x = 0, y = 0;
                if (time >= frames[frames.length - TranslateTimeline.ENTRIES]) {
                    x = frames[frames.length + TranslateTimeline.PREV_X];
                    y = frames[frames.length + TranslateTimeline.PREV_Y];
                }
                else {
                    var frame = Animation.binarySearch(frames, time, TranslateTimeline.ENTRIES);
                    x = frames[frame + TranslateTimeline.PREV_X];
                    y = frames[frame + TranslateTimeline.PREV_Y];
                    var frameTime = frames[frame];
                    var percent = this.getCurvePercent(frame / TranslateTimeline.ENTRIES - 1, 1 - (time - frameTime) / (frames[frame + TranslateTimeline.PREV_TIME] - frameTime));
                    x += (frames[frame + TranslateTimeline.X] - x) * percent;
                    y += (frames[frame + TranslateTimeline.Y] - y) * percent;
                }
                if (pose == MixPose.setup) {
                    bone.x = bone.data.x + x * alpha;
                    bone.y = bone.data.y + y * alpha;
                }
                else {
                    bone.x += (bone.data.x + x - bone.x) * alpha;
                    bone.y += (bone.data.y + y - bone.y) * alpha;
                }
            };
            TranslateTimeline.ENTRIES = 3;
            TranslateTimeline.PREV_TIME = -3;
            TranslateTimeline.PREV_X = -2;
            TranslateTimeline.PREV_Y = -1;
            TranslateTimeline.X = 1;
            TranslateTimeline.Y = 2;
            return TranslateTimeline;
        }(CurveTimeline));
        core.TranslateTimeline = TranslateTimeline;
        var ScaleTimeline = (function (_super) {
            __extends(ScaleTimeline, _super);
            function ScaleTimeline(frameCount) {
                return _super.call(this, frameCount) || this;
            }
            ScaleTimeline.prototype.getPropertyId = function () {
                return (TimelineType.scale << 24) + this.boneIndex;
            };
            ScaleTimeline.prototype.apply = function (skeleton, lastTime, time, events, alpha, pose, direction) {
                var frames = this.frames;
                var bone = skeleton.bones[this.boneIndex];
                if (time < frames[0]) {
                    switch (pose) {
                        case MixPose.setup:
                            bone.scaleX = bone.data.scaleX;
                            bone.scaleY = bone.data.scaleY;
                            return;
                        case MixPose.current:
                            bone.scaleX += (bone.data.scaleX - bone.scaleX) * alpha;
                            bone.scaleY += (bone.data.scaleY - bone.scaleY) * alpha;
                    }
                    return;
                }
                var x = 0, y = 0;
                if (time >= frames[frames.length - ScaleTimeline.ENTRIES]) {
                    x = frames[frames.length + ScaleTimeline.PREV_X] * bone.data.scaleX;
                    y = frames[frames.length + ScaleTimeline.PREV_Y] * bone.data.scaleY;
                }
                else {
                    var frame = Animation.binarySearch(frames, time, ScaleTimeline.ENTRIES);
                    x = frames[frame + ScaleTimeline.PREV_X];
                    y = frames[frame + ScaleTimeline.PREV_Y];
                    var frameTime = frames[frame];
                    var percent = this.getCurvePercent(frame / ScaleTimeline.ENTRIES - 1, 1 - (time - frameTime) / (frames[frame + ScaleTimeline.PREV_TIME] - frameTime));
                    x = (x + (frames[frame + ScaleTimeline.X] - x) * percent) * bone.data.scaleX;
                    y = (y + (frames[frame + ScaleTimeline.Y] - y) * percent) * bone.data.scaleY;
                }
                if (alpha == 1) {
                    bone.scaleX = x;
                    bone.scaleY = y;
                }
                else {
                    var bx = 0, by = 0;
                    if (pose == MixPose.setup) {
                        bx = bone.data.scaleX;
                        by = bone.data.scaleY;
                    }
                    else {
                        bx = bone.scaleX;
                        by = bone.scaleY;
                    }
                    if (direction == MixDirection.out) {
                        x = Math.abs(x) * core.MathUtils.signum(bx);
                        y = Math.abs(y) * core.MathUtils.signum(by);
                    }
                    else {
                        bx = Math.abs(bx) * core.MathUtils.signum(x);
                        by = Math.abs(by) * core.MathUtils.signum(y);
                    }
                    bone.scaleX = bx + (x - bx) * alpha;
                    bone.scaleY = by + (y - by) * alpha;
                }
            };
            return ScaleTimeline;
        }(TranslateTimeline));
        core.ScaleTimeline = ScaleTimeline;
        var ShearTimeline = (function (_super) {
            __extends(ShearTimeline, _super);
            function ShearTimeline(frameCount) {
                return _super.call(this, frameCount) || this;
            }
            ShearTimeline.prototype.getPropertyId = function () {
                return (TimelineType.shear << 24) + this.boneIndex;
            };
            ShearTimeline.prototype.apply = function (skeleton, lastTime, time, events, alpha, pose, direction) {
                var frames = this.frames;
                var bone = skeleton.bones[this.boneIndex];
                if (time < frames[0]) {
                    switch (pose) {
                        case MixPose.setup:
                            bone.shearX = bone.data.shearX;
                            bone.shearY = bone.data.shearY;
                            return;
                        case MixPose.current:
                            bone.shearX += (bone.data.shearX - bone.shearX) * alpha;
                            bone.shearY += (bone.data.shearY - bone.shearY) * alpha;
                    }
                    return;
                }
                var x = 0, y = 0;
                if (time >= frames[frames.length - ShearTimeline.ENTRIES]) {
                    x = frames[frames.length + ShearTimeline.PREV_X];
                    y = frames[frames.length + ShearTimeline.PREV_Y];
                }
                else {
                    var frame = Animation.binarySearch(frames, time, ShearTimeline.ENTRIES);
                    x = frames[frame + ShearTimeline.PREV_X];
                    y = frames[frame + ShearTimeline.PREV_Y];
                    var frameTime = frames[frame];
                    var percent = this.getCurvePercent(frame / ShearTimeline.ENTRIES - 1, 1 - (time - frameTime) / (frames[frame + ShearTimeline.PREV_TIME] - frameTime));
                    x = x + (frames[frame + ShearTimeline.X] - x) * percent;
                    y = y + (frames[frame + ShearTimeline.Y] - y) * percent;
                }
                if (pose == MixPose.setup) {
                    bone.shearX = bone.data.shearX + x * alpha;
                    bone.shearY = bone.data.shearY + y * alpha;
                }
                else {
                    bone.shearX += (bone.data.shearX + x - bone.shearX) * alpha;
                    bone.shearY += (bone.data.shearY + y - bone.shearY) * alpha;
                }
            };
            return ShearTimeline;
        }(TranslateTimeline));
        core.ShearTimeline = ShearTimeline;
        var ColorTimeline = (function (_super) {
            __extends(ColorTimeline, _super);
            function ColorTimeline(frameCount) {
                var _this = _super.call(this, frameCount) || this;
                _this.frames = core.Utils.newFloatArray(frameCount * ColorTimeline.ENTRIES);
                return _this;
            }
            ColorTimeline.prototype.getPropertyId = function () {
                return (TimelineType.color << 24) + this.slotIndex;
            };
            ColorTimeline.prototype.setFrame = function (frameIndex, time, r, g, b, a) {
                frameIndex *= ColorTimeline.ENTRIES;
                this.frames[frameIndex] = time;
                this.frames[frameIndex + ColorTimeline.R] = r;
                this.frames[frameIndex + ColorTimeline.G] = g;
                this.frames[frameIndex + ColorTimeline.B] = b;
                this.frames[frameIndex + ColorTimeline.A] = a;
            };
            ColorTimeline.prototype.apply = function (skeleton, lastTime, time, events, alpha, pose, direction) {
                var slot = skeleton.slots[this.slotIndex];
                var frames = this.frames;
                if (time < frames[0]) {
                    switch (pose) {
                        case MixPose.setup:
                            slot.color.setFromColor(slot.data.color);
                            return;
                        case MixPose.current:
                            var color = slot.color, setup = slot.data.color;
                            color.add((setup.r - color.r) * alpha, (setup.g - color.g) * alpha, (setup.b - color.b) * alpha, (setup.a - color.a) * alpha);
                    }
                    return;
                }
                var r = 0, g = 0, b = 0, a = 0;
                if (time >= frames[frames.length - ColorTimeline.ENTRIES]) {
                    var i = frames.length;
                    r = frames[i + ColorTimeline.PREV_R];
                    g = frames[i + ColorTimeline.PREV_G];
                    b = frames[i + ColorTimeline.PREV_B];
                    a = frames[i + ColorTimeline.PREV_A];
                }
                else {
                    var frame = Animation.binarySearch(frames, time, ColorTimeline.ENTRIES);
                    r = frames[frame + ColorTimeline.PREV_R];
                    g = frames[frame + ColorTimeline.PREV_G];
                    b = frames[frame + ColorTimeline.PREV_B];
                    a = frames[frame + ColorTimeline.PREV_A];
                    var frameTime = frames[frame];
                    var percent = this.getCurvePercent(frame / ColorTimeline.ENTRIES - 1, 1 - (time - frameTime) / (frames[frame + ColorTimeline.PREV_TIME] - frameTime));
                    r += (frames[frame + ColorTimeline.R] - r) * percent;
                    g += (frames[frame + ColorTimeline.G] - g) * percent;
                    b += (frames[frame + ColorTimeline.B] - b) * percent;
                    a += (frames[frame + ColorTimeline.A] - a) * percent;
                }
                if (alpha == 1)
                    slot.color.set(r, g, b, a);
                else {
                    var color = slot.color;
                    if (pose == MixPose.setup)
                        color.setFromColor(slot.data.color);
                    color.add((r - color.r) * alpha, (g - color.g) * alpha, (b - color.b) * alpha, (a - color.a) * alpha);
                }
            };
            ColorTimeline.ENTRIES = 5;
            ColorTimeline.PREV_TIME = -5;
            ColorTimeline.PREV_R = -4;
            ColorTimeline.PREV_G = -3;
            ColorTimeline.PREV_B = -2;
            ColorTimeline.PREV_A = -1;
            ColorTimeline.R = 1;
            ColorTimeline.G = 2;
            ColorTimeline.B = 3;
            ColorTimeline.A = 4;
            return ColorTimeline;
        }(CurveTimeline));
        core.ColorTimeline = ColorTimeline;
        var TwoColorTimeline = (function (_super) {
            __extends(TwoColorTimeline, _super);
            function TwoColorTimeline(frameCount) {
                var _this = _super.call(this, frameCount) || this;
                _this.frames = core.Utils.newFloatArray(frameCount * TwoColorTimeline.ENTRIES);
                return _this;
            }
            TwoColorTimeline.prototype.getPropertyId = function () {
                return (TimelineType.twoColor << 24) + this.slotIndex;
            };
            TwoColorTimeline.prototype.setFrame = function (frameIndex, time, r, g, b, a, r2, g2, b2) {
                frameIndex *= TwoColorTimeline.ENTRIES;
                this.frames[frameIndex] = time;
                this.frames[frameIndex + TwoColorTimeline.R] = r;
                this.frames[frameIndex + TwoColorTimeline.G] = g;
                this.frames[frameIndex + TwoColorTimeline.B] = b;
                this.frames[frameIndex + TwoColorTimeline.A] = a;
                this.frames[frameIndex + TwoColorTimeline.R2] = r2;
                this.frames[frameIndex + TwoColorTimeline.G2] = g2;
                this.frames[frameIndex + TwoColorTimeline.B2] = b2;
            };
            TwoColorTimeline.prototype.apply = function (skeleton, lastTime, time, events, alpha, pose, direction) {
                var slot = skeleton.slots[this.slotIndex];
                var frames = this.frames;
                if (time < frames[0]) {
                    switch (pose) {
                        case MixPose.setup:
                            slot.color.setFromColor(slot.data.color);
                            slot.darkColor.setFromColor(slot.data.darkColor);
                            return;
                        case MixPose.current:
                            var light = slot.color, dark = slot.darkColor, setupLight = slot.data.color, setupDark = slot.data.darkColor;
                            light.add((setupLight.r - light.r) * alpha, (setupLight.g - light.g) * alpha, (setupLight.b - light.b) * alpha, (setupLight.a - light.a) * alpha);
                            dark.add((setupDark.r - dark.r) * alpha, (setupDark.g - dark.g) * alpha, (setupDark.b - dark.b) * alpha, 0);
                    }
                    return;
                }
                var r = 0, g = 0, b = 0, a = 0, r2 = 0, g2 = 0, b2 = 0;
                if (time >= frames[frames.length - TwoColorTimeline.ENTRIES]) {
                    var i = frames.length;
                    r = frames[i + TwoColorTimeline.PREV_R];
                    g = frames[i + TwoColorTimeline.PREV_G];
                    b = frames[i + TwoColorTimeline.PREV_B];
                    a = frames[i + TwoColorTimeline.PREV_A];
                    r2 = frames[i + TwoColorTimeline.PREV_R2];
                    g2 = frames[i + TwoColorTimeline.PREV_G2];
                    b2 = frames[i + TwoColorTimeline.PREV_B2];
                }
                else {
                    var frame = Animation.binarySearch(frames, time, TwoColorTimeline.ENTRIES);
                    r = frames[frame + TwoColorTimeline.PREV_R];
                    g = frames[frame + TwoColorTimeline.PREV_G];
                    b = frames[frame + TwoColorTimeline.PREV_B];
                    a = frames[frame + TwoColorTimeline.PREV_A];
                    r2 = frames[frame + TwoColorTimeline.PREV_R2];
                    g2 = frames[frame + TwoColorTimeline.PREV_G2];
                    b2 = frames[frame + TwoColorTimeline.PREV_B2];
                    var frameTime = frames[frame];
                    var percent = this.getCurvePercent(frame / TwoColorTimeline.ENTRIES - 1, 1 - (time - frameTime) / (frames[frame + TwoColorTimeline.PREV_TIME] - frameTime));
                    r += (frames[frame + TwoColorTimeline.R] - r) * percent;
                    g += (frames[frame + TwoColorTimeline.G] - g) * percent;
                    b += (frames[frame + TwoColorTimeline.B] - b) * percent;
                    a += (frames[frame + TwoColorTimeline.A] - a) * percent;
                    r2 += (frames[frame + TwoColorTimeline.R2] - r2) * percent;
                    g2 += (frames[frame + TwoColorTimeline.G2] - g2) * percent;
                    b2 += (frames[frame + TwoColorTimeline.B2] - b2) * percent;
                }
                if (alpha == 1) {
                    slot.color.set(r, g, b, a);
                    slot.darkColor.set(r2, g2, b2, 1);
                }
                else {
                    var light = slot.color, dark = slot.darkColor;
                    if (pose == MixPose.setup) {
                        light.setFromColor(slot.data.color);
                        dark.setFromColor(slot.data.darkColor);
                    }
                    light.add((r - light.r) * alpha, (g - light.g) * alpha, (b - light.b) * alpha, (a - light.a) * alpha);
                    dark.add((r2 - dark.r) * alpha, (g2 - dark.g) * alpha, (b2 - dark.b) * alpha, 0);
                }
            };
            TwoColorTimeline.ENTRIES = 8;
            TwoColorTimeline.PREV_TIME = -8;
            TwoColorTimeline.PREV_R = -7;
            TwoColorTimeline.PREV_G = -6;
            TwoColorTimeline.PREV_B = -5;
            TwoColorTimeline.PREV_A = -4;
            TwoColorTimeline.PREV_R2 = -3;
            TwoColorTimeline.PREV_G2 = -2;
            TwoColorTimeline.PREV_B2 = -1;
            TwoColorTimeline.R = 1;
            TwoColorTimeline.G = 2;
            TwoColorTimeline.B = 3;
            TwoColorTimeline.A = 4;
            TwoColorTimeline.R2 = 5;
            TwoColorTimeline.G2 = 6;
            TwoColorTimeline.B2 = 7;
            return TwoColorTimeline;
        }(CurveTimeline));
        core.TwoColorTimeline = TwoColorTimeline;
        var AttachmentTimeline = (function () {
            function AttachmentTimeline(frameCount) {
                this.frames = core.Utils.newFloatArray(frameCount);
                this.attachmentNames = new Array(frameCount);
            }
            AttachmentTimeline.prototype.getPropertyId = function () {
                return (TimelineType.attachment << 24) + this.slotIndex;
            };
            AttachmentTimeline.prototype.getFrameCount = function () {
                return this.frames.length;
            };
            AttachmentTimeline.prototype.setFrame = function (frameIndex, time, attachmentName) {
                this.frames[frameIndex] = time;
                this.attachmentNames[frameIndex] = attachmentName;
            };
            AttachmentTimeline.prototype.apply = function (skeleton, lastTime, time, events, alpha, pose, direction) {
                var slot = skeleton.slots[this.slotIndex];
                if (direction == MixDirection.out && pose == MixPose.setup) {
                    var attachmentName_1 = slot.data.attachmentName;
                    slot.setAttachment(attachmentName_1 == null ? null : skeleton.getAttachment(this.slotIndex, attachmentName_1));
                    return;
                }
                var frames = this.frames;
                if (time < frames[0]) {
                    if (pose == MixPose.setup) {
                        var attachmentName_2 = slot.data.attachmentName;
                        slot.setAttachment(attachmentName_2 == null ? null : skeleton.getAttachment(this.slotIndex, attachmentName_2));
                    }
                    return;
                }
                var frameIndex = 0;
                if (time >= frames[frames.length - 1])
                    frameIndex = frames.length - 1;
                else
                    frameIndex = Animation.binarySearch(frames, time, 1) - 1;
                var attachmentName = this.attachmentNames[frameIndex];
                skeleton.slots[this.slotIndex]
                    .setAttachment(attachmentName == null ? null : skeleton.getAttachment(this.slotIndex, attachmentName));
            };
            return AttachmentTimeline;
        }());
        core.AttachmentTimeline = AttachmentTimeline;
        var zeros = null;
        var DeformTimeline = (function (_super) {
            __extends(DeformTimeline, _super);
            function DeformTimeline(frameCount) {
                var _this = _super.call(this, frameCount) || this;
                _this.frames = core.Utils.newFloatArray(frameCount);
                _this.frameVertices = new Array(frameCount);
                if (zeros == null)
                    zeros = core.Utils.newFloatArray(64);
                return _this;
            }
            DeformTimeline.prototype.getPropertyId = function () {
                return (TimelineType.deform << 27) + +this.attachment.id + this.slotIndex;
            };
            DeformTimeline.prototype.setFrame = function (frameIndex, time, vertices) {
                this.frames[frameIndex] = time;
                this.frameVertices[frameIndex] = vertices;
            };
            DeformTimeline.prototype.apply = function (skeleton, lastTime, time, firedEvents, alpha, pose, direction) {
                var slot = skeleton.slots[this.slotIndex];
                var slotAttachment = slot.getAttachment();
                if (!(slotAttachment instanceof core.VertexAttachment) || !slotAttachment.applyDeform(this.attachment))
                    return;
                var verticesArray = slot.attachmentVertices;
                var frameVertices = this.frameVertices;
                var vertexCount = frameVertices[0].length;
                var vertices = core.Utils.setArraySize(verticesArray, vertexCount);
                var frames = this.frames;
                if (time < frames[0]) {
                    var vertexAttachment = slotAttachment;
                    switch (pose) {
                        case MixPose.setup:
                            var zeroVertices = void 0;
                            if (vertexAttachment.bones == null) {
                                zeroVertices = vertexAttachment.vertices;
                            }
                            else {
                                zeroVertices = zeros;
                                if (zeroVertices.length < vertexCount)
                                    zeros = zeroVertices = core.Utils.newFloatArray(vertexCount);
                            }
                            core.Utils.arrayCopy(zeroVertices, 0, vertices, 0, vertexCount);
                            return;
                        case MixPose.current:
                            if (alpha == 1)
                                break;
                            if (vertexAttachment.bones == null) {
                                var setupVertices = vertexAttachment.vertices;
                                for (var i_1 = 0; i_1 < vertexCount; i_1++)
                                    vertices[i_1] += (setupVertices[i_1] - vertices[i_1]) * alpha;
                            }
                            else {
                                alpha = 1 - alpha;
                                for (var i = 0; i < vertexCount; i++)
                                    vertices[i] *= alpha;
                            }
                    }
                    return;
                }
                if (time >= frames[frames.length - 1]) {
                    var lastVertices = frameVertices[frames.length - 1];
                    if (alpha == 1) {
                        core.Utils.arrayCopy(lastVertices, 0, vertices, 0, vertexCount);
                    }
                    else if (pose == MixPose.setup) {
                        var vertexAttachment = slotAttachment;
                        if (vertexAttachment.bones == null) {
                            var setupVertices = vertexAttachment.vertices;
                            for (var i_2 = 0; i_2 < vertexCount; i_2++) {
                                var setup = setupVertices[i_2];
                                vertices[i_2] = setup + (lastVertices[i_2] - setup) * alpha;
                            }
                        }
                        else {
                            for (var i_3 = 0; i_3 < vertexCount; i_3++)
                                vertices[i_3] = lastVertices[i_3] * alpha;
                        }
                    }
                    else {
                        for (var i_4 = 0; i_4 < vertexCount; i_4++)
                            vertices[i_4] += (lastVertices[i_4] - vertices[i_4]) * alpha;
                    }
                    return;
                }
                var frame = Animation.binarySearch(frames, time);
                var prevVertices = frameVertices[frame - 1];
                var nextVertices = frameVertices[frame];
                var frameTime = frames[frame];
                var percent = this.getCurvePercent(frame - 1, 1 - (time - frameTime) / (frames[frame - 1] - frameTime));
                if (alpha == 1) {
                    for (var i_5 = 0; i_5 < vertexCount; i_5++) {
                        var prev = prevVertices[i_5];
                        vertices[i_5] = prev + (nextVertices[i_5] - prev) * percent;
                    }
                }
                else if (pose == MixPose.setup) {
                    var vertexAttachment = slotAttachment;
                    if (vertexAttachment.bones == null) {
                        var setupVertices = vertexAttachment.vertices;
                        for (var i_6 = 0; i_6 < vertexCount; i_6++) {
                            var prev = prevVertices[i_6], setup = setupVertices[i_6];
                            vertices[i_6] = setup + (prev + (nextVertices[i_6] - prev) * percent - setup) * alpha;
                        }
                    }
                    else {
                        for (var i_7 = 0; i_7 < vertexCount; i_7++) {
                            var prev = prevVertices[i_7];
                            vertices[i_7] = (prev + (nextVertices[i_7] - prev) * percent) * alpha;
                        }
                    }
                }
                else {
                    for (var i_8 = 0; i_8 < vertexCount; i_8++) {
                        var prev = prevVertices[i_8];
                        vertices[i_8] += (prev + (nextVertices[i_8] - prev) * percent - vertices[i_8]) * alpha;
                    }
                }
            };
            return DeformTimeline;
        }(CurveTimeline));
        core.DeformTimeline = DeformTimeline;
        var EventTimeline = (function () {
            function EventTimeline(frameCount) {
                this.frames = core.Utils.newFloatArray(frameCount);
                this.events = new Array(frameCount);
            }
            EventTimeline.prototype.getPropertyId = function () {
                return TimelineType.event << 24;
            };
            EventTimeline.prototype.getFrameCount = function () {
                return this.frames.length;
            };
            EventTimeline.prototype.setFrame = function (frameIndex, event) {
                this.frames[frameIndex] = event.time;
                this.events[frameIndex] = event;
            };
            EventTimeline.prototype.apply = function (skeleton, lastTime, time, firedEvents, alpha, pose, direction) {
                if (firedEvents == null)
                    return;
                var frames = this.frames;
                var frameCount = this.frames.length;
                if (lastTime > time) {
                    this.apply(skeleton, lastTime, Number.MAX_VALUE, firedEvents, alpha, pose, direction);
                    lastTime = -1;
                }
                else if (lastTime >= frames[frameCount - 1])
                    return;
                if (time < frames[0])
                    return;
                var frame = 0;
                if (lastTime < frames[0])
                    frame = 0;
                else {
                    frame = Animation.binarySearch(frames, lastTime);
                    var frameTime = frames[frame];
                    while (frame > 0) {
                        if (frames[frame - 1] != frameTime)
                            break;
                        frame--;
                    }
                }
                for (; frame < frameCount && time >= frames[frame]; frame++)
                    firedEvents.push(this.events[frame]);
            };
            return EventTimeline;
        }());
        core.EventTimeline = EventTimeline;
        var DrawOrderTimeline = (function () {
            function DrawOrderTimeline(frameCount) {
                this.frames = core.Utils.newFloatArray(frameCount);
                this.drawOrders = new Array(frameCount);
            }
            DrawOrderTimeline.prototype.getPropertyId = function () {
                return TimelineType.drawOrder << 24;
            };
            DrawOrderTimeline.prototype.getFrameCount = function () {
                return this.frames.length;
            };
            DrawOrderTimeline.prototype.setFrame = function (frameIndex, time, drawOrder) {
                this.frames[frameIndex] = time;
                this.drawOrders[frameIndex] = drawOrder;
            };
            DrawOrderTimeline.prototype.apply = function (skeleton, lastTime, time, firedEvents, alpha, pose, direction) {
                var drawOrder = skeleton.drawOrder;
                var slots = skeleton.slots;
                if (direction == MixDirection.out && pose == MixPose.setup) {
                    core.Utils.arrayCopy(skeleton.slots, 0, skeleton.drawOrder, 0, skeleton.slots.length);
                    return;
                }
                var frames = this.frames;
                if (time < frames[0]) {
                    if (pose == MixPose.setup)
                        core.Utils.arrayCopy(skeleton.slots, 0, skeleton.drawOrder, 0, skeleton.slots.length);
                    return;
                }
                var frame = 0;
                if (time >= frames[frames.length - 1])
                    frame = frames.length - 1;
                else
                    frame = Animation.binarySearch(frames, time) - 1;
                var drawOrderToSetupIndex = this.drawOrders[frame];
                if (drawOrderToSetupIndex == null)
                    core.Utils.arrayCopy(slots, 0, drawOrder, 0, slots.length);
                else {
                    for (var i = 0, n = drawOrderToSetupIndex.length; i < n; i++)
                        drawOrder[i] = slots[drawOrderToSetupIndex[i]];
                }
            };
            return DrawOrderTimeline;
        }());
        core.DrawOrderTimeline = DrawOrderTimeline;
        var IkConstraintTimeline = (function (_super) {
            __extends(IkConstraintTimeline, _super);
            function IkConstraintTimeline(frameCount) {
                var _this = _super.call(this, frameCount) || this;
                _this.frames = core.Utils.newFloatArray(frameCount * IkConstraintTimeline.ENTRIES);
                return _this;
            }
            IkConstraintTimeline.prototype.getPropertyId = function () {
                return (TimelineType.ikConstraint << 24) + this.ikConstraintIndex;
            };
            IkConstraintTimeline.prototype.setFrame = function (frameIndex, time, mix, bendDirection) {
                frameIndex *= IkConstraintTimeline.ENTRIES;
                this.frames[frameIndex] = time;
                this.frames[frameIndex + IkConstraintTimeline.MIX] = mix;
                this.frames[frameIndex + IkConstraintTimeline.BEND_DIRECTION] = bendDirection;
            };
            IkConstraintTimeline.prototype.apply = function (skeleton, lastTime, time, firedEvents, alpha, pose, direction) {
                var frames = this.frames;
                var constraint = skeleton.ikConstraints[this.ikConstraintIndex];
                if (time < frames[0]) {
                    switch (pose) {
                        case MixPose.setup:
                            constraint.mix = constraint.data.mix;
                            constraint.bendDirection = constraint.data.bendDirection;
                            return;
                        case MixPose.current:
                            constraint.mix += (constraint.data.mix - constraint.mix) * alpha;
                            constraint.bendDirection = constraint.data.bendDirection;
                    }
                    return;
                }
                if (time >= frames[frames.length - IkConstraintTimeline.ENTRIES]) {
                    if (pose == MixPose.setup) {
                        constraint.mix = constraint.data.mix + (frames[frames.length + IkConstraintTimeline.PREV_MIX] - constraint.data.mix) * alpha;
                        constraint.bendDirection = direction == MixDirection.out ? constraint.data.bendDirection
                            : frames[frames.length + IkConstraintTimeline.PREV_BEND_DIRECTION];
                    }
                    else {
                        constraint.mix += (frames[frames.length + IkConstraintTimeline.PREV_MIX] - constraint.mix) * alpha;
                        if (direction == MixDirection.in)
                            constraint.bendDirection = frames[frames.length + IkConstraintTimeline.PREV_BEND_DIRECTION];
                    }
                    return;
                }
                var frame = Animation.binarySearch(frames, time, IkConstraintTimeline.ENTRIES);
                var mix = frames[frame + IkConstraintTimeline.PREV_MIX];
                var frameTime = frames[frame];
                var percent = this.getCurvePercent(frame / IkConstraintTimeline.ENTRIES - 1, 1 - (time - frameTime) / (frames[frame + IkConstraintTimeline.PREV_TIME] - frameTime));
                if (pose == MixPose.setup) {
                    constraint.mix = constraint.data.mix + (mix + (frames[frame + IkConstraintTimeline.MIX] - mix) * percent - constraint.data.mix) * alpha;
                    constraint.bendDirection = direction == MixDirection.out ? constraint.data.bendDirection : frames[frame + IkConstraintTimeline.PREV_BEND_DIRECTION];
                }
                else {
                    constraint.mix += (mix + (frames[frame + IkConstraintTimeline.MIX] - mix) * percent - constraint.mix) * alpha;
                    if (direction == MixDirection.in)
                        constraint.bendDirection = frames[frame + IkConstraintTimeline.PREV_BEND_DIRECTION];
                }
            };
            IkConstraintTimeline.ENTRIES = 3;
            IkConstraintTimeline.PREV_TIME = -3;
            IkConstraintTimeline.PREV_MIX = -2;
            IkConstraintTimeline.PREV_BEND_DIRECTION = -1;
            IkConstraintTimeline.MIX = 1;
            IkConstraintTimeline.BEND_DIRECTION = 2;
            return IkConstraintTimeline;
        }(CurveTimeline));
        core.IkConstraintTimeline = IkConstraintTimeline;
        var TransformConstraintTimeline = (function (_super) {
            __extends(TransformConstraintTimeline, _super);
            function TransformConstraintTimeline(frameCount) {
                var _this = _super.call(this, frameCount) || this;
                _this.frames = core.Utils.newFloatArray(frameCount * TransformConstraintTimeline.ENTRIES);
                return _this;
            }
            TransformConstraintTimeline.prototype.getPropertyId = function () {
                return (TimelineType.transformConstraint << 24) + this.transformConstraintIndex;
            };
            TransformConstraintTimeline.prototype.setFrame = function (frameIndex, time, rotateMix, translateMix, scaleMix, shearMix) {
                frameIndex *= TransformConstraintTimeline.ENTRIES;
                this.frames[frameIndex] = time;
                this.frames[frameIndex + TransformConstraintTimeline.ROTATE] = rotateMix;
                this.frames[frameIndex + TransformConstraintTimeline.TRANSLATE] = translateMix;
                this.frames[frameIndex + TransformConstraintTimeline.SCALE] = scaleMix;
                this.frames[frameIndex + TransformConstraintTimeline.SHEAR] = shearMix;
            };
            TransformConstraintTimeline.prototype.apply = function (skeleton, lastTime, time, firedEvents, alpha, pose, direction) {
                var frames = this.frames;
                var constraint = skeleton.transformConstraints[this.transformConstraintIndex];
                if (time < frames[0]) {
                    var data = constraint.data;
                    switch (pose) {
                        case MixPose.setup:
                            constraint.rotateMix = data.rotateMix;
                            constraint.translateMix = data.translateMix;
                            constraint.scaleMix = data.scaleMix;
                            constraint.shearMix = data.shearMix;
                            return;
                        case MixPose.current:
                            constraint.rotateMix += (data.rotateMix - constraint.rotateMix) * alpha;
                            constraint.translateMix += (data.translateMix - constraint.translateMix) * alpha;
                            constraint.scaleMix += (data.scaleMix - constraint.scaleMix) * alpha;
                            constraint.shearMix += (data.shearMix - constraint.shearMix) * alpha;
                    }
                    return;
                }
                var rotate = 0, translate = 0, scale = 0, shear = 0;
                if (time >= frames[frames.length - TransformConstraintTimeline.ENTRIES]) {
                    var i = frames.length;
                    rotate = frames[i + TransformConstraintTimeline.PREV_ROTATE];
                    translate = frames[i + TransformConstraintTimeline.PREV_TRANSLATE];
                    scale = frames[i + TransformConstraintTimeline.PREV_SCALE];
                    shear = frames[i + TransformConstraintTimeline.PREV_SHEAR];
                }
                else {
                    var frame = Animation.binarySearch(frames, time, TransformConstraintTimeline.ENTRIES);
                    rotate = frames[frame + TransformConstraintTimeline.PREV_ROTATE];
                    translate = frames[frame + TransformConstraintTimeline.PREV_TRANSLATE];
                    scale = frames[frame + TransformConstraintTimeline.PREV_SCALE];
                    shear = frames[frame + TransformConstraintTimeline.PREV_SHEAR];
                    var frameTime = frames[frame];
                    var percent = this.getCurvePercent(frame / TransformConstraintTimeline.ENTRIES - 1, 1 - (time - frameTime) / (frames[frame + TransformConstraintTimeline.PREV_TIME] - frameTime));
                    rotate += (frames[frame + TransformConstraintTimeline.ROTATE] - rotate) * percent;
                    translate += (frames[frame + TransformConstraintTimeline.TRANSLATE] - translate) * percent;
                    scale += (frames[frame + TransformConstraintTimeline.SCALE] - scale) * percent;
                    shear += (frames[frame + TransformConstraintTimeline.SHEAR] - shear) * percent;
                }
                if (pose == MixPose.setup) {
                    var data = constraint.data;
                    constraint.rotateMix = data.rotateMix + (rotate - data.rotateMix) * alpha;
                    constraint.translateMix = data.translateMix + (translate - data.translateMix) * alpha;
                    constraint.scaleMix = data.scaleMix + (scale - data.scaleMix) * alpha;
                    constraint.shearMix = data.shearMix + (shear - data.shearMix) * alpha;
                }
                else {
                    constraint.rotateMix += (rotate - constraint.rotateMix) * alpha;
                    constraint.translateMix += (translate - constraint.translateMix) * alpha;
                    constraint.scaleMix += (scale - constraint.scaleMix) * alpha;
                    constraint.shearMix += (shear - constraint.shearMix) * alpha;
                }
            };
            TransformConstraintTimeline.ENTRIES = 5;
            TransformConstraintTimeline.PREV_TIME = -5;
            TransformConstraintTimeline.PREV_ROTATE = -4;
            TransformConstraintTimeline.PREV_TRANSLATE = -3;
            TransformConstraintTimeline.PREV_SCALE = -2;
            TransformConstraintTimeline.PREV_SHEAR = -1;
            TransformConstraintTimeline.ROTATE = 1;
            TransformConstraintTimeline.TRANSLATE = 2;
            TransformConstraintTimeline.SCALE = 3;
            TransformConstraintTimeline.SHEAR = 4;
            return TransformConstraintTimeline;
        }(CurveTimeline));
        core.TransformConstraintTimeline = TransformConstraintTimeline;
        var PathConstraintPositionTimeline = (function (_super) {
            __extends(PathConstraintPositionTimeline, _super);
            function PathConstraintPositionTimeline(frameCount) {
                var _this = _super.call(this, frameCount) || this;
                _this.frames = core.Utils.newFloatArray(frameCount * PathConstraintPositionTimeline.ENTRIES);
                return _this;
            }
            PathConstraintPositionTimeline.prototype.getPropertyId = function () {
                return (TimelineType.pathConstraintPosition << 24) + this.pathConstraintIndex;
            };
            PathConstraintPositionTimeline.prototype.setFrame = function (frameIndex, time, value) {
                frameIndex *= PathConstraintPositionTimeline.ENTRIES;
                this.frames[frameIndex] = time;
                this.frames[frameIndex + PathConstraintPositionTimeline.VALUE] = value;
            };
            PathConstraintPositionTimeline.prototype.apply = function (skeleton, lastTime, time, firedEvents, alpha, pose, direction) {
                var frames = this.frames;
                var constraint = skeleton.pathConstraints[this.pathConstraintIndex];
                if (time < frames[0]) {
                    switch (pose) {
                        case MixPose.setup:
                            constraint.position = constraint.data.position;
                            return;
                        case MixPose.current:
                            constraint.position += (constraint.data.position - constraint.position) * alpha;
                    }
                    return;
                }
                var position = 0;
                if (time >= frames[frames.length - PathConstraintPositionTimeline.ENTRIES])
                    position = frames[frames.length + PathConstraintPositionTimeline.PREV_VALUE];
                else {
                    var frame = Animation.binarySearch(frames, time, PathConstraintPositionTimeline.ENTRIES);
                    position = frames[frame + PathConstraintPositionTimeline.PREV_VALUE];
                    var frameTime = frames[frame];
                    var percent = this.getCurvePercent(frame / PathConstraintPositionTimeline.ENTRIES - 1, 1 - (time - frameTime) / (frames[frame + PathConstraintPositionTimeline.PREV_TIME] - frameTime));
                    position += (frames[frame + PathConstraintPositionTimeline.VALUE] - position) * percent;
                }
                if (pose == MixPose.setup)
                    constraint.position = constraint.data.position + (position - constraint.data.position) * alpha;
                else
                    constraint.position += (position - constraint.position) * alpha;
            };
            PathConstraintPositionTimeline.ENTRIES = 2;
            PathConstraintPositionTimeline.PREV_TIME = -2;
            PathConstraintPositionTimeline.PREV_VALUE = -1;
            PathConstraintPositionTimeline.VALUE = 1;
            return PathConstraintPositionTimeline;
        }(CurveTimeline));
        core.PathConstraintPositionTimeline = PathConstraintPositionTimeline;
        var PathConstraintSpacingTimeline = (function (_super) {
            __extends(PathConstraintSpacingTimeline, _super);
            function PathConstraintSpacingTimeline(frameCount) {
                return _super.call(this, frameCount) || this;
            }
            PathConstraintSpacingTimeline.prototype.getPropertyId = function () {
                return (TimelineType.pathConstraintSpacing << 24) + this.pathConstraintIndex;
            };
            PathConstraintSpacingTimeline.prototype.apply = function (skeleton, lastTime, time, firedEvents, alpha, pose, direction) {
                var frames = this.frames;
                var constraint = skeleton.pathConstraints[this.pathConstraintIndex];
                if (time < frames[0]) {
                    switch (pose) {
                        case MixPose.setup:
                            constraint.spacing = constraint.data.spacing;
                            return;
                        case MixPose.current:
                            constraint.spacing += (constraint.data.spacing - constraint.spacing) * alpha;
                    }
                    return;
                }
                var spacing = 0;
                if (time >= frames[frames.length - PathConstraintSpacingTimeline.ENTRIES])
                    spacing = frames[frames.length + PathConstraintSpacingTimeline.PREV_VALUE];
                else {
                    var frame = Animation.binarySearch(frames, time, PathConstraintSpacingTimeline.ENTRIES);
                    spacing = frames[frame + PathConstraintSpacingTimeline.PREV_VALUE];
                    var frameTime = frames[frame];
                    var percent = this.getCurvePercent(frame / PathConstraintSpacingTimeline.ENTRIES - 1, 1 - (time - frameTime) / (frames[frame + PathConstraintSpacingTimeline.PREV_TIME] - frameTime));
                    spacing += (frames[frame + PathConstraintSpacingTimeline.VALUE] - spacing) * percent;
                }
                if (pose == MixPose.setup)
                    constraint.spacing = constraint.data.spacing + (spacing - constraint.data.spacing) * alpha;
                else
                    constraint.spacing += (spacing - constraint.spacing) * alpha;
            };
            return PathConstraintSpacingTimeline;
        }(PathConstraintPositionTimeline));
        core.PathConstraintSpacingTimeline = PathConstraintSpacingTimeline;
        var PathConstraintMixTimeline = (function (_super) {
            __extends(PathConstraintMixTimeline, _super);
            function PathConstraintMixTimeline(frameCount) {
                var _this = _super.call(this, frameCount) || this;
                _this.frames = core.Utils.newFloatArray(frameCount * PathConstraintMixTimeline.ENTRIES);
                return _this;
            }
            PathConstraintMixTimeline.prototype.getPropertyId = function () {
                return (TimelineType.pathConstraintMix << 24) + this.pathConstraintIndex;
            };
            PathConstraintMixTimeline.prototype.setFrame = function (frameIndex, time, rotateMix, translateMix) {
                frameIndex *= PathConstraintMixTimeline.ENTRIES;
                this.frames[frameIndex] = time;
                this.frames[frameIndex + PathConstraintMixTimeline.ROTATE] = rotateMix;
                this.frames[frameIndex + PathConstraintMixTimeline.TRANSLATE] = translateMix;
            };
            PathConstraintMixTimeline.prototype.apply = function (skeleton, lastTime, time, firedEvents, alpha, pose, direction) {
                var frames = this.frames;
                var constraint = skeleton.pathConstraints[this.pathConstraintIndex];
                if (time < frames[0]) {
                    switch (pose) {
                        case MixPose.setup:
                            constraint.rotateMix = constraint.data.rotateMix;
                            constraint.translateMix = constraint.data.translateMix;
                            return;
                        case MixPose.current:
                            constraint.rotateMix += (constraint.data.rotateMix - constraint.rotateMix) * alpha;
                            constraint.translateMix += (constraint.data.translateMix - constraint.translateMix) * alpha;
                    }
                    return;
                }
                var rotate = 0, translate = 0;
                if (time >= frames[frames.length - PathConstraintMixTimeline.ENTRIES]) {
                    rotate = frames[frames.length + PathConstraintMixTimeline.PREV_ROTATE];
                    translate = frames[frames.length + PathConstraintMixTimeline.PREV_TRANSLATE];
                }
                else {
                    var frame = Animation.binarySearch(frames, time, PathConstraintMixTimeline.ENTRIES);
                    rotate = frames[frame + PathConstraintMixTimeline.PREV_ROTATE];
                    translate = frames[frame + PathConstraintMixTimeline.PREV_TRANSLATE];
                    var frameTime = frames[frame];
                    var percent = this.getCurvePercent(frame / PathConstraintMixTimeline.ENTRIES - 1, 1 - (time - frameTime) / (frames[frame + PathConstraintMixTimeline.PREV_TIME] - frameTime));
                    rotate += (frames[frame + PathConstraintMixTimeline.ROTATE] - rotate) * percent;
                    translate += (frames[frame + PathConstraintMixTimeline.TRANSLATE] - translate) * percent;
                }
                if (pose == MixPose.setup) {
                    constraint.rotateMix = constraint.data.rotateMix + (rotate - constraint.data.rotateMix) * alpha;
                    constraint.translateMix = constraint.data.translateMix + (translate - constraint.data.translateMix) * alpha;
                }
                else {
                    constraint.rotateMix += (rotate - constraint.rotateMix) * alpha;
                    constraint.translateMix += (translate - constraint.translateMix) * alpha;
                }
            };
            PathConstraintMixTimeline.ENTRIES = 3;
            PathConstraintMixTimeline.PREV_TIME = -3;
            PathConstraintMixTimeline.PREV_ROTATE = -2;
            PathConstraintMixTimeline.PREV_TRANSLATE = -1;
            PathConstraintMixTimeline.ROTATE = 1;
            PathConstraintMixTimeline.TRANSLATE = 2;
            return PathConstraintMixTimeline;
        }(CurveTimeline));
        core.PathConstraintMixTimeline = PathConstraintMixTimeline;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var AnimationState = (function () {
            function AnimationState(data) {
                this.tracks = new Array();
                this.events = new Array();
                this.listeners = new Array();
                this.queue = new EventQueue(this);
                this.propertyIDs = new core.IntSet();
                this.mixingTo = new Array();
                this.animationsChanged = false;
                this.timeScale = 1;
                this.trackEntryPool = new core.Pool(function () { return new TrackEntry(); });
                this.data = data;
            }
            AnimationState.prototype.update = function (delta) {
                delta *= this.timeScale;
                var tracks = this.tracks;
                for (var i = 0, n = tracks.length; i < n; i++) {
                    var current = tracks[i];
                    if (current == null)
                        continue;
                    current.animationLast = current.nextAnimationLast;
                    current.trackLast = current.nextTrackLast;
                    var currentDelta = delta * current.timeScale;
                    if (current.delay > 0) {
                        current.delay -= currentDelta;
                        if (current.delay > 0)
                            continue;
                        currentDelta = -current.delay;
                        current.delay = 0;
                    }
                    var next = current.next;
                    if (next != null) {
                        var nextTime = current.trackLast - next.delay;
                        if (nextTime >= 0) {
                            next.delay = 0;
                            next.trackTime = nextTime + delta * next.timeScale;
                            current.trackTime += currentDelta;
                            this.setCurrent(i, next, true);
                            while (next.mixingFrom != null) {
                                next.mixTime += currentDelta;
                                next = next.mixingFrom;
                            }
                            continue;
                        }
                    }
                    else if (current.trackLast >= current.trackEnd && current.mixingFrom == null) {
                        tracks[i] = null;
                        this.queue.end(current);
                        this.disposeNext(current);
                        continue;
                    }
                    if (current.mixingFrom != null && this.updateMixingFrom(current, delta)) {
                        var from = current.mixingFrom;
                        current.mixingFrom = null;
                        while (from != null) {
                            this.queue.end(from);
                            from = from.mixingFrom;
                        }
                    }
                    current.trackTime += currentDelta;
                }
                this.queue.drain();
            };
            AnimationState.prototype.updateMixingFrom = function (to, delta) {
                var from = to.mixingFrom;
                if (from == null)
                    return true;
                var finished = this.updateMixingFrom(from, delta);
                if (to.mixTime > 0 && (to.mixTime >= to.mixDuration || to.timeScale == 0)) {
                    if (from.totalAlpha == 0) {
                        to.mixingFrom = from.mixingFrom;
                        to.interruptAlpha = from.interruptAlpha;
                        this.queue.end(from);
                    }
                    return finished;
                }
                from.animationLast = from.nextAnimationLast;
                from.trackLast = from.nextTrackLast;
                from.trackTime += delta * from.timeScale;
                to.mixTime += delta * to.timeScale;
                return false;
            };
            AnimationState.prototype.apply = function (skeleton) {
                if (skeleton == null)
                    throw new Error("skeleton cannot be null.");
                if (this.animationsChanged)
                    this._animationsChanged();
                var events = this.events;
                var tracks = this.tracks;
                var applied = false;
                for (var i = 0, n = tracks.length; i < n; i++) {
                    var current = tracks[i];
                    if (current == null || current.delay > 0)
                        continue;
                    applied = true;
                    var currentPose = i == 0 ? core.MixPose.current : core.MixPose.currentLayered;
                    var mix = current.alpha;
                    if (current.mixingFrom != null)
                        mix *= this.applyMixingFrom(current, skeleton, currentPose);
                    else if (current.trackTime >= current.trackEnd && current.next == null)
                        mix = 0;
                    var animationLast = current.animationLast, animationTime = current.getAnimationTime();
                    var timelineCount = current.animation.timelines.length;
                    var timelines = current.animation.timelines;
                    if (mix == 1) {
                        for (var ii = 0; ii < timelineCount; ii++)
                            timelines[ii].apply(skeleton, animationLast, animationTime, events, 1, core.MixPose.setup, core.MixDirection.in);
                    }
                    else {
                        var timelineData = current.timelineData;
                        var firstFrame = current.timelinesRotation.length == 0;
                        if (firstFrame)
                            core.Utils.setArraySize(current.timelinesRotation, timelineCount << 1, null);
                        var timelinesRotation = current.timelinesRotation;
                        for (var ii = 0; ii < timelineCount; ii++) {
                            var timeline = timelines[ii];
                            var pose = timelineData[ii] >= AnimationState.FIRST ? core.MixPose.setup : currentPose;
                            if (timeline instanceof core.RotateTimeline) {
                                this.applyRotateTimeline(timeline, skeleton, animationTime, mix, pose, timelinesRotation, ii << 1, firstFrame);
                            }
                            else
                                timeline.apply(skeleton, animationLast, animationTime, events, mix, pose, core.MixDirection.in);
                        }
                    }
                    this.queueEvents(current, animationTime);
                    events.length = 0;
                    current.nextAnimationLast = animationTime;
                    current.nextTrackLast = current.trackTime;
                }
                this.queue.drain();
                return applied;
            };
            AnimationState.prototype.applyMixingFrom = function (to, skeleton, currentPose) {
                var from = to.mixingFrom;
                if (from.mixingFrom != null)
                    this.applyMixingFrom(from, skeleton, currentPose);
                var mix = 0;
                if (to.mixDuration == 0)
                    mix = 1;
                else {
                    mix = to.mixTime / to.mixDuration;
                    if (mix > 1)
                        mix = 1;
                }
                var events = mix < from.eventThreshold ? this.events : null;
                var attachments = mix < from.attachmentThreshold, drawOrder = mix < from.drawOrderThreshold;
                var animationLast = from.animationLast, animationTime = from.getAnimationTime();
                var timelineCount = from.animation.timelines.length;
                var timelines = from.animation.timelines;
                var timelineData = from.timelineData;
                var timelineDipMix = from.timelineDipMix;
                var firstFrame = from.timelinesRotation.length == 0;
                if (firstFrame)
                    core.Utils.setArraySize(from.timelinesRotation, timelineCount << 1, null);
                var timelinesRotation = from.timelinesRotation;
                var pose;
                var alphaDip = from.alpha * to.interruptAlpha, alphaMix = alphaDip * (1 - mix), alpha = 0;
                from.totalAlpha = 0;
                for (var i = 0; i < timelineCount; i++) {
                    var timeline = timelines[i];
                    switch (timelineData[i]) {
                        case AnimationState.SUBSEQUENT:
                            if (!attachments && timeline instanceof core.AttachmentTimeline)
                                continue;
                            if (!drawOrder && timeline instanceof core.DrawOrderTimeline)
                                continue;
                            pose = currentPose;
                            alpha = alphaMix;
                            break;
                        case AnimationState.FIRST:
                            pose = core.MixPose.setup;
                            alpha = alphaMix;
                            break;
                        case AnimationState.DIP:
                            pose = core.MixPose.setup;
                            alpha = alphaDip;
                            break;
                        default:
                            pose = core.MixPose.setup;
                            alpha = alphaDip;
                            var dipMix = timelineDipMix[i];
                            alpha *= Math.max(0, 1 - dipMix.mixTime / dipMix.mixDuration);
                            break;
                    }
                    from.totalAlpha += alpha;
                    if (timeline instanceof core.RotateTimeline)
                        this.applyRotateTimeline(timeline, skeleton, animationTime, alpha, pose, timelinesRotation, i << 1, firstFrame);
                    else {
                        timeline.apply(skeleton, animationLast, animationTime, events, alpha, pose, core.MixDirection.out);
                    }
                }
                if (to.mixDuration > 0)
                    this.queueEvents(from, animationTime);
                this.events.length = 0;
                from.nextAnimationLast = animationTime;
                from.nextTrackLast = from.trackTime;
                return mix;
            };
            AnimationState.prototype.applyRotateTimeline = function (timeline, skeleton, time, alpha, pose, timelinesRotation, i, firstFrame) {
                if (firstFrame)
                    timelinesRotation[i] = 0;
                if (alpha == 1) {
                    timeline.apply(skeleton, 0, time, null, 1, pose, core.MixDirection.in);
                    return;
                }
                var rotateTimeline = timeline;
                var frames = rotateTimeline.frames;
                var bone = skeleton.bones[rotateTimeline.boneIndex];
                if (time < frames[0]) {
                    if (pose == core.MixPose.setup)
                        bone.rotation = bone.data.rotation;
                    return;
                }
                var r2 = 0;
                if (time >= frames[frames.length - core.RotateTimeline.ENTRIES])
                    r2 = bone.data.rotation + frames[frames.length + core.RotateTimeline.PREV_ROTATION];
                else {
                    var frame = core.Animation.binarySearch(frames, time, core.RotateTimeline.ENTRIES);
                    var prevRotation = frames[frame + core.RotateTimeline.PREV_ROTATION];
                    var frameTime = frames[frame];
                    var percent = rotateTimeline.getCurvePercent((frame >> 1) - 1, 1 - (time - frameTime) / (frames[frame + core.RotateTimeline.PREV_TIME] - frameTime));
                    r2 = frames[frame + core.RotateTimeline.ROTATION] - prevRotation;
                    r2 -= (16384 - ((16384.499999999996 - r2 / 360) | 0)) * 360;
                    r2 = prevRotation + r2 * percent + bone.data.rotation;
                    r2 -= (16384 - ((16384.499999999996 - r2 / 360) | 0)) * 360;
                }
                var r1 = pose == core.MixPose.setup ? bone.data.rotation : bone.rotation;
                var total = 0, diff = r2 - r1;
                if (diff == 0) {
                    total = timelinesRotation[i];
                }
                else {
                    diff -= (16384 - ((16384.499999999996 - diff / 360) | 0)) * 360;
                    var lastTotal = 0, lastDiff = 0;
                    if (firstFrame) {
                        lastTotal = 0;
                        lastDiff = diff;
                    }
                    else {
                        lastTotal = timelinesRotation[i];
                        lastDiff = timelinesRotation[i + 1];
                    }
                    var current = diff > 0, dir = lastTotal >= 0;
                    if (core.MathUtils.signum(lastDiff) != core.MathUtils.signum(diff) && Math.abs(lastDiff) <= 90) {
                        if (Math.abs(lastTotal) > 180)
                            lastTotal += 360 * core.MathUtils.signum(lastTotal);
                        dir = current;
                    }
                    total = diff + lastTotal - lastTotal % 360;
                    if (dir != current)
                        total += 360 * core.MathUtils.signum(lastTotal);
                    timelinesRotation[i] = total;
                }
                timelinesRotation[i + 1] = diff;
                r1 += total * alpha;
                bone.rotation = r1 - (16384 - ((16384.499999999996 - r1 / 360) | 0)) * 360;
            };
            AnimationState.prototype.queueEvents = function (entry, animationTime) {
                var animationStart = entry.animationStart, animationEnd = entry.animationEnd;
                var duration = animationEnd - animationStart;
                var trackLastWrapped = entry.trackLast % duration;
                var events = this.events;
                var i = 0, n = events.length;
                for (; i < n; i++) {
                    var event_1 = events[i];
                    if (event_1.time < trackLastWrapped)
                        break;
                    if (event_1.time > animationEnd)
                        continue;
                    this.queue.event(entry, event_1);
                }
                if (entry.loop ? (trackLastWrapped > entry.trackTime % duration)
                    : (animationTime >= animationEnd && entry.animationLast < animationEnd)) {
                    this.queue.complete(entry);
                }
                for (; i < n; i++) {
                    var event_2 = events[i];
                    if (event_2.time < animationStart)
                        continue;
                    this.queue.event(entry, events[i]);
                }
            };
            AnimationState.prototype.clearTracks = function () {
                var oldDrainDisabled = this.queue.drainDisabled;
                this.queue.drainDisabled = true;
                for (var i = 0, n = this.tracks.length; i < n; i++)
                    this.clearTrack(i);
                this.tracks.length = 0;
                this.queue.drainDisabled = oldDrainDisabled;
                this.queue.drain();
            };
            AnimationState.prototype.clearTrack = function (trackIndex) {
                if (trackIndex >= this.tracks.length)
                    return;
                var current = this.tracks[trackIndex];
                if (current == null)
                    return;
                this.queue.end(current);
                this.disposeNext(current);
                var entry = current;
                while (true) {
                    var from = entry.mixingFrom;
                    if (from == null)
                        break;
                    this.queue.end(from);
                    entry.mixingFrom = null;
                    entry = from;
                }
                this.tracks[current.trackIndex] = null;
                this.queue.drain();
            };
            AnimationState.prototype.setCurrent = function (index, current, interrupt) {
                var from = this.expandToIndex(index);
                this.tracks[index] = current;
                if (from != null) {
                    if (interrupt)
                        this.queue.interrupt(from);
                    current.mixingFrom = from;
                    current.mixTime = 0;
                    if (from.mixingFrom != null && from.mixDuration > 0)
                        current.interruptAlpha *= Math.min(1, from.mixTime / from.mixDuration);
                    from.timelinesRotation.length = 0;
                }
                this.queue.start(current);
            };
            AnimationState.prototype.setAnimation = function (trackIndex, animationName, loop) {
                var animation = this.data.skeletonData.findAnimation(animationName);
                if (animation == null)
                    throw new Error("Animation not found: " + animationName);
                return this.setAnimationWith(trackIndex, animation, loop);
            };
            AnimationState.prototype.setAnimationWith = function (trackIndex, animation, loop) {
                if (animation == null)
                    throw new Error("animation cannot be null.");
                var interrupt = true;
                var current = this.expandToIndex(trackIndex);
                if (current != null) {
                    if (current.nextTrackLast == -1) {
                        this.tracks[trackIndex] = current.mixingFrom;
                        this.queue.interrupt(current);
                        this.queue.end(current);
                        this.disposeNext(current);
                        current = current.mixingFrom;
                        interrupt = false;
                    }
                    else
                        this.disposeNext(current);
                }
                var entry = this.trackEntry(trackIndex, animation, loop, current);
                this.setCurrent(trackIndex, entry, interrupt);
                this.queue.drain();
                return entry;
            };
            AnimationState.prototype.addAnimation = function (trackIndex, animationName, loop, delay) {
                var animation = this.data.skeletonData.findAnimation(animationName);
                if (animation == null)
                    throw new Error("Animation not found: " + animationName);
                return this.addAnimationWith(trackIndex, animation, loop, delay);
            };
            AnimationState.prototype.addAnimationWith = function (trackIndex, animation, loop, delay) {
                if (animation == null)
                    throw new Error("animation cannot be null.");
                var last = this.expandToIndex(trackIndex);
                if (last != null) {
                    while (last.next != null)
                        last = last.next;
                }
                var entry = this.trackEntry(trackIndex, animation, loop, last);
                if (last == null) {
                    this.setCurrent(trackIndex, entry, true);
                    this.queue.drain();
                }
                else {
                    last.next = entry;
                    if (delay <= 0) {
                        var duration = last.animationEnd - last.animationStart;
                        if (duration != 0)
                            delay += duration * (1 + ((last.trackTime / duration) | 0)) - this.data.getMix(last.animation, animation);
                        else
                            delay = 0;
                    }
                }
                entry.delay = delay;
                return entry;
            };
            AnimationState.prototype.setEmptyAnimation = function (trackIndex, mixDuration) {
                var entry = this.setAnimationWith(trackIndex, AnimationState.emptyAnimation, false);
                entry.mixDuration = mixDuration;
                entry.trackEnd = mixDuration;
                return entry;
            };
            AnimationState.prototype.addEmptyAnimation = function (trackIndex, mixDuration, delay) {
                if (delay <= 0)
                    delay -= mixDuration;
                var entry = this.addAnimationWith(trackIndex, AnimationState.emptyAnimation, false, delay);
                entry.mixDuration = mixDuration;
                entry.trackEnd = mixDuration;
                return entry;
            };
            AnimationState.prototype.setEmptyAnimations = function (mixDuration) {
                var oldDrainDisabled = this.queue.drainDisabled;
                this.queue.drainDisabled = true;
                for (var i = 0, n = this.tracks.length; i < n; i++) {
                    var current = this.tracks[i];
                    if (current != null)
                        this.setEmptyAnimation(current.trackIndex, mixDuration);
                }
                this.queue.drainDisabled = oldDrainDisabled;
                this.queue.drain();
            };
            AnimationState.prototype.expandToIndex = function (index) {
                if (index < this.tracks.length)
                    return this.tracks[index];
                core.Utils.ensureArrayCapacity(this.tracks, index - this.tracks.length + 1, null);
                this.tracks.length = index + 1;
                return null;
            };
            AnimationState.prototype.trackEntry = function (trackIndex, animation, loop, last) {
                var entry = this.trackEntryPool.obtain();
                entry.trackIndex = trackIndex;
                entry.animation = animation;
                entry.loop = loop;
                entry.eventThreshold = 0;
                entry.attachmentThreshold = 0;
                entry.drawOrderThreshold = 0;
                entry.animationStart = 0;
                entry.animationEnd = animation.duration;
                entry.animationLast = -1;
                entry.nextAnimationLast = -1;
                entry.delay = 0;
                entry.trackTime = 0;
                entry.trackLast = -1;
                entry.nextTrackLast = -1;
                entry.trackEnd = Number.MAX_VALUE;
                entry.timeScale = 1;
                entry.alpha = 1;
                entry.interruptAlpha = 1;
                entry.mixTime = 0;
                entry.mixDuration = last == null ? 0 : this.data.getMix(last.animation, animation);
                return entry;
            };
            AnimationState.prototype.disposeNext = function (entry) {
                var next = entry.next;
                while (next != null) {
                    this.queue.dispose(next);
                    next = next.next;
                }
                entry.next = null;
            };
            AnimationState.prototype._animationsChanged = function () {
                this.animationsChanged = false;
                var propertyIDs = this.propertyIDs;
                propertyIDs.clear();
                var mixingTo = this.mixingTo;
                var lastEntry = null;
                for (var i = 0, n = this.tracks.length; i < n; i++) {
                    var entry = this.tracks[i];
                    if (entry != null)
                        entry.setTimelineData(null, mixingTo, propertyIDs);
                }
            };
            AnimationState.prototype.getCurrent = function (trackIndex) {
                if (trackIndex >= this.tracks.length)
                    return null;
                return this.tracks[trackIndex];
            };
            AnimationState.prototype.addListener = function (listener) {
                if (listener == null)
                    throw new Error("listener cannot be null.");
                this.listeners.push(listener);
            };
            AnimationState.prototype.removeListener = function (listener) {
                var index = this.listeners.indexOf(listener);
                if (index >= 0)
                    this.listeners.splice(index, 1);
            };
            AnimationState.prototype.clearListeners = function () {
                this.listeners.length = 0;
            };
            AnimationState.prototype.clearListenerNotifications = function () {
                this.queue.clear();
            };
            AnimationState.prototype.setAnimationByName = function (trackIndex, animationName, loop) {
                if (!AnimationState.deprecatedWarning1) {
                    AnimationState.deprecatedWarning1 = true;
                    console.warn("Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.");
                }
                this.setAnimation(trackIndex, animationName, loop);
            };
            AnimationState.prototype.addAnimationByName = function (trackIndex, animationName, loop, delay) {
                if (!AnimationState.deprecatedWarning2) {
                    AnimationState.deprecatedWarning2 = true;
                    console.warn("Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.");
                }
                this.addAnimation(trackIndex, animationName, loop, delay);
            };
            AnimationState.prototype.hasAnimation = function (animationName) {
                var animation = this.data.skeletonData.findAnimation(animationName);
                return animation !== null;
            };
            AnimationState.prototype.hasAnimationByName = function (animationName) {
                if (!AnimationState.deprecatedWarning3) {
                    AnimationState.deprecatedWarning3 = true;
                    console.warn("Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.");
                }
                return this.hasAnimation(animationName);
            };
            AnimationState.emptyAnimation = new core.Animation("<empty>", [], 0);
            AnimationState.SUBSEQUENT = 0;
            AnimationState.FIRST = 1;
            AnimationState.DIP = 2;
            AnimationState.DIP_MIX = 3;
            AnimationState.deprecatedWarning1 = false;
            AnimationState.deprecatedWarning2 = false;
            AnimationState.deprecatedWarning3 = false;
            return AnimationState;
        }());
        core.AnimationState = AnimationState;
        var TrackEntry = (function () {
            function TrackEntry() {
                this.timelineData = new Array();
                this.timelineDipMix = new Array();
                this.timelinesRotation = new Array();
            }
            TrackEntry.prototype.reset = function () {
                this.next = null;
                this.mixingFrom = null;
                this.animation = null;
                this.listener = null;
                this.timelineData.length = 0;
                this.timelineDipMix.length = 0;
                this.timelinesRotation.length = 0;
            };
            TrackEntry.prototype.setTimelineData = function (to, mixingToArray, propertyIDs) {
                if (to != null)
                    mixingToArray.push(to);
                var lastEntry = this.mixingFrom != null ? this.mixingFrom.setTimelineData(this, mixingToArray, propertyIDs) : this;
                if (to != null)
                    mixingToArray.pop();
                var mixingTo = mixingToArray;
                var mixingToLast = mixingToArray.length - 1;
                var timelines = this.animation.timelines;
                var timelinesCount = this.animation.timelines.length;
                var timelineData = core.Utils.setArraySize(this.timelineData, timelinesCount);
                this.timelineDipMix.length = 0;
                var timelineDipMix = core.Utils.setArraySize(this.timelineDipMix, timelinesCount);
                outer: for (var i = 0; i < timelinesCount; i++) {
                    var id = timelines[i].getPropertyId();
                    if (!propertyIDs.add(id))
                        timelineData[i] = AnimationState.SUBSEQUENT;
                    else if (to == null || !to.hasTimeline(id))
                        timelineData[i] = AnimationState.FIRST;
                    else {
                        for (var ii = mixingToLast; ii >= 0; ii--) {
                            var entry = mixingTo[ii];
                            if (!entry.hasTimeline(id)) {
                                if (entry.mixDuration > 0) {
                                    timelineData[i] = AnimationState.DIP_MIX;
                                    timelineDipMix[i] = entry;
                                    continue outer;
                                }
                            }
                        }
                        timelineData[i] = AnimationState.DIP;
                    }
                }
                return lastEntry;
            };
            TrackEntry.prototype.hasTimeline = function (id) {
                var timelines = this.animation.timelines;
                for (var i = 0, n = timelines.length; i < n; i++)
                    if (timelines[i].getPropertyId() == id)
                        return true;
                return false;
            };
            TrackEntry.prototype.getAnimationTime = function () {
                if (this.loop) {
                    var duration = this.animationEnd - this.animationStart;
                    if (duration == 0)
                        return this.animationStart;
                    return (this.trackTime % duration) + this.animationStart;
                }
                return Math.min(this.trackTime + this.animationStart, this.animationEnd);
            };
            TrackEntry.prototype.setAnimationLast = function (animationLast) {
                this.animationLast = animationLast;
                this.nextAnimationLast = animationLast;
            };
            TrackEntry.prototype.isComplete = function () {
                return this.trackTime >= this.animationEnd - this.animationStart;
            };
            TrackEntry.prototype.resetRotationDirections = function () {
                this.timelinesRotation.length = 0;
            };
            Object.defineProperty(TrackEntry.prototype, "time", {
                get: function () {
                    if (!TrackEntry.deprecatedWarning1) {
                        TrackEntry.deprecatedWarning1 = true;
                        console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.");
                    }
                    return this.trackTime;
                },
                set: function (value) {
                    if (!TrackEntry.deprecatedWarning1) {
                        TrackEntry.deprecatedWarning1 = true;
                        console.warn("Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.");
                    }
                    this.trackTime = value;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TrackEntry.prototype, "endTime", {
                get: function () {
                    if (!TrackEntry.deprecatedWarning2) {
                        TrackEntry.deprecatedWarning2 = true;
                        console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.");
                    }
                    return this.trackTime;
                },
                set: function (value) {
                    if (!TrackEntry.deprecatedWarning2) {
                        TrackEntry.deprecatedWarning2 = true;
                        console.warn("Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.");
                    }
                    this.trackTime = value;
                },
                enumerable: true,
                configurable: true
            });
            TrackEntry.prototype.loopsCount = function () {
                return Math.floor(this.trackTime / this.trackEnd);
            };
            TrackEntry.deprecatedWarning1 = false;
            TrackEntry.deprecatedWarning2 = false;
            return TrackEntry;
        }());
        core.TrackEntry = TrackEntry;
        var EventQueue = (function () {
            function EventQueue(animState) {
                this.objects = [];
                this.drainDisabled = false;
                this.animState = animState;
            }
            EventQueue.prototype.start = function (entry) {
                this.objects.push(EventType.start);
                this.objects.push(entry);
                this.animState.animationsChanged = true;
            };
            EventQueue.prototype.interrupt = function (entry) {
                this.objects.push(EventType.interrupt);
                this.objects.push(entry);
            };
            EventQueue.prototype.end = function (entry) {
                this.objects.push(EventType.end);
                this.objects.push(entry);
                this.animState.animationsChanged = true;
            };
            EventQueue.prototype.dispose = function (entry) {
                this.objects.push(EventType.dispose);
                this.objects.push(entry);
            };
            EventQueue.prototype.complete = function (entry) {
                this.objects.push(EventType.complete);
                this.objects.push(entry);
            };
            EventQueue.prototype.event = function (entry, event) {
                this.objects.push(EventType.event);
                this.objects.push(entry);
                this.objects.push(event);
            };
            EventQueue.prototype.deprecateStuff = function () {
                if (!EventQueue.deprecatedWarning1) {
                    EventQueue.deprecatedWarning1 = true;
                    console.warn("Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'");
                }
                return true;
            };
            EventQueue.prototype.drain = function () {
                if (this.drainDisabled)
                    return;
                this.drainDisabled = true;
                var objects = this.objects;
                var listeners = this.animState.listeners;
                for (var i = 0; i < objects.length; i += 2) {
                    var type = objects[i];
                    var entry = objects[i + 1];
                    switch (type) {
                        case EventType.start:
                            if (entry.listener != null && entry.listener.start)
                                entry.listener.start(entry);
                            for (var ii = 0; ii < listeners.length; ii++)
                                if (listeners[ii].start)
                                    listeners[ii].start(entry);
                            entry.onStart && this.deprecateStuff() && entry.onStart(entry.trackIndex);
                            this.animState.onStart && this.deprecateStuff() && this.deprecateStuff && this.animState.onStart(entry.trackIndex);
                            break;
                        case EventType.interrupt:
                            if (entry.listener != null && entry.listener.interrupt)
                                entry.listener.interrupt(entry);
                            for (var ii = 0; ii < listeners.length; ii++)
                                if (listeners[ii].interrupt)
                                    listeners[ii].interrupt(entry);
                            break;
                        case EventType.end:
                            if (entry.listener != null && entry.listener.end)
                                entry.listener.end(entry);
                            for (var ii = 0; ii < listeners.length; ii++)
                                if (listeners[ii].end)
                                    listeners[ii].end(entry);
                            entry.onEnd && this.deprecateStuff() && entry.onEnd(entry.trackIndex);
                            this.animState.onEnd && this.deprecateStuff() && this.animState.onEnd(entry.trackIndex);
                        case EventType.dispose:
                            if (entry.listener != null && entry.listener.dispose)
                                entry.listener.dispose(entry);
                            for (var ii = 0; ii < listeners.length; ii++)
                                if (listeners[ii].dispose)
                                    listeners[ii].dispose(entry);
                            this.animState.trackEntryPool.free(entry);
                            break;
                        case EventType.complete:
                            if (entry.listener != null && entry.listener.complete)
                                entry.listener.complete(entry);
                            for (var ii = 0; ii < listeners.length; ii++)
                                if (listeners[ii].complete)
                                    listeners[ii].complete(entry);
                            var count = core.MathUtils.toInt(entry.loopsCount());
                            entry.onComplete && this.deprecateStuff() && entry.onComplete(entry.trackIndex, count);
                            this.animState.onComplete && this.deprecateStuff() && this.animState.onComplete(entry.trackIndex, count);
                            break;
                        case EventType.event:
                            var event_3 = objects[i++ + 2];
                            if (entry.listener != null && entry.listener.event)
                                entry.listener.event(entry, event_3);
                            for (var ii = 0; ii < listeners.length; ii++)
                                if (listeners[ii].event)
                                    listeners[ii].event(entry, event_3);
                            entry.onEvent && this.deprecateStuff() && entry.onEvent(entry.trackIndex, event_3);
                            this.animState.onEvent && this.deprecateStuff() && this.animState.onEvent(entry.trackIndex, event_3);
                            break;
                    }
                }
                this.clear();
                this.drainDisabled = false;
            };
            EventQueue.prototype.clear = function () {
                this.objects.length = 0;
            };
            EventQueue.deprecatedWarning1 = false;
            return EventQueue;
        }());
        core.EventQueue = EventQueue;
        var EventType;
        (function (EventType) {
            EventType[EventType["start"] = 0] = "start";
            EventType[EventType["interrupt"] = 1] = "interrupt";
            EventType[EventType["end"] = 2] = "end";
            EventType[EventType["dispose"] = 3] = "dispose";
            EventType[EventType["complete"] = 4] = "complete";
            EventType[EventType["event"] = 5] = "event";
        })(EventType = core.EventType || (core.EventType = {}));
        var AnimationStateAdapter2 = (function () {
            function AnimationStateAdapter2() {
            }
            AnimationStateAdapter2.prototype.start = function (entry) {
            };
            AnimationStateAdapter2.prototype.interrupt = function (entry) {
            };
            AnimationStateAdapter2.prototype.end = function (entry) {
            };
            AnimationStateAdapter2.prototype.dispose = function (entry) {
            };
            AnimationStateAdapter2.prototype.complete = function (entry) {
            };
            AnimationStateAdapter2.prototype.event = function (entry, event) {
            };
            return AnimationStateAdapter2;
        }());
        core.AnimationStateAdapter2 = AnimationStateAdapter2;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var AnimationStateData = (function () {
            function AnimationStateData(skeletonData) {
                this.animationToMixTime = {};
                this.defaultMix = 0;
                if (skeletonData == null)
                    throw new Error("skeletonData cannot be null.");
                this.skeletonData = skeletonData;
            }
            AnimationStateData.prototype.setMix = function (fromName, toName, duration) {
                var from = this.skeletonData.findAnimation(fromName);
                if (from == null)
                    throw new Error("Animation not found: " + fromName);
                var to = this.skeletonData.findAnimation(toName);
                if (to == null)
                    throw new Error("Animation not found: " + toName);
                this.setMixWith(from, to, duration);
            };
            AnimationStateData.prototype.setMixByName = function (fromName, toName, duration) {
                if (!AnimationStateData.deprecatedWarning1) {
                    AnimationStateData.deprecatedWarning1 = true;
                    console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.");
                }
                this.setMix(fromName, toName, duration);
            };
            AnimationStateData.prototype.setMixWith = function (from, to, duration) {
                if (from == null)
                    throw new Error("from cannot be null.");
                if (to == null)
                    throw new Error("to cannot be null.");
                var key = from.name + to.name;
                this.animationToMixTime[key] = duration;
            };
            AnimationStateData.prototype.getMix = function (from, to) {
                var key = from.name + to.name;
                var value = this.animationToMixTime[key];
                return value === undefined ? this.defaultMix : value;
            };
            AnimationStateData.deprecatedWarning1 = false;
            return AnimationStateData;
        }());
        core.AnimationStateData = AnimationStateData;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var AtlasAttachmentLoader = (function () {
            function AtlasAttachmentLoader(atlas) {
                this.atlas = atlas;
            }
            AtlasAttachmentLoader.prototype.newRegionAttachment = function (skin, name, path) {
                var region = this.atlas.findRegion(path);
                if (region == null)
                    throw new Error("Region not found in atlas: " + path + " (region attachment: " + name + ")");
                var attachment = new core.RegionAttachment(name);
                attachment.region = region;
                return attachment;
            };
            AtlasAttachmentLoader.prototype.newMeshAttachment = function (skin, name, path) {
                var region = this.atlas.findRegion(path);
                if (region == null)
                    throw new Error("Region not found in atlas: " + path + " (mesh attachment: " + name + ")");
                var attachment = new core.MeshAttachment(name);
                attachment.region = region;
                return attachment;
            };
            AtlasAttachmentLoader.prototype.newBoundingBoxAttachment = function (skin, name) {
                return new core.BoundingBoxAttachment(name);
            };
            AtlasAttachmentLoader.prototype.newPathAttachment = function (skin, name) {
                return new core.PathAttachment(name);
            };
            AtlasAttachmentLoader.prototype.newPointAttachment = function (skin, name) {
                return new core.PointAttachment(name);
            };
            AtlasAttachmentLoader.prototype.newClippingAttachment = function (skin, name) {
                return new core.ClippingAttachment(name);
            };
            return AtlasAttachmentLoader;
        }());
        core.AtlasAttachmentLoader = AtlasAttachmentLoader;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var BlendMode;
        (function (BlendMode) {
            BlendMode[BlendMode["Normal"] = 0] = "Normal";
            BlendMode[BlendMode["Additive"] = 1] = "Additive";
            BlendMode[BlendMode["Multiply"] = 2] = "Multiply";
            BlendMode[BlendMode["Screen"] = 3] = "Screen";
        })(BlendMode = core.BlendMode || (core.BlendMode = {}));
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var Bone = (function () {
            function Bone(data, skeleton, parent) {
                this.matrix = new PIXI.Matrix();
                this.children = new Array();
                this.x = 0;
                this.y = 0;
                this.rotation = 0;
                this.scaleX = 0;
                this.scaleY = 0;
                this.shearX = 0;
                this.shearY = 0;
                this.ax = 0;
                this.ay = 0;
                this.arotation = 0;
                this.ascaleX = 0;
                this.ascaleY = 0;
                this.ashearX = 0;
                this.ashearY = 0;
                this.appliedValid = false;
                this.sorted = false;
                if (data == null)
                    throw new Error("data cannot be null.");
                if (skeleton == null)
                    throw new Error("skeleton cannot be null.");
                this.data = data;
                this.skeleton = skeleton;
                this.parent = parent;
                this.setToSetupPose();
            }
            Object.defineProperty(Bone.prototype, "worldX", {
                get: function () {
                    return this.matrix.tx;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(Bone.prototype, "worldY", {
                get: function () {
                    return this.matrix.ty;
                },
                enumerable: true,
                configurable: true
            });
            Bone.prototype.update = function () {
                this.updateWorldTransformWith(this.x, this.y, this.rotation, this.scaleX, this.scaleY, this.shearX, this.shearY);
            };
            Bone.prototype.updateWorldTransform = function () {
                this.updateWorldTransformWith(this.x, this.y, this.rotation, this.scaleX, this.scaleY, this.shearX, this.shearY);
            };
            Bone.prototype.updateWorldTransformWith = function (x, y, rotation, scaleX, scaleY, shearX, shearY) {
                this.ax = x;
                this.ay = y;
                this.arotation = rotation;
                this.ascaleX = scaleX;
                this.ascaleY = scaleY;
                this.ashearX = shearX;
                this.ashearY = shearY;
                this.appliedValid = true;
                var parent = this.parent;
                var m = this.matrix;
                if (parent == null) {
                    var rotationY = rotation + 90 + shearY;
                    var la = core.MathUtils.cosDeg(rotation + shearX) * scaleX;
                    var lb = core.MathUtils.cosDeg(rotationY) * scaleY;
                    var lc = core.MathUtils.sinDeg(rotation + shearX) * scaleX;
                    var ld = core.MathUtils.sinDeg(rotationY) * scaleY;
                    var skeleton = this.skeleton;
                    if (skeleton.flipX) {
                        x = -x;
                        la = -la;
                        lb = -lb;
                    }
                    if (skeleton.flipY !== Bone.yDown) {
                        y = -y;
                        lc = -lc;
                        ld = -ld;
                    }
                    m.a = la;
                    m.c = lb;
                    m.b = lc;
                    m.d = ld;
                    m.tx = x + skeleton.x;
                    m.ty = y + skeleton.y;
                    return;
                }
                var pa = parent.matrix.a, pb = parent.matrix.c, pc = parent.matrix.b, pd = parent.matrix.d;
                m.tx = pa * x + pb * y + parent.matrix.tx;
                m.ty = pc * x + pd * y + parent.matrix.ty;
                switch (this.data.transformMode) {
                    case core.TransformMode.Normal: {
                        var rotationY = rotation + 90 + shearY;
                        var la = core.MathUtils.cosDeg(rotation + shearX) * scaleX;
                        var lb = core.MathUtils.cosDeg(rotationY) * scaleY;
                        var lc = core.MathUtils.sinDeg(rotation + shearX) * scaleX;
                        var ld = core.MathUtils.sinDeg(rotationY) * scaleY;
                        m.a = pa * la + pb * lc;
                        m.c = pa * lb + pb * ld;
                        m.b = pc * la + pd * lc;
                        m.d = pc * lb + pd * ld;
                        return;
                    }
                    case core.TransformMode.OnlyTranslation: {
                        var rotationY = rotation + 90 + shearY;
                        m.a = core.MathUtils.cosDeg(rotation + shearX) * scaleX;
                        m.c = core.MathUtils.cosDeg(rotationY) * scaleY;
                        m.b = core.MathUtils.sinDeg(rotation + shearX) * scaleX;
                        m.d = core.MathUtils.sinDeg(rotationY) * scaleY;
                        break;
                    }
                    case core.TransformMode.NoRotationOrReflection: {
                        var s = pa * pa + pc * pc;
                        var prx = 0;
                        if (s > 0.0001) {
                            s = Math.abs(pa * pd - pb * pc) / s;
                            pb = pc * s;
                            pd = pa * s;
                            prx = Math.atan2(pc, pa) * core.MathUtils.radDeg;
                        }
                        else {
                            pa = 0;
                            pc = 0;
                            prx = 90 - Math.atan2(pd, pb) * core.MathUtils.radDeg;
                        }
                        var rx = rotation + shearX - prx;
                        var ry = rotation + shearY - prx + 90;
                        var la = core.MathUtils.cosDeg(rx) * scaleX;
                        var lb = core.MathUtils.cosDeg(ry) * scaleY;
                        var lc = core.MathUtils.sinDeg(rx) * scaleX;
                        var ld = core.MathUtils.sinDeg(ry) * scaleY;
                        m.a = pa * la - pb * lc;
                        m.c = pa * lb - pb * ld;
                        m.b = pc * la + pd * lc;
                        m.d = pc * lb + pd * ld;
                        break;
                    }
                    case core.TransformMode.NoScale:
                    case core.TransformMode.NoScaleOrReflection: {
                        var cos = core.MathUtils.cosDeg(rotation);
                        var sin = core.MathUtils.sinDeg(rotation);
                        var za = pa * cos + pb * sin;
                        var zc = pc * cos + pd * sin;
                        var s = Math.sqrt(za * za + zc * zc);
                        if (s > 0.00001)
                            s = 1 / s;
                        za *= s;
                        zc *= s;
                        s = Math.sqrt(za * za + zc * zc);
                        var r = Math.PI / 2 + Math.atan2(zc, za);
                        var zb = Math.cos(r) * s;
                        var zd = Math.sin(r) * s;
                        var la = core.MathUtils.cosDeg(shearX) * scaleX;
                        var lb = core.MathUtils.cosDeg(90 + shearY) * scaleY;
                        var lc = core.MathUtils.sinDeg(shearX) * scaleX;
                        var ld = core.MathUtils.sinDeg(90 + shearY) * scaleY;
                        m.a = za * la + zb * lc;
                        m.c = za * lb + zb * ld;
                        m.b = zc * la + zd * lc;
                        m.d = zc * lb + zd * ld;
                        if (this.data.transformMode != core.TransformMode.NoScaleOrReflection ? pa * pd - pb * pc < 0 : ((this.skeleton.flipX != this.skeleton.flipY) != Bone.yDown)) {
                            m.c = -m.c;
                            m.d = -m.d;
                        }
                        return;
                    }
                }
                if (this.skeleton.flipX) {
                    m.a = -m.a;
                    m.c = -m.c;
                }
                if (this.skeleton.flipY != Bone.yDown) {
                    m.b = -m.b;
                    m.d = -m.d;
                }
            };
            Bone.prototype.setToSetupPose = function () {
                var data = this.data;
                this.x = data.x;
                this.y = data.y;
                this.rotation = data.rotation;
                this.scaleX = data.scaleX;
                this.scaleY = data.scaleY;
                this.shearX = data.shearX;
                this.shearY = data.shearY;
            };
            Bone.prototype.getWorldRotationX = function () {
                return Math.atan2(this.matrix.b, this.matrix.a) * core.MathUtils.radDeg;
            };
            Bone.prototype.getWorldRotationY = function () {
                return Math.atan2(this.matrix.d, this.matrix.c) * core.MathUtils.radDeg;
            };
            Bone.prototype.getWorldScaleX = function () {
                var m = this.matrix;
                return Math.sqrt(m.a * m.a + m.c * m.c);
            };
            Bone.prototype.getWorldScaleY = function () {
                var m = this.matrix;
                return Math.sqrt(m.b * m.b + m.d * m.d);
            };
            Bone.prototype.updateAppliedTransform = function () {
                this.appliedValid = true;
                var parent = this.parent;
                var m = this.matrix;
                if (parent == null) {
                    this.ax = m.tx;
                    this.ay = m.ty;
                    this.arotation = Math.atan2(m.b, m.a) * core.MathUtils.radDeg;
                    this.ascaleX = Math.sqrt(m.a * m.a + m.b * m.b);
                    this.ascaleY = Math.sqrt(m.c * m.c + m.d * m.d);
                    this.ashearX = 0;
                    this.ashearY = Math.atan2(m.a * m.c + m.b * m.d, m.a * m.d - m.b * m.c) * core.MathUtils.radDeg;
                    return;
                }
                var pm = parent.matrix;
                var pid = 1 / (pm.a * pm.d - pm.b * pm.c);
                var dx = m.tx - pm.tx, dy = m.ty - pm.ty;
                this.ax = (dx * pm.d * pid - dy * pm.c * pid);
                this.ay = (dy * pm.a * pid - dx * pm.b * pid);
                var ia = pid * pm.d;
                var id = pid * pm.a;
                var ib = pid * pm.c;
                var ic = pid * pm.b;
                var ra = ia * m.a - ib * m.b;
                var rb = ia * m.c - ib * m.d;
                var rc = id * m.b - ic * m.a;
                var rd = id * m.d - ic * m.c;
                this.ashearX = 0;
                this.ascaleX = Math.sqrt(ra * ra + rc * rc);
                if (this.ascaleX > 0.0001) {
                    var det = ra * rd - rb * rc;
                    this.ascaleY = det / this.ascaleX;
                    this.ashearY = Math.atan2(ra * rb + rc * rd, det) * core.MathUtils.radDeg;
                    this.arotation = Math.atan2(rc, ra) * core.MathUtils.radDeg;
                }
                else {
                    this.ascaleX = 0;
                    this.ascaleY = Math.sqrt(rb * rb + rd * rd);
                    this.ashearY = 0;
                    this.arotation = 90 - Math.atan2(rd, rb) * core.MathUtils.radDeg;
                }
            };
            Bone.prototype.worldToLocal = function (world) {
                var m = this.matrix;
                var a = m.a, b = m.c, c = m.b, d = m.d;
                var invDet = 1 / (a * d - b * c);
                var x = world.x - m.tx, y = world.y - m.ty;
                world.x = (x * d * invDet - y * b * invDet);
                world.y = (y * a * invDet - x * c * invDet);
                return world;
            };
            Bone.prototype.localToWorld = function (local) {
                var m = this.matrix;
                var x = local.x, y = local.y;
                local.x = x * m.a + y * m.c + m.tx;
                local.y = x * m.b + y * m.d + m.ty;
                return local;
            };
            Bone.prototype.worldToLocalRotation = function (worldRotation) {
                var sin = core.MathUtils.sinDeg(worldRotation), cos = core.MathUtils.cosDeg(worldRotation);
                var mat = this.matrix;
                return Math.atan2(mat.a * sin - mat.b * cos, mat.d * cos - mat.c * sin) * core.MathUtils.radDeg;
            };
            Bone.prototype.localToWorldRotation = function (localRotation) {
                var sin = core.MathUtils.sinDeg(localRotation), cos = core.MathUtils.cosDeg(localRotation);
                var mat = this.matrix;
                return Math.atan2(cos * mat.b + sin * mat.d, cos * mat.a + sin * mat.c) * core.MathUtils.radDeg;
            };
            Bone.prototype.rotateWorld = function (degrees) {
                var mat = this.matrix;
                var a = mat.a, b = mat.c, c = mat.b, d = mat.d;
                var cos = core.MathUtils.cosDeg(degrees), sin = core.MathUtils.sinDeg(degrees);
                mat.a = cos * a - sin * c;
                mat.c = cos * b - sin * d;
                mat.b = sin * a + cos * c;
                mat.d = sin * b + cos * d;
                this.appliedValid = false;
            };
            Bone.yDown = false;
            return Bone;
        }());
        core.Bone = Bone;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var BoneData = (function () {
            function BoneData(index, name, parent) {
                this.x = 0;
                this.y = 0;
                this.rotation = 0;
                this.scaleX = 1;
                this.scaleY = 1;
                this.shearX = 0;
                this.shearY = 0;
                this.transformMode = TransformMode.Normal;
                if (index < 0)
                    throw new Error("index must be >= 0.");
                if (name == null)
                    throw new Error("name cannot be null.");
                this.index = index;
                this.name = name;
                this.parent = parent;
            }
            return BoneData;
        }());
        core.BoneData = BoneData;
        var TransformMode;
        (function (TransformMode) {
            TransformMode[TransformMode["Normal"] = 0] = "Normal";
            TransformMode[TransformMode["OnlyTranslation"] = 1] = "OnlyTranslation";
            TransformMode[TransformMode["NoRotationOrReflection"] = 2] = "NoRotationOrReflection";
            TransformMode[TransformMode["NoScale"] = 3] = "NoScale";
            TransformMode[TransformMode["NoScaleOrReflection"] = 4] = "NoScaleOrReflection";
        })(TransformMode = core.TransformMode || (core.TransformMode = {}));
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var Event = (function () {
            function Event(time, data) {
                if (data == null)
                    throw new Error("data cannot be null.");
                this.time = time;
                this.data = data;
            }
            return Event;
        }());
        core.Event = Event;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var EventData = (function () {
            function EventData(name) {
                this.name = name;
            }
            return EventData;
        }());
        core.EventData = EventData;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var IkConstraint = (function () {
            function IkConstraint(data, skeleton) {
                this.mix = 1;
                this.bendDirection = 0;
                if (data == null)
                    throw new Error("data cannot be null.");
                if (skeleton == null)
                    throw new Error("skeleton cannot be null.");
                this.data = data;
                this.mix = data.mix;
                this.bendDirection = data.bendDirection;
                this.bones = new Array();
                for (var i = 0; i < data.bones.length; i++)
                    this.bones.push(skeleton.findBone(data.bones[i].name));
                this.target = skeleton.findBone(data.target.name);
            }
            IkConstraint.prototype.getOrder = function () {
                return this.data.order;
            };
            IkConstraint.prototype.apply = function () {
                this.update();
            };
            IkConstraint.prototype.update = function () {
                var target = this.target;
                var bones = this.bones;
                switch (bones.length) {
                    case 1:
                        this.apply1(bones[0], target.worldX, target.worldY, this.mix);
                        break;
                    case 2:
                        this.apply2(bones[0], bones[1], target.worldX, target.worldY, this.bendDirection, this.mix);
                        break;
                }
            };
            IkConstraint.prototype.apply1 = function (bone, targetX, targetY, alpha) {
                if (!bone.appliedValid)
                    bone.updateAppliedTransform();
                var p = bone.parent.matrix;
                var id = 1 / (p.a * p.d - p.b * p.c);
                var x = targetX - p.tx, y = targetY - p.ty;
                var tx = (x * p.d - y * p.c) * id - bone.ax, ty = (y * p.a - x * p.b) * id - bone.ay;
                var rotationIK = Math.atan2(ty, tx) * core.MathUtils.radDeg - bone.ashearX - bone.arotation;
                if (bone.ascaleX < 0)
                    rotationIK += 180;
                if (rotationIK > 180)
                    rotationIK -= 360;
                else if (rotationIK < -180)
                    rotationIK += 360;
                bone.updateWorldTransformWith(bone.ax, bone.ay, bone.arotation + rotationIK * alpha, bone.ascaleX, bone.ascaleY, bone.ashearX, bone.ashearY);
            };
            IkConstraint.prototype.apply2 = function (parent, child, targetX, targetY, bendDir, alpha) {
                if (alpha == 0) {
                    child.updateWorldTransform();
                    return;
                }
                if (!parent.appliedValid)
                    parent.updateAppliedTransform();
                if (!child.appliedValid)
                    child.updateAppliedTransform();
                var px = parent.ax, py = parent.ay, psx = parent.ascaleX, psy = parent.ascaleY, csx = child.ascaleX;
                var pmat = parent.matrix;
                var os1 = 0, os2 = 0, s2 = 0;
                if (psx < 0) {
                    psx = -psx;
                    os1 = 180;
                    s2 = -1;
                }
                else {
                    os1 = 0;
                    s2 = 1;
                }
                if (psy < 0) {
                    psy = -psy;
                    s2 = -s2;
                }
                if (csx < 0) {
                    csx = -csx;
                    os2 = 180;
                }
                else
                    os2 = 0;
                var cx = child.ax, cy = 0, cwx = 0, cwy = 0, a = pmat.a, b = pmat.c, c = pmat.b, d = pmat.d;
                var u = Math.abs(psx - psy) <= 0.0001;
                if (!u) {
                    cy = 0;
                    cwx = a * cx + pmat.tx;
                    cwy = c * cx + pmat.ty;
                }
                else {
                    cy = child.ay;
                    cwx = a * cx + b * cy + pmat.tx;
                    cwy = c * cx + d * cy + pmat.ty;
                }
                var pp = parent.parent.matrix;
                a = pp.a;
                b = pp.c;
                c = pp.b;
                d = pp.d;
                var id = 1 / (a * d - b * c), x = targetX - pp.tx, y = targetY - pp.ty;
                var tx = (x * d - y * b) * id - px, ty = (y * a - x * c) * id - py;
                x = cwx - pp.tx;
                y = cwy - pp.ty;
                var dx = (x * d - y * b) * id - px, dy = (y * a - x * c) * id - py;
                var l1 = Math.sqrt(dx * dx + dy * dy), l2 = child.data.length * csx, a1 = 0, a2 = 0;
                outer: if (u) {
                    l2 *= psx;
                    var cos = (tx * tx + ty * ty - l1 * l1 - l2 * l2) / (2 * l1 * l2);
                    if (cos < -1)
                        cos = -1;
                    else if (cos > 1)
                        cos = 1;
                    a2 = Math.acos(cos) * bendDir;
                    a = l1 + l2 * cos;
                    b = l2 * Math.sin(a2);
                    a1 = Math.atan2(ty * a - tx * b, tx * a + ty * b);
                }
                else {
                    a = psx * l2;
                    b = psy * l2;
                    var aa = a * a, bb = b * b, dd = tx * tx + ty * ty, ta = Math.atan2(ty, tx);
                    c = bb * l1 * l1 + aa * dd - aa * bb;
                    var c1 = -2 * bb * l1, c2 = bb - aa;
                    d = c1 * c1 - 4 * c2 * c;
                    if (d >= 0) {
                        var q = Math.sqrt(d);
                        if (c1 < 0)
                            q = -q;
                        q = -(c1 + q) / 2;
                        var r0 = q / c2, r1 = c / q;
                        var r = Math.abs(r0) < Math.abs(r1) ? r0 : r1;
                        if (r * r <= dd) {
                            y = Math.sqrt(dd - r * r) * bendDir;
                            a1 = ta - Math.atan2(y, r);
                            a2 = Math.atan2(y / psy, (r - l1) / psx);
                            break outer;
                        }
                    }
                    var minAngle = core.MathUtils.PI, minX = l1 - a, minDist = minX * minX, minY = 0;
                    var maxAngle = 0, maxX = l1 + a, maxDist = maxX * maxX, maxY = 0;
                    c = -a * l1 / (aa - bb);
                    if (c >= -1 && c <= 1) {
                        c = Math.acos(c);
                        x = a * Math.cos(c) + l1;
                        y = b * Math.sin(c);
                        d = x * x + y * y;
                        if (d < minDist) {
                            minAngle = c;
                            minDist = d;
                            minX = x;
                            minY = y;
                        }
                        if (d > maxDist) {
                            maxAngle = c;
                            maxDist = d;
                            maxX = x;
                            maxY = y;
                        }
                    }
                    if (dd <= (minDist + maxDist) / 2) {
                        a1 = ta - Math.atan2(minY * bendDir, minX);
                        a2 = minAngle * bendDir;
                    }
                    else {
                        a1 = ta - Math.atan2(maxY * bendDir, maxX);
                        a2 = maxAngle * bendDir;
                    }
                }
                var os = Math.atan2(cy, cx) * s2;
                var rotation = parent.arotation;
                a1 = (a1 - os) * core.MathUtils.radDeg + os1 - rotation;
                if (a1 > 180)
                    a1 -= 360;
                else if (a1 < -180)
                    a1 += 360;
                parent.updateWorldTransformWith(px, py, rotation + a1 * alpha, parent.ascaleX, parent.ascaleY, 0, 0);
                rotation = child.arotation;
                a2 = ((a2 + os) * core.MathUtils.radDeg - child.ashearX) * s2 + os2 - rotation;
                if (a2 > 180)
                    a2 -= 360;
                else if (a2 < -180)
                    a2 += 360;
                child.updateWorldTransformWith(cx, cy, rotation + a2 * alpha, child.ascaleX, child.ascaleY, child.ashearX, child.ashearY);
            };
            return IkConstraint;
        }());
        core.IkConstraint = IkConstraint;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var IkConstraintData = (function () {
            function IkConstraintData(name) {
                this.order = 0;
                this.bones = new Array();
                this.bendDirection = 1;
                this.mix = 1;
                this.name = name;
            }
            return IkConstraintData;
        }());
        core.IkConstraintData = IkConstraintData;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var PathConstraint = (function () {
            function PathConstraint(data, skeleton) {
                this.position = 0;
                this.spacing = 0;
                this.rotateMix = 0;
                this.translateMix = 0;
                this.spaces = new Array();
                this.positions = new Array();
                this.world = new Array();
                this.curves = new Array();
                this.lengths = new Array();
                this.segments = new Array();
                if (data == null)
                    throw new Error("data cannot be null.");
                if (skeleton == null)
                    throw new Error("skeleton cannot be null.");
                this.data = data;
                this.bones = new Array();
                for (var i = 0, n = data.bones.length; i < n; i++)
                    this.bones.push(skeleton.findBone(data.bones[i].name));
                this.target = skeleton.findSlot(data.target.name);
                this.position = data.position;
                this.spacing = data.spacing;
                this.rotateMix = data.rotateMix;
                this.translateMix = data.translateMix;
            }
            PathConstraint.prototype.apply = function () {
                this.update();
            };
            PathConstraint.prototype.update = function () {
                var attachment = this.target.getAttachment();
                if (!(attachment instanceof core.PathAttachment))
                    return;
                var rotateMix = this.rotateMix, translateMix = this.translateMix;
                var translate = translateMix > 0, rotate = rotateMix > 0;
                if (!translate && !rotate)
                    return;
                var data = this.data;
                var spacingMode = data.spacingMode;
                var lengthSpacing = spacingMode == core.SpacingMode.Length;
                var rotateMode = data.rotateMode;
                var tangents = rotateMode == core.RotateMode.Tangent, scale = rotateMode == core.RotateMode.ChainScale;
                var boneCount = this.bones.length, spacesCount = tangents ? boneCount : boneCount + 1;
                var bones = this.bones;
                var spaces = core.Utils.setArraySize(this.spaces, spacesCount), lengths = null;
                var spacing = this.spacing;
                if (scale || lengthSpacing) {
                    if (scale)
                        lengths = core.Utils.setArraySize(this.lengths, boneCount);
                    for (var i = 0, n = spacesCount - 1; i < n;) {
                        var bone = bones[i];
                        var setupLength = bone.data.length, x = setupLength * bone.matrix.a, y = setupLength * bone.matrix.b;
                        var length_1 = Math.sqrt(x * x + y * y);
                        if (scale)
                            lengths[i] = length_1;
                        spaces[++i] = (lengthSpacing ? setupLength + spacing : spacing) * length_1 / setupLength;
                    }
                }
                else {
                    for (var i = 1; i < spacesCount; i++)
                        spaces[i] = spacing;
                }
                var positions = this.computeWorldPositions(attachment, spacesCount, tangents, data.positionMode == core.PositionMode.Percent, spacingMode == core.SpacingMode.Percent);
                var boneX = positions[0], boneY = positions[1], offsetRotation = data.offsetRotation;
                var tip = false;
                if (offsetRotation == 0)
                    tip = rotateMode == core.RotateMode.Chain;
                else {
                    tip = false;
                    var p = this.target.bone.matrix;
                    offsetRotation *= p.a * p.d - p.b * p.c > 0 ? core.MathUtils.degRad : -core.MathUtils.degRad;
                }
                for (var i = 0, p = 3; i < boneCount; i++, p += 3) {
                    var bone = bones[i];
                    var mat = bone.matrix;
                    mat.tx += (boneX - mat.tx) * translateMix;
                    mat.ty += (boneY - mat.ty) * translateMix;
                    var x = positions[p], y = positions[p + 1], dx = x - boneX, dy = y - boneY;
                    if (scale) {
                        var length_2 = lengths[i];
                        if (length_2 != 0) {
                            var s = (Math.sqrt(dx * dx + dy * dy) / length_2 - 1) * rotateMix + 1;
                            mat.a *= s;
                            mat.b *= s;
                        }
                    }
                    boneX = x;
                    boneY = y;
                    if (rotate) {
                        var a = mat.a, b = mat.c, c = mat.b, d = mat.d, r = 0, cos = 0, sin = 0;
                        if (tangents)
                            r = positions[p - 1];
                        else if (spaces[i + 1] == 0)
                            r = positions[p + 2];
                        else
                            r = Math.atan2(dy, dx);
                        r -= Math.atan2(c, a);
                        if (tip) {
                            cos = Math.cos(r);
                            sin = Math.sin(r);
                            var length_3 = bone.data.length;
                            boneX += (length_3 * (cos * a - sin * c) - dx) * rotateMix;
                            boneY += (length_3 * (sin * a + cos * c) - dy) * rotateMix;
                        }
                        else {
                            r += offsetRotation;
                        }
                        if (r > core.MathUtils.PI)
                            r -= core.MathUtils.PI2;
                        else if (r < -core.MathUtils.PI)
                            r += core.MathUtils.PI2;
                        r *= rotateMix;
                        cos = Math.cos(r);
                        sin = Math.sin(r);
                        mat.a = cos * a - sin * c;
                        mat.c = cos * b - sin * d;
                        mat.b = sin * a + cos * c;
                        mat.d = sin * b + cos * d;
                    }
                    bone.appliedValid = false;
                }
            };
            PathConstraint.prototype.computeWorldPositions = function (path, spacesCount, tangents, percentPosition, percentSpacing) {
                var target = this.target;
                var position = this.position;
                var spaces = this.spaces, out = core.Utils.setArraySize(this.positions, spacesCount * 3 + 2), world = null;
                var closed = path.closed;
                var verticesLength = path.worldVerticesLength, curveCount = verticesLength / 6, prevCurve = PathConstraint.NONE;
                if (!path.constantSpeed) {
                    var lengths = path.lengths;
                    curveCount -= closed ? 1 : 2;
                    var pathLength_1 = lengths[curveCount];
                    if (percentPosition)
                        position *= pathLength_1;
                    if (percentSpacing) {
                        for (var i = 0; i < spacesCount; i++)
                            spaces[i] *= pathLength_1;
                    }
                    world = core.Utils.setArraySize(this.world, 8);
                    for (var i = 0, o = 0, curve = 0; i < spacesCount; i++, o += 3) {
                        var space = spaces[i];
                        position += space;
                        var p = position;
                        if (closed) {
                            p %= pathLength_1;
                            if (p < 0)
                                p += pathLength_1;
                            curve = 0;
                        }
                        else if (p < 0) {
                            if (prevCurve != PathConstraint.BEFORE) {
                                prevCurve = PathConstraint.BEFORE;
                                path.computeWorldVertices(target, 2, 4, world, 0, 2);
                            }
                            this.addBeforePosition(p, world, 0, out, o);
                            continue;
                        }
                        else if (p > pathLength_1) {
                            if (prevCurve != PathConstraint.AFTER) {
                                prevCurve = PathConstraint.AFTER;
                                path.computeWorldVertices(target, verticesLength - 6, 4, world, 0, 2);
                            }
                            this.addAfterPosition(p - pathLength_1, world, 0, out, o);
                            continue;
                        }
                        for (;; curve++) {
                            var length_4 = lengths[curve];
                            if (p > length_4)
                                continue;
                            if (curve == 0)
                                p /= length_4;
                            else {
                                var prev = lengths[curve - 1];
                                p = (p - prev) / (length_4 - prev);
                            }
                            break;
                        }
                        if (curve != prevCurve) {
                            prevCurve = curve;
                            if (closed && curve == curveCount) {
                                path.computeWorldVertices(target, verticesLength - 4, 4, world, 0, 2);
                                path.computeWorldVertices(target, 0, 4, world, 4, 2);
                            }
                            else
                                path.computeWorldVertices(target, curve * 6 + 2, 8, world, 0, 2);
                        }
                        this.addCurvePosition(p, world[0], world[1], world[2], world[3], world[4], world[5], world[6], world[7], out, o, tangents || (i > 0 && space == 0));
                    }
                    return out;
                }
                if (closed) {
                    verticesLength += 2;
                    world = core.Utils.setArraySize(this.world, verticesLength);
                    path.computeWorldVertices(target, 2, verticesLength - 4, world, 0, 2);
                    path.computeWorldVertices(target, 0, 2, world, verticesLength - 4, 2);
                    world[verticesLength - 2] = world[0];
                    world[verticesLength - 1] = world[1];
                }
                else {
                    curveCount--;
                    verticesLength -= 4;
                    world = core.Utils.setArraySize(this.world, verticesLength);
                    path.computeWorldVertices(target, 2, verticesLength, world, 0, 2);
                }
                var curves = core.Utils.setArraySize(this.curves, curveCount);
                var pathLength = 0;
                var x1 = world[0], y1 = world[1], cx1 = 0, cy1 = 0, cx2 = 0, cy2 = 0, x2 = 0, y2 = 0;
                var tmpx = 0, tmpy = 0, dddfx = 0, dddfy = 0, ddfx = 0, ddfy = 0, dfx = 0, dfy = 0;
                for (var i = 0, w = 2; i < curveCount; i++, w += 6) {
                    cx1 = world[w];
                    cy1 = world[w + 1];
                    cx2 = world[w + 2];
                    cy2 = world[w + 3];
                    x2 = world[w + 4];
                    y2 = world[w + 5];
                    tmpx = (x1 - cx1 * 2 + cx2) * 0.1875;
                    tmpy = (y1 - cy1 * 2 + cy2) * 0.1875;
                    dddfx = ((cx1 - cx2) * 3 - x1 + x2) * 0.09375;
                    dddfy = ((cy1 - cy2) * 3 - y1 + y2) * 0.09375;
                    ddfx = tmpx * 2 + dddfx;
                    ddfy = tmpy * 2 + dddfy;
                    dfx = (cx1 - x1) * 0.75 + tmpx + dddfx * 0.16666667;
                    dfy = (cy1 - y1) * 0.75 + tmpy + dddfy * 0.16666667;
                    pathLength += Math.sqrt(dfx * dfx + dfy * dfy);
                    dfx += ddfx;
                    dfy += ddfy;
                    ddfx += dddfx;
                    ddfy += dddfy;
                    pathLength += Math.sqrt(dfx * dfx + dfy * dfy);
                    dfx += ddfx;
                    dfy += ddfy;
                    pathLength += Math.sqrt(dfx * dfx + dfy * dfy);
                    dfx += ddfx + dddfx;
                    dfy += ddfy + dddfy;
                    pathLength += Math.sqrt(dfx * dfx + dfy * dfy);
                    curves[i] = pathLength;
                    x1 = x2;
                    y1 = y2;
                }
                if (percentPosition)
                    position *= pathLength;
                if (percentSpacing) {
                    for (var i = 0; i < spacesCount; i++)
                        spaces[i] *= pathLength;
                }
                var segments = this.segments;
                var curveLength = 0;
                for (var i = 0, o = 0, curve = 0, segment = 0; i < spacesCount; i++, o += 3) {
                    var space = spaces[i];
                    position += space;
                    var p = position;
                    if (closed) {
                        p %= pathLength;
                        if (p < 0)
                            p += pathLength;
                        curve = 0;
                    }
                    else if (p < 0) {
                        this.addBeforePosition(p, world, 0, out, o);
                        continue;
                    }
                    else if (p > pathLength) {
                        this.addAfterPosition(p - pathLength, world, verticesLength - 4, out, o);
                        continue;
                    }
                    for (;; curve++) {
                        var length_5 = curves[curve];
                        if (p > length_5)
                            continue;
                        if (curve == 0)
                            p /= length_5;
                        else {
                            var prev = curves[curve - 1];
                            p = (p - prev) / (length_5 - prev);
                        }
                        break;
                    }
                    if (curve != prevCurve) {
                        prevCurve = curve;
                        var ii = curve * 6;
                        x1 = world[ii];
                        y1 = world[ii + 1];
                        cx1 = world[ii + 2];
                        cy1 = world[ii + 3];
                        cx2 = world[ii + 4];
                        cy2 = world[ii + 5];
                        x2 = world[ii + 6];
                        y2 = world[ii + 7];
                        tmpx = (x1 - cx1 * 2 + cx2) * 0.03;
                        tmpy = (y1 - cy1 * 2 + cy2) * 0.03;
                        dddfx = ((cx1 - cx2) * 3 - x1 + x2) * 0.006;
                        dddfy = ((cy1 - cy2) * 3 - y1 + y2) * 0.006;
                        ddfx = tmpx * 2 + dddfx;
                        ddfy = tmpy * 2 + dddfy;
                        dfx = (cx1 - x1) * 0.3 + tmpx + dddfx * 0.16666667;
                        dfy = (cy1 - y1) * 0.3 + tmpy + dddfy * 0.16666667;
                        curveLength = Math.sqrt(dfx * dfx + dfy * dfy);
                        segments[0] = curveLength;
                        for (ii = 1; ii < 8; ii++) {
                            dfx += ddfx;
                            dfy += ddfy;
                            ddfx += dddfx;
                            ddfy += dddfy;
                            curveLength += Math.sqrt(dfx * dfx + dfy * dfy);
                            segments[ii] = curveLength;
                        }
                        dfx += ddfx;
                        dfy += ddfy;
                        curveLength += Math.sqrt(dfx * dfx + dfy * dfy);
                        segments[8] = curveLength;
                        dfx += ddfx + dddfx;
                        dfy += ddfy + dddfy;
                        curveLength += Math.sqrt(dfx * dfx + dfy * dfy);
                        segments[9] = curveLength;
                        segment = 0;
                    }
                    p *= curveLength;
                    for (;; segment++) {
                        var length_6 = segments[segment];
                        if (p > length_6)
                            continue;
                        if (segment == 0)
                            p /= length_6;
                        else {
                            var prev = segments[segment - 1];
                            p = segment + (p - prev) / (length_6 - prev);
                        }
                        break;
                    }
                    this.addCurvePosition(p * 0.1, x1, y1, cx1, cy1, cx2, cy2, x2, y2, out, o, tangents || (i > 0 && space == 0));
                }
                return out;
            };
            PathConstraint.prototype.addBeforePosition = function (p, temp, i, out, o) {
                var x1 = temp[i], y1 = temp[i + 1], dx = temp[i + 2] - x1, dy = temp[i + 3] - y1, r = Math.atan2(dy, dx);
                out[o] = x1 + p * Math.cos(r);
                out[o + 1] = y1 + p * Math.sin(r);
                out[o + 2] = r;
            };
            PathConstraint.prototype.addAfterPosition = function (p, temp, i, out, o) {
                var x1 = temp[i + 2], y1 = temp[i + 3], dx = x1 - temp[i], dy = y1 - temp[i + 1], r = Math.atan2(dy, dx);
                out[o] = x1 + p * Math.cos(r);
                out[o + 1] = y1 + p * Math.sin(r);
                out[o + 2] = r;
            };
            PathConstraint.prototype.addCurvePosition = function (p, x1, y1, cx1, cy1, cx2, cy2, x2, y2, out, o, tangents) {
                if (p == 0 || isNaN(p))
                    p = 0.0001;
                var tt = p * p, ttt = tt * p, u = 1 - p, uu = u * u, uuu = uu * u;
                var ut = u * p, ut3 = ut * 3, uut3 = u * ut3, utt3 = ut3 * p;
                var x = x1 * uuu + cx1 * uut3 + cx2 * utt3 + x2 * ttt, y = y1 * uuu + cy1 * uut3 + cy2 * utt3 + y2 * ttt;
                out[o] = x;
                out[o + 1] = y;
                if (tangents)
                    out[o + 2] = Math.atan2(y - (y1 * uu + cy1 * ut * 2 + cy2 * tt), x - (x1 * uu + cx1 * ut * 2 + cx2 * tt));
            };
            PathConstraint.prototype.getOrder = function () {
                return this.data.order;
            };
            PathConstraint.NONE = -1;
            PathConstraint.BEFORE = -2;
            PathConstraint.AFTER = -3;
            return PathConstraint;
        }());
        core.PathConstraint = PathConstraint;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var PathConstraintData = (function () {
            function PathConstraintData(name) {
                this.order = 0;
                this.bones = new Array();
                this.name = name;
            }
            return PathConstraintData;
        }());
        core.PathConstraintData = PathConstraintData;
        var PositionMode;
        (function (PositionMode) {
            PositionMode[PositionMode["Fixed"] = 0] = "Fixed";
            PositionMode[PositionMode["Percent"] = 1] = "Percent";
        })(PositionMode = core.PositionMode || (core.PositionMode = {}));
        var SpacingMode;
        (function (SpacingMode) {
            SpacingMode[SpacingMode["Length"] = 0] = "Length";
            SpacingMode[SpacingMode["Fixed"] = 1] = "Fixed";
            SpacingMode[SpacingMode["Percent"] = 2] = "Percent";
        })(SpacingMode = core.SpacingMode || (core.SpacingMode = {}));
        var RotateMode;
        (function (RotateMode) {
            RotateMode[RotateMode["Tangent"] = 0] = "Tangent";
            RotateMode[RotateMode["Chain"] = 1] = "Chain";
            RotateMode[RotateMode["ChainScale"] = 2] = "ChainScale";
        })(RotateMode = core.RotateMode || (core.RotateMode = {}));
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var Skeleton = (function () {
            function Skeleton(data) {
                this._updateCache = new Array();
                this.updateCacheReset = new Array();
                this.time = 0;
                this.flipX = false;
                this.flipY = false;
                this.x = 0;
                this.y = 0;
                if (data == null)
                    throw new Error("data cannot be null.");
                this.data = data;
                this.bones = new Array();
                for (var i = 0; i < data.bones.length; i++) {
                    var boneData = data.bones[i];
                    var bone = void 0;
                    if (boneData.parent == null)
                        bone = new core.Bone(boneData, this, null);
                    else {
                        var parent_1 = this.bones[boneData.parent.index];
                        bone = new core.Bone(boneData, this, parent_1);
                        parent_1.children.push(bone);
                    }
                    this.bones.push(bone);
                }
                this.slots = new Array();
                this.drawOrder = new Array();
                for (var i = 0; i < data.slots.length; i++) {
                    var slotData = data.slots[i];
                    var bone = this.bones[slotData.boneData.index];
                    var slot = new core.Slot(slotData, bone);
                    this.slots.push(slot);
                    this.drawOrder.push(slot);
                }
                this.ikConstraints = new Array();
                for (var i = 0; i < data.ikConstraints.length; i++) {
                    var ikConstraintData = data.ikConstraints[i];
                    this.ikConstraints.push(new core.IkConstraint(ikConstraintData, this));
                }
                this.transformConstraints = new Array();
                for (var i = 0; i < data.transformConstraints.length; i++) {
                    var transformConstraintData = data.transformConstraints[i];
                    this.transformConstraints.push(new core.TransformConstraint(transformConstraintData, this));
                }
                this.pathConstraints = new Array();
                for (var i = 0; i < data.pathConstraints.length; i++) {
                    var pathConstraintData = data.pathConstraints[i];
                    this.pathConstraints.push(new core.PathConstraint(pathConstraintData, this));
                }
                this.color = new core.Color(1, 1, 1, 1);
                this.updateCache();
            }
            Skeleton.prototype.updateCache = function () {
                var updateCache = this._updateCache;
                updateCache.length = 0;
                this.updateCacheReset.length = 0;
                var bones = this.bones;
                for (var i = 0, n = bones.length; i < n; i++)
                    bones[i].sorted = false;
                var ikConstraints = this.ikConstraints;
                var transformConstraints = this.transformConstraints;
                var pathConstraints = this.pathConstraints;
                var ikCount = ikConstraints.length, transformCount = transformConstraints.length, pathCount = pathConstraints.length;
                var constraintCount = ikCount + transformCount + pathCount;
                outer: for (var i = 0; i < constraintCount; i++) {
                    for (var ii = 0; ii < ikCount; ii++) {
                        var constraint = ikConstraints[ii];
                        if (constraint.data.order == i) {
                            this.sortIkConstraint(constraint);
                            continue outer;
                        }
                    }
                    for (var ii = 0; ii < transformCount; ii++) {
                        var constraint = transformConstraints[ii];
                        if (constraint.data.order == i) {
                            this.sortTransformConstraint(constraint);
                            continue outer;
                        }
                    }
                    for (var ii = 0; ii < pathCount; ii++) {
                        var constraint = pathConstraints[ii];
                        if (constraint.data.order == i) {
                            this.sortPathConstraint(constraint);
                            continue outer;
                        }
                    }
                }
                for (var i = 0, n = bones.length; i < n; i++)
                    this.sortBone(bones[i]);
            };
            Skeleton.prototype.sortIkConstraint = function (constraint) {
                var target = constraint.target;
                this.sortBone(target);
                var constrained = constraint.bones;
                var parent = constrained[0];
                this.sortBone(parent);
                if (constrained.length > 1) {
                    var child = constrained[constrained.length - 1];
                    if (!(this._updateCache.indexOf(child) > -1))
                        this.updateCacheReset.push(child);
                }
                this._updateCache.push(constraint);
                this.sortReset(parent.children);
                constrained[constrained.length - 1].sorted = true;
            };
            Skeleton.prototype.sortPathConstraint = function (constraint) {
                var slot = constraint.target;
                var slotIndex = slot.data.index;
                var slotBone = slot.bone;
                if (this.skin != null)
                    this.sortPathConstraintAttachment(this.skin, slotIndex, slotBone);
                if (this.data.defaultSkin != null && this.data.defaultSkin != this.skin)
                    this.sortPathConstraintAttachment(this.data.defaultSkin, slotIndex, slotBone);
                for (var i = 0, n = this.data.skins.length; i < n; i++)
                    this.sortPathConstraintAttachment(this.data.skins[i], slotIndex, slotBone);
                var attachment = slot.getAttachment();
                if (attachment instanceof core.PathAttachment)
                    this.sortPathConstraintAttachmentWith(attachment, slotBone);
                var constrained = constraint.bones;
                var boneCount = constrained.length;
                for (var i = 0; i < boneCount; i++)
                    this.sortBone(constrained[i]);
                this._updateCache.push(constraint);
                for (var i = 0; i < boneCount; i++)
                    this.sortReset(constrained[i].children);
                for (var i = 0; i < boneCount; i++)
                    constrained[i].sorted = true;
            };
            Skeleton.prototype.sortTransformConstraint = function (constraint) {
                this.sortBone(constraint.target);
                var constrained = constraint.bones;
                var boneCount = constrained.length;
                if (constraint.data.local) {
                    for (var i = 0; i < boneCount; i++) {
                        var child = constrained[i];
                        this.sortBone(child.parent);
                        if (!(this._updateCache.indexOf(child) > -1))
                            this.updateCacheReset.push(child);
                    }
                }
                else {
                    for (var i = 0; i < boneCount; i++) {
                        this.sortBone(constrained[i]);
                    }
                }
                this._updateCache.push(constraint);
                for (var ii = 0; ii < boneCount; ii++)
                    this.sortReset(constrained[ii].children);
                for (var ii = 0; ii < boneCount; ii++)
                    constrained[ii].sorted = true;
            };
            Skeleton.prototype.sortPathConstraintAttachment = function (skin, slotIndex, slotBone) {
                var attachments = skin.attachments[slotIndex];
                if (!attachments)
                    return;
                for (var key in attachments) {
                    this.sortPathConstraintAttachmentWith(attachments[key], slotBone);
                }
            };
            Skeleton.prototype.sortPathConstraintAttachmentWith = function (attachment, slotBone) {
                if (!(attachment instanceof core.PathAttachment))
                    return;
                var pathBones = attachment.bones;
                if (pathBones == null)
                    this.sortBone(slotBone);
                else {
                    var bones = this.bones;
                    var i = 0;
                    while (i < pathBones.length) {
                        var boneCount = pathBones[i++];
                        for (var n = i + boneCount; i < n; i++) {
                            var boneIndex = pathBones[i];
                            this.sortBone(bones[boneIndex]);
                        }
                    }
                }
            };
            Skeleton.prototype.sortBone = function (bone) {
                if (bone.sorted)
                    return;
                var parent = bone.parent;
                if (parent != null)
                    this.sortBone(parent);
                bone.sorted = true;
                this._updateCache.push(bone);
            };
            Skeleton.prototype.sortReset = function (bones) {
                for (var i = 0, n = bones.length; i < n; i++) {
                    var bone = bones[i];
                    if (bone.sorted)
                        this.sortReset(bone.children);
                    bone.sorted = false;
                }
            };
            Skeleton.prototype.updateWorldTransform = function () {
                var updateCacheReset = this.updateCacheReset;
                for (var i = 0, n = updateCacheReset.length; i < n; i++) {
                    var bone = updateCacheReset[i];
                    bone.ax = bone.x;
                    bone.ay = bone.y;
                    bone.arotation = bone.rotation;
                    bone.ascaleX = bone.scaleX;
                    bone.ascaleY = bone.scaleY;
                    bone.ashearX = bone.shearX;
                    bone.ashearY = bone.shearY;
                    bone.appliedValid = true;
                }
                var updateCache = this._updateCache;
                for (var i = 0, n = updateCache.length; i < n; i++)
                    updateCache[i].update();
            };
            Skeleton.prototype.setToSetupPose = function () {
                this.setBonesToSetupPose();
                this.setSlotsToSetupPose();
            };
            Skeleton.prototype.setBonesToSetupPose = function () {
                var bones = this.bones;
                for (var i = 0, n = bones.length; i < n; i++)
                    bones[i].setToSetupPose();
                var ikConstraints = this.ikConstraints;
                for (var i = 0, n = ikConstraints.length; i < n; i++) {
                    var constraint = ikConstraints[i];
                    constraint.bendDirection = constraint.data.bendDirection;
                    constraint.mix = constraint.data.mix;
                }
                var transformConstraints = this.transformConstraints;
                for (var i = 0, n = transformConstraints.length; i < n; i++) {
                    var constraint = transformConstraints[i];
                    var data = constraint.data;
                    constraint.rotateMix = data.rotateMix;
                    constraint.translateMix = data.translateMix;
                    constraint.scaleMix = data.scaleMix;
                    constraint.shearMix = data.shearMix;
                }
                var pathConstraints = this.pathConstraints;
                for (var i = 0, n = pathConstraints.length; i < n; i++) {
                    var constraint = pathConstraints[i];
                    var data = constraint.data;
                    constraint.position = data.position;
                    constraint.spacing = data.spacing;
                    constraint.rotateMix = data.rotateMix;
                    constraint.translateMix = data.translateMix;
                }
            };
            Skeleton.prototype.setSlotsToSetupPose = function () {
                var slots = this.slots;
                core.Utils.arrayCopy(slots, 0, this.drawOrder, 0, slots.length);
                for (var i = 0, n = slots.length; i < n; i++)
                    slots[i].setToSetupPose();
            };
            Skeleton.prototype.getRootBone = function () {
                if (this.bones.length == 0)
                    return null;
                return this.bones[0];
            };
            Skeleton.prototype.findBone = function (boneName) {
                if (boneName == null)
                    throw new Error("boneName cannot be null.");
                var bones = this.bones;
                for (var i = 0, n = bones.length; i < n; i++) {
                    var bone = bones[i];
                    if (bone.data.name == boneName)
                        return bone;
                }
                return null;
            };
            Skeleton.prototype.findBoneIndex = function (boneName) {
                if (boneName == null)
                    throw new Error("boneName cannot be null.");
                var bones = this.bones;
                for (var i = 0, n = bones.length; i < n; i++)
                    if (bones[i].data.name == boneName)
                        return i;
                return -1;
            };
            Skeleton.prototype.findSlot = function (slotName) {
                if (slotName == null)
                    throw new Error("slotName cannot be null.");
                var slots = this.slots;
                for (var i = 0, n = slots.length; i < n; i++) {
                    var slot = slots[i];
                    if (slot.data.name == slotName)
                        return slot;
                }
                return null;
            };
            Skeleton.prototype.findSlotIndex = function (slotName) {
                if (slotName == null)
                    throw new Error("slotName cannot be null.");
                var slots = this.slots;
                for (var i = 0, n = slots.length; i < n; i++)
                    if (slots[i].data.name == slotName)
                        return i;
                return -1;
            };
            Skeleton.prototype.setSkinByName = function (skinName) {
                var skin = this.data.findSkin(skinName);
                if (skin == null)
                    throw new Error("Skin not found: " + skinName);
                this.setSkin(skin);
            };
            Skeleton.prototype.setSkin = function (newSkin) {
                if (newSkin != null) {
                    if (this.skin != null)
                        newSkin.attachAll(this, this.skin);
                    else {
                        var slots = this.slots;
                        for (var i = 0, n = slots.length; i < n; i++) {
                            var slot = slots[i];
                            var name_1 = slot.data.attachmentName;
                            if (name_1 != null) {
                                var attachment = newSkin.getAttachment(i, name_1);
                                if (attachment != null)
                                    slot.setAttachment(attachment);
                            }
                        }
                    }
                }
                this.skin = newSkin;
            };
            Skeleton.prototype.getAttachmentByName = function (slotName, attachmentName) {
                return this.getAttachment(this.data.findSlotIndex(slotName), attachmentName);
            };
            Skeleton.prototype.getAttachment = function (slotIndex, attachmentName) {
                if (attachmentName == null)
                    throw new Error("attachmentName cannot be null.");
                if (this.skin != null) {
                    var attachment = this.skin.getAttachment(slotIndex, attachmentName);
                    if (attachment != null)
                        return attachment;
                }
                if (this.data.defaultSkin != null)
                    return this.data.defaultSkin.getAttachment(slotIndex, attachmentName);
                return null;
            };
            Skeleton.prototype.setAttachment = function (slotName, attachmentName) {
                if (slotName == null)
                    throw new Error("slotName cannot be null.");
                var slots = this.slots;
                for (var i = 0, n = slots.length; i < n; i++) {
                    var slot = slots[i];
                    if (slot.data.name == slotName) {
                        var attachment = null;
                        if (attachmentName != null) {
                            attachment = this.getAttachment(i, attachmentName);
                            if (attachment == null)
                                throw new Error("Attachment not found: " + attachmentName + ", for slot: " + slotName);
                        }
                        slot.setAttachment(attachment);
                        return;
                    }
                }
                throw new Error("Slot not found: " + slotName);
            };
            Skeleton.prototype.findIkConstraint = function (constraintName) {
                if (constraintName == null)
                    throw new Error("constraintName cannot be null.");
                var ikConstraints = this.ikConstraints;
                for (var i = 0, n = ikConstraints.length; i < n; i++) {
                    var ikConstraint = ikConstraints[i];
                    if (ikConstraint.data.name == constraintName)
                        return ikConstraint;
                }
                return null;
            };
            Skeleton.prototype.findTransformConstraint = function (constraintName) {
                if (constraintName == null)
                    throw new Error("constraintName cannot be null.");
                var transformConstraints = this.transformConstraints;
                for (var i = 0, n = transformConstraints.length; i < n; i++) {
                    var constraint = transformConstraints[i];
                    if (constraint.data.name == constraintName)
                        return constraint;
                }
                return null;
            };
            Skeleton.prototype.findPathConstraint = function (constraintName) {
                if (constraintName == null)
                    throw new Error("constraintName cannot be null.");
                var pathConstraints = this.pathConstraints;
                for (var i = 0, n = pathConstraints.length; i < n; i++) {
                    var constraint = pathConstraints[i];
                    if (constraint.data.name == constraintName)
                        return constraint;
                }
                return null;
            };
            Skeleton.prototype.getBounds = function (offset, size, temp) {
                if (offset == null)
                    throw new Error("offset cannot be null.");
                if (size == null)
                    throw new Error("size cannot be null.");
                var drawOrder = this.drawOrder;
                var minX = Number.POSITIVE_INFINITY, minY = Number.POSITIVE_INFINITY, maxX = Number.NEGATIVE_INFINITY, maxY = Number.NEGATIVE_INFINITY;
                for (var i = 0, n = drawOrder.length; i < n; i++) {
                    var slot = drawOrder[i];
                    var verticesLength = 0;
                    var vertices = null;
                    var attachment = slot.getAttachment();
                    if (attachment instanceof core.RegionAttachment) {
                        verticesLength = 8;
                        vertices = core.Utils.setArraySize(temp, verticesLength, 0);
                        attachment.computeWorldVertices(slot.bone, vertices, 0, 2);
                    }
                    else if (attachment instanceof core.MeshAttachment) {
                        var mesh = attachment;
                        verticesLength = mesh.worldVerticesLength;
                        vertices = core.Utils.setArraySize(temp, verticesLength, 0);
                        mesh.computeWorldVertices(slot, 0, verticesLength, vertices, 0, 2);
                    }
                    if (vertices != null) {
                        for (var ii = 0, nn = vertices.length; ii < nn; ii += 2) {
                            var x = vertices[ii], y = vertices[ii + 1];
                            minX = Math.min(minX, x);
                            minY = Math.min(minY, y);
                            maxX = Math.max(maxX, x);
                            maxY = Math.max(maxY, y);
                        }
                    }
                }
                offset.set(minX, minY);
                size.set(maxX - minX, maxY - minY);
            };
            Skeleton.prototype.update = function (delta) {
                this.time += delta;
            };
            return Skeleton;
        }());
        core.Skeleton = Skeleton;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var SkeletonBounds = (function () {
            function SkeletonBounds() {
                this.minX = 0;
                this.minY = 0;
                this.maxX = 0;
                this.maxY = 0;
                this.boundingBoxes = new Array();
                this.polygons = new Array();
                this.polygonPool = new core.Pool(function () {
                    return core.Utils.newFloatArray(16);
                });
            }
            SkeletonBounds.prototype.update = function (skeleton, updateAabb) {
                if (skeleton == null)
                    throw new Error("skeleton cannot be null.");
                var boundingBoxes = this.boundingBoxes;
                var polygons = this.polygons;
                var polygonPool = this.polygonPool;
                var slots = skeleton.slots;
                var slotCount = slots.length;
                boundingBoxes.length = 0;
                polygonPool.freeAll(polygons);
                polygons.length = 0;
                for (var i = 0; i < slotCount; i++) {
                    var slot = slots[i];
                    var attachment = slot.getAttachment();
                    if (attachment instanceof core.BoundingBoxAttachment) {
                        var boundingBox = attachment;
                        boundingBoxes.push(boundingBox);
                        var polygon = polygonPool.obtain();
                        if (polygon.length != boundingBox.worldVerticesLength) {
                            polygon = core.Utils.newFloatArray(boundingBox.worldVerticesLength);
                        }
                        polygons.push(polygon);
                        boundingBox.computeWorldVertices(slot, 0, boundingBox.worldVerticesLength, polygon, 0, 2);
                    }
                }
                if (updateAabb) {
                    this.aabbCompute();
                }
                else {
                    this.minX = Number.POSITIVE_INFINITY;
                    this.minY = Number.POSITIVE_INFINITY;
                    this.maxX = Number.NEGATIVE_INFINITY;
                    this.maxY = Number.NEGATIVE_INFINITY;
                }
            };
            SkeletonBounds.prototype.aabbCompute = function () {
                var minX = Number.POSITIVE_INFINITY, minY = Number.POSITIVE_INFINITY, maxX = Number.NEGATIVE_INFINITY, maxY = Number.NEGATIVE_INFINITY;
                var polygons = this.polygons;
                for (var i = 0, n = polygons.length; i < n; i++) {
                    var polygon = polygons[i];
                    var vertices = polygon;
                    for (var ii = 0, nn = polygon.length; ii < nn; ii += 2) {
                        var x = vertices[ii];
                        var y = vertices[ii + 1];
                        minX = Math.min(minX, x);
                        minY = Math.min(minY, y);
                        maxX = Math.max(maxX, x);
                        maxY = Math.max(maxY, y);
                    }
                }
                this.minX = minX;
                this.minY = minY;
                this.maxX = maxX;
                this.maxY = maxY;
            };
            SkeletonBounds.prototype.aabbContainsPoint = function (x, y) {
                return x >= this.minX && x <= this.maxX && y >= this.minY && y <= this.maxY;
            };
            SkeletonBounds.prototype.aabbIntersectsSegment = function (x1, y1, x2, y2) {
                var minX = this.minX;
                var minY = this.minY;
                var maxX = this.maxX;
                var maxY = this.maxY;
                if ((x1 <= minX && x2 <= minX) || (y1 <= minY && y2 <= minY) || (x1 >= maxX && x2 >= maxX) || (y1 >= maxY && y2 >= maxY))
                    return false;
                var m = (y2 - y1) / (x2 - x1);
                var y = m * (minX - x1) + y1;
                if (y > minY && y < maxY)
                    return true;
                y = m * (maxX - x1) + y1;
                if (y > minY && y < maxY)
                    return true;
                var x = (minY - y1) / m + x1;
                if (x > minX && x < maxX)
                    return true;
                x = (maxY - y1) / m + x1;
                if (x > minX && x < maxX)
                    return true;
                return false;
            };
            SkeletonBounds.prototype.aabbIntersectsSkeleton = function (bounds) {
                return this.minX < bounds.maxX && this.maxX > bounds.minX && this.minY < bounds.maxY && this.maxY > bounds.minY;
            };
            SkeletonBounds.prototype.containsPoint = function (x, y) {
                var polygons = this.polygons;
                for (var i = 0, n = polygons.length; i < n; i++)
                    if (this.containsPointPolygon(polygons[i], x, y))
                        return this.boundingBoxes[i];
                return null;
            };
            SkeletonBounds.prototype.containsPointPolygon = function (polygon, x, y) {
                var vertices = polygon;
                var nn = polygon.length;
                var prevIndex = nn - 2;
                var inside = false;
                for (var ii = 0; ii < nn; ii += 2) {
                    var vertexY = vertices[ii + 1];
                    var prevY = vertices[prevIndex + 1];
                    if ((vertexY < y && prevY >= y) || (prevY < y && vertexY >= y)) {
                        var vertexX = vertices[ii];
                        if (vertexX + (y - vertexY) / (prevY - vertexY) * (vertices[prevIndex] - vertexX) < x)
                            inside = !inside;
                    }
                    prevIndex = ii;
                }
                return inside;
            };
            SkeletonBounds.prototype.intersectsSegment = function (x1, y1, x2, y2) {
                var polygons = this.polygons;
                for (var i = 0, n = polygons.length; i < n; i++)
                    if (this.intersectsSegmentPolygon(polygons[i], x1, y1, x2, y2))
                        return this.boundingBoxes[i];
                return null;
            };
            SkeletonBounds.prototype.intersectsSegmentPolygon = function (polygon, x1, y1, x2, y2) {
                var vertices = polygon;
                var nn = polygon.length;
                var width12 = x1 - x2, height12 = y1 - y2;
                var det1 = x1 * y2 - y1 * x2;
                var x3 = vertices[nn - 2], y3 = vertices[nn - 1];
                for (var ii = 0; ii < nn; ii += 2) {
                    var x4 = vertices[ii], y4 = vertices[ii + 1];
                    var det2 = x3 * y4 - y3 * x4;
                    var width34 = x3 - x4, height34 = y3 - y4;
                    var det3 = width12 * height34 - height12 * width34;
                    var x = (det1 * width34 - width12 * det2) / det3;
                    if (((x >= x3 && x <= x4) || (x >= x4 && x <= x3)) && ((x >= x1 && x <= x2) || (x >= x2 && x <= x1))) {
                        var y = (det1 * height34 - height12 * det2) / det3;
                        if (((y >= y3 && y <= y4) || (y >= y4 && y <= y3)) && ((y >= y1 && y <= y2) || (y >= y2 && y <= y1)))
                            return true;
                    }
                    x3 = x4;
                    y3 = y4;
                }
                return false;
            };
            SkeletonBounds.prototype.getPolygon = function (boundingBox) {
                if (boundingBox == null)
                    throw new Error("boundingBox cannot be null.");
                var index = this.boundingBoxes.indexOf(boundingBox);
                return index == -1 ? null : this.polygons[index];
            };
            SkeletonBounds.prototype.getWidth = function () {
                return this.maxX - this.minX;
            };
            SkeletonBounds.prototype.getHeight = function () {
                return this.maxY - this.minY;
            };
            return SkeletonBounds;
        }());
        core.SkeletonBounds = SkeletonBounds;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var SkeletonClipping = (function () {
            function SkeletonClipping() {
                this.triangulator = new core.Triangulator();
                this.clippingPolygon = new Array();
                this.clipOutput = new Array();
                this.clippedVertices = new Array();
                this.clippedTriangles = new Array();
                this.scratch = new Array();
            }
            SkeletonClipping.prototype.clipStart = function (slot, clip) {
                if (this.clipAttachment != null)
                    return 0;
                this.clipAttachment = clip;
                var n = clip.worldVerticesLength;
                var vertices = core.Utils.setArraySize(this.clippingPolygon, n);
                clip.computeWorldVertices(slot, 0, n, vertices, 0, 2);
                var clippingPolygon = this.clippingPolygon;
                SkeletonClipping.makeClockwise(clippingPolygon);
                var clippingPolygons = this.clippingPolygons = this.triangulator.decompose(clippingPolygon, this.triangulator.triangulate(clippingPolygon));
                for (var i = 0, n_1 = clippingPolygons.length; i < n_1; i++) {
                    var polygon = clippingPolygons[i];
                    SkeletonClipping.makeClockwise(polygon);
                    polygon.push(polygon[0]);
                    polygon.push(polygon[1]);
                }
                return clippingPolygons.length;
            };
            SkeletonClipping.prototype.clipEndWithSlot = function (slot) {
                if (this.clipAttachment != null && this.clipAttachment.endSlot == slot.data)
                    this.clipEnd();
            };
            SkeletonClipping.prototype.clipEnd = function () {
                if (this.clipAttachment == null)
                    return;
                this.clipAttachment = null;
                this.clippingPolygons = null;
                this.clippedVertices.length = 0;
                this.clippedTriangles.length = 0;
                this.clippingPolygon.length = 0;
            };
            SkeletonClipping.prototype.isClipping = function () {
                return this.clipAttachment != null;
            };
            SkeletonClipping.prototype.clipTriangles = function (vertices, verticesLength, triangles, trianglesLength, uvs, light, dark, twoColor) {
                var clipOutput = this.clipOutput, clippedVertices = this.clippedVertices;
                var clippedTriangles = this.clippedTriangles;
                var polygons = this.clippingPolygons;
                var polygonsCount = this.clippingPolygons.length;
                var vertexSize = twoColor ? 12 : 8;
                var index = 0;
                clippedVertices.length = 0;
                clippedTriangles.length = 0;
                outer: for (var i = 0; i < trianglesLength; i += 3) {
                    var vertexOffset = triangles[i] << 1;
                    var x1 = vertices[vertexOffset], y1 = vertices[vertexOffset + 1];
                    var u1 = uvs[vertexOffset], v1 = uvs[vertexOffset + 1];
                    vertexOffset = triangles[i + 1] << 1;
                    var x2 = vertices[vertexOffset], y2 = vertices[vertexOffset + 1];
                    var u2 = uvs[vertexOffset], v2 = uvs[vertexOffset + 1];
                    vertexOffset = triangles[i + 2] << 1;
                    var x3 = vertices[vertexOffset], y3 = vertices[vertexOffset + 1];
                    var u3 = uvs[vertexOffset], v3 = uvs[vertexOffset + 1];
                    for (var p = 0; p < polygonsCount; p++) {
                        var s = clippedVertices.length;
                        if (this.clip(x1, y1, x2, y2, x3, y3, polygons[p], clipOutput)) {
                            var clipOutputLength = clipOutput.length;
                            if (clipOutputLength == 0)
                                continue;
                            var d0 = y2 - y3, d1 = x3 - x2, d2 = x1 - x3, d4 = y3 - y1;
                            var d = 1 / (d0 * d2 + d1 * (y1 - y3));
                            var clipOutputCount = clipOutputLength >> 1;
                            var clipOutputItems = this.clipOutput;
                            var clippedVerticesItems = core.Utils.setArraySize(clippedVertices, s + clipOutputCount * vertexSize);
                            for (var ii = 0; ii < clipOutputLength; ii += 2) {
                                var x = clipOutputItems[ii], y = clipOutputItems[ii + 1];
                                clippedVerticesItems[s] = x;
                                clippedVerticesItems[s + 1] = y;
                                clippedVerticesItems[s + 2] = light.r;
                                clippedVerticesItems[s + 3] = light.g;
                                clippedVerticesItems[s + 4] = light.b;
                                clippedVerticesItems[s + 5] = light.a;
                                var c0 = x - x3, c1 = y - y3;
                                var a = (d0 * c0 + d1 * c1) * d;
                                var b = (d4 * c0 + d2 * c1) * d;
                                var c = 1 - a - b;
                                clippedVerticesItems[s + 6] = u1 * a + u2 * b + u3 * c;
                                clippedVerticesItems[s + 7] = v1 * a + v2 * b + v3 * c;
                                if (twoColor) {
                                    clippedVerticesItems[s + 8] = dark.r;
                                    clippedVerticesItems[s + 9] = dark.g;
                                    clippedVerticesItems[s + 10] = dark.b;
                                    clippedVerticesItems[s + 11] = dark.a;
                                }
                                s += vertexSize;
                            }
                            s = clippedTriangles.length;
                            var clippedTrianglesItems = core.Utils.setArraySize(clippedTriangles, s + 3 * (clipOutputCount - 2));
                            clipOutputCount--;
                            for (var ii = 1; ii < clipOutputCount; ii++) {
                                clippedTrianglesItems[s] = index;
                                clippedTrianglesItems[s + 1] = (index + ii);
                                clippedTrianglesItems[s + 2] = (index + ii + 1);
                                s += 3;
                            }
                            index += clipOutputCount + 1;
                        }
                        else {
                            var clippedVerticesItems = core.Utils.setArraySize(clippedVertices, s + 3 * vertexSize);
                            clippedVerticesItems[s] = x1;
                            clippedVerticesItems[s + 1] = y1;
                            clippedVerticesItems[s + 2] = light.r;
                            clippedVerticesItems[s + 3] = light.g;
                            clippedVerticesItems[s + 4] = light.b;
                            clippedVerticesItems[s + 5] = light.a;
                            if (!twoColor) {
                                clippedVerticesItems[s + 6] = u1;
                                clippedVerticesItems[s + 7] = v1;
                                clippedVerticesItems[s + 8] = x2;
                                clippedVerticesItems[s + 9] = y2;
                                clippedVerticesItems[s + 10] = light.r;
                                clippedVerticesItems[s + 11] = light.g;
                                clippedVerticesItems[s + 12] = light.b;
                                clippedVerticesItems[s + 13] = light.a;
                                clippedVerticesItems[s + 14] = u2;
                                clippedVerticesItems[s + 15] = v2;
                                clippedVerticesItems[s + 16] = x3;
                                clippedVerticesItems[s + 17] = y3;
                                clippedVerticesItems[s + 18] = light.r;
                                clippedVerticesItems[s + 19] = light.g;
                                clippedVerticesItems[s + 20] = light.b;
                                clippedVerticesItems[s + 21] = light.a;
                                clippedVerticesItems[s + 22] = u3;
                                clippedVerticesItems[s + 23] = v3;
                            }
                            else {
                                clippedVerticesItems[s + 6] = u1;
                                clippedVerticesItems[s + 7] = v1;
                                clippedVerticesItems[s + 8] = dark.r;
                                clippedVerticesItems[s + 9] = dark.g;
                                clippedVerticesItems[s + 10] = dark.b;
                                clippedVerticesItems[s + 11] = dark.a;
                                clippedVerticesItems[s + 12] = x2;
                                clippedVerticesItems[s + 13] = y2;
                                clippedVerticesItems[s + 14] = light.r;
                                clippedVerticesItems[s + 15] = light.g;
                                clippedVerticesItems[s + 16] = light.b;
                                clippedVerticesItems[s + 17] = light.a;
                                clippedVerticesItems[s + 18] = u2;
                                clippedVerticesItems[s + 19] = v2;
                                clippedVerticesItems[s + 20] = dark.r;
                                clippedVerticesItems[s + 21] = dark.g;
                                clippedVerticesItems[s + 22] = dark.b;
                                clippedVerticesItems[s + 23] = dark.a;
                                clippedVerticesItems[s + 24] = x3;
                                clippedVerticesItems[s + 25] = y3;
                                clippedVerticesItems[s + 26] = light.r;
                                clippedVerticesItems[s + 27] = light.g;
                                clippedVerticesItems[s + 28] = light.b;
                                clippedVerticesItems[s + 29] = light.a;
                                clippedVerticesItems[s + 30] = u3;
                                clippedVerticesItems[s + 31] = v3;
                                clippedVerticesItems[s + 32] = dark.r;
                                clippedVerticesItems[s + 33] = dark.g;
                                clippedVerticesItems[s + 34] = dark.b;
                                clippedVerticesItems[s + 35] = dark.a;
                            }
                            s = clippedTriangles.length;
                            var clippedTrianglesItems = core.Utils.setArraySize(clippedTriangles, s + 3);
                            clippedTrianglesItems[s] = index;
                            clippedTrianglesItems[s + 1] = (index + 1);
                            clippedTrianglesItems[s + 2] = (index + 2);
                            index += 3;
                            continue outer;
                        }
                    }
                }
            };
            SkeletonClipping.prototype.clip = function (x1, y1, x2, y2, x3, y3, clippingArea, output) {
                var originalOutput = output;
                var clipped = false;
                var input = null;
                if (clippingArea.length % 4 >= 2) {
                    input = output;
                    output = this.scratch;
                }
                else
                    input = this.scratch;
                input.length = 0;
                input.push(x1);
                input.push(y1);
                input.push(x2);
                input.push(y2);
                input.push(x3);
                input.push(y3);
                input.push(x1);
                input.push(y1);
                output.length = 0;
                var clippingVertices = clippingArea;
                var clippingVerticesLast = clippingArea.length - 4;
                for (var i = 0;; i += 2) {
                    var edgeX = clippingVertices[i], edgeY = clippingVertices[i + 1];
                    var edgeX2 = clippingVertices[i + 2], edgeY2 = clippingVertices[i + 3];
                    var deltaX = edgeX - edgeX2, deltaY = edgeY - edgeY2;
                    var inputVertices = input;
                    var inputVerticesLength = input.length - 2, outputStart = output.length;
                    for (var ii = 0; ii < inputVerticesLength; ii += 2) {
                        var inputX = inputVertices[ii], inputY = inputVertices[ii + 1];
                        var inputX2 = inputVertices[ii + 2], inputY2 = inputVertices[ii + 3];
                        var side2 = deltaX * (inputY2 - edgeY2) - deltaY * (inputX2 - edgeX2) > 0;
                        if (deltaX * (inputY - edgeY2) - deltaY * (inputX - edgeX2) > 0) {
                            if (side2) {
                                output.push(inputX2);
                                output.push(inputY2);
                                continue;
                            }
                            var c0 = inputY2 - inputY, c2 = inputX2 - inputX;
                            var ua = (c2 * (edgeY - inputY) - c0 * (edgeX - inputX)) / (c0 * (edgeX2 - edgeX) - c2 * (edgeY2 - edgeY));
                            output.push(edgeX + (edgeX2 - edgeX) * ua);
                            output.push(edgeY + (edgeY2 - edgeY) * ua);
                        }
                        else if (side2) {
                            var c0 = inputY2 - inputY, c2 = inputX2 - inputX;
                            var ua = (c2 * (edgeY - inputY) - c0 * (edgeX - inputX)) / (c0 * (edgeX2 - edgeX) - c2 * (edgeY2 - edgeY));
                            output.push(edgeX + (edgeX2 - edgeX) * ua);
                            output.push(edgeY + (edgeY2 - edgeY) * ua);
                            output.push(inputX2);
                            output.push(inputY2);
                        }
                        clipped = true;
                    }
                    if (outputStart == output.length) {
                        originalOutput.length = 0;
                        return true;
                    }
                    output.push(output[0]);
                    output.push(output[1]);
                    if (i == clippingVerticesLast)
                        break;
                    var temp = output;
                    output = input;
                    output.length = 0;
                    input = temp;
                }
                if (originalOutput != output) {
                    originalOutput.length = 0;
                    for (var i = 0, n = output.length - 2; i < n; i++)
                        originalOutput[i] = output[i];
                }
                else
                    originalOutput.length = originalOutput.length - 2;
                return clipped;
            };
            SkeletonClipping.makeClockwise = function (polygon) {
                var vertices = polygon;
                var verticeslength = polygon.length;
                var area = vertices[verticeslength - 2] * vertices[1] - vertices[0] * vertices[verticeslength - 1], p1x = 0, p1y = 0, p2x = 0, p2y = 0;
                for (var i = 0, n = verticeslength - 3; i < n; i += 2) {
                    p1x = vertices[i];
                    p1y = vertices[i + 1];
                    p2x = vertices[i + 2];
                    p2y = vertices[i + 3];
                    area += p1x * p2y - p2x * p1y;
                }
                if (area < 0)
                    return;
                for (var i = 0, lastX = verticeslength - 2, n = verticeslength >> 1; i < n; i += 2) {
                    var x = vertices[i], y = vertices[i + 1];
                    var other = lastX - i;
                    vertices[i] = vertices[other];
                    vertices[i + 1] = vertices[other + 1];
                    vertices[other] = x;
                    vertices[other + 1] = y;
                }
            };
            return SkeletonClipping;
        }());
        core.SkeletonClipping = SkeletonClipping;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var SkeletonData = (function () {
            function SkeletonData() {
                this.bones = new Array();
                this.slots = new Array();
                this.skins = new Array();
                this.events = new Array();
                this.animations = new Array();
                this.ikConstraints = new Array();
                this.transformConstraints = new Array();
                this.pathConstraints = new Array();
                this.fps = 0;
            }
            SkeletonData.prototype.findBone = function (boneName) {
                if (boneName == null)
                    throw new Error("boneName cannot be null.");
                var bones = this.bones;
                for (var i = 0, n = bones.length; i < n; i++) {
                    var bone = bones[i];
                    if (bone.name == boneName)
                        return bone;
                }
                return null;
            };
            SkeletonData.prototype.findBoneIndex = function (boneName) {
                if (boneName == null)
                    throw new Error("boneName cannot be null.");
                var bones = this.bones;
                for (var i = 0, n = bones.length; i < n; i++)
                    if (bones[i].name == boneName)
                        return i;
                return -1;
            };
            SkeletonData.prototype.findSlot = function (slotName) {
                if (slotName == null)
                    throw new Error("slotName cannot be null.");
                var slots = this.slots;
                for (var i = 0, n = slots.length; i < n; i++) {
                    var slot = slots[i];
                    if (slot.name == slotName)
                        return slot;
                }
                return null;
            };
            SkeletonData.prototype.findSlotIndex = function (slotName) {
                if (slotName == null)
                    throw new Error("slotName cannot be null.");
                var slots = this.slots;
                for (var i = 0, n = slots.length; i < n; i++)
                    if (slots[i].name == slotName)
                        return i;
                return -1;
            };
            SkeletonData.prototype.findSkin = function (skinName) {
                if (skinName == null)
                    throw new Error("skinName cannot be null.");
                var skins = this.skins;
                for (var i = 0, n = skins.length; i < n; i++) {
                    var skin = skins[i];
                    if (skin.name == skinName)
                        return skin;
                }
                return null;
            };
            SkeletonData.prototype.findEvent = function (eventDataName) {
                if (eventDataName == null)
                    throw new Error("eventDataName cannot be null.");
                var events = this.events;
                for (var i = 0, n = events.length; i < n; i++) {
                    var event_4 = events[i];
                    if (event_4.name == eventDataName)
                        return event_4;
                }
                return null;
            };
            SkeletonData.prototype.findAnimation = function (animationName) {
                if (animationName == null)
                    throw new Error("animationName cannot be null.");
                var animations = this.animations;
                for (var i = 0, n = animations.length; i < n; i++) {
                    var animation = animations[i];
                    if (animation.name == animationName)
                        return animation;
                }
                return null;
            };
            SkeletonData.prototype.findIkConstraint = function (constraintName) {
                if (constraintName == null)
                    throw new Error("constraintName cannot be null.");
                var ikConstraints = this.ikConstraints;
                for (var i = 0, n = ikConstraints.length; i < n; i++) {
                    var constraint = ikConstraints[i];
                    if (constraint.name == constraintName)
                        return constraint;
                }
                return null;
            };
            SkeletonData.prototype.findTransformConstraint = function (constraintName) {
                if (constraintName == null)
                    throw new Error("constraintName cannot be null.");
                var transformConstraints = this.transformConstraints;
                for (var i = 0, n = transformConstraints.length; i < n; i++) {
                    var constraint = transformConstraints[i];
                    if (constraint.name == constraintName)
                        return constraint;
                }
                return null;
            };
            SkeletonData.prototype.findPathConstraint = function (constraintName) {
                if (constraintName == null)
                    throw new Error("constraintName cannot be null.");
                var pathConstraints = this.pathConstraints;
                for (var i = 0, n = pathConstraints.length; i < n; i++) {
                    var constraint = pathConstraints[i];
                    if (constraint.name == constraintName)
                        return constraint;
                }
                return null;
            };
            SkeletonData.prototype.findPathConstraintIndex = function (pathConstraintName) {
                if (pathConstraintName == null)
                    throw new Error("pathConstraintName cannot be null.");
                var pathConstraints = this.pathConstraints;
                for (var i = 0, n = pathConstraints.length; i < n; i++)
                    if (pathConstraints[i].name == pathConstraintName)
                        return i;
                return -1;
            };
            return SkeletonData;
        }());
        core.SkeletonData = SkeletonData;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var SkeletonJson = (function () {
            function SkeletonJson(attachmentLoader) {
                this.scale = 1;
                this.linkedMeshes = new Array();
                this.attachmentLoader = attachmentLoader;
            }
            SkeletonJson.prototype.readSkeletonData = function (json) {
                var scale = this.scale;
                var skeletonData = new core.SkeletonData();
                var root = typeof (json) === "string" ? JSON.parse(json) : json;
                var skeletonMap = root.skeleton;
                if (skeletonMap != null) {
                    skeletonData.hash = skeletonMap.hash;
                    skeletonData.version = skeletonMap.spine;
                    skeletonData.width = skeletonMap.width;
                    skeletonData.height = skeletonMap.height;
                    skeletonData.fps = skeletonMap.fps;
                    skeletonData.imagesPath = skeletonMap.images;
                }
                if (root.bones) {
                    for (var i = 0; i < root.bones.length; i++) {
                        var boneMap = root.bones[i];
                        var parent_2 = null;
                        var parentName = this.getValue(boneMap, "parent", null);
                        if (parentName != null) {
                            parent_2 = skeletonData.findBone(parentName);
                            if (parent_2 == null)
                                throw new Error("Parent bone not found: " + parentName);
                        }
                        var data = new core.BoneData(skeletonData.bones.length, boneMap.name, parent_2);
                        data.length = this.getValue(boneMap, "length", 0) * scale;
                        data.x = this.getValue(boneMap, "x", 0) * scale;
                        data.y = this.getValue(boneMap, "y", 0) * scale;
                        data.rotation = this.getValue(boneMap, "rotation", 0);
                        data.scaleX = this.getValue(boneMap, "scaleX", 1);
                        data.scaleY = this.getValue(boneMap, "scaleY", 1);
                        data.shearX = this.getValue(boneMap, "shearX", 0);
                        data.shearY = this.getValue(boneMap, "shearY", 0);
                        data.transformMode = SkeletonJson.transformModeFromString(this.getValue(boneMap, "transform", "normal"));
                        skeletonData.bones.push(data);
                    }
                }
                if (root.slots) {
                    for (var i = 0; i < root.slots.length; i++) {
                        var slotMap = root.slots[i];
                        var slotName = slotMap.name;
                        var boneName = slotMap.bone;
                        var boneData = skeletonData.findBone(boneName);
                        if (boneData == null)
                            throw new Error("Slot bone not found: " + boneName);
                        var data = new core.SlotData(skeletonData.slots.length, slotName, boneData);
                        var color = this.getValue(slotMap, "color", null);
                        if (color != null)
                            data.color.setFromString(color);
                        var dark = this.getValue(slotMap, "dark", null);
                        if (dark != null) {
                            data.darkColor = new core.Color(1, 1, 1, 1);
                            data.darkColor.setFromString(dark);
                        }
                        data.attachmentName = this.getValue(slotMap, "attachment", null);
                        data.blendMode = SkeletonJson.blendModeFromString(this.getValue(slotMap, "blend", "normal"));
                        skeletonData.slots.push(data);
                    }
                }
                if (root.ik) {
                    for (var i = 0; i < root.ik.length; i++) {
                        var constraintMap = root.ik[i];
                        var data = new core.IkConstraintData(constraintMap.name);
                        data.order = this.getValue(constraintMap, "order", 0);
                        for (var j = 0; j < constraintMap.bones.length; j++) {
                            var boneName = constraintMap.bones[j];
                            var bone = skeletonData.findBone(boneName);
                            if (bone == null)
                                throw new Error("IK bone not found: " + boneName);
                            data.bones.push(bone);
                        }
                        var targetName = constraintMap.target;
                        data.target = skeletonData.findBone(targetName);
                        if (data.target == null)
                            throw new Error("IK target bone not found: " + targetName);
                        data.bendDirection = this.getValue(constraintMap, "bendPositive", true) ? 1 : -1;
                        data.mix = this.getValue(constraintMap, "mix", 1);
                        skeletonData.ikConstraints.push(data);
                    }
                }
                if (root.transform) {
                    for (var i = 0; i < root.transform.length; i++) {
                        var constraintMap = root.transform[i];
                        var data = new core.TransformConstraintData(constraintMap.name);
                        data.order = this.getValue(constraintMap, "order", 0);
                        for (var j = 0; j < constraintMap.bones.length; j++) {
                            var boneName = constraintMap.bones[j];
                            var bone = skeletonData.findBone(boneName);
                            if (bone == null)
                                throw new Error("Transform constraint bone not found: " + boneName);
                            data.bones.push(bone);
                        }
                        var targetName = constraintMap.target;
                        data.target = skeletonData.findBone(targetName);
                        if (data.target == null)
                            throw new Error("Transform constraint target bone not found: " + targetName);
                        data.local = this.getValue(constraintMap, "local", false);
                        data.relative = this.getValue(constraintMap, "relative", false);
                        data.offsetRotation = this.getValue(constraintMap, "rotation", 0);
                        data.offsetX = this.getValue(constraintMap, "x", 0) * scale;
                        data.offsetY = this.getValue(constraintMap, "y", 0) * scale;
                        data.offsetScaleX = this.getValue(constraintMap, "scaleX", 0);
                        data.offsetScaleY = this.getValue(constraintMap, "scaleY", 0);
                        data.offsetShearY = this.getValue(constraintMap, "shearY", 0);
                        data.rotateMix = this.getValue(constraintMap, "rotateMix", 1);
                        data.translateMix = this.getValue(constraintMap, "translateMix", 1);
                        data.scaleMix = this.getValue(constraintMap, "scaleMix", 1);
                        data.shearMix = this.getValue(constraintMap, "shearMix", 1);
                        skeletonData.transformConstraints.push(data);
                    }
                }
                if (root.path) {
                    for (var i = 0; i < root.path.length; i++) {
                        var constraintMap = root.path[i];
                        var data = new core.PathConstraintData(constraintMap.name);
                        data.order = this.getValue(constraintMap, "order", 0);
                        for (var j = 0; j < constraintMap.bones.length; j++) {
                            var boneName = constraintMap.bones[j];
                            var bone = skeletonData.findBone(boneName);
                            if (bone == null)
                                throw new Error("Transform constraint bone not found: " + boneName);
                            data.bones.push(bone);
                        }
                        var targetName = constraintMap.target;
                        data.target = skeletonData.findSlot(targetName);
                        if (data.target == null)
                            throw new Error("Path target slot not found: " + targetName);
                        data.positionMode = SkeletonJson.positionModeFromString(this.getValue(constraintMap, "positionMode", "percent"));
                        data.spacingMode = SkeletonJson.spacingModeFromString(this.getValue(constraintMap, "spacingMode", "length"));
                        data.rotateMode = SkeletonJson.rotateModeFromString(this.getValue(constraintMap, "rotateMode", "tangent"));
                        data.offsetRotation = this.getValue(constraintMap, "rotation", 0);
                        data.position = this.getValue(constraintMap, "position", 0);
                        if (data.positionMode == core.PositionMode.Fixed)
                            data.position *= scale;
                        data.spacing = this.getValue(constraintMap, "spacing", 0);
                        if (data.spacingMode == core.SpacingMode.Length || data.spacingMode == core.SpacingMode.Fixed)
                            data.spacing *= scale;
                        data.rotateMix = this.getValue(constraintMap, "rotateMix", 1);
                        data.translateMix = this.getValue(constraintMap, "translateMix", 1);
                        skeletonData.pathConstraints.push(data);
                    }
                }
                if (root.skins) {
                    for (var skinName in root.skins) {
                        var skinMap = root.skins[skinName];
                        var skin = new core.Skin(skinName);
                        for (var slotName in skinMap) {
                            var slotIndex = skeletonData.findSlotIndex(slotName);
                            if (slotIndex == -1)
                                throw new Error("Slot not found: " + slotName);
                            var slotMap = skinMap[slotName];
                            for (var entryName in slotMap) {
                                var attachment = this.readAttachment(slotMap[entryName], skin, slotIndex, entryName, skeletonData);
                                if (attachment != null)
                                    skin.addAttachment(slotIndex, entryName, attachment);
                            }
                        }
                        skeletonData.skins.push(skin);
                        if (skin.name == "default")
                            skeletonData.defaultSkin = skin;
                    }
                }
                for (var i = 0, n = this.linkedMeshes.length; i < n; i++) {
                    var linkedMesh = this.linkedMeshes[i];
                    var skin = linkedMesh.skin == null ? skeletonData.defaultSkin : skeletonData.findSkin(linkedMesh.skin);
                    if (skin == null)
                        throw new Error("Skin not found: " + linkedMesh.skin);
                    var parent_3 = skin.getAttachment(linkedMesh.slotIndex, linkedMesh.parent);
                    if (parent_3 == null)
                        throw new Error("Parent mesh not found: " + linkedMesh.parent);
                    linkedMesh.mesh.setParentMesh(parent_3);
                }
                this.linkedMeshes.length = 0;
                if (root.events) {
                    for (var eventName in root.events) {
                        var eventMap = root.events[eventName];
                        var data = new core.EventData(eventName);
                        data.intValue = this.getValue(eventMap, "int", 0);
                        data.floatValue = this.getValue(eventMap, "float", 0);
                        data.stringValue = this.getValue(eventMap, "string", "");
                        data.audio = this.getValue(eventMap, "audio", null);
                        skeletonData.events.push(data);
                    }
                }
                if (root.animations) {
                    for (var animationName in root.animations) {
                        var animationMap = root.animations[animationName];
                        this.readAnimation(animationMap, animationName, skeletonData);
                    }
                }
                return skeletonData;
            };
            SkeletonJson.prototype.readAttachment = function (map, skin, slotIndex, name, skeletonData) {
                var scale = this.scale;
                name = this.getValue(map, "name", name);
                var type = this.getValue(map, "type", "region");
                switch (type) {
                    case "region": {
                        var path = this.getValue(map, "path", name);
                        var region = this.attachmentLoader.newRegionAttachment(skin, name, path);
                        if (region == null)
                            return null;
                        region.path = path;
                        region.x = this.getValue(map, "x", 0) * scale;
                        region.y = this.getValue(map, "y", 0) * scale;
                        region.scaleX = this.getValue(map, "scaleX", 1);
                        region.scaleY = this.getValue(map, "scaleY", 1);
                        region.rotation = this.getValue(map, "rotation", 0);
                        region.width = map.width * scale;
                        region.height = map.height * scale;
                        var color = this.getValue(map, "color", null);
                        if (color != null)
                            region.color.setFromString(color);
                        return region;
                    }
                    case "boundingbox": {
                        var box = this.attachmentLoader.newBoundingBoxAttachment(skin, name);
                        if (box == null)
                            return null;
                        this.readVertices(map, box, map.vertexCount << 1);
                        var color = this.getValue(map, "color", null);
                        if (color != null)
                            box.color.setFromString(color);
                        return box;
                    }
                    case "mesh":
                    case "linkedmesh": {
                        var path = this.getValue(map, "path", name);
                        var mesh = this.attachmentLoader.newMeshAttachment(skin, name, path);
                        if (mesh == null)
                            return null;
                        mesh.path = path;
                        var color = this.getValue(map, "color", null);
                        if (color != null)
                            mesh.color.setFromString(color);
                        var parent_4 = this.getValue(map, "parent", null);
                        if (parent_4 != null) {
                            mesh.inheritDeform = this.getValue(map, "deform", true);
                            this.linkedMeshes.push(new LinkedMesh(mesh, this.getValue(map, "skin", null), slotIndex, parent_4));
                            return mesh;
                        }
                        var uvs = map.uvs;
                        this.readVertices(map, mesh, uvs.length);
                        mesh.triangles = map.triangles;
                        mesh.regionUVs = uvs;
                        mesh.hullLength = this.getValue(map, "hull", 0) * 2;
                        return mesh;
                    }
                    case "path": {
                        var path = this.attachmentLoader.newPathAttachment(skin, name);
                        if (path == null)
                            return null;
                        path.closed = this.getValue(map, "closed", false);
                        path.constantSpeed = this.getValue(map, "constantSpeed", true);
                        var vertexCount = map.vertexCount;
                        this.readVertices(map, path, vertexCount << 1);
                        var lengths = core.Utils.newArray(vertexCount / 3, 0);
                        for (var i = 0; i < map.lengths.length; i++)
                            lengths[i] = map.lengths[i] * scale;
                        path.lengths = lengths;
                        var color = this.getValue(map, "color", null);
                        if (color != null)
                            path.color.setFromString(color);
                        return path;
                    }
                    case "point": {
                        var point = this.attachmentLoader.newPointAttachment(skin, name);
                        if (point == null)
                            return null;
                        point.x = this.getValue(map, "x", 0) * scale;
                        point.y = this.getValue(map, "y", 0) * scale;
                        point.rotation = this.getValue(map, "rotation", 0);
                        var color = this.getValue(map, "color", null);
                        if (color != null)
                            point.color.setFromString(color);
                        return point;
                    }
                    case "clipping": {
                        var clip = this.attachmentLoader.newClippingAttachment(skin, name);
                        if (clip == null)
                            return null;
                        var end = this.getValue(map, "end", null);
                        if (end != null) {
                            var slot = skeletonData.findSlot(end);
                            if (slot == null)
                                throw new Error("Clipping end slot not found: " + end);
                            clip.endSlot = slot;
                        }
                        var vertexCount = map.vertexCount;
                        this.readVertices(map, clip, vertexCount << 1);
                        var color = this.getValue(map, "color", null);
                        if (color != null)
                            clip.color.setFromString(color);
                        return clip;
                    }
                }
                return null;
            };
            SkeletonJson.prototype.readVertices = function (map, attachment, verticesLength) {
                var scale = this.scale;
                attachment.worldVerticesLength = verticesLength;
                var vertices = map.vertices;
                if (verticesLength == vertices.length) {
                    var scaledVertices = core.Utils.toFloatArray(vertices);
                    if (scale != 1) {
                        for (var i = 0, n = vertices.length; i < n; i++)
                            scaledVertices[i] *= scale;
                    }
                    attachment.vertices = scaledVertices;
                    return;
                }
                var weights = new Array();
                var bones = new Array();
                for (var i = 0, n = vertices.length; i < n;) {
                    var boneCount = vertices[i++];
                    bones.push(boneCount);
                    for (var nn = i + boneCount * 4; i < nn; i += 4) {
                        bones.push(vertices[i]);
                        weights.push(vertices[i + 1] * scale);
                        weights.push(vertices[i + 2] * scale);
                        weights.push(vertices[i + 3]);
                    }
                }
                attachment.bones = bones;
                attachment.vertices = core.Utils.toFloatArray(weights);
            };
            SkeletonJson.prototype.readAnimation = function (map, name, skeletonData) {
                var scale = this.scale;
                var timelines = new Array();
                var duration = 0;
                if (map.slots) {
                    for (var slotName in map.slots) {
                        var slotMap = map.slots[slotName];
                        var slotIndex = skeletonData.findSlotIndex(slotName);
                        if (slotIndex == -1)
                            throw new Error("Slot not found: " + slotName);
                        for (var timelineName in slotMap) {
                            var timelineMap = slotMap[timelineName];
                            if (timelineName == "attachment") {
                                var timeline = new core.AttachmentTimeline(timelineMap.length);
                                timeline.slotIndex = slotIndex;
                                var frameIndex = 0;
                                for (var i = 0; i < timelineMap.length; i++) {
                                    var valueMap = timelineMap[i];
                                    timeline.setFrame(frameIndex++, valueMap.time, valueMap.name);
                                }
                                timelines.push(timeline);
                                duration = Math.max(duration, timeline.frames[timeline.getFrameCount() - 1]);
                            }
                            else if (timelineName == "color") {
                                var timeline = new core.ColorTimeline(timelineMap.length);
                                timeline.slotIndex = slotIndex;
                                var frameIndex = 0;
                                for (var i = 0; i < timelineMap.length; i++) {
                                    var valueMap = timelineMap[i];
                                    var color = new core.Color();
                                    color.setFromString(valueMap.color || "ffffffff");
                                    timeline.setFrame(frameIndex, valueMap.time, color.r, color.g, color.b, color.a);
                                    this.readCurve(valueMap, timeline, frameIndex);
                                    frameIndex++;
                                }
                                timelines.push(timeline);
                                duration = Math.max(duration, timeline.frames[(timeline.getFrameCount() - 1) * core.ColorTimeline.ENTRIES]);
                            }
                            else if (timelineName == "twoColor") {
                                var timeline = new core.TwoColorTimeline(timelineMap.length);
                                timeline.slotIndex = slotIndex;
                                var frameIndex = 0;
                                for (var i = 0; i < timelineMap.length; i++) {
                                    var valueMap = timelineMap[i];
                                    var light = new core.Color();
                                    var dark = new core.Color();
                                    light.setFromString(valueMap.light);
                                    dark.setFromString(valueMap.dark);
                                    timeline.setFrame(frameIndex, valueMap.time, light.r, light.g, light.b, light.a, dark.r, dark.g, dark.b);
                                    this.readCurve(valueMap, timeline, frameIndex);
                                    frameIndex++;
                                }
                                timelines.push(timeline);
                                duration = Math.max(duration, timeline.frames[(timeline.getFrameCount() - 1) * core.TwoColorTimeline.ENTRIES]);
                            }
                            else
                                throw new Error("Invalid timeline type for a slot: " + timelineName + " (" + slotName + ")");
                        }
                    }
                }
                if (map.bones) {
                    for (var boneName in map.bones) {
                        var boneMap = map.bones[boneName];
                        var boneIndex = skeletonData.findBoneIndex(boneName);
                        if (boneIndex == -1)
                            throw new Error("Bone not found: " + boneName);
                        for (var timelineName in boneMap) {
                            var timelineMap = boneMap[timelineName];
                            if (timelineName === "rotate") {
                                var timeline = new core.RotateTimeline(timelineMap.length);
                                timeline.boneIndex = boneIndex;
                                var frameIndex = 0;
                                for (var i = 0; i < timelineMap.length; i++) {
                                    var valueMap = timelineMap[i];
                                    timeline.setFrame(frameIndex, valueMap.time, valueMap.angle);
                                    this.readCurve(valueMap, timeline, frameIndex);
                                    frameIndex++;
                                }
                                timelines.push(timeline);
                                duration = Math.max(duration, timeline.frames[(timeline.getFrameCount() - 1) * core.RotateTimeline.ENTRIES]);
                            }
                            else if (timelineName === "translate" || timelineName === "scale" || timelineName === "shear") {
                                var timeline = null;
                                var timelineScale = 1;
                                if (timelineName === "scale")
                                    timeline = new core.ScaleTimeline(timelineMap.length);
                                else if (timelineName === "shear")
                                    timeline = new core.ShearTimeline(timelineMap.length);
                                else {
                                    timeline = new core.TranslateTimeline(timelineMap.length);
                                    timelineScale = scale;
                                }
                                timeline.boneIndex = boneIndex;
                                var frameIndex = 0;
                                for (var i = 0; i < timelineMap.length; i++) {
                                    var valueMap = timelineMap[i];
                                    var x = this.getValue(valueMap, "x", 0), y = this.getValue(valueMap, "y", 0);
                                    timeline.setFrame(frameIndex, valueMap.time, x * timelineScale, y * timelineScale);
                                    this.readCurve(valueMap, timeline, frameIndex);
                                    frameIndex++;
                                }
                                timelines.push(timeline);
                                duration = Math.max(duration, timeline.frames[(timeline.getFrameCount() - 1) * core.TranslateTimeline.ENTRIES]);
                            }
                            else
                                throw new Error("Invalid timeline type for a bone: " + timelineName + " (" + boneName + ")");
                        }
                    }
                }
                if (map.ik) {
                    for (var constraintName in map.ik) {
                        var constraintMap = map.ik[constraintName];
                        var constraint = skeletonData.findIkConstraint(constraintName);
                        var timeline = new core.IkConstraintTimeline(constraintMap.length);
                        timeline.ikConstraintIndex = skeletonData.ikConstraints.indexOf(constraint);
                        var frameIndex = 0;
                        for (var i = 0; i < constraintMap.length; i++) {
                            var valueMap = constraintMap[i];
                            timeline.setFrame(frameIndex, valueMap.time, this.getValue(valueMap, "mix", 1), this.getValue(valueMap, "bendPositive", true) ? 1 : -1);
                            this.readCurve(valueMap, timeline, frameIndex);
                            frameIndex++;
                        }
                        timelines.push(timeline);
                        duration = Math.max(duration, timeline.frames[(timeline.getFrameCount() - 1) * core.IkConstraintTimeline.ENTRIES]);
                    }
                }
                if (map.transform) {
                    for (var constraintName in map.transform) {
                        var constraintMap = map.transform[constraintName];
                        var constraint = skeletonData.findTransformConstraint(constraintName);
                        var timeline = new core.TransformConstraintTimeline(constraintMap.length);
                        timeline.transformConstraintIndex = skeletonData.transformConstraints.indexOf(constraint);
                        var frameIndex = 0;
                        for (var i = 0; i < constraintMap.length; i++) {
                            var valueMap = constraintMap[i];
                            timeline.setFrame(frameIndex, valueMap.time, this.getValue(valueMap, "rotateMix", 1), this.getValue(valueMap, "translateMix", 1), this.getValue(valueMap, "scaleMix", 1), this.getValue(valueMap, "shearMix", 1));
                            this.readCurve(valueMap, timeline, frameIndex);
                            frameIndex++;
                        }
                        timelines.push(timeline);
                        duration = Math.max(duration, timeline.frames[(timeline.getFrameCount() - 1) * core.TransformConstraintTimeline.ENTRIES]);
                    }
                }
                if (map.paths) {
                    for (var constraintName in map.paths) {
                        var constraintMap = map.paths[constraintName];
                        var index = skeletonData.findPathConstraintIndex(constraintName);
                        if (index == -1)
                            throw new Error("Path constraint not found: " + constraintName);
                        var data = skeletonData.pathConstraints[index];
                        for (var timelineName in constraintMap) {
                            var timelineMap = constraintMap[timelineName];
                            if (timelineName === "position" || timelineName === "spacing") {
                                var timeline = null;
                                var timelineScale = 1;
                                if (timelineName === "spacing") {
                                    timeline = new core.PathConstraintSpacingTimeline(timelineMap.length);
                                    if (data.spacingMode == core.SpacingMode.Length || data.spacingMode == core.SpacingMode.Fixed)
                                        timelineScale = scale;
                                }
                                else {
                                    timeline = new core.PathConstraintPositionTimeline(timelineMap.length);
                                    if (data.positionMode == core.PositionMode.Fixed)
                                        timelineScale = scale;
                                }
                                timeline.pathConstraintIndex = index;
                                var frameIndex = 0;
                                for (var i = 0; i < timelineMap.length; i++) {
                                    var valueMap = timelineMap[i];
                                    timeline.setFrame(frameIndex, valueMap.time, this.getValue(valueMap, timelineName, 0) * timelineScale);
                                    this.readCurve(valueMap, timeline, frameIndex);
                                    frameIndex++;
                                }
                                timelines.push(timeline);
                                duration = Math.max(duration, timeline.frames[(timeline.getFrameCount() - 1) * core.PathConstraintPositionTimeline.ENTRIES]);
                            }
                            else if (timelineName === "mix") {
                                var timeline = new core.PathConstraintMixTimeline(timelineMap.length);
                                timeline.pathConstraintIndex = index;
                                var frameIndex = 0;
                                for (var i = 0; i < timelineMap.length; i++) {
                                    var valueMap = timelineMap[i];
                                    timeline.setFrame(frameIndex, valueMap.time, this.getValue(valueMap, "rotateMix", 1), this.getValue(valueMap, "translateMix", 1));
                                    this.readCurve(valueMap, timeline, frameIndex);
                                    frameIndex++;
                                }
                                timelines.push(timeline);
                                duration = Math.max(duration, timeline.frames[(timeline.getFrameCount() - 1) * core.PathConstraintMixTimeline.ENTRIES]);
                            }
                        }
                    }
                }
                if (map.deform) {
                    for (var deformName in map.deform) {
                        var deformMap = map.deform[deformName];
                        var skin = skeletonData.findSkin(deformName);
                        if (skin == null)
                            throw new Error("Skin not found: " + deformName);
                        for (var slotName in deformMap) {
                            var slotMap = deformMap[slotName];
                            var slotIndex = skeletonData.findSlotIndex(slotName);
                            if (slotIndex == -1)
                                throw new Error("Slot not found: " + slotMap.name);
                            for (var timelineName in slotMap) {
                                var timelineMap = slotMap[timelineName];
                                var attachment = skin.getAttachment(slotIndex, timelineName);
                                if (attachment == null)
                                    throw new Error("Deform attachment not found: " + timelineMap.name);
                                var weighted = attachment.bones != null;
                                var vertices = attachment.vertices;
                                var deformLength = weighted ? vertices.length / 3 * 2 : vertices.length;
                                var timeline = new core.DeformTimeline(timelineMap.length);
                                timeline.slotIndex = slotIndex;
                                timeline.attachment = attachment;
                                var frameIndex = 0;
                                for (var j = 0; j < timelineMap.length; j++) {
                                    var valueMap = timelineMap[j];
                                    var deform = void 0;
                                    var verticesValue = this.getValue(valueMap, "vertices", null);
                                    if (verticesValue == null)
                                        deform = weighted ? core.Utils.newFloatArray(deformLength) : vertices;
                                    else {
                                        deform = core.Utils.newFloatArray(deformLength);
                                        var start = this.getValue(valueMap, "offset", 0);
                                        core.Utils.arrayCopy(verticesValue, 0, deform, start, verticesValue.length);
                                        if (scale != 1) {
                                            for (var i = start, n = i + verticesValue.length; i < n; i++)
                                                deform[i] *= scale;
                                        }
                                        if (!weighted) {
                                            for (var i = 0; i < deformLength; i++)
                                                deform[i] += vertices[i];
                                        }
                                    }
                                    timeline.setFrame(frameIndex, valueMap.time, deform);
                                    this.readCurve(valueMap, timeline, frameIndex);
                                    frameIndex++;
                                }
                                timelines.push(timeline);
                                duration = Math.max(duration, timeline.frames[timeline.getFrameCount() - 1]);
                            }
                        }
                    }
                }
                var drawOrderNode = map.drawOrder;
                if (drawOrderNode == null)
                    drawOrderNode = map.draworder;
                if (drawOrderNode != null) {
                    var timeline = new core.DrawOrderTimeline(drawOrderNode.length);
                    var slotCount = skeletonData.slots.length;
                    var frameIndex = 0;
                    for (var j = 0; j < drawOrderNode.length; j++) {
                        var drawOrderMap = drawOrderNode[j];
                        var drawOrder = null;
                        var offsets = this.getValue(drawOrderMap, "offsets", null);
                        if (offsets != null) {
                            drawOrder = core.Utils.newArray(slotCount, -1);
                            var unchanged = core.Utils.newArray(slotCount - offsets.length, 0);
                            var originalIndex = 0, unchangedIndex = 0;
                            for (var i = 0; i < offsets.length; i++) {
                                var offsetMap = offsets[i];
                                var slotIndex = skeletonData.findSlotIndex(offsetMap.slot);
                                if (slotIndex == -1)
                                    throw new Error("Slot not found: " + offsetMap.slot);
                                while (originalIndex != slotIndex)
                                    unchanged[unchangedIndex++] = originalIndex++;
                                drawOrder[originalIndex + offsetMap.offset] = originalIndex++;
                            }
                            while (originalIndex < slotCount)
                                unchanged[unchangedIndex++] = originalIndex++;
                            for (var i = slotCount - 1; i >= 0; i--)
                                if (drawOrder[i] == -1)
                                    drawOrder[i] = unchanged[--unchangedIndex];
                        }
                        timeline.setFrame(frameIndex++, drawOrderMap.time, drawOrder);
                    }
                    timelines.push(timeline);
                    duration = Math.max(duration, timeline.frames[timeline.getFrameCount() - 1]);
                }
                if (map.events) {
                    var timeline = new core.EventTimeline(map.events.length);
                    var frameIndex = 0;
                    for (var i = 0; i < map.events.length; i++) {
                        var eventMap = map.events[i];
                        var eventData = skeletonData.findEvent(eventMap.name);
                        if (eventData == null)
                            throw new Error("Event not found: " + eventMap.name);
                        var event_5 = new core.Event(core.Utils.toSinglePrecision(eventMap.time), eventData);
                        event_5.intValue = this.getValue(eventMap, "int", eventData.intValue);
                        event_5.floatValue = this.getValue(eventMap, "float", eventData.floatValue);
                        event_5.stringValue = this.getValue(eventMap, "string", eventData.stringValue);
                        timeline.setFrame(frameIndex++, event_5);
                    }
                    timelines.push(timeline);
                    duration = Math.max(duration, timeline.frames[timeline.getFrameCount() - 1]);
                }
                if (isNaN(duration)) {
                    throw new Error("Error while parsing animation, duration is NaN");
                }
                skeletonData.animations.push(new core.Animation(name, timelines, duration));
            };
            SkeletonJson.prototype.readCurve = function (map, timeline, frameIndex) {
                if (!map.curve)
                    return;
                if (map.curve === "stepped")
                    timeline.setStepped(frameIndex);
                else if (Object.prototype.toString.call(map.curve) === '[object Array]') {
                    var curve = map.curve;
                    timeline.setCurve(frameIndex, curve[0], curve[1], curve[2], curve[3]);
                }
            };
            SkeletonJson.prototype.getValue = function (map, prop, defaultValue) {
                return map[prop] !== undefined ? map[prop] : defaultValue;
            };
            SkeletonJson.blendModeFromString = function (str) {
                str = str.toLowerCase();
                if (str == "normal")
                    return core.BlendMode.Normal;
                if (str == "additive")
                    return core.BlendMode.Additive;
                if (str == "multiply")
                    return core.BlendMode.Multiply;
                if (str == "screen")
                    return core.BlendMode.Screen;
                throw new Error("Unknown blend mode: " + str);
            };
            SkeletonJson.positionModeFromString = function (str) {
                str = str.toLowerCase();
                if (str == "fixed")
                    return core.PositionMode.Fixed;
                if (str == "percent")
                    return core.PositionMode.Percent;
                throw new Error("Unknown position mode: " + str);
            };
            SkeletonJson.spacingModeFromString = function (str) {
                str = str.toLowerCase();
                if (str == "length")
                    return core.SpacingMode.Length;
                if (str == "fixed")
                    return core.SpacingMode.Fixed;
                if (str == "percent")
                    return core.SpacingMode.Percent;
                throw new Error("Unknown position mode: " + str);
            };
            SkeletonJson.rotateModeFromString = function (str) {
                str = str.toLowerCase();
                if (str == "tangent")
                    return core.RotateMode.Tangent;
                if (str == "chain")
                    return core.RotateMode.Chain;
                if (str == "chainscale")
                    return core.RotateMode.ChainScale;
                throw new Error("Unknown rotate mode: " + str);
            };
            SkeletonJson.transformModeFromString = function (str) {
                str = str.toLowerCase();
                if (str == "normal")
                    return core.TransformMode.Normal;
                if (str == "onlytranslation")
                    return core.TransformMode.OnlyTranslation;
                if (str == "norotationorreflection")
                    return core.TransformMode.NoRotationOrReflection;
                if (str == "noscale")
                    return core.TransformMode.NoScale;
                if (str == "noscaleorreflection")
                    return core.TransformMode.NoScaleOrReflection;
                throw new Error("Unknown transform mode: " + str);
            };
            return SkeletonJson;
        }());
        core.SkeletonJson = SkeletonJson;
        var LinkedMesh = (function () {
            function LinkedMesh(mesh, skin, slotIndex, parent) {
                this.mesh = mesh;
                this.skin = skin;
                this.slotIndex = slotIndex;
                this.parent = parent;
            }
            return LinkedMesh;
        }());
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var Skin = (function () {
            function Skin(name) {
                this.attachments = new Array();
                if (name == null)
                    throw new Error("name cannot be null.");
                this.name = name;
            }
            Skin.prototype.addAttachment = function (slotIndex, name, attachment) {
                if (attachment == null)
                    throw new Error("attachment cannot be null.");
                var attachments = this.attachments;
                if (slotIndex >= attachments.length)
                    attachments.length = slotIndex + 1;
                if (!attachments[slotIndex])
                    attachments[slotIndex] = {};
                attachments[slotIndex][name] = attachment;
            };
            Skin.prototype.getAttachment = function (slotIndex, name) {
                var dictionary = this.attachments[slotIndex];
                return dictionary ? dictionary[name] : null;
            };
            Skin.prototype.attachAll = function (skeleton, oldSkin) {
                var slotIndex = 0;
                for (var i = 0; i < skeleton.slots.length; i++) {
                    var slot = skeleton.slots[i];
                    var slotAttachment = slot.getAttachment();
                    if (slotAttachment && slotIndex < oldSkin.attachments.length) {
                        var dictionary = oldSkin.attachments[slotIndex];
                        for (var key in dictionary) {
                            var skinAttachment = dictionary[key];
                            if (slotAttachment == skinAttachment) {
                                var attachment = this.getAttachment(slotIndex, name);
                                if (attachment != null)
                                    slot.setAttachment(attachment);
                                break;
                            }
                        }
                    }
                    slotIndex++;
                }
            };
            return Skin;
        }());
        core.Skin = Skin;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var Slot = (function () {
            function Slot(data, bone) {
                this.attachmentVertices = new Array();
                if (data == null)
                    throw new Error("data cannot be null.");
                if (bone == null)
                    throw new Error("bone cannot be null.");
                this.data = data;
                this.bone = bone;
                this.color = new core.Color();
                this.darkColor = data.darkColor == null ? null : new core.Color();
                this.setToSetupPose();
                this.blendMode = this.data.blendMode;
            }
            Slot.prototype.getAttachment = function () {
                return this.attachment;
            };
            Slot.prototype.setAttachment = function (attachment) {
                if (this.attachment == attachment)
                    return;
                this.attachment = attachment;
                this.attachmentTime = this.bone.skeleton.time;
                this.attachmentVertices.length = 0;
            };
            Slot.prototype.setAttachmentTime = function (time) {
                this.attachmentTime = this.bone.skeleton.time - time;
            };
            Slot.prototype.getAttachmentTime = function () {
                return this.bone.skeleton.time - this.attachmentTime;
            };
            Slot.prototype.setToSetupPose = function () {
                this.color.setFromColor(this.data.color);
                if (this.darkColor != null)
                    this.darkColor.setFromColor(this.data.darkColor);
                if (this.data.attachmentName == null)
                    this.attachment = null;
                else {
                    this.attachment = null;
                    this.setAttachment(this.bone.skeleton.getAttachment(this.data.index, this.data.attachmentName));
                }
            };
            return Slot;
        }());
        core.Slot = Slot;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var SlotData = (function () {
            function SlotData(index, name, boneData) {
                this.color = new core.Color(1, 1, 1, 1);
                if (index < 0)
                    throw new Error("index must be >= 0.");
                if (name == null)
                    throw new Error("name cannot be null.");
                if (boneData == null)
                    throw new Error("boneData cannot be null.");
                this.index = index;
                this.name = name;
                this.boneData = boneData;
            }
            return SlotData;
        }());
        core.SlotData = SlotData;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var Texture = (function () {
            function Texture(image) {
                this._image = image;
            }
            Texture.prototype.getImage = function () {
                return this._image;
            };
            Texture.filterFromString = function (text) {
                switch (text.toLowerCase()) {
                    case "nearest": return TextureFilter.Nearest;
                    case "linear": return TextureFilter.Linear;
                    case "mipmap": return TextureFilter.MipMap;
                    case "mipmapnearestnearest": return TextureFilter.MipMapNearestNearest;
                    case "mipmaplinearnearest": return TextureFilter.MipMapLinearNearest;
                    case "mipmapnearestlinear": return TextureFilter.MipMapNearestLinear;
                    case "mipmaplinearlinear": return TextureFilter.MipMapLinearLinear;
                    default: throw new Error("Unknown texture filter " + text);
                }
            };
            Texture.wrapFromString = function (text) {
                switch (text.toLowerCase()) {
                    case "mirroredtepeat": return TextureWrap.MirroredRepeat;
                    case "clamptoedge": return TextureWrap.ClampToEdge;
                    case "repeat": return TextureWrap.Repeat;
                    default: throw new Error("Unknown texture wrap " + text);
                }
            };
            return Texture;
        }());
        core.Texture = Texture;
        var TextureFilter;
        (function (TextureFilter) {
            TextureFilter[TextureFilter["Nearest"] = 9728] = "Nearest";
            TextureFilter[TextureFilter["Linear"] = 9729] = "Linear";
            TextureFilter[TextureFilter["MipMap"] = 9987] = "MipMap";
            TextureFilter[TextureFilter["MipMapNearestNearest"] = 9984] = "MipMapNearestNearest";
            TextureFilter[TextureFilter["MipMapLinearNearest"] = 9985] = "MipMapLinearNearest";
            TextureFilter[TextureFilter["MipMapNearestLinear"] = 9986] = "MipMapNearestLinear";
            TextureFilter[TextureFilter["MipMapLinearLinear"] = 9987] = "MipMapLinearLinear";
        })(TextureFilter = core.TextureFilter || (core.TextureFilter = {}));
        var TextureWrap;
        (function (TextureWrap) {
            TextureWrap[TextureWrap["MirroredRepeat"] = 33648] = "MirroredRepeat";
            TextureWrap[TextureWrap["ClampToEdge"] = 33071] = "ClampToEdge";
            TextureWrap[TextureWrap["Repeat"] = 10497] = "Repeat";
        })(TextureWrap = core.TextureWrap || (core.TextureWrap = {}));
        var TextureRegion = (function () {
            function TextureRegion() {
                this.size = null;
            }
            Object.defineProperty(TextureRegion.prototype, "width", {
                get: function () {
                    var tex = this.texture;
                    if (PIXI.VERSION[0] == '3') {
                        return tex.crop.width;
                    }
                    if (tex.trim) {
                        return tex.trim.width;
                    }
                    return tex.orig.width;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "height", {
                get: function () {
                    var tex = this.texture;
                    if (PIXI.VERSION[0] == '3') {
                        return tex.crop.height;
                    }
                    if (tex.trim) {
                        return tex.trim.height;
                    }
                    return tex.orig.height;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "u", {
                get: function () {
                    return this.texture._uvs.x0;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "v", {
                get: function () {
                    return this.texture._uvs.y0;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "u2", {
                get: function () {
                    return this.texture._uvs.x2;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "v2", {
                get: function () {
                    return this.texture._uvs.y2;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "offsetX", {
                get: function () {
                    var tex = this.texture;
                    return tex.trim ? tex.trim.x : 0;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "offsetY", {
                get: function () {
                    console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on.");
                    return this.spineOffsetY;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "pixiOffsetY", {
                get: function () {
                    var tex = this.texture;
                    return tex.trim ? tex.trim.y : 0;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "spineOffsetY", {
                get: function () {
                    var tex = this.texture;
                    return this.originalHeight - this.height - (tex.trim ? tex.trim.y : 0);
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "originalWidth", {
                get: function () {
                    var tex = this.texture;
                    if (PIXI.VERSION[0] == '3') {
                        if (tex.trim) {
                            return tex.trim.width;
                        }
                        return tex.crop.width;
                    }
                    return tex.orig.width;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "originalHeight", {
                get: function () {
                    var tex = this.texture;
                    if (PIXI.VERSION[0] == '3') {
                        if (tex.trim) {
                            return tex.trim.height;
                        }
                        return tex.crop.height;
                    }
                    return tex.orig.height;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "x", {
                get: function () {
                    return this.texture.frame.x;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "y", {
                get: function () {
                    return this.texture.frame.y;
                },
                enumerable: true,
                configurable: true
            });
            Object.defineProperty(TextureRegion.prototype, "rotate", {
                get: function () {
                    return this.texture.rotate !== 0;
                },
                enumerable: true,
                configurable: true
            });
            return TextureRegion;
        }());
        core.TextureRegion = TextureRegion;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var TextureAtlas = (function () {
            function TextureAtlas(atlasText, textureLoader, callback) {
                this.pages = new Array();
                this.regions = new Array();
                if (atlasText) {
                    this.addSpineAtlas(atlasText, textureLoader, callback);
                }
            }
            TextureAtlas.prototype.addTexture = function (name, texture) {
                var pages = this.pages;
                var page = null;
                for (var i = 0; i < pages.length; i++) {
                    if (pages[i].baseTexture === texture.baseTexture) {
                        page = pages[i];
                        break;
                    }
                }
                if (page === null) {
                    page = new TextureAtlasPage();
                    page.name = 'texturePage';
                    var baseTexture = texture.baseTexture;
                    page.width = baseTexture.realWidth;
                    page.height = baseTexture.realHeight;
                    page.baseTexture = baseTexture;
                    page.minFilter = page.magFilter = core.TextureFilter.Nearest;
                    page.uWrap = core.TextureWrap.ClampToEdge;
                    page.vWrap = core.TextureWrap.ClampToEdge;
                    pages.push(page);
                }
                var region = new TextureAtlasRegion();
                region.name = name;
                region.page = page;
                region.texture = texture;
                region.index = -1;
                this.regions.push(region);
                return region;
            };
            TextureAtlas.prototype.addTextureHash = function (textures, stripExtension) {
                for (var key in textures) {
                    if (textures.hasOwnProperty(key)) {
                        this.addTexture(stripExtension && key.indexOf('.') !== -1 ? key.substr(0, key.lastIndexOf('.')) : key, textures[key]);
                    }
                }
            };
            TextureAtlas.prototype.addSpineAtlas = function (atlasText, textureLoader, callback) {
                return this.load(atlasText, textureLoader, callback);
            };
            TextureAtlas.prototype.load = function (atlasText, textureLoader, callback) {
                var _this = this;
                if (textureLoader == null)
                    throw new Error("textureLoader cannot be null.");
                var reader = new TextureAtlasReader(atlasText);
                var tuple = new Array(4);
                var page = null;
                var iterateParser = function () {
                    while (true) {
                        var line = reader.readLine();
                        if (line == null) {
                            return callback && callback(_this);
                        }
                        line = line.trim();
                        if (line.length == 0)
                            page = null;
                        else if (!page) {
                            page = new TextureAtlasPage();
                            page.name = line;
                            if (reader.readTuple(tuple) == 2) {
                                page.width = parseInt(tuple[0]);
                                page.height = parseInt(tuple[1]);
                                reader.readTuple(tuple);
                            }
                            reader.readTuple(tuple);
                            page.minFilter = core.Texture.filterFromString(tuple[0]);
                            page.magFilter = core.Texture.filterFromString(tuple[1]);
                            var direction = reader.readValue();
                            page.uWrap = core.TextureWrap.ClampToEdge;
                            page.vWrap = core.TextureWrap.ClampToEdge;
                            if (direction == "x")
                                page.uWrap = core.TextureWrap.Repeat;
                            else if (direction == "y")
                                page.vWrap = core.TextureWrap.Repeat;
                            else if (direction == "xy")
                                page.uWrap = page.vWrap = core.TextureWrap.Repeat;
                            textureLoader(line, function (texture) {
                                page.baseTexture = texture;
                                if (!texture.hasLoaded) {
                                    texture.width = page.width;
                                    texture.height = page.height;
                                }
                                _this.pages.push(page);
                                page.setFilters();
                                if (!page.width || !page.height) {
                                    page.width = texture.realWidth;
                                    page.height = texture.realHeight;
                                    if (!page.width || !page.height) {
                                        console.log("ERROR spine atlas page " + page.name + ": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)");
                                    }
                                }
                                iterateParser();
                            });
                            _this.pages.push(page);
                            break;
                        }
                        else {
                            var region = new TextureAtlasRegion();
                            region.name = line;
                            region.page = page;
                            var rotate = reader.readValue() == "true" ? 6 : 0;
                            reader.readTuple(tuple);
                            var x = parseInt(tuple[0]);
                            var y = parseInt(tuple[1]);
                            reader.readTuple(tuple);
                            var width = parseInt(tuple[0]);
                            var height = parseInt(tuple[1]);
                            var resolution = page.baseTexture.resolution;
                            x /= resolution;
                            y /= resolution;
                            width /= resolution;
                            height /= resolution;
                            var frame = new PIXI.Rectangle(x, y, rotate ? height : width, rotate ? width : height);
                            if (reader.readTuple(tuple) == 4) {
                                if (reader.readTuple(tuple) == 4) {
                                    reader.readTuple(tuple);
                                }
                            }
                            var originalWidth = parseInt(tuple[0]) / resolution;
                            var originalHeight = parseInt(tuple[1]) / resolution;
                            reader.readTuple(tuple);
                            var offsetX = parseInt(tuple[0]) / resolution;
                            var offsetY = parseInt(tuple[1]) / resolution;
                            var orig = new PIXI.Rectangle(0, 0, originalWidth, originalHeight);
                            var trim = new PIXI.Rectangle(offsetX, originalHeight - height - offsetY, width, height);
                            if (PIXI.VERSION[0] != '3') {
                                region.texture = new PIXI.Texture(region.page.baseTexture, frame, orig, trim, rotate);
                            }
                            else {
                                var frame2 = new PIXI.Rectangle(x, y, width, height);
                                var crop = frame2.clone();
                                trim.width = originalWidth;
                                trim.height = originalHeight;
                                region.texture = new PIXI.Texture(region.page.baseTexture, frame2, crop, trim, rotate);
                            }
                            region.index = parseInt(reader.readValue());
                            region.texture._updateUvs();
                            _this.regions.push(region);
                        }
                    }
                };
                iterateParser();
            };
            TextureAtlas.prototype.findRegion = function (name) {
                for (var i = 0; i < this.regions.length; i++) {
                    if (this.regions[i].name == name) {
                        return this.regions[i];
                    }
                }
                return null;
            };
            TextureAtlas.prototype.dispose = function () {
                for (var i = 0; i < this.pages.length; i++) {
                    this.pages[i].baseTexture.dispose();
                }
            };
            return TextureAtlas;
        }());
        core.TextureAtlas = TextureAtlas;
        var TextureAtlasReader = (function () {
            function TextureAtlasReader(text) {
                this.index = 0;
                this.lines = text.split(/\r\n|\r|\n/);
            }
            TextureAtlasReader.prototype.readLine = function () {
                if (this.index >= this.lines.length)
                    return null;
                return this.lines[this.index++];
            };
            TextureAtlasReader.prototype.readValue = function () {
                var line = this.readLine();
                var colon = line.indexOf(":");
                if (colon == -1)
                    throw new Error("Invalid line: " + line);
                return line.substring(colon + 1).trim();
            };
            TextureAtlasReader.prototype.readTuple = function (tuple) {
                var line = this.readLine();
                var colon = line.indexOf(":");
                if (colon == -1)
                    throw new Error("Invalid line: " + line);
                var i = 0, lastMatch = colon + 1;
                for (; i < 3; i++) {
                    var comma = line.indexOf(",", lastMatch);
                    if (comma == -1)
                        break;
                    tuple[i] = line.substr(lastMatch, comma - lastMatch).trim();
                    lastMatch = comma + 1;
                }
                tuple[i] = line.substring(lastMatch).trim();
                return i + 1;
            };
            return TextureAtlasReader;
        }());
        var TextureAtlasPage = (function () {
            function TextureAtlasPage() {
            }
            TextureAtlasPage.prototype.setFilters = function () {
                var tex = this.baseTexture;
                var filter = this.minFilter;
                if (filter == core.TextureFilter.Linear) {
                    tex.scaleMode = PIXI.SCALE_MODES.LINEAR;
                }
                else if (this.minFilter == core.TextureFilter.Nearest) {
                    tex.scaleMode = PIXI.SCALE_MODES.NEAREST;
                }
                else {
                    tex.mipmap = true;
                    if (filter == core.TextureFilter.MipMapNearestNearest) {
                        tex.scaleMode = PIXI.SCALE_MODES.NEAREST;
                    }
                    else {
                        tex.scaleMode = PIXI.SCALE_MODES.LINEAR;
                    }
                }
            };
            return TextureAtlasPage;
        }());
        core.TextureAtlasPage = TextureAtlasPage;
        var TextureAtlasRegion = (function (_super) {
            __extends(TextureAtlasRegion, _super);
            function TextureAtlasRegion() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            return TextureAtlasRegion;
        }(core.TextureRegion));
        core.TextureAtlasRegion = TextureAtlasRegion;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var TransformConstraint = (function () {
            function TransformConstraint(data, skeleton) {
                this.rotateMix = 0;
                this.translateMix = 0;
                this.scaleMix = 0;
                this.shearMix = 0;
                this.temp = new core.Vector2();
                if (data == null)
                    throw new Error("data cannot be null.");
                if (skeleton == null)
                    throw new Error("skeleton cannot be null.");
                this.data = data;
                this.rotateMix = data.rotateMix;
                this.translateMix = data.translateMix;
                this.scaleMix = data.scaleMix;
                this.shearMix = data.shearMix;
                this.bones = new Array();
                for (var i = 0; i < data.bones.length; i++)
                    this.bones.push(skeleton.findBone(data.bones[i].name));
                this.target = skeleton.findBone(data.target.name);
            }
            TransformConstraint.prototype.apply = function () {
                this.update();
            };
            TransformConstraint.prototype.update = function () {
                if (this.data.local) {
                    if (this.data.relative)
                        this.applyRelativeLocal();
                    else
                        this.applyAbsoluteLocal();
                }
                else {
                    if (this.data.relative)
                        this.applyRelativeWorld();
                    else
                        this.applyAbsoluteWorld();
                }
            };
            TransformConstraint.prototype.applyAbsoluteWorld = function () {
                var rotateMix = this.rotateMix, translateMix = this.translateMix, scaleMix = this.scaleMix, shearMix = this.shearMix;
                var target = this.target;
                var targetMat = target.matrix;
                var ta = targetMat.a, tb = targetMat.c, tc = targetMat.b, td = targetMat.d;
                var degRadReflect = ta * td - tb * tc > 0 ? core.MathUtils.degRad : -core.MathUtils.degRad;
                var offsetRotation = this.data.offsetRotation * degRadReflect;
                var offsetShearY = this.data.offsetShearY * degRadReflect;
                var bones = this.bones;
                for (var i = 0, n = bones.length; i < n; i++) {
                    var bone = bones[i];
                    var modified = false;
                    var mat = bone.matrix;
                    if (rotateMix != 0) {
                        var a = mat.a, b = mat.c, c = mat.b, d = mat.d;
                        var r = Math.atan2(tc, ta) - Math.atan2(c, a) + offsetRotation;
                        if (r > core.MathUtils.PI)
                            r -= core.MathUtils.PI2;
                        else if (r < -core.MathUtils.PI)
                            r += core.MathUtils.PI2;
                        r *= rotateMix;
                        var cos = Math.cos(r), sin = Math.sin(r);
                        mat.a = cos * a - sin * c;
                        mat.c = cos * b - sin * d;
                        mat.b = sin * a + cos * c;
                        mat.d = sin * b + cos * d;
                        modified = true;
                    }
                    if (translateMix != 0) {
                        var temp = this.temp;
                        target.localToWorld(temp.set(this.data.offsetX, this.data.offsetY));
                        mat.tx += (temp.x - mat.tx) * translateMix;
                        mat.ty += (temp.y - mat.ty) * translateMix;
                        modified = true;
                    }
                    if (scaleMix > 0) {
                        var s = Math.sqrt(mat.a * mat.a + mat.b * mat.b);
                        var ts = Math.sqrt(ta * ta + tc * tc);
                        if (s > 0.00001)
                            s = (s + (ts - s + this.data.offsetScaleX) * scaleMix) / s;
                        mat.a *= s;
                        mat.b *= s;
                        s = Math.sqrt(mat.c * mat.c + mat.d * mat.d);
                        ts = Math.sqrt(tb * tb + td * td);
                        if (s > 0.00001)
                            s = (s + (ts - s + this.data.offsetScaleY) * scaleMix) / s;
                        mat.c *= s;
                        mat.d *= s;
                        modified = true;
                    }
                    if (shearMix > 0) {
                        var b = mat.c, d = mat.d;
                        var by = Math.atan2(d, b);
                        var r = Math.atan2(td, tb) - Math.atan2(tc, ta) - (by - Math.atan2(mat.b, mat.a));
                        if (r > core.MathUtils.PI)
                            r -= core.MathUtils.PI2;
                        else if (r < -core.MathUtils.PI)
                            r += core.MathUtils.PI2;
                        r = by + (r + offsetShearY) * shearMix;
                        var s = Math.sqrt(b * b + d * d);
                        mat.c = Math.cos(r) * s;
                        mat.d = Math.sin(r) * s;
                        modified = true;
                    }
                    if (modified)
                        bone.appliedValid = false;
                }
            };
            TransformConstraint.prototype.applyRelativeWorld = function () {
                var rotateMix = this.rotateMix, translateMix = this.translateMix, scaleMix = this.scaleMix, shearMix = this.shearMix;
                var target = this.target;
                var targetMat = target.matrix;
                var ta = targetMat.a, tb = targetMat.c, tc = targetMat.b, td = targetMat.d;
                var degRadReflect = ta * td - tb * tc > 0 ? core.MathUtils.degRad : -core.MathUtils.degRad;
                var offsetRotation = this.data.offsetRotation * degRadReflect, offsetShearY = this.data.offsetShearY * degRadReflect;
                var bones = this.bones;
                for (var i = 0, n = bones.length; i < n; i++) {
                    var bone = bones[i];
                    var modified = false;
                    var mat = bone.matrix;
                    if (rotateMix != 0) {
                        var a = mat.a, b = mat.c, c = mat.b, d = mat.d;
                        var r = Math.atan2(tc, ta) + offsetRotation;
                        if (r > core.MathUtils.PI)
                            r -= core.MathUtils.PI2;
                        else if (r < -core.MathUtils.PI)
                            r += core.MathUtils.PI2;
                        r *= rotateMix;
                        var cos = Math.cos(r), sin = Math.sin(r);
                        mat.a = cos * a - sin * c;
                        mat.c = cos * b - sin * d;
                        mat.b = sin * a + cos * c;
                        mat.d = sin * b + cos * d;
                        modified = true;
                    }
                    if (translateMix != 0) {
                        var temp = this.temp;
                        target.localToWorld(temp.set(this.data.offsetX, this.data.offsetY));
                        mat.tx += temp.x * translateMix;
                        mat.ty += temp.y * translateMix;
                        modified = true;
                    }
                    if (scaleMix > 0) {
                        var s = (Math.sqrt(ta * ta + tc * tc) - 1 + this.data.offsetScaleX) * scaleMix + 1;
                        mat.a *= s;
                        mat.b *= s;
                        s = (Math.sqrt(tb * tb + td * td) - 1 + this.data.offsetScaleY) * scaleMix + 1;
                        mat.c *= s;
                        mat.d *= s;
                        modified = true;
                    }
                    if (shearMix > 0) {
                        var r = Math.atan2(td, tb) - Math.atan2(tc, ta);
                        if (r > core.MathUtils.PI)
                            r -= core.MathUtils.PI2;
                        else if (r < -core.MathUtils.PI)
                            r += core.MathUtils.PI2;
                        var b = mat.c, d = mat.d;
                        r = Math.atan2(d, b) + (r - core.MathUtils.PI / 2 + offsetShearY) * shearMix;
                        var s = Math.sqrt(b * b + d * d);
                        mat.c = Math.cos(r) * s;
                        mat.d = Math.sin(r) * s;
                        modified = true;
                    }
                    if (modified)
                        bone.appliedValid = false;
                }
            };
            TransformConstraint.prototype.applyAbsoluteLocal = function () {
                var rotateMix = this.rotateMix, translateMix = this.translateMix, scaleMix = this.scaleMix, shearMix = this.shearMix;
                var target = this.target;
                if (!target.appliedValid)
                    target.updateAppliedTransform();
                var bones = this.bones;
                for (var i = 0, n = bones.length; i < n; i++) {
                    var bone = bones[i];
                    if (!bone.appliedValid)
                        bone.updateAppliedTransform();
                    var rotation = bone.arotation;
                    if (rotateMix != 0) {
                        var r = target.arotation - rotation + this.data.offsetRotation;
                        r -= (16384 - ((16384.499999999996 - r / 360) | 0)) * 360;
                        rotation += r * rotateMix;
                    }
                    var x = bone.ax, y = bone.ay;
                    if (translateMix != 0) {
                        x += (target.ax - x + this.data.offsetX) * translateMix;
                        y += (target.ay - y + this.data.offsetY) * translateMix;
                    }
                    var scaleX = bone.ascaleX, scaleY = bone.ascaleY;
                    if (scaleMix > 0) {
                        if (scaleX > 0.00001)
                            scaleX = (scaleX + (target.ascaleX - scaleX + this.data.offsetScaleX) * scaleMix) / scaleX;
                        if (scaleY > 0.00001)
                            scaleY = (scaleY + (target.ascaleY - scaleY + this.data.offsetScaleY) * scaleMix) / scaleY;
                    }
                    var shearY = bone.ashearY;
                    if (shearMix > 0) {
                        var r = target.ashearY - shearY + this.data.offsetShearY;
                        r -= (16384 - ((16384.499999999996 - r / 360) | 0)) * 360;
                        bone.shearY += r * shearMix;
                    }
                    bone.updateWorldTransformWith(x, y, rotation, scaleX, scaleY, bone.ashearX, shearY);
                }
            };
            TransformConstraint.prototype.applyRelativeLocal = function () {
                var rotateMix = this.rotateMix, translateMix = this.translateMix, scaleMix = this.scaleMix, shearMix = this.shearMix;
                var target = this.target;
                if (!target.appliedValid)
                    target.updateAppliedTransform();
                var bones = this.bones;
                for (var i = 0, n = bones.length; i < n; i++) {
                    var bone = bones[i];
                    if (!bone.appliedValid)
                        bone.updateAppliedTransform();
                    var rotation = bone.arotation;
                    if (rotateMix != 0)
                        rotation += (target.arotation + this.data.offsetRotation) * rotateMix;
                    var x = bone.ax, y = bone.ay;
                    if (translateMix != 0) {
                        x += (target.ax + this.data.offsetX) * translateMix;
                        y += (target.ay + this.data.offsetY) * translateMix;
                    }
                    var scaleX = bone.ascaleX, scaleY = bone.ascaleY;
                    if (scaleMix > 0) {
                        if (scaleX > 0.00001)
                            scaleX *= ((target.ascaleX - 1 + this.data.offsetScaleX) * scaleMix) + 1;
                        if (scaleY > 0.00001)
                            scaleY *= ((target.ascaleY - 1 + this.data.offsetScaleY) * scaleMix) + 1;
                    }
                    var shearY = bone.ashearY;
                    if (shearMix > 0)
                        shearY += (target.ashearY + this.data.offsetShearY) * shearMix;
                    bone.updateWorldTransformWith(x, y, rotation, scaleX, scaleY, bone.ashearX, shearY);
                }
            };
            TransformConstraint.prototype.getOrder = function () {
                return this.data.order;
            };
            return TransformConstraint;
        }());
        core.TransformConstraint = TransformConstraint;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var TransformConstraintData = (function () {
            function TransformConstraintData(name) {
                this.order = 0;
                this.bones = new Array();
                this.rotateMix = 0;
                this.translateMix = 0;
                this.scaleMix = 0;
                this.shearMix = 0;
                this.offsetRotation = 0;
                this.offsetX = 0;
                this.offsetY = 0;
                this.offsetScaleX = 0;
                this.offsetScaleY = 0;
                this.offsetShearY = 0;
                this.relative = false;
                this.local = false;
                if (name == null)
                    throw new Error("name cannot be null.");
                this.name = name;
            }
            return TransformConstraintData;
        }());
        core.TransformConstraintData = TransformConstraintData;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var Triangulator = (function () {
            function Triangulator() {
                this.convexPolygons = new Array();
                this.convexPolygonsIndices = new Array();
                this.indicesArray = new Array();
                this.isConcaveArray = new Array();
                this.triangles = new Array();
                this.polygonPool = new core.Pool(function () {
                    return new Array();
                });
                this.polygonIndicesPool = new core.Pool(function () {
                    return new Array();
                });
            }
            Triangulator.prototype.triangulate = function (verticesArray) {
                var vertices = verticesArray;
                var vertexCount = verticesArray.length >> 1;
                var indices = this.indicesArray;
                indices.length = 0;
                for (var i = 0; i < vertexCount; i++)
                    indices[i] = i;
                var isConcave = this.isConcaveArray;
                isConcave.length = 0;
                for (var i = 0, n = vertexCount; i < n; ++i)
                    isConcave[i] = Triangulator.isConcave(i, vertexCount, vertices, indices);
                var triangles = this.triangles;
                triangles.length = 0;
                while (vertexCount > 3) {
                    var previous = vertexCount - 1, i = 0, next = 1;
                    while (true) {
                        outer: if (!isConcave[i]) {
                            var p1 = indices[previous] << 1, p2 = indices[i] << 1, p3 = indices[next] << 1;
                            var p1x = vertices[p1], p1y = vertices[p1 + 1];
                            var p2x = vertices[p2], p2y = vertices[p2 + 1];
                            var p3x = vertices[p3], p3y = vertices[p3 + 1];
                            for (var ii = (next + 1) % vertexCount; ii != previous; ii = (ii + 1) % vertexCount) {
                                if (!isConcave[ii])
                                    continue;
                                var v = indices[ii] << 1;
                                var vx = vertices[v], vy = vertices[v + 1];
                                if (Triangulator.positiveArea(p3x, p3y, p1x, p1y, vx, vy)) {
                                    if (Triangulator.positiveArea(p1x, p1y, p2x, p2y, vx, vy)) {
                                        if (Triangulator.positiveArea(p2x, p2y, p3x, p3y, vx, vy))
                                            break outer;
                                    }
                                }
                            }
                            break;
                        }
                        if (next == 0) {
                            do {
                                if (!isConcave[i])
                                    break;
                                i--;
                            } while (i > 0);
                            break;
                        }
                        previous = i;
                        i = next;
                        next = (next + 1) % vertexCount;
                    }
                    triangles.push(indices[(vertexCount + i - 1) % vertexCount]);
                    triangles.push(indices[i]);
                    triangles.push(indices[(i + 1) % vertexCount]);
                    indices.splice(i, 1);
                    isConcave.splice(i, 1);
                    vertexCount--;
                    var previousIndex = (vertexCount + i - 1) % vertexCount;
                    var nextIndex = i == vertexCount ? 0 : i;
                    isConcave[previousIndex] = Triangulator.isConcave(previousIndex, vertexCount, vertices, indices);
                    isConcave[nextIndex] = Triangulator.isConcave(nextIndex, vertexCount, vertices, indices);
                }
                if (vertexCount == 3) {
                    triangles.push(indices[2]);
                    triangles.push(indices[0]);
                    triangles.push(indices[1]);
                }
                return triangles;
            };
            Triangulator.prototype.decompose = function (verticesArray, triangles) {
                var vertices = verticesArray;
                var convexPolygons = this.convexPolygons;
                this.polygonPool.freeAll(convexPolygons);
                convexPolygons.length = 0;
                var convexPolygonsIndices = this.convexPolygonsIndices;
                this.polygonIndicesPool.freeAll(convexPolygonsIndices);
                convexPolygonsIndices.length = 0;
                var polygonIndices = this.polygonIndicesPool.obtain();
                polygonIndices.length = 0;
                var polygon = this.polygonPool.obtain();
                polygon.length = 0;
                var fanBaseIndex = -1, lastWinding = 0;
                for (var i = 0, n = triangles.length; i < n; i += 3) {
                    var t1 = triangles[i] << 1, t2 = triangles[i + 1] << 1, t3 = triangles[i + 2] << 1;
                    var x1 = vertices[t1], y1 = vertices[t1 + 1];
                    var x2 = vertices[t2], y2 = vertices[t2 + 1];
                    var x3 = vertices[t3], y3 = vertices[t3 + 1];
                    var merged = false;
                    if (fanBaseIndex == t1) {
                        var o = polygon.length - 4;
                        var winding1 = Triangulator.winding(polygon[o], polygon[o + 1], polygon[o + 2], polygon[o + 3], x3, y3);
                        var winding2 = Triangulator.winding(x3, y3, polygon[0], polygon[1], polygon[2], polygon[3]);
                        if (winding1 == lastWinding && winding2 == lastWinding) {
                            polygon.push(x3);
                            polygon.push(y3);
                            polygonIndices.push(t3);
                            merged = true;
                        }
                    }
                    if (!merged) {
                        if (polygon.length > 0) {
                            convexPolygons.push(polygon);
                            convexPolygonsIndices.push(polygonIndices);
                        }
                        else {
                            this.polygonPool.free(polygon);
                            this.polygonIndicesPool.free(polygonIndices);
                        }
                        polygon = this.polygonPool.obtain();
                        polygon.length = 0;
                        polygon.push(x1);
                        polygon.push(y1);
                        polygon.push(x2);
                        polygon.push(y2);
                        polygon.push(x3);
                        polygon.push(y3);
                        polygonIndices = this.polygonIndicesPool.obtain();
                        polygonIndices.length = 0;
                        polygonIndices.push(t1);
                        polygonIndices.push(t2);
                        polygonIndices.push(t3);
                        lastWinding = Triangulator.winding(x1, y1, x2, y2, x3, y3);
                        fanBaseIndex = t1;
                    }
                }
                if (polygon.length > 0) {
                    convexPolygons.push(polygon);
                    convexPolygonsIndices.push(polygonIndices);
                }
                for (var i = 0, n = convexPolygons.length; i < n; i++) {
                    polygonIndices = convexPolygonsIndices[i];
                    if (polygonIndices.length == 0)
                        continue;
                    var firstIndex = polygonIndices[0];
                    var lastIndex = polygonIndices[polygonIndices.length - 1];
                    polygon = convexPolygons[i];
                    var o = polygon.length - 4;
                    var prevPrevX = polygon[o], prevPrevY = polygon[o + 1];
                    var prevX = polygon[o + 2], prevY = polygon[o + 3];
                    var firstX = polygon[0], firstY = polygon[1];
                    var secondX = polygon[2], secondY = polygon[3];
                    var winding = Triangulator.winding(prevPrevX, prevPrevY, prevX, prevY, firstX, firstY);
                    for (var ii = 0; ii < n; ii++) {
                        if (ii == i)
                            continue;
                        var otherIndices = convexPolygonsIndices[ii];
                        if (otherIndices.length != 3)
                            continue;
                        var otherFirstIndex = otherIndices[0];
                        var otherSecondIndex = otherIndices[1];
                        var otherLastIndex = otherIndices[2];
                        var otherPoly = convexPolygons[ii];
                        var x3 = otherPoly[otherPoly.length - 2], y3 = otherPoly[otherPoly.length - 1];
                        if (otherFirstIndex != firstIndex || otherSecondIndex != lastIndex)
                            continue;
                        var winding1 = Triangulator.winding(prevPrevX, prevPrevY, prevX, prevY, x3, y3);
                        var winding2 = Triangulator.winding(x3, y3, firstX, firstY, secondX, secondY);
                        if (winding1 == winding && winding2 == winding) {
                            otherPoly.length = 0;
                            otherIndices.length = 0;
                            polygon.push(x3);
                            polygon.push(y3);
                            polygonIndices.push(otherLastIndex);
                            prevPrevX = prevX;
                            prevPrevY = prevY;
                            prevX = x3;
                            prevY = y3;
                            ii = 0;
                        }
                    }
                }
                for (var i = convexPolygons.length - 1; i >= 0; i--) {
                    polygon = convexPolygons[i];
                    if (polygon.length == 0) {
                        convexPolygons.splice(i, 1);
                        this.polygonPool.free(polygon);
                        polygonIndices = convexPolygonsIndices[i];
                        convexPolygonsIndices.splice(i, 1);
                        this.polygonIndicesPool.free(polygonIndices);
                    }
                }
                return convexPolygons;
            };
            Triangulator.isConcave = function (index, vertexCount, vertices, indices) {
                var previous = indices[(vertexCount + index - 1) % vertexCount] << 1;
                var current = indices[index] << 1;
                var next = indices[(index + 1) % vertexCount] << 1;
                return !this.positiveArea(vertices[previous], vertices[previous + 1], vertices[current], vertices[current + 1], vertices[next], vertices[next + 1]);
            };
            Triangulator.positiveArea = function (p1x, p1y, p2x, p2y, p3x, p3y) {
                return p1x * (p3y - p2y) + p2x * (p1y - p3y) + p3x * (p2y - p1y) >= 0;
            };
            Triangulator.winding = function (p1x, p1y, p2x, p2y, p3x, p3y) {
                var px = p2x - p1x, py = p2y - p1y;
                return p3x * py - p3y * px + px * p1y - p1x * py >= 0 ? 1 : -1;
            };
            return Triangulator;
        }());
        core.Triangulator = Triangulator;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var IntSet = (function () {
            function IntSet() {
                this.array = new Array();
            }
            IntSet.prototype.add = function (value) {
                var contains = this.contains(value);
                this.array[value | 0] = value | 0;
                return !contains;
            };
            IntSet.prototype.contains = function (value) {
                return this.array[value | 0] != undefined;
            };
            IntSet.prototype.remove = function (value) {
                this.array[value | 0] = undefined;
            };
            IntSet.prototype.clear = function () {
                this.array.length = 0;
            };
            return IntSet;
        }());
        core.IntSet = IntSet;
        var Color = (function () {
            function Color(r, g, b, a) {
                if (r === void 0) { r = 0; }
                if (g === void 0) { g = 0; }
                if (b === void 0) { b = 0; }
                if (a === void 0) { a = 0; }
                this.r = r;
                this.g = g;
                this.b = b;
                this.a = a;
            }
            Color.prototype.set = function (r, g, b, a) {
                this.r = r;
                this.g = g;
                this.b = b;
                this.a = a;
                this.clamp();
                return this;
            };
            Color.prototype.setFromColor = function (c) {
                this.r = c.r;
                this.g = c.g;
                this.b = c.b;
                this.a = c.a;
                return this;
            };
            Color.prototype.setFromString = function (hex) {
                hex = hex.charAt(0) == '#' ? hex.substr(1) : hex;
                this.r = parseInt(hex.substr(0, 2), 16) / 255.0;
                this.g = parseInt(hex.substr(2, 2), 16) / 255.0;
                this.b = parseInt(hex.substr(4, 2), 16) / 255.0;
                this.a = (hex.length != 8 ? 255 : parseInt(hex.substr(6, 2), 16)) / 255.0;
                return this;
            };
            Color.prototype.add = function (r, g, b, a) {
                this.r += r;
                this.g += g;
                this.b += b;
                this.a += a;
                this.clamp();
                return this;
            };
            Color.prototype.clamp = function () {
                if (this.r < 0)
                    this.r = 0;
                else if (this.r > 1)
                    this.r = 1;
                if (this.g < 0)
                    this.g = 0;
                else if (this.g > 1)
                    this.g = 1;
                if (this.b < 0)
                    this.b = 0;
                else if (this.b > 1)
                    this.b = 1;
                if (this.a < 0)
                    this.a = 0;
                else if (this.a > 1)
                    this.a = 1;
                return this;
            };
            Color.WHITE = new Color(1, 1, 1, 1);
            Color.RED = new Color(1, 0, 0, 1);
            Color.GREEN = new Color(0, 1, 0, 1);
            Color.BLUE = new Color(0, 0, 1, 1);
            Color.MAGENTA = new Color(1, 0, 1, 1);
            return Color;
        }());
        core.Color = Color;
        var MathUtils = (function () {
            function MathUtils() {
            }
            MathUtils.clamp = function (value, min, max) {
                if (value < min)
                    return min;
                if (value > max)
                    return max;
                return value;
            };
            MathUtils.cosDeg = function (degrees) {
                return Math.cos(degrees * MathUtils.degRad);
            };
            MathUtils.sinDeg = function (degrees) {
                return Math.sin(degrees * MathUtils.degRad);
            };
            MathUtils.signum = function (value) {
                return value > 0 ? 1 : value < 0 ? -1 : 0;
            };
            MathUtils.toInt = function (x) {
                return x > 0 ? Math.floor(x) : Math.ceil(x);
            };
            MathUtils.cbrt = function (x) {
                var y = Math.pow(Math.abs(x), 1 / 3);
                return x < 0 ? -y : y;
            };
            MathUtils.randomTriangular = function (min, max) {
                return MathUtils.randomTriangularWith(min, max, (min + max) * 0.5);
            };
            MathUtils.randomTriangularWith = function (min, max, mode) {
                var u = Math.random();
                var d = max - min;
                if (u <= (mode - min) / d)
                    return min + Math.sqrt(u * d * (mode - min));
                return max - Math.sqrt((1 - u) * d * (max - mode));
            };
            MathUtils.PI = 3.1415927;
            MathUtils.PI2 = MathUtils.PI * 2;
            MathUtils.radiansToDegrees = 180 / MathUtils.PI;
            MathUtils.radDeg = MathUtils.radiansToDegrees;
            MathUtils.degreesToRadians = MathUtils.PI / 180;
            MathUtils.degRad = MathUtils.degreesToRadians;
            return MathUtils;
        }());
        core.MathUtils = MathUtils;
        var Interpolation = (function () {
            function Interpolation() {
            }
            Interpolation.prototype.apply = function (start, end, a) {
                return start + (end - start) * this.applyInternal(a);
            };
            return Interpolation;
        }());
        core.Interpolation = Interpolation;
        var Pow = (function (_super) {
            __extends(Pow, _super);
            function Pow(power) {
                var _this = _super.call(this) || this;
                _this.power = 2;
                _this.power = power;
                return _this;
            }
            Pow.prototype.applyInternal = function (a) {
                if (a <= 0.5)
                    return Math.pow(a * 2, this.power) / 2;
                return Math.pow((a - 1) * 2, this.power) / (this.power % 2 == 0 ? -2 : 2) + 1;
            };
            return Pow;
        }(Interpolation));
        core.Pow = Pow;
        var PowOut = (function (_super) {
            __extends(PowOut, _super);
            function PowOut(power) {
                return _super.call(this, power) || this;
            }
            PowOut.prototype.applyInternal = function (a) {
                return Math.pow(a - 1, this.power) * (this.power % 2 == 0 ? -1 : 1) + 1;
            };
            return PowOut;
        }(Pow));
        core.PowOut = PowOut;
        var Utils = (function () {
            function Utils() {
            }
            Utils.arrayCopy = function (source, sourceStart, dest, destStart, numElements) {
                for (var i = sourceStart, j = destStart; i < sourceStart + numElements; i++, j++) {
                    dest[j] = source[i];
                }
            };
            Utils.setArraySize = function (array, size, value) {
                if (value === void 0) { value = 0; }
                var oldSize = array.length;
                if (oldSize == size)
                    return array;
                array.length = size;
                if (oldSize < size) {
                    for (var i = oldSize; i < size; i++)
                        array[i] = value;
                }
                return array;
            };
            Utils.ensureArrayCapacity = function (array, size, value) {
                if (value === void 0) { value = 0; }
                if (array.length >= size)
                    return array;
                return Utils.setArraySize(array, size, value);
            };
            Utils.newArray = function (size, defaultValue) {
                var array = new Array(size);
                for (var i = 0; i < size; i++)
                    array[i] = defaultValue;
                return array;
            };
            Utils.newFloatArray = function (size) {
                if (Utils.SUPPORTS_TYPED_ARRAYS) {
                    return new Float32Array(size);
                }
                else {
                    var array = new Array(size);
                    for (var i = 0; i < array.length; i++)
                        array[i] = 0;
                    return array;
                }
            };
            Utils.newShortArray = function (size) {
                if (Utils.SUPPORTS_TYPED_ARRAYS) {
                    return new Int16Array(size);
                }
                else {
                    var array = new Array(size);
                    for (var i = 0; i < array.length; i++)
                        array[i] = 0;
                    return array;
                }
            };
            Utils.toFloatArray = function (array) {
                return Utils.SUPPORTS_TYPED_ARRAYS ? new Float32Array(array) : array;
            };
            Utils.toSinglePrecision = function (value) {
                return Utils.SUPPORTS_TYPED_ARRAYS ? Math.fround(value) : value;
            };
            Utils.SUPPORTS_TYPED_ARRAYS = typeof (Float32Array) !== "undefined";
            return Utils;
        }());
        core.Utils = Utils;
        var DebugUtils = (function () {
            function DebugUtils() {
            }
            DebugUtils.logBones = function (skeleton) {
                for (var i = 0; i < skeleton.bones.length; i++) {
                    var bone = skeleton.bones[i];
                    var mat = bone.matrix;
                    console.log(bone.data.name + ", " + mat.a + ", " + mat.b + ", " + mat.c + ", " + mat.d + ", " + mat.tx + ", " + mat.ty);
                }
            };
            return DebugUtils;
        }());
        core.DebugUtils = DebugUtils;
        var Pool = (function () {
            function Pool(instantiator) {
                this.items = new Array();
                this.instantiator = instantiator;
            }
            Pool.prototype.obtain = function () {
                return this.items.length > 0 ? this.items.pop() : this.instantiator();
            };
            Pool.prototype.free = function (item) {
                if (item.reset)
                    item.reset();
                this.items.push(item);
            };
            Pool.prototype.freeAll = function (items) {
                for (var i = 0; i < items.length; i++) {
                    if (items[i].reset)
                        items[i].reset();
                    this.items[i] = items[i];
                }
            };
            Pool.prototype.clear = function () {
                this.items.length = 0;
            };
            return Pool;
        }());
        core.Pool = Pool;
        var Vector2 = (function () {
            function Vector2(x, y) {
                if (x === void 0) { x = 0; }
                if (y === void 0) { y = 0; }
                this.x = x;
                this.y = y;
            }
            Vector2.prototype.set = function (x, y) {
                this.x = x;
                this.y = y;
                return this;
            };
            Vector2.prototype.length = function () {
                var x = this.x;
                var y = this.y;
                return Math.sqrt(x * x + y * y);
            };
            Vector2.prototype.normalize = function () {
                var len = this.length();
                if (len != 0) {
                    this.x /= len;
                    this.y /= len;
                }
                return this;
            };
            return Vector2;
        }());
        core.Vector2 = Vector2;
        var TimeKeeper = (function () {
            function TimeKeeper() {
                this.maxDelta = 0.064;
                this.framesPerSecond = 0;
                this.delta = 0;
                this.totalTime = 0;
                this.lastTime = Date.now() / 1000;
                this.frameCount = 0;
                this.frameTime = 0;
            }
            TimeKeeper.prototype.update = function () {
                var now = Date.now() / 1000;
                this.delta = now - this.lastTime;
                this.frameTime += this.delta;
                this.totalTime += this.delta;
                if (this.delta > this.maxDelta)
                    this.delta = this.maxDelta;
                this.lastTime = now;
                this.frameCount++;
                if (this.frameTime > 1) {
                    this.framesPerSecond = this.frameCount / this.frameTime;
                    this.frameTime = 0;
                    this.frameCount = 0;
                }
            };
            return TimeKeeper;
        }());
        core.TimeKeeper = TimeKeeper;
        var WindowedMean = (function () {
            function WindowedMean(windowSize) {
                if (windowSize === void 0) { windowSize = 32; }
                this.addedValues = 0;
                this.lastValue = 0;
                this.mean = 0;
                this.dirty = true;
                this.values = new Array(windowSize);
            }
            WindowedMean.prototype.hasEnoughData = function () {
                return this.addedValues >= this.values.length;
            };
            WindowedMean.prototype.addValue = function (value) {
                if (this.addedValues < this.values.length)
                    this.addedValues++;
                this.values[this.lastValue++] = value;
                if (this.lastValue > this.values.length - 1)
                    this.lastValue = 0;
                this.dirty = true;
            };
            WindowedMean.prototype.getMean = function () {
                if (this.hasEnoughData()) {
                    if (this.dirty) {
                        var mean = 0;
                        for (var i = 0; i < this.values.length; i++) {
                            mean += this.values[i];
                        }
                        this.mean = mean / this.values.length;
                        this.dirty = false;
                    }
                    return this.mean;
                }
                else {
                    return 0;
                }
            };
            return WindowedMean;
        }());
        core.WindowedMean = WindowedMean;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var Attachment = (function () {
            function Attachment(name) {
                if (name == null)
                    throw new Error("name cannot be null.");
                this.name = name;
            }
            return Attachment;
        }());
        core.Attachment = Attachment;
        var VertexAttachment = (function (_super) {
            __extends(VertexAttachment, _super);
            function VertexAttachment(name) {
                var _this = _super.call(this, name) || this;
                _this.id = (VertexAttachment.nextID++ & 65535) << 11;
                _this.worldVerticesLength = 0;
                return _this;
            }
            VertexAttachment.prototype.computeWorldVerticesOld = function (slot, worldVertices) {
                this.computeWorldVertices(slot, 0, this.worldVerticesLength, worldVertices, 0, 2);
            };
            VertexAttachment.prototype.computeWorldVertices = function (slot, start, count, worldVertices, offset, stride) {
                count = offset + (count >> 1) * stride;
                var skeleton = slot.bone.skeleton;
                var deformArray = slot.attachmentVertices;
                var vertices = this.vertices;
                var bones = this.bones;
                if (bones == null) {
                    if (deformArray.length > 0)
                        vertices = deformArray;
                    var mat = slot.bone.matrix;
                    var x = mat.tx;
                    var y = mat.ty;
                    var a = mat.a, b = mat.c, c = mat.b, d = mat.d;
                    for (var v_1 = start, w = offset; w < count; v_1 += 2, w += stride) {
                        var vx = vertices[v_1], vy = vertices[v_1 + 1];
                        worldVertices[w] = vx * a + vy * b + x;
                        worldVertices[w + 1] = vx * c + vy * d + y;
                    }
                    return;
                }
                var v = 0, skip = 0;
                for (var i = 0; i < start; i += 2) {
                    var n = bones[v];
                    v += n + 1;
                    skip += n;
                }
                var skeletonBones = skeleton.bones;
                if (deformArray.length == 0) {
                    for (var w = offset, b = skip * 3; w < count; w += stride) {
                        var wx = 0, wy = 0;
                        var n = bones[v++];
                        n += v;
                        for (; v < n; v++, b += 3) {
                            var mat = skeletonBones[bones[v]].matrix;
                            var vx = vertices[b], vy = vertices[b + 1], weight = vertices[b + 2];
                            wx += (vx * mat.a + vy * mat.c + mat.tx) * weight;
                            wy += (vx * mat.b + vy * mat.d + mat.ty) * weight;
                        }
                        worldVertices[w] = wx;
                        worldVertices[w + 1] = wy;
                    }
                }
                else {
                    var deform = deformArray;
                    for (var w = offset, b = skip * 3, f = skip << 1; w < count; w += stride) {
                        var wx = 0, wy = 0;
                        var n = bones[v++];
                        n += v;
                        for (; v < n; v++, b += 3, f += 2) {
                            var mat = skeletonBones[bones[v]].matrix;
                            var vx = vertices[b] + deform[f], vy = vertices[b + 1] + deform[f + 1], weight = vertices[b + 2];
                            wx += (vx * mat.a + vy * mat.c + mat.tx) * weight;
                            wy += (vx * mat.b + vy * mat.d + mat.ty) * weight;
                        }
                        worldVertices[w] = wx;
                        worldVertices[w + 1] = wy;
                    }
                }
            };
            VertexAttachment.prototype.applyDeform = function (sourceAttachment) {
                return this == sourceAttachment;
            };
            VertexAttachment.nextID = 0;
            return VertexAttachment;
        }(Attachment));
        core.VertexAttachment = VertexAttachment;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var AttachmentType;
        (function (AttachmentType) {
            AttachmentType[AttachmentType["Region"] = 0] = "Region";
            AttachmentType[AttachmentType["BoundingBox"] = 1] = "BoundingBox";
            AttachmentType[AttachmentType["Mesh"] = 2] = "Mesh";
            AttachmentType[AttachmentType["LinkedMesh"] = 3] = "LinkedMesh";
            AttachmentType[AttachmentType["Path"] = 4] = "Path";
            AttachmentType[AttachmentType["Point"] = 5] = "Point";
        })(AttachmentType = core.AttachmentType || (core.AttachmentType = {}));
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var BoundingBoxAttachment = (function (_super) {
            __extends(BoundingBoxAttachment, _super);
            function BoundingBoxAttachment(name) {
                var _this = _super.call(this, name) || this;
                _this.color = new core.Color(1, 1, 1, 1);
                return _this;
            }
            return BoundingBoxAttachment;
        }(core.VertexAttachment));
        core.BoundingBoxAttachment = BoundingBoxAttachment;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var ClippingAttachment = (function (_super) {
            __extends(ClippingAttachment, _super);
            function ClippingAttachment(name) {
                var _this = _super.call(this, name) || this;
                _this.color = new core.Color(0.2275, 0.2275, 0.8078, 1);
                return _this;
            }
            return ClippingAttachment;
        }(core.VertexAttachment));
        core.ClippingAttachment = ClippingAttachment;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var MeshAttachment = (function (_super) {
            __extends(MeshAttachment, _super);
            function MeshAttachment(name) {
                var _this = _super.call(this, name) || this;
                _this.color = new core.Color(1, 1, 1, 1);
                _this.inheritDeform = false;
                _this.tempColor = new core.Color(0, 0, 0, 0);
                return _this;
            }
            MeshAttachment.prototype.updateUVs = function (region, uvs) {
                var regionUVs = this.regionUVs;
                var n = regionUVs.length;
                if (!uvs || uvs.length != n) {
                    uvs = core.Utils.newFloatArray(n);
                }
                if (region == null) {
                    return;
                }
                var texture = region.texture;
                var r = texture._uvs;
                var w1 = region.width, h1 = region.height, w2 = region.originalWidth, h2 = region.originalHeight;
                var x = region.offsetX, y = region.pixiOffsetY;
                for (var i = 0; i < n; i += 2) {
                    var u = this.regionUVs[i], v = this.regionUVs[i + 1];
                    u = (u * w2 - x) / w1;
                    v = (v * h2 - y) / h1;
                    uvs[i] = (r.x0 * (1 - u) + r.x1 * u) * (1 - v) + (r.x3 * (1 - u) + r.x2 * u) * v;
                    uvs[i + 1] = (r.y0 * (1 - u) + r.y1 * u) * (1 - v) + (r.y3 * (1 - u) + r.y2 * u) * v;
                }
                return uvs;
            };
            MeshAttachment.prototype.applyDeform = function (sourceAttachment) {
                return this == sourceAttachment || (this.inheritDeform && this.parentMesh == sourceAttachment);
            };
            MeshAttachment.prototype.getParentMesh = function () {
                return this.parentMesh;
            };
            MeshAttachment.prototype.setParentMesh = function (parentMesh) {
                this.parentMesh = parentMesh;
                if (parentMesh != null) {
                    this.bones = parentMesh.bones;
                    this.vertices = parentMesh.vertices;
                    this.worldVerticesLength = parentMesh.worldVerticesLength;
                    this.regionUVs = parentMesh.regionUVs;
                    this.triangles = parentMesh.triangles;
                    this.hullLength = parentMesh.hullLength;
                    this.worldVerticesLength = parentMesh.worldVerticesLength;
                }
            };
            return MeshAttachment;
        }(core.VertexAttachment));
        core.MeshAttachment = MeshAttachment;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var PathAttachment = (function (_super) {
            __extends(PathAttachment, _super);
            function PathAttachment(name) {
                var _this = _super.call(this, name) || this;
                _this.closed = false;
                _this.constantSpeed = false;
                _this.color = new core.Color(1, 1, 1, 1);
                return _this;
            }
            return PathAttachment;
        }(core.VertexAttachment));
        core.PathAttachment = PathAttachment;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var PointAttachment = (function (_super) {
            __extends(PointAttachment, _super);
            function PointAttachment(name) {
                var _this = _super.call(this, name) || this;
                _this.color = new core.Color(0.38, 0.94, 0, 1);
                return _this;
            }
            PointAttachment.prototype.computeWorldPosition = function (bone, point) {
                var mat = bone.matrix;
                point.x = this.x * mat.a + this.y * mat.c + bone.worldX;
                point.y = this.x * mat.b + this.y * mat.d + bone.worldY;
                return point;
            };
            PointAttachment.prototype.computeWorldRotation = function (bone) {
                var mat = bone.matrix;
                var cos = core.MathUtils.cosDeg(this.rotation), sin = core.MathUtils.sinDeg(this.rotation);
                var x = cos * mat.a + sin * mat.c;
                var y = cos * mat.b + sin * mat.d;
                return Math.atan2(y, x) * core.MathUtils.radDeg;
            };
            return PointAttachment;
        }(core.VertexAttachment));
        core.PointAttachment = PointAttachment;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var RegionAttachment = (function (_super) {
            __extends(RegionAttachment, _super);
            function RegionAttachment(name) {
                var _this = _super.call(this, name) || this;
                _this.x = 0;
                _this.y = 0;
                _this.scaleX = 1;
                _this.scaleY = 1;
                _this.rotation = 0;
                _this.width = 0;
                _this.height = 0;
                _this.color = new core.Color(1, 1, 1, 1);
                _this.offset = core.Utils.newFloatArray(8);
                _this.uvs = core.Utils.newFloatArray(8);
                _this.tempColor = new core.Color(1, 1, 1, 1);
                return _this;
            }
            RegionAttachment.prototype.updateOffset = function () {
                var regionScaleX = this.width / this.region.originalWidth * this.scaleX;
                var regionScaleY = this.height / this.region.originalHeight * this.scaleY;
                var localX = -this.width / 2 * this.scaleX + this.region.offsetX * regionScaleX;
                var localY = -this.height / 2 * this.scaleY + this.region.offsetY * regionScaleY;
                var localX2 = localX + this.region.width * regionScaleX;
                var localY2 = localY + this.region.height * regionScaleY;
                var radians = this.rotation * Math.PI / 180;
                var cos = Math.cos(radians);
                var sin = Math.sin(radians);
                var localXCos = localX * cos + this.x;
                var localXSin = localX * sin;
                var localYCos = localY * cos + this.y;
                var localYSin = localY * sin;
                var localX2Cos = localX2 * cos + this.x;
                var localX2Sin = localX2 * sin;
                var localY2Cos = localY2 * cos + this.y;
                var localY2Sin = localY2 * sin;
                var offset = this.offset;
                offset[RegionAttachment.OX1] = localXCos - localYSin;
                offset[RegionAttachment.OY1] = localYCos + localXSin;
                offset[RegionAttachment.OX2] = localXCos - localY2Sin;
                offset[RegionAttachment.OY2] = localY2Cos + localXSin;
                offset[RegionAttachment.OX3] = localX2Cos - localY2Sin;
                offset[RegionAttachment.OY3] = localY2Cos + localX2Sin;
                offset[RegionAttachment.OX4] = localX2Cos - localYSin;
                offset[RegionAttachment.OY4] = localYCos + localX2Sin;
            };
            RegionAttachment.prototype.setRegion = function (region) {
                this.region = region;
                var uvs = this.uvs;
                if (region.rotate) {
                    uvs[2] = region.u;
                    uvs[3] = region.v2;
                    uvs[4] = region.u;
                    uvs[5] = region.v;
                    uvs[6] = region.u2;
                    uvs[7] = region.v;
                    uvs[0] = region.u2;
                    uvs[1] = region.v2;
                }
                else {
                    uvs[0] = region.u;
                    uvs[1] = region.v2;
                    uvs[2] = region.u;
                    uvs[3] = region.v;
                    uvs[4] = region.u2;
                    uvs[5] = region.v;
                    uvs[6] = region.u2;
                    uvs[7] = region.v2;
                }
            };
            RegionAttachment.prototype.computeWorldVertices = function (bone, worldVertices, offset, stride) {
                var vertexOffset = this.offset;
                var mat = bone.matrix;
                var x = mat.tx, y = mat.ty;
                var a = mat.a, b = mat.c, c = mat.b, d = mat.d;
                var offsetX = 0, offsetY = 0;
                offsetX = vertexOffset[RegionAttachment.OX1];
                offsetY = vertexOffset[RegionAttachment.OY1];
                worldVertices[offset] = offsetX * a + offsetY * b + x;
                worldVertices[offset + 1] = offsetX * c + offsetY * d + y;
                offset += stride;
                offsetX = vertexOffset[RegionAttachment.OX2];
                offsetY = vertexOffset[RegionAttachment.OY2];
                worldVertices[offset] = offsetX * a + offsetY * b + x;
                worldVertices[offset + 1] = offsetX * c + offsetY * d + y;
                offset += stride;
                offsetX = vertexOffset[RegionAttachment.OX3];
                offsetY = vertexOffset[RegionAttachment.OY3];
                worldVertices[offset] = offsetX * a + offsetY * b + x;
                worldVertices[offset + 1] = offsetX * c + offsetY * d + y;
                offset += stride;
                offsetX = vertexOffset[RegionAttachment.OX4];
                offsetY = vertexOffset[RegionAttachment.OY4];
                worldVertices[offset] = offsetX * a + offsetY * b + x;
                worldVertices[offset + 1] = offsetX * c + offsetY * d + y;
            };
            RegionAttachment.OX1 = 0;
            RegionAttachment.OY1 = 1;
            RegionAttachment.OX2 = 2;
            RegionAttachment.OY2 = 3;
            RegionAttachment.OX3 = 4;
            RegionAttachment.OY3 = 5;
            RegionAttachment.OX4 = 6;
            RegionAttachment.OY4 = 7;
            RegionAttachment.X1 = 0;
            RegionAttachment.Y1 = 1;
            RegionAttachment.C1R = 2;
            RegionAttachment.C1G = 3;
            RegionAttachment.C1B = 4;
            RegionAttachment.C1A = 5;
            RegionAttachment.U1 = 6;
            RegionAttachment.V1 = 7;
            RegionAttachment.X2 = 8;
            RegionAttachment.Y2 = 9;
            RegionAttachment.C2R = 10;
            RegionAttachment.C2G = 11;
            RegionAttachment.C2B = 12;
            RegionAttachment.C2A = 13;
            RegionAttachment.U2 = 14;
            RegionAttachment.V2 = 15;
            RegionAttachment.X3 = 16;
            RegionAttachment.Y3 = 17;
            RegionAttachment.C3R = 18;
            RegionAttachment.C3G = 19;
            RegionAttachment.C3B = 20;
            RegionAttachment.C3A = 21;
            RegionAttachment.U3 = 22;
            RegionAttachment.V3 = 23;
            RegionAttachment.X4 = 24;
            RegionAttachment.Y4 = 25;
            RegionAttachment.C4R = 26;
            RegionAttachment.C4G = 27;
            RegionAttachment.C4B = 28;
            RegionAttachment.C4A = 29;
            RegionAttachment.U4 = 30;
            RegionAttachment.V4 = 31;
            return RegionAttachment;
        }(core.Attachment));
        core.RegionAttachment = RegionAttachment;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var JitterEffect = (function () {
            function JitterEffect(jitterX, jitterY) {
                this.jitterX = 0;
                this.jitterY = 0;
                this.jitterX = jitterX;
                this.jitterY = jitterY;
            }
            JitterEffect.prototype.begin = function (skeleton) {
            };
            JitterEffect.prototype.transform = function (position, uv, light, dark) {
                position.x += core.MathUtils.randomTriangular(-this.jitterX, this.jitterY);
                position.y += core.MathUtils.randomTriangular(-this.jitterX, this.jitterY);
            };
            JitterEffect.prototype.end = function () {
            };
            return JitterEffect;
        }());
        core.JitterEffect = JitterEffect;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    var core;
    (function (core) {
        var SwirlEffect = (function () {
            function SwirlEffect(radius) {
                this.centerX = 0;
                this.centerY = 0;
                this.radius = 0;
                this.angle = 0;
                this.worldX = 0;
                this.worldY = 0;
                this.radius = radius;
            }
            SwirlEffect.prototype.begin = function (skeleton) {
                this.worldX = skeleton.x + this.centerX;
                this.worldY = skeleton.y + this.centerY;
            };
            SwirlEffect.prototype.transform = function (position, uv, light, dark) {
                var radAngle = this.angle * core.MathUtils.degreesToRadians;
                var x = position.x - this.worldX;
                var y = position.y - this.worldY;
                var dist = Math.sqrt(x * x + y * y);
                if (dist < this.radius) {
                    var theta = SwirlEffect.interpolation.apply(0, radAngle, (this.radius - dist) / this.radius);
                    var cos = Math.cos(theta);
                    var sin = Math.sin(theta);
                    position.x = cos * x - sin * y + this.worldX;
                    position.y = sin * x + cos * y + this.worldY;
                }
            };
            SwirlEffect.prototype.end = function () {
            };
            SwirlEffect.interpolation = new core.PowOut(2);
            return SwirlEffect;
        }());
        core.SwirlEffect = SwirlEffect;
    })(core = pixi_spine.core || (pixi_spine.core = {}));
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    PIXI.spine = pixi_spine;
    var TextureProto = PIXI.Texture.prototype;
    if (!TextureProto._updateUvs) {
        TextureProto._updateUvs = TextureProto.updateUvs;
    }
})(pixi_spine || (pixi_spine = {}));
var pixi_spine;
(function (pixi_spine) {
    function isJson(resource) {
        return resource.type === PIXI.loaders.Resource.TYPE.JSON;
    }
    function atlasParser() {
        return function (resource, next) {
            if (!resource.data ||
                !isJson(resource) ||
                !resource.data.bones) {
                return next();
            }
            var metadata = resource.metadata || {};
            var metadataSkeletonScale = metadata ? resource.metadata.spineSkeletonScale : null;
            var metadataAtlas = metadata ? resource.metadata.spineAtlas : null;
            if (metadataAtlas === false) {
                return next();
            }
            if (metadataAtlas && metadataAtlas.pages) {
                var spineJsonParser = new pixi_spine.core.SkeletonJson(new pixi_spine.core.AtlasAttachmentLoader(metadataAtlas));
                var skeletonData = spineJsonParser.readSkeletonData(resource.data);
                resource.spineData = skeletonData;
                resource.spineAtlas = metadataAtlas;
                return next();
            }
            var metadataAtlasSuffix = metadata.spineAtlasSuffix || '.atlas';
            var atlasPath = resource.url.substr(0, resource.url.lastIndexOf('.')) + metadataAtlasSuffix;
            if (resource.metadata && resource.metadata.spineAtlasFile) {
                atlasPath = resource.metadata.spineAtlasFile;
            }
            atlasPath = atlasPath.replace(this.baseUrl, '');
            var atlasOptions = {
                crossOrigin: resource.crossOrigin,
                xhrType: PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,
                metadata: metadata.spineMetadata || null,
                parentResource: resource
            };
            var imageOptions = {
                crossOrigin: resource.crossOrigin,
                metadata: metadata.imageMetadata || null,
                parentResource: resource
            };
            var baseUrl = resource.url.substr(0, resource.url.lastIndexOf('/') + 1);
            baseUrl = baseUrl.replace(this.baseUrl, '');
            var adapter = metadata.images ? staticImageLoader(metadata.images)
                : metadata.image ? staticImageLoader({ 'default': metadata.image })
                    : metadata.imageLoader ? metadata.imageLoader(this, resource.name + '_atlas_page_', baseUrl, imageOptions)
                        : imageLoaderAdapter(this, resource.name + '_atlas_page_', baseUrl, imageOptions);
            var createSkeletonWithRawAtlas = function (rawData) {
                new pixi_spine.core.TextureAtlas(rawData, adapter, function (spineAtlas) {
                    var spineJsonParser = new pixi_spine.core.SkeletonJson(new pixi_spine.core.AtlasAttachmentLoader(spineAtlas));
                    if (metadataSkeletonScale) {
                        spineJsonParser.scale = metadataSkeletonScale;
                    }
                    resource.spineData = spineJsonParser.readSkeletonData(resource.data);
                    resource.spineAtlas = spineAtlas;
                    next();
                });
            };
            if (resource.metadata && resource.metadata.atlasRawData) {
                createSkeletonWithRawAtlas(resource.metadata.atlasRawData);
            }
            else {
                this.add(resource.name + '_atlas', atlasPath, atlasOptions, function (atlasResource) {
                    createSkeletonWithRawAtlas(atlasResource.xhr.responseText);
                });
            }
        };
    }
    pixi_spine.atlasParser = atlasParser;
    function imageLoaderAdapter(loader, namePrefix, baseUrl, imageOptions) {
        if (baseUrl && baseUrl.lastIndexOf('/') !== (baseUrl.length - 1)) {
            baseUrl += '/';
        }
        return function (line, callback) {
            var name = namePrefix + line;
            var url = baseUrl + line;
            loader.add(name, url, imageOptions, function (resource) {
                callback(resource.texture.baseTexture);
            });
        };
    }
    pixi_spine.imageLoaderAdapter = imageLoaderAdapter;
    function syncImageLoaderAdapter(baseUrl, crossOrigin) {
        if (baseUrl && baseUrl.lastIndexOf('/') !== (baseUrl.length - 1)) {
            baseUrl += '/';
        }
        return function (line, callback) {
            callback(PIXI.BaseTexture.fromImage(line, crossOrigin));
        };
    }
    pixi_spine.syncImageLoaderAdapter = syncImageLoaderAdapter;
    function staticImageLoader(pages) {
        return function (line, callback) {
            var page = pages[line] || pages['default'];
            if (page && page.baseTexture)
                callback(page.baseTexture);
            else
                callback(page);
        };
    }
    pixi_spine.staticImageLoader = staticImageLoader;
    PIXI.loaders.Loader.addPixiMiddleware(atlasParser);
    PIXI.loader.use(atlasParser());
})(pixi_spine || (pixi_spine = {}));
(function () {
    if (!Math.fround) {
        Math.fround = Math.fround = (function (array) {
            return function (x) {
                return array[0] = x, array[0];
            };
        })(new Float32Array(1));
    }
})();
var pixi_spine;
(function (pixi_spine) {
    pixi_spine.core.Bone.yDown = true;
    var tempRgb = [0, 0, 0];
    var SpineSprite = (function (_super) {
        __extends(SpineSprite, _super);
        function SpineSprite() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.region = null;
            return _this;
        }
        return SpineSprite;
    }(PIXI.Sprite));
    pixi_spine.SpineSprite = SpineSprite;
    var SpineMesh = (function (_super) {
        __extends(SpineMesh, _super);
        function SpineMesh(texture, vertices, uvs, indices, drawMode) {
            return _super.call(this, texture, vertices, uvs, indices, drawMode) || this;
        }
        return SpineMesh;
    }(PIXI.mesh.Mesh));
    pixi_spine.SpineMesh = SpineMesh;
    var Spine = (function (_super) {
        __extends(Spine, _super);
        function Spine(spineData) {
            var _this = _super.call(this) || this;
            if (!spineData) {
                throw new Error('The spineData param is required.');
            }
            if ((typeof spineData) === "string") {
                throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');
            }
            _this.spineData = spineData;
            _this.skeleton = new pixi_spine.core.Skeleton(spineData);
            _this.skeleton.updateWorldTransform();
            _this.stateData = new pixi_spine.core.AnimationStateData(spineData);
            _this.state = new pixi_spine.core.AnimationState(_this.stateData);
            _this.slotContainers = [];
            _this.tempClipContainers = [];
            for (var i = 0, n = _this.skeleton.slots.length; i < n; i++) {
                var slot = _this.skeleton.slots[i];
                var attachment = slot.attachment;
                var slotContainer = _this.newContainer();
                _this.slotContainers.push(slotContainer);
                _this.addChild(slotContainer);
                _this.tempClipContainers.push(null);
                if (attachment instanceof pixi_spine.core.RegionAttachment) {
                    var spriteName = attachment.region.name;
                    var sprite = _this.createSprite(slot, attachment, spriteName);
                    slot.currentSprite = sprite;
                    slot.currentSpriteName = spriteName;
                    slotContainer.addChild(sprite);
                }
                else if (attachment instanceof pixi_spine.core.MeshAttachment) {
                    var mesh = _this.createMesh(slot, attachment);
                    slot.currentMesh = mesh;
                    slot.currentMeshName = attachment.name;
                    slotContainer.addChild(mesh);
                }
                else if (attachment instanceof pixi_spine.core.ClippingAttachment) {
                    _this.createGraphics(slot, attachment);
                    slotContainer.addChild(slot.clippingContainer);
                    slotContainer.addChild(slot.currentGraphics);
                }
                else {
                    continue;
                }
            }
            _this.autoUpdate = true;
            _this.tintRgb = new Float32Array([1, 1, 1]);
            return _this;
        }
        Object.defineProperty(Spine.prototype, "autoUpdate", {
            get: function () {
                return (this.updateTransform === Spine.prototype.autoUpdateTransform);
            },
            set: function (value) {
                this.updateTransform = value ? Spine.prototype.autoUpdateTransform : PIXI.Container.prototype.updateTransform;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(Spine.prototype, "tint", {
            get: function () {
                return PIXI.utils.rgb2hex(this.tintRgb);
            },
            set: function (value) {
                this.tintRgb = PIXI.utils.hex2rgb(value, this.tintRgb);
            },
            enumerable: true,
            configurable: true
        });
        Spine.prototype.update = function (dt) {
            this.state.update(dt);
            this.state.apply(this.skeleton);
            this.skeleton.updateWorldTransform();
            var slots = this.skeleton.slots;
            var globalClr = this.color;
            var light = null, dark = null;
            if (globalClr) {
                light = globalClr.light;
                dark = globalClr.dark;
            }
            else {
                light = this.tintRgb;
            }
            var thack = PIXI.TransformBase && (this.transformHack() == 1);
            for (var i = 0, n = slots.length; i < n; i++) {
                var slot = slots[i];
                var attachment = slot.attachment;
                var slotContainer = this.slotContainers[i];
                if (!attachment) {
                    slotContainer.visible = false;
                    continue;
                }
                var spriteColor = null;
                var attColor = attachment.color;
                if (attachment instanceof pixi_spine.core.RegionAttachment) {
                    var region = attachment.region;
                    if (region) {
                        if (slot.currentMesh) {
                            slot.currentMesh.visible = false;
                            slot.currentMesh = null;
                            slot.currentMeshName = undefined;
                        }
                        var ar = region;
                        if (!slot.currentSpriteName || slot.currentSpriteName !== ar.name) {
                            var spriteName = ar.name;
                            if (slot.currentSprite) {
                                slot.currentSprite.visible = false;
                            }
                            slot.sprites = slot.sprites || {};
                            if (slot.sprites[spriteName] !== undefined) {
                                slot.sprites[spriteName].visible = true;
                            }
                            else {
                                var sprite = this.createSprite(slot, attachment, spriteName);
                                slotContainer.addChild(sprite);
                            }
                            slot.currentSprite = slot.sprites[spriteName];
                            slot.currentSpriteName = spriteName;
                        }
                    }
                    if (slotContainer.transform) {
                        var transform = slotContainer.transform;
                        var transAny = transform;
                        var lt = null;
                        if (transAny.matrix2d) {
                            lt = transAny.matrix2d;
                            transAny._dirtyVersion++;
                            transAny.version = transAny._dirtyVersion;
                            transAny.isStatic = true;
                            transAny.operMode = 0;
                        }
                        else {
                            if (thack) {
                                if (transAny.position) {
                                    transform = new PIXI.TransformBase();
                                    transform._parentID = -1;
                                    transform._worldID = slotContainer.transform._worldID;
                                    slotContainer.transform = transform;
                                }
                                lt = transform.localTransform;
                            }
                            else {
                                transAny.setFromMatrix(slot.bone.matrix);
                            }
                        }
                        if (lt) {
                            slot.bone.matrix.copy(lt);
                        }
                    }
                    else {
                        var lt = slotContainer.localTransform || new PIXI.Matrix();
                        slot.bone.matrix.copy(lt);
                        slotContainer.localTransform = lt;
                        slotContainer.displayObjectUpdateTransform = SlotContainerUpdateTransformV3;
                    }
                    if (slot.currentSprite.color) {
                        spriteColor = slot.currentSprite.color;
                    }
                    else {
                        tempRgb[0] = light[0] * slot.color.r * attColor.r;
                        tempRgb[1] = light[1] * slot.color.g * attColor.g;
                        tempRgb[2] = light[2] * slot.color.b * attColor.b;
                        slot.currentSprite.tint = PIXI.utils.rgb2hex(tempRgb);
                    }
                    slot.currentSprite.blendMode = slot.blendMode;
                }
                else if (attachment instanceof pixi_spine.core.MeshAttachment) {
                    if (slot.currentSprite) {
                        slot.currentSprite.visible = false;
                        slot.currentSprite = null;
                        slot.currentSpriteName = undefined;
                        if (slotContainer.transform) {
                            var transform = new PIXI.TransformStatic();
                            transform._parentID = -1;
                            transform._worldID = slotContainer.transform._worldID;
                            slotContainer.transform = transform;
                        }
                        else {
                            slotContainer.localTransform = new PIXI.Matrix();
                            slotContainer.displayObjectUpdateTransform = PIXI.DisplayObject.prototype.updateTransform;
                        }
                    }
                    if (!slot.currentMeshName || slot.currentMeshName !== attachment.name) {
                        var meshName = attachment.name;
                        if (slot.currentMesh) {
                            slot.currentMesh.visible = false;
                        }
                        slot.meshes = slot.meshes || {};
                        if (slot.meshes[meshName] !== undefined) {
                            slot.meshes[meshName].visible = true;
                        }
                        else {
                            var mesh = this.createMesh(slot, attachment);
                            slotContainer.addChild(mesh);
                        }
                        slot.currentMesh = slot.meshes[meshName];
                        slot.currentMeshName = meshName;
                    }
                    attachment.computeWorldVerticesOld(slot, slot.currentMesh.vertices);
                    if (slot.currentMesh.color) {
                        spriteColor = slot.currentMesh.color;
                    }
                    else if (PIXI.VERSION[0] !== '3') {
                        var tintRgb = slot.currentMesh.tintRgb;
                        tintRgb[0] = light[0] * slot.color.r * attColor.r;
                        tintRgb[1] = light[1] * slot.color.g * attColor.g;
                        tintRgb[2] = light[2] * slot.color.b * attColor.b;
                    }
                    slot.currentMesh.blendMode = slot.blendMode;
                }
                else if (attachment instanceof pixi_spine.core.ClippingAttachment) {
                    if (!slot.currentGraphics) {
                        this.createGraphics(slot, attachment);
                        slotContainer.addChild(slot.clippingContainer);
                        slotContainer.addChild(slot.currentGraphics);
                    }
                    this.updateGraphics(slot, attachment);
                }
                else {
                    slotContainer.visible = false;
                    continue;
                }
                slotContainer.visible = true;
                if (spriteColor) {
                    var r0 = slot.color.r * attColor.r;
                    var g0 = slot.color.g * attColor.g;
                    var b0 = slot.color.b * attColor.b;
                    spriteColor.setLight(light[0] * r0 + dark[0] * (1.0 - r0), light[1] * g0 + dark[1] * (1.0 - g0), light[2] * b0 + dark[2] * (1.0 - b0));
                    if (slot.darkColor) {
                        r0 = slot.darkColor.r;
                        g0 = slot.darkColor.g;
                        b0 = slot.darkColor.b;
                    }
                    else {
                        r0 = 0.0;
                        g0 = 0.0;
                        b0 = 0.0;
                    }
                    spriteColor.setDark(light[0] * r0 + dark[0] * (1 - r0), light[1] * g0 + dark[1] * (1 - g0), light[2] * b0 + dark[2] * (1 - b0));
                }
                slotContainer.alpha = slot.color.a;
            }
            var drawOrder = this.skeleton.drawOrder;
            var clippingAttachment = null;
            var clippingContainer = null;
            for (var i = 0, n = drawOrder.length; i < n; i++) {
                var slot = slots[drawOrder[i].data.index];
                var slotContainer = this.slotContainers[drawOrder[i].data.index];
                if (!clippingContainer) {
                    if (slotContainer.parent !== this) {
                        slotContainer.parent.removeChild(slotContainer);
                        slotContainer.parent = this;
                    }
                }
                if (slot.currentGraphics && slot.attachment) {
                    clippingContainer = slot.clippingContainer;
                    clippingAttachment = slot.attachment;
                    clippingContainer.children.length = 0;
                    this.children[i] = slotContainer;
                    if (clippingAttachment.endSlot == slot.data) {
                        clippingAttachment.endSlot = null;
                    }
                }
                else {
                    if (clippingContainer) {
                        var c = this.tempClipContainers[i];
                        if (!c) {
                            c = this.tempClipContainers[i] = this.newContainer();
                            c.visible = false;
                        }
                        this.children[i] = c;
                        slotContainer.parent = null;
                        clippingContainer.addChild(slotContainer);
                        if (clippingAttachment.endSlot == slot.data) {
                            clippingContainer.renderable = true;
                            clippingContainer = null;
                            clippingAttachment = null;
                        }
                    }
                    else {
                        this.children[i] = slotContainer;
                    }
                }
            }
        };
        ;
        Spine.prototype.setSpriteRegion = function (attachment, sprite, region) {
            sprite.region = region;
            sprite.texture = region.texture;
            if (!region.size) {
                sprite.scale.x = attachment.scaleX * attachment.width / region.originalWidth;
                sprite.scale.y = -attachment.scaleY * attachment.height / region.originalHeight;
            }
            else {
                sprite.scale.x = region.size.width / region.originalWidth;
                sprite.scale.y = -region.size.height / region.originalHeight;
            }
        };
        Spine.prototype.setMeshRegion = function (attachment, mesh, region) {
            mesh.region = region;
            mesh.texture = region.texture;
            region.texture._updateUvs();
            attachment.updateUVs(region, mesh.uvs);
            mesh.dirty++;
        };
        Spine.prototype.autoUpdateTransform = function () {
            if (Spine.globalAutoUpdate) {
                this.lastTime = this.lastTime || Date.now();
                var timeDelta = (Date.now() - this.lastTime) * 0.001;
                this.lastTime = Date.now();
                this.update(timeDelta);
            }
            else {
                this.lastTime = 0;
            }
            PIXI.Container.prototype.updateTransform.call(this);
        };
        ;
        Spine.prototype.createSprite = function (slot, attachment, defName) {
            var region = attachment.region;
            if (slot.tempAttachment === attachment) {
                region = slot.tempRegion;
                slot.tempAttachment = null;
                slot.tempRegion = null;
            }
            var texture = region.texture;
            var sprite = this.newSprite(texture);
            sprite.rotation = attachment.rotation * pixi_spine.core.MathUtils.degRad;
            sprite.anchor.x = 0.5;
            sprite.anchor.y = 0.5;
            sprite.position.x = attachment.x;
            sprite.position.y = attachment.y;
            sprite.alpha = attachment.color.a;
            sprite.region = attachment.region;
            this.setSpriteRegion(attachment, sprite, attachment.region);
            slot.sprites = slot.sprites || {};
            slot.sprites[defName] = sprite;
            return sprite;
        };
        ;
        Spine.prototype.createMesh = function (slot, attachment) {
            var region = attachment.region;
            if (slot.tempAttachment === attachment) {
                region = slot.tempRegion;
                slot.tempAttachment = null;
                slot.tempRegion = null;
            }
            var strip = this.newMesh(region.texture, new Float32Array(attachment.regionUVs.length), new Float32Array(attachment.regionUVs.length), new Uint16Array(attachment.triangles), PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);
            strip.canvasPadding = 1.5;
            strip.alpha = attachment.color.a;
            strip.region = attachment.region;
            this.setMeshRegion(attachment, strip, region);
            slot.meshes = slot.meshes || {};
            slot.meshes[attachment.name] = strip;
            return strip;
        };
        ;
        Spine.prototype.createGraphics = function (slot, clip) {
            var graphics = this.newGraphics();
            var poly = new PIXI.Polygon([]);
            graphics.clear();
            graphics.beginFill(0xffffff, 1);
            graphics.drawPolygon(poly);
            graphics.renderable = false;
            slot.currentGraphics = graphics;
            slot.clippingContainer = this.newContainer();
            slot.clippingContainer.mask = slot.currentGraphics;
            return graphics;
        };
        Spine.prototype.updateGraphics = function (slot, clip) {
            var vertices = slot.currentGraphics.graphicsData[0].shape.points;
            var n = clip.worldVerticesLength;
            vertices.length = n;
            clip.computeWorldVertices(slot, 0, n, vertices, 0, 2);
            slot.currentGraphics.dirty++;
            slot.currentGraphics.clearDirty++;
        };
        Spine.prototype.hackTextureBySlotIndex = function (slotIndex, texture, size) {
            if (texture === void 0) { texture = null; }
            if (size === void 0) { size = null; }
            var slot = this.skeleton.slots[slotIndex];
            if (!slot) {
                return false;
            }
            var attachment = slot.attachment;
            var region = attachment.region;
            if (texture) {
                region = new pixi_spine.core.TextureRegion();
                region.texture = texture;
                region.size = size;
            }
            if (slot.currentSprite && slot.currentSprite.region != region) {
                this.setSpriteRegion(attachment, slot.currentSprite, region);
                slot.currentSprite.region = region;
            }
            else if (slot.currentMesh && slot.currentMesh.region != region) {
                this.setMeshRegion(attachment, slot.currentMesh, region);
            }
            else {
                slot.tempRegion = region;
                slot.tempAttachment = attachment;
            }
            return true;
        };
        Spine.prototype.hackTextureBySlotName = function (slotName, texture, size) {
            if (texture === void 0) { texture = null; }
            if (size === void 0) { size = null; }
            var index = this.skeleton.findSlotIndex(slotName);
            if (index == -1) {
                return false;
            }
            return this.hackTextureBySlotIndex(index, texture, size);
        };
        Spine.prototype.newContainer = function () {
            return new PIXI.Container();
        };
        Spine.prototype.newSprite = function (tex) {
            return new SpineSprite(tex);
        };
        Spine.prototype.newGraphics = function () {
            return new PIXI.Graphics();
        };
        Spine.prototype.newMesh = function (texture, vertices, uvs, indices, drawMode) {
            return new SpineMesh(texture, vertices, uvs, indices, drawMode);
        };
        Spine.prototype.transformHack = function () {
            return 1;
        };
        Spine.globalAutoUpdate = true;
        Spine.clippingPolygon = [];
        return Spine;
    }(PIXI.Container));
    pixi_spine.Spine = Spine;
    function SlotContainerUpdateTransformV3() {
        var pt = this.parent.worldTransform;
        var wt = this.worldTransform;
        var lt = this.localTransform;
        wt.a = lt.a * pt.a + lt.b * pt.c;
        wt.b = lt.a * pt.b + lt.b * pt.d;
        wt.c = lt.c * pt.a + lt.d * pt.c;
        wt.d = lt.c * pt.b + lt.d * pt.d;
        wt.tx = lt.tx * pt.a + lt.ty * pt.c + pt.tx;
        wt.ty = lt.tx * pt.b + lt.ty * pt.d + pt.ty;
        this.worldAlpha = this.alpha * this.parent.worldAlpha;
        this._currentBounds = null;
    }
})(pixi_spine || (pixi_spine = {}));
//# sourceMappingURL=pixi-spine.js.map
!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=110)}([function(t,e,n){"use strict";function i(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}e.a=i;var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};Object.assign},function(t,e,n){"use strict";var i=n(288);n.d(e,"Sound",function(){return i.a});var o=n(49);n.d(e,"SoundManager",function(){return o.a});var r=n(287);n.d(e,"SoundManagerEvent",function(){return r.a});var a=n(283);n.d(e,"Mapping",function(){return a.a});var s=n(8);n.d(e,"EventDispatcher",function(){return s.a});var u=n(282);n.d(e,"Map",function(){return u.a});var l=n(278);n.d(e,"Dictionary",function(){return l.a});var c=n(281);n.d(e,"Lock",function(){return c.a});var d=n(254);n.d(e,"EventMapping",function(){return d.a});var p=n(268);n.d(e,"ButtonEvent",function(){return p.a});var h=n(280);n.d(e,"List",function(){return h.a});var f=n(271);n.d(e,"Mediator",function(){return f.a});var M=n(253);n.d(e,"Context",function(){return M.a});var y=n(41);n.d(e,"inject",function(){return y.a}),n.d(e,"createMediator",function(){return y.b}),n.d(e,"destroyMediator",function(){return y.c}),n.d(e,"destroyView",function(){return y.d}),n.d(e,"getViewComponent",function(){return y.e}),n.d(e,"getView",function(){return y.f}),n.d(e,"getServerModels",function(){return y.g}),n.d(e,"viewComponentExists",function(){return y.h});var m=n(272);n.d(e,"BaseModel",function(){return m.a});var g=n(266);n.d(e,"KeyboardEventManager",function(){return g.a});var S=n(269);n.d(e,"KeyboardEvent",function(){return S.a});var v=n(270);n.d(e,"RenderManagerEvent",function(){return v.a});var A=n(277);n.d(e,"ApplicationModule",function(){return A.a});var b=n(264);n.d(e,"ContentManager",function(){return b.a});var E=n(265);n.d(e,"DOMManager",function(){return E.a});var C=n(42);n.d(e,"DOMEventType",function(){return C.a});var P=n(300);n.d(e,"NumberUtils",function(){return P.a});var L=n(294);n.d(e,"StringUtils",function(){return L.a});var I=n(292);n.d(e,"MatrixUtils",function(){return I.a});var w=n(296);n.d(e,"TweenConstants",function(){return w.a});var T=n(289);n.d(e,"ArrayUtils",function(){return T.a});var _=n(297);n.d(e,"UniqueUtils",function(){return _.a});var k=n(293);n.d(e,"ObjectUtils",function(){return k.a});var R=(n(290),n(301));n.d(e,"TimeoutUtils",function(){return R.a});var B=(n(291),n(246));n.d(e,"Action",function(){return B.a});var O=n(247);n.d(e,"ActionManager",function(){return O.a});var x=(n(248),n(249),n(255));n.d(e,"InjectionMapping",function(){return x.a});var N=n(256);n.d(e,"Kernel",function(){return N.a});var W=n(261);n.d(e,"ViewInjectionMapping",function(){return W.a});var D=n(257);n.d(e,"MediatorInjectionMapping",function(){return D.a});var G=n(258);n.d(e,"MediatorProvider",function(){return G.a});var F=n(263);n.d(e,"ViewProvider",function(){return F.a});var V=n(299);n.d(e,"MoneyFormatterConfig",function(){return V.a});var U=n(298);n.d(e,"MoneyFormatterUtils",function(){return U.a});var H=n(295);n.d(e,"Tween",function(){return H.a});var j=n(262);n.d(e,"ViewInjectionMappingCollection",function(){return j.a});var Y=n(285);n.d(e,"ValidatedTape",function(){return Y.a});var K=n(279);n.d(e,"FrameValidation",function(){return K.a});var z=(n(284),n(259));n.d(e,"ModelInjectionMapping",function(){return z.a});var X=n(260);n.d(e,"ModelProvider",function(){return X.a});var J=n(267);n.d(e,"LoadManager",function(){return J.a});var q=(n(43),n(250),n(10));n.d(e,"LibraryAssetEvent",function(){return q.a});var Z=n(11);n.d(e,"FileLoader",function(){return Z.a});var Q=(n(37),n(38),n(18),n(40),n(39),n(252),n(251));n.n(Q);n.o(Q,"JsonCache")&&n.d(e,"JsonCache",function(){return Q.JsonCache}),n.o(Q,"ApplicationAssetsLoader")&&n.d(e,"ApplicationAssetsLoader",function(){return Q.ApplicationAssetsLoader}),n.o(Q,"AssetLoadingQueueEvent")&&n.d(e,"AssetLoadingQueueEvent",function(){return Q.AssetLoadingQueueEvent}),n.o(Q,"SBResourceEvent")&&n.d(e,"SBResourceEvent",function(){return Q.SBResourceEvent}),n.o(Q,"LoaderProvider")&&n.d(e,"LoaderProvider",function(){return Q.LoaderProvider}),n.o(Q,"ReelsSettings")&&n.d(e,"ReelsSettings",function(){return Q.ReelsSettings});var $=(n(50),n(286));n.d(e,"ReelsSettings",function(){return $.a});var tt=n(44);n.d(e,"AssetLoadingQueueEvent",function(){return tt.a});var et=n(14);n.d(e,"SBResourceEvent",function(){return et.a});var nt=n(274);n.d(e,"ApplicationAssetsLoader",function(){return nt.a});var it=(n(48),n(47),n(46));n.d(e,"LoaderProvider",function(){return it.a});var ot=n(275);n.d(e,"JsonCache",function(){return ot.a});var rt=n(273);n.n(rt)},function(t,e,n){"use strict";var i=n(492);n.d(e,"SlotApplicationModule",function(){return i.a});var o=n(346);n.d(e,"PopupContainerId",function(){return o.a});var r=n(302);n.d(e,"CommonExtensionLoader",function(){return r.a});var a=n(305);n.d(e,"Event",function(){return a.a});var s=n(475);n.d(e,"UIModule",function(){return s.a});var u=n(478);n.d(e,"UIModel",function(){return u.a});var l=n(476);n.d(e,"UIEvent",function(){return l.a});var c=n(477);n.d(e,"UIModelEvent",function(){return c.a});var d=n(479);n.d(e,"AnimationUtils",function(){return d.a});var p=(n(480),n(481));n.d(e,"UtilsModule",function(){return p.a});var h=n(482);n.d(e,"UtilsConstants",function(){return h.a});var f=n(53);n.d(e,"WinUtils",function(){return f.a});var M=n(483);n.d(e,"WinModule",function(){return M.a});var y=n(343);n.d(e,"BetHelper",function(){return y.a});var m=n(345);n.d(e,"RegularBetHelper",function(){return m.a});var g=n(344);n.d(e,"MultiplierBetHelper",function(){return g.a});var S=n(342);n.d(e,"RegularBetHelperModule",function(){return S.a});var v=(n(341),n(423));n.d(e,"ReelsMediator",function(){return v.a});var A=n(368);n.d(e,"ReelsManager",function(){return A.a}),n.d(e,"SlotState",function(){return A.b});var b=n(420);n.d(e,"ReelsModuleConstant",function(){return b.a});var E=n(426);n.d(e,"ReelsAreaView",function(){return E.a});var C=n(427);n.d(e,"SingleReelView",function(){return C.a});var P=n(417);n.d(e,"ReelsModule",function(){return P.a});var L=n(418);n.d(e,"InitAllReelsAction",function(){return L.a});var I=n(419);n.d(e,"RestoreInitAllReelsAction",function(){return I.a});var w=n(425);n.d(e,"TapeCreator",function(){return w.a});var T=n(428);n.d(e,"RegulationsModule",function(){return T.a});var _=n(430);n.d(e,"RegulationsConstant",function(){return _.a});var k=n(429);n.d(e,"RegulationsAction",function(){return k.a});var R=n(431);n.d(e,"RegulationsEvent",function(){return R.a});var B=n(432);n.d(e,"RegulationsManager",function(){return B.a});var O=n(433);n.d(e,"RegulationsModel",function(){return O.a});var x=n(440);n.d(e,"ServerModule",function(){return x.a});var N=n(441);n.d(e,"ServerEventType",function(){return N.a});var W=n(443);n.d(e,"ServerRequestType",function(){return W.a});var D=n(442);n.d(e,"ServerReelSetType",function(){return D.a});var G=n(444);n.d(e,"ServerRewardType",function(){return G.a});var F=n(445);n.d(e,"ServerService",function(){return F.a});var V=n(446);n.d(e,"ServerUtils",function(){return V.a});var U=n(385);n.d(e,"InfoBarModuleConstant",function(){return U.a});var H=n(52);n.d(e,"InfoBarEvent",function(){return H.a});var j=n(386);n.d(e,"MessageFactory",function(){return j.a});var Y=n(387);n.d(e,"TargetedTextsParser",function(){return Y.a});var K=n(389);n.d(e,"InfoBarMediator",function(){return K.a});var z=n(388);n.d(e,"InfoBarToggleManager",function(){return z.a});var X=n(384);n.d(e,"InfoBarModule",function(){return X.a});var J=n(390);n.d(e,"InfoBarView",function(){return J.a});var q=n(406);n.d(e,"PayTableModuleConstant",function(){return q.a});var Z=n(410);n.d(e,"PayTableMediator",function(){return Z.a});var Q=n(411);n.d(e,"PaytableUIMediator",function(){return Q.a});var $=n(414);n.d(e,"PayTableView",function(){return $.a});var tt=n(415);n.d(e,"PayTableViewMobile",function(){return tt.a});var et=n(416);n.d(e,"PaytableUIView",function(){return et.a});var nt=n(413);n.d(e,"ButtonCtrl",function(){return nt.a});var it=n(408);n.d(e,"PaytableEvents",function(){return it.a});var ot=n(407);n.d(e,"PayTableModelEvents",function(){return ot.a});var rt=n(409);n.d(e,"PayTableManager",function(){return rt.a});var at=n(412);n.d(e,"PayTableModel",function(){return at.a});var st=n(405);n.d(e,"PayTableModule",function(){return st.a});var ut=n(396);n.d(e,"MainScreenEvents",function(){return ut.a});var lt=n(395);n.d(e,"MainScreenModuleConstant",function(){return lt.a});var ct=n(397);n.d(e,"MainScreenMediator",function(){return ct.a});var dt=n(398);n.d(e,"MainScreenView",function(){return dt.a});var pt=n(394);n.d(e,"MainScreenModule",function(){return pt.a});var ht=n(304);n.d(e,"EngineContext",function(){return ht.a});var ft=n(312);n.d(e,"BaseModelsModule",function(){return ft.a});var Mt=n(340);n.d(e,"ReelUtils",function(){return Mt.a});var yt=n(332);n.d(e,"SymbolPositionsModel",function(){return yt.a});var mt=n(329);n.d(e,"SlotModel",function(){return mt.a});var gt=n(339);n.d(e,"StakesModel",function(){return gt.a});var St=n(333);n.d(e,"TurboModeModel",function(){return St.a});var vt=n(335);n.d(e,"WinBoxModel",function(){return vt.a});var At=n(334);n.d(e,"UserModel",function(){return At.a});var bt=n(330);n.d(e,"SlotStateVO",function(){return bt.a});var Et=n(338);n.d(e,"LineUtils",function(){return Et.a});var Ct=n(336);n.d(e,"GameDataModel",function(){return Ct.a});var Pt=n(337);n.d(e,"GameDataParserJson",function(){return Pt.a});var Lt=n(331);n.d(e,"SlotViewModel",function(){return Lt.a});var It=n(328);n.d(e,"FeaturesModel",function(){return It.a});var wt=n(313);n.d(e,"BaseRewardVO",function(){return wt.a});var Tt=n(317);n.d(e,"LineRewardVO",function(){return Tt.a});var _t=n(316);n.d(e,"LineRewardDirectionType",function(){return _t.a});var kt=n(320);n.d(e,"ScatterRewardVO",function(){return kt.a});var Rt=n(321);n.d(e,"WaysRewardVO",function(){return Rt.a});var Bt=n(315);n.d(e,"InstantCashRewardVO",function(){return Bt.a});var Ot=n(322);n.d(e,"WinningLineConfigVO",function(){return Ot.a});var xt=n(314);n.d(e,"FinalSymbolStateVO",function(){return xt.a});var Nt=n(318);n.d(e,"LineWinningDataVO",function(){return Nt.a});var Wt=n(319);n.d(e,"PayoutVO",function(){return Wt.a});var Dt=n(325);n.d(e,"TurboModeModelEvent",function(){return Dt.a});var Gt=n(326);n.d(e,"WinBoxModelEvent",function(){return Gt.a});var Ft=n(324);n.d(e,"StakesModelEvent",function(){return Ft.a});var Vt=n(323);n.d(e,"SlotModelEvent",function(){return Vt.a});var Ut=n(327);n.d(e,"FeaturesManager",function(){return Ut.a});var Ht=n(434);n.d(e,"RewardsModule",function(){return Ht.a});var jt=n(435);n.d(e,"RewardsModel",function(){return jt.a});var Yt=n(437);n.d(e,"LineRewardParser",function(){return Yt.a});var Kt=n(438);n.d(e,"ScatterRewardParser",function(){return Kt.a});var zt=n(439);n.d(e,"WaysRewardParser",function(){return zt.a});var Xt=(n(436),n(424));n.d(e,"SingleReelModel",function(){return Xt.a});var Jt=n(369);n.d(e,"ReelVO",function(){return Jt.a});var qt=n(370);n.d(e,"SpinConfigVO",function(){return qt.a});var Zt=n(421);n.d(e,"ReelsEvents",function(){return Zt.a});var Qt=n(422);n.d(e,"SingleReelModelEvent",function(){return Qt.a});var $t=n(349);n.d(e,"GameFlowModule",function(){return $t.a});var te=n(358);n.d(e,"GameFlowManager",function(){return te.a});var ee=n(356);n.d(e,"StartGameAction",function(){return ee.a});var ne=n(354);n.d(e,"RunGameAction",function(){return ne.a});var ie=n(352);n.d(e,"ReelsPlayAction",function(){return ie.a});var oe=n(357);n.d(e,"WinningPlayAction",function(){return oe.a});var re=n(353);n.d(e,"RestoreGameAction",function(){return re.a});var ae=n(355);n.d(e,"ShowGameSceneAction",function(){return ae.a});var se=n(351);n.d(e,"PrepareGameAction",function(){return se.a});var ue=n(350);n.d(e,"LazyPrepareGameAction",function(){return ue.a});var le=n(348);n.d(e,"FiveOfKindEvents",function(){return le.a});var ce=n(364);n.d(e,"GameStartModule",function(){return ce.a});var de=n(367);n.d(e,"StartMediator",function(){return de.a});var pe=n(365);n.d(e,"DefaultShowStartGameAction",function(){return pe.a});var he=n(373);n.d(e,"StartScene",function(){return he.a});var fe=n(371);n.d(e,"LoaderBar",function(){return fe.a});var Me=n(372);n.d(e,"PlayBtn",function(){return Me.a});var ye=n(366);n.d(e,"GameStartModuleConstant",function(){return ye.a});var me=n(361);n.d(e,"GameRunEvents",function(){return me.a});var ge=n(360);n.d(e,"GameRunModuleConstant",function(){return ge.a});var Se=n(359);n.d(e,"GameRunModule",function(){return Se.a});var ve=n(362);n.d(e,"GameRunMediator",function(){return ve.a});var Ae=n(363);n.d(e,"GameRunScene",function(){return Ae.a});var be=n(464);n.d(e,"SymbolAnimationEvents",function(){return be.a});var Ee=n(457);n.d(e,"SymbolsModuleConstant",function(){return Ee.a});var Ce=n(456);n.d(e,"SymbolsModule",function(){return Ce.a});var Pe=n(465);n.d(e,"SymbolManager",function(){return Pe.a});var Le=n(473);n.d(e,"SymbolAnimationsView",function(){return Le.a});var Ie=n(474);n.d(e,"SymbolView",function(){return Ie.a});var we=n(472);n.d(e,"AnimationClip",function(){return we.a});var Te=n(471);n.d(e,"SymbolsCache",function(){return Te.a});var _e=n(466);n.d(e,"SymbolAnimationsMediator",function(){return _e.a});var ke=n(470);n.d(e,"SymbolModel",function(){return ke.a});var Re=n(469);n.d(e,"SymbolConfigModel",function(){return Re.a});var Be=n(468);n.d(e,"SymbolAnimationVO",function(){return Be.a});var Oe=n(467);n.d(e,"SymbolAnimationType",function(){return Oe.a});var xe=n(458);n.d(e,"MovieClipSymbol",function(){return xe.a});var Ne=n(459);n.d(e,"SpineSymbol",function(){return Ne.a});var We=n(460);n.d(e,"StaticSymbol",function(){return We.a});var De=(n(12),n(462));n.d(e,"TimelineSymbol",function(){return De.a});var Ge=n(461);n.d(e,"SymbolsFactory",function(){return Ge.a});var Fe=n(463);n.d(e,"AnimationClipEvent",function(){return Fe.a});var Ve=n(215);n.n(Ve);n.o(Ve,"EngineActivator")&&n.d(e,"EngineActivator",function(){return Ve.EngineActivator}),n.o(Ve,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return Ve.WinCappingModule}),n.o(Ve,"JackpotManager")&&n.d(e,"JackpotManager",function(){return Ve.JackpotManager}),n.o(Ve,"JackpotModel")&&n.d(e,"JackpotModel",function(){return Ve.JackpotModel}),n.o(Ve,"ContextModel")&&n.d(e,"ContextModel",function(){return Ve.ContextModel}),n.o(Ve,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return Ve.MoneyFormatterUtils}),n.o(Ve,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return Ve.MoneyFormatterConfig}),n.o(Ve,"WrapperManager")&&n.d(e,"WrapperManager",function(){return Ve.WrapperManager}),n.o(Ve,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return Ve.WinCappingModel}),n.o(Ve,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return Ve.WinCappingAction}),n.o(Ve,"SwipeManager")&&n.d(e,"SwipeManager",function(){return Ve.SwipeManager}),n.o(Ve,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return Ve.BalanceManagerEventType}),n.o(Ve,"BalanceManager")&&n.d(e,"BalanceManager",function(){return Ve.BalanceManager}),n.o(Ve,"APIModel")&&n.d(e,"APIModel",function(){return Ve.APIModel}),n.o(Ve,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return Ve.HelpLauncherView}),n.o(Ve,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return Ve.HelpLauncherConstants}),n.o(Ve,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return Ve.HelpLauncherMediator}),n.o(Ve,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return Ve.HelpLauncherEvents}),n.o(Ve,"HeaderView")&&n.d(e,"HeaderView",function(){return Ve.HeaderView}),n.o(Ve,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return Ve.HeaderModuleConstant}),n.o(Ve,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return Ve.HeaderMediator}),n.o(Ve,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return Ve.HeaderEvents}),n.o(Ve,"FrameValidation")&&n.d(e,"FrameValidation",function(){return Ve.FrameValidation}),n.o(Ve,"AutoPlayModeEvent")&&n.d(e,"AutoPlayModeEvent",function(){return Ve.AutoPlayModeEvent}),n.o(Ve,"AutoPlayModeModel")&&n.d(e,"AutoPlayModeModel",function(){return Ve.AutoPlayModeModel}),n.o(Ve,"SlotSoundsModuleConstants")&&n.d(e,"SlotSoundsModuleConstants",function(){return Ve.SlotSoundsModuleConstants}),n.o(Ve,"AmbientSoundType")&&n.d(e,"AmbientSoundType",function(){return Ve.AmbientSoundType}),n.o(Ve,"AmbientSoundsManager")&&n.d(e,"AmbientSoundsManager",function(){return Ve.AmbientSoundsManager}),n.o(Ve,"SlotSoundsUtils")&&n.d(e,"SlotSoundsUtils",function(){return Ve.SlotSoundsUtils}),n.o(Ve,"ResourceId")&&n.d(e,"ResourceId",function(){return Ve.ResourceId}),n.o(Ve,"GenericSounds")&&n.d(e,"GenericSounds",function(){return Ve.GenericSounds}),n.o(Ve,"BackgroundManager")&&n.d(e,"BackgroundManager",function(){return Ve.BackgroundManager}),n.o(Ve,"ValidatedTape")&&n.d(e,"ValidatedTape",function(){return Ve.ValidatedTape}),n.o(Ve,"SlotInitSettings")&&n.d(e,"SlotInitSettings",function(){return Ve.SlotInitSettings}),n.o(Ve,"ContextModule")&&n.d(e,"ContextModule",function(){return Ve.ContextModule}),n.o(Ve,"APIModule")&&n.d(e,"APIModule",function(){return Ve.APIModule}),n.o(Ve,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return Ve.MoneyFormatterModule}),n.o(Ve,"SwipeModule")&&n.d(e,"SwipeModule",function(){return Ve.SwipeModule}),n.o(Ve,"AutoPlayModeModule")&&n.d(e,"AutoPlayModeModule",function(){return Ve.AutoPlayModeModule}),n.o(Ve,"SoundsModule")&&n.d(e,"SoundsModule",function(){return Ve.SoundsModule}),n.o(Ve,"WrapperModule")&&n.d(e,"WrapperModule",function(){return Ve.WrapperModule}),n.o(Ve,"ManagersModule")&&n.d(e,"ManagersModule",function(){return Ve.ManagersModule}),n.o(Ve,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return Ve.CollapsingSlotModel}),n.o(Ve,"SoundReelSet")&&n.d(e,"SoundReelSet",function(){return Ve.SoundReelSet}),n.o(Ve,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return Ve.HelpLauncherModule});var Ue=n(221);n.n(Ue);n.o(Ue,"EngineActivator")&&n.d(e,"EngineActivator",function(){return Ue.EngineActivator}),n.o(Ue,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return Ue.WinCappingModule}),n.o(Ue,"JackpotManager")&&n.d(e,"JackpotManager",function(){return Ue.JackpotManager}),n.o(Ue,"JackpotModel")&&n.d(e,"JackpotModel",function(){return Ue.JackpotModel}),n.o(Ue,"ContextModel")&&n.d(e,"ContextModel",function(){return Ue.ContextModel}),n.o(Ue,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return Ue.MoneyFormatterUtils}),n.o(Ue,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return Ue.MoneyFormatterConfig}),n.o(Ue,"WrapperManager")&&n.d(e,"WrapperManager",function(){return Ue.WrapperManager}),n.o(Ue,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return Ue.WinCappingModel}),n.o(Ue,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return Ue.WinCappingAction}),n.o(Ue,"SwipeManager")&&n.d(e,"SwipeManager",function(){return Ue.SwipeManager}),n.o(Ue,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return Ue.BalanceManagerEventType}),n.o(Ue,"BalanceManager")&&n.d(e,"BalanceManager",function(){return Ue.BalanceManager}),n.o(Ue,"APIModel")&&n.d(e,"APIModel",function(){return Ue.APIModel}),n.o(Ue,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return Ue.HelpLauncherView}),n.o(Ue,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return Ue.HelpLauncherConstants}),n.o(Ue,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return Ue.HelpLauncherMediator}),n.o(Ue,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return Ue.HelpLauncherEvents}),n.o(Ue,"HeaderView")&&n.d(e,"HeaderView",function(){return Ue.HeaderView}),n.o(Ue,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return Ue.HeaderModuleConstant}),n.o(Ue,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return Ue.HeaderMediator}),n.o(Ue,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return Ue.HeaderEvents}),n.o(Ue,"FrameValidation")&&n.d(e,"FrameValidation",function(){return Ue.FrameValidation}),n.o(Ue,"AutoPlayModeEvent")&&n.d(e,"AutoPlayModeEvent",function(){return Ue.AutoPlayModeEvent}),n.o(Ue,"AutoPlayModeModel")&&n.d(e,"AutoPlayModeModel",function(){return Ue.AutoPlayModeModel}),n.o(Ue,"SlotSoundsModuleConstants")&&n.d(e,"SlotSoundsModuleConstants",function(){return Ue.SlotSoundsModuleConstants}),n.o(Ue,"AmbientSoundType")&&n.d(e,"AmbientSoundType",function(){return Ue.AmbientSoundType}),n.o(Ue,"AmbientSoundsManager")&&n.d(e,"AmbientSoundsManager",function(){return Ue.AmbientSoundsManager}),n.o(Ue,"SlotSoundsUtils")&&n.d(e,"SlotSoundsUtils",function(){return Ue.SlotSoundsUtils}),n.o(Ue,"ResourceId")&&n.d(e,"ResourceId",function(){return Ue.ResourceId}),n.o(Ue,"GenericSounds")&&n.d(e,"GenericSounds",function(){return Ue.GenericSounds}),n.o(Ue,"BackgroundManager")&&n.d(e,"BackgroundManager",function(){return Ue.BackgroundManager}),n.o(Ue,"ValidatedTape")&&n.d(e,"ValidatedTape",function(){return Ue.ValidatedTape}),n.o(Ue,"SlotInitSettings")&&n.d(e,"SlotInitSettings",function(){return Ue.SlotInitSettings}),n.o(Ue,"ContextModule")&&n.d(e,"ContextModule",function(){return Ue.ContextModule}),n.o(Ue,"APIModule")&&n.d(e,"APIModule",function(){return Ue.APIModule}),n.o(Ue,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return Ue.MoneyFormatterModule}),n.o(Ue,"SwipeModule")&&n.d(e,"SwipeModule",function(){return Ue.SwipeModule}),n.o(Ue,"AutoPlayModeModule")&&n.d(e,"AutoPlayModeModule",function(){return Ue.AutoPlayModeModule}),n.o(Ue,"SoundsModule")&&n.d(e,"SoundsModule",function(){return Ue.SoundsModule}),n.o(Ue,"WrapperModule")&&n.d(e,"WrapperModule",function(){return Ue.WrapperModule}),n.o(Ue,"ManagersModule")&&n.d(e,"ManagersModule",function(){return Ue.ManagersModule}),n.o(Ue,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return Ue.CollapsingSlotModel}),n.o(Ue,"SoundReelSet")&&n.d(e,"SoundReelSet",function(){return Ue.SoundReelSet}),n.o(Ue,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return Ue.HelpLauncherModule});var He=n(222);n.n(He);n.o(He,"EngineActivator")&&n.d(e,"EngineActivator",function(){return He.EngineActivator}),n.o(He,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return He.WinCappingModule}),n.o(He,"JackpotManager")&&n.d(e,"JackpotManager",function(){return He.JackpotManager}),n.o(He,"JackpotModel")&&n.d(e,"JackpotModel",function(){return He.JackpotModel}),n.o(He,"ContextModel")&&n.d(e,"ContextModel",function(){return He.ContextModel}),n.o(He,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return He.MoneyFormatterUtils}),n.o(He,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return He.MoneyFormatterConfig}),n.o(He,"WrapperManager")&&n.d(e,"WrapperManager",function(){return He.WrapperManager}),n.o(He,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return He.WinCappingModel}),n.o(He,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return He.WinCappingAction}),n.o(He,"SwipeManager")&&n.d(e,"SwipeManager",function(){return He.SwipeManager}),n.o(He,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return He.BalanceManagerEventType}),n.o(He,"BalanceManager")&&n.d(e,"BalanceManager",function(){return He.BalanceManager}),n.o(He,"APIModel")&&n.d(e,"APIModel",function(){return He.APIModel}),n.o(He,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return He.HelpLauncherView}),n.o(He,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return He.HelpLauncherConstants}),n.o(He,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return He.HelpLauncherMediator}),n.o(He,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return He.HelpLauncherEvents}),n.o(He,"HeaderView")&&n.d(e,"HeaderView",function(){return He.HeaderView}),n.o(He,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return He.HeaderModuleConstant}),n.o(He,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return He.HeaderMediator}),n.o(He,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return He.HeaderEvents}),n.o(He,"FrameValidation")&&n.d(e,"FrameValidation",function(){return He.FrameValidation}),n.o(He,"AutoPlayModeEvent")&&n.d(e,"AutoPlayModeEvent",function(){return He.AutoPlayModeEvent}),n.o(He,"AutoPlayModeModel")&&n.d(e,"AutoPlayModeModel",function(){return He.AutoPlayModeModel}),n.o(He,"SlotSoundsModuleConstants")&&n.d(e,"SlotSoundsModuleConstants",function(){return He.SlotSoundsModuleConstants}),n.o(He,"AmbientSoundType")&&n.d(e,"AmbientSoundType",function(){return He.AmbientSoundType}),n.o(He,"AmbientSoundsManager")&&n.d(e,"AmbientSoundsManager",function(){return He.AmbientSoundsManager}),n.o(He,"SlotSoundsUtils")&&n.d(e,"SlotSoundsUtils",function(){return He.SlotSoundsUtils}),n.o(He,"ResourceId")&&n.d(e,"ResourceId",function(){return He.ResourceId}),n.o(He,"GenericSounds")&&n.d(e,"GenericSounds",function(){return He.GenericSounds}),n.o(He,"BackgroundManager")&&n.d(e,"BackgroundManager",function(){return He.BackgroundManager}),n.o(He,"ValidatedTape")&&n.d(e,"ValidatedTape",function(){return He.ValidatedTape}),n.o(He,"SlotInitSettings")&&n.d(e,"SlotInitSettings",function(){return He.SlotInitSettings}),n.o(He,"ContextModule")&&n.d(e,"ContextModule",function(){return He.ContextModule}),n.o(He,"APIModule")&&n.d(e,"APIModule",function(){return He.APIModule}),n.o(He,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return He.MoneyFormatterModule}),n.o(He,"SwipeModule")&&n.d(e,"SwipeModule",function(){return He.SwipeModule}),n.o(He,"AutoPlayModeModule")&&n.d(e,"AutoPlayModeModule",function(){return He.AutoPlayModeModule}),n.o(He,"SoundsModule")&&n.d(e,"SoundsModule",function(){return He.SoundsModule}),n.o(He,"WrapperModule")&&n.d(e,"WrapperModule",function(){return He.WrapperModule}),n.o(He,"ManagersModule")&&n.d(e,"ManagersModule",function(){return He.ManagersModule}),n.o(He,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return He.CollapsingSlotModel}),n.o(He,"SoundReelSet")&&n.d(e,"SoundReelSet",function(){return He.SoundReelSet}),n.o(He,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return He.HelpLauncherModule});var je=n(214);n.n(je);n.o(je,"EngineActivator")&&n.d(e,"EngineActivator",function(){return je.EngineActivator}),n.o(je,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return je.WinCappingModule}),n.o(je,"JackpotManager")&&n.d(e,"JackpotManager",function(){return je.JackpotManager}),n.o(je,"JackpotModel")&&n.d(e,"JackpotModel",function(){return je.JackpotModel}),n.o(je,"ContextModel")&&n.d(e,"ContextModel",function(){return je.ContextModel}),n.o(je,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return je.MoneyFormatterUtils}),n.o(je,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return je.MoneyFormatterConfig}),n.o(je,"WrapperManager")&&n.d(e,"WrapperManager",function(){return je.WrapperManager}),n.o(je,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return je.WinCappingModel}),n.o(je,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return je.WinCappingAction}),n.o(je,"SwipeManager")&&n.d(e,"SwipeManager",function(){return je.SwipeManager}),n.o(je,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return je.BalanceManagerEventType}),n.o(je,"BalanceManager")&&n.d(e,"BalanceManager",function(){return je.BalanceManager}),n.o(je,"APIModel")&&n.d(e,"APIModel",function(){return je.APIModel}),n.o(je,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return je.HelpLauncherView}),n.o(je,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return je.HelpLauncherConstants}),n.o(je,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return je.HelpLauncherMediator}),n.o(je,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return je.HelpLauncherEvents}),n.o(je,"HeaderView")&&n.d(e,"HeaderView",function(){return je.HeaderView}),n.o(je,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return je.HeaderModuleConstant}),n.o(je,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return je.HeaderMediator}),n.o(je,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return je.HeaderEvents}),n.o(je,"FrameValidation")&&n.d(e,"FrameValidation",function(){return je.FrameValidation}),n.o(je,"AutoPlayModeEvent")&&n.d(e,"AutoPlayModeEvent",function(){return je.AutoPlayModeEvent}),n.o(je,"AutoPlayModeModel")&&n.d(e,"AutoPlayModeModel",function(){return je.AutoPlayModeModel}),n.o(je,"SlotSoundsModuleConstants")&&n.d(e,"SlotSoundsModuleConstants",function(){return je.SlotSoundsModuleConstants}),n.o(je,"AmbientSoundType")&&n.d(e,"AmbientSoundType",function(){return je.AmbientSoundType}),n.o(je,"AmbientSoundsManager")&&n.d(e,"AmbientSoundsManager",function(){return je.AmbientSoundsManager}),n.o(je,"SlotSoundsUtils")&&n.d(e,"SlotSoundsUtils",function(){return je.SlotSoundsUtils}),n.o(je,"ResourceId")&&n.d(e,"ResourceId",function(){return je.ResourceId}),n.o(je,"GenericSounds")&&n.d(e,"GenericSounds",function(){return je.GenericSounds}),n.o(je,"BackgroundManager")&&n.d(e,"BackgroundManager",function(){return je.BackgroundManager}),n.o(je,"ValidatedTape")&&n.d(e,"ValidatedTape",function(){return je.ValidatedTape}),n.o(je,"SlotInitSettings")&&n.d(e,"SlotInitSettings",function(){return je.SlotInitSettings}),n.o(je,"ContextModule")&&n.d(e,"ContextModule",function(){return je.ContextModule}),n.o(je,"APIModule")&&n.d(e,"APIModule",function(){return je.APIModule}),n.o(je,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return je.MoneyFormatterModule}),n.o(je,"SwipeModule")&&n.d(e,"SwipeModule",function(){return je.SwipeModule}),n.o(je,"AutoPlayModeModule")&&n.d(e,"AutoPlayModeModule",function(){return je.AutoPlayModeModule}),n.o(je,"SoundsModule")&&n.d(e,"SoundsModule",function(){return je.SoundsModule}),n.o(je,"WrapperModule")&&n.d(e,"WrapperModule",function(){return je.WrapperModule}),n.o(je,"ManagersModule")&&n.d(e,"ManagersModule",function(){return je.ManagersModule}),n.o(je,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return je.CollapsingSlotModel}),n.o(je,"SoundReelSet")&&n.d(e,"SoundReelSet",function(){return je.SoundReelSet}),n.o(je,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return je.HelpLauncherModule});var Ye=n(220);n.n(Ye);n.o(Ye,"EngineActivator")&&n.d(e,"EngineActivator",function(){return Ye.EngineActivator}),n.o(Ye,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return Ye.WinCappingModule}),n.o(Ye,"JackpotManager")&&n.d(e,"JackpotManager",function(){return Ye.JackpotManager}),n.o(Ye,"JackpotModel")&&n.d(e,"JackpotModel",function(){return Ye.JackpotModel}),n.o(Ye,"ContextModel")&&n.d(e,"ContextModel",function(){return Ye.ContextModel}),n.o(Ye,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return Ye.MoneyFormatterUtils}),n.o(Ye,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return Ye.MoneyFormatterConfig}),n.o(Ye,"WrapperManager")&&n.d(e,"WrapperManager",function(){return Ye.WrapperManager}),n.o(Ye,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return Ye.WinCappingModel}),n.o(Ye,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return Ye.WinCappingAction}),n.o(Ye,"SwipeManager")&&n.d(e,"SwipeManager",function(){return Ye.SwipeManager}),n.o(Ye,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return Ye.BalanceManagerEventType}),n.o(Ye,"BalanceManager")&&n.d(e,"BalanceManager",function(){return Ye.BalanceManager}),n.o(Ye,"APIModel")&&n.d(e,"APIModel",function(){return Ye.APIModel}),n.o(Ye,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return Ye.HelpLauncherView}),n.o(Ye,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return Ye.HelpLauncherConstants}),n.o(Ye,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return Ye.HelpLauncherMediator}),n.o(Ye,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return Ye.HelpLauncherEvents}),n.o(Ye,"HeaderView")&&n.d(e,"HeaderView",function(){return Ye.HeaderView}),n.o(Ye,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return Ye.HeaderModuleConstant}),n.o(Ye,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return Ye.HeaderMediator}),n.o(Ye,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return Ye.HeaderEvents}),n.o(Ye,"FrameValidation")&&n.d(e,"FrameValidation",function(){return Ye.FrameValidation}),n.o(Ye,"AutoPlayModeEvent")&&n.d(e,"AutoPlayModeEvent",function(){return Ye.AutoPlayModeEvent}),n.o(Ye,"AutoPlayModeModel")&&n.d(e,"AutoPlayModeModel",function(){return Ye.AutoPlayModeModel}),n.o(Ye,"SlotSoundsModuleConstants")&&n.d(e,"SlotSoundsModuleConstants",function(){return Ye.SlotSoundsModuleConstants}),n.o(Ye,"AmbientSoundType")&&n.d(e,"AmbientSoundType",function(){return Ye.AmbientSoundType}),n.o(Ye,"AmbientSoundsManager")&&n.d(e,"AmbientSoundsManager",function(){return Ye.AmbientSoundsManager}),n.o(Ye,"SlotSoundsUtils")&&n.d(e,"SlotSoundsUtils",function(){return Ye.SlotSoundsUtils}),n.o(Ye,"ResourceId")&&n.d(e,"ResourceId",function(){return Ye.ResourceId}),n.o(Ye,"GenericSounds")&&n.d(e,"GenericSounds",function(){return Ye.GenericSounds}),n.o(Ye,"BackgroundManager")&&n.d(e,"BackgroundManager",function(){return Ye.BackgroundManager}),n.o(Ye,"ValidatedTape")&&n.d(e,"ValidatedTape",function(){return Ye.ValidatedTape}),n.o(Ye,"SlotInitSettings")&&n.d(e,"SlotInitSettings",function(){return Ye.SlotInitSettings}),n.o(Ye,"ContextModule")&&n.d(e,"ContextModule",function(){return Ye.ContextModule}),n.o(Ye,"APIModule")&&n.d(e,"APIModule",function(){return Ye.APIModule}),n.o(Ye,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return Ye.MoneyFormatterModule}),n.o(Ye,"SwipeModule")&&n.d(e,"SwipeModule",function(){return Ye.SwipeModule}),n.o(Ye,"AutoPlayModeModule")&&n.d(e,"AutoPlayModeModule",function(){return Ye.AutoPlayModeModule}),n.o(Ye,"SoundsModule")&&n.d(e,"SoundsModule",function(){return Ye.SoundsModule}),n.o(Ye,"WrapperModule")&&n.d(e,"WrapperModule",function(){return Ye.WrapperModule}),n.o(Ye,"ManagersModule")&&n.d(e,"ManagersModule",function(){return Ye.ManagersModule}),n.o(Ye,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return Ye.CollapsingSlotModel}),n.o(Ye,"SoundReelSet")&&n.d(e,"SoundReelSet",function(){return Ye.SoundReelSet}),n.o(Ye,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return Ye.HelpLauncherModule});var Ke=n(448);n.d(e,"SoundsModule",function(){return Ke.a});var ze=n(449);n.d(e,"SlotSoundsModuleConstants",function(){return ze.a});var Xe=n(453);n.d(e,"SlotSoundsUtils",function(){return Xe.a});var Je=n(451);n.d(e,"SoundReelSet",function(){return Je.a});var qe=n(450);n.d(e,"AmbientSoundType",function(){return qe.a});var Ze=n(452);n.d(e,"AmbientSoundsManager",function(){return Ze.a});var Qe=n(447);n.d(e,"GenericSounds",function(){return Qe.a});var $e=n(309);n.d(e,"AutoPlayModeModule",function(){return $e.a});var tn=n(311);n.d(e,"AutoPlayModeModel",function(){return tn.a});var en=n(310);n.d(e,"AutoPlayModeEvent",function(){return en.a});var nn=n(489);n.d(e,"BackgroundManager",function(){return nn.a});var on=n(491);n.d(e,"ResourceId",function(){return on.a});var rn=n(490);n.d(e,"FrameValidation",function(){return rn.a});var an=(n(493),n(494));n.d(e,"ValidatedTape",function(){return an.a});var sn=n(306);n.d(e,"SlotInitSettings",function(){return sn.a});var un=n(303);n.d(e,"EngineActivator",function(){return un.a});var ln=n(218);n.n(ln);n.o(ln,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return ln.WinCappingModule}),n.o(ln,"JackpotManager")&&n.d(e,"JackpotManager",function(){return ln.JackpotManager}),n.o(ln,"JackpotModel")&&n.d(e,"JackpotModel",function(){return ln.JackpotModel}),n.o(ln,"ContextModel")&&n.d(e,"ContextModel",function(){return ln.ContextModel}),n.o(ln,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return ln.MoneyFormatterUtils}),n.o(ln,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return ln.MoneyFormatterConfig}),n.o(ln,"WrapperManager")&&n.d(e,"WrapperManager",function(){return ln.WrapperManager}),n.o(ln,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return ln.WinCappingModel}),n.o(ln,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return ln.WinCappingAction}),n.o(ln,"SwipeManager")&&n.d(e,"SwipeManager",function(){return ln.SwipeManager}),n.o(ln,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return ln.BalanceManagerEventType}),n.o(ln,"BalanceManager")&&n.d(e,"BalanceManager",function(){return ln.BalanceManager}),n.o(ln,"APIModel")&&n.d(e,"APIModel",function(){return ln.APIModel}),n.o(ln,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return ln.HelpLauncherView}),n.o(ln,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return ln.HelpLauncherConstants}),n.o(ln,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return ln.HelpLauncherMediator}),n.o(ln,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return ln.HelpLauncherEvents}),n.o(ln,"HeaderView")&&n.d(e,"HeaderView",function(){return ln.HeaderView}),n.o(ln,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return ln.HeaderModuleConstant}),n.o(ln,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return ln.HeaderMediator}),n.o(ln,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return ln.HeaderEvents}),n.o(ln,"ContextModule")&&n.d(e,"ContextModule",function(){return ln.ContextModule}),n.o(ln,"APIModule")&&n.d(e,"APIModule",function(){return ln.APIModule}),n.o(ln,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return ln.MoneyFormatterModule}),n.o(ln,"SwipeModule")&&n.d(e,"SwipeModule",function(){return ln.SwipeModule}),n.o(ln,"WrapperModule")&&n.d(e,"WrapperModule",function(){return ln.WrapperModule}),n.o(ln,"ManagersModule")&&n.d(e,"ManagersModule",function(){return ln.ManagersModule}),n.o(ln,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return ln.CollapsingSlotModel}),n.o(ln,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return ln.HelpLauncherModule});var cn=n(219);n.n(cn);n.o(cn,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return cn.WinCappingModule}),n.o(cn,"JackpotManager")&&n.d(e,"JackpotManager",function(){return cn.JackpotManager}),n.o(cn,"JackpotModel")&&n.d(e,"JackpotModel",function(){return cn.JackpotModel}),n.o(cn,"ContextModel")&&n.d(e,"ContextModel",function(){return cn.ContextModel}),n.o(cn,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return cn.MoneyFormatterUtils}),n.o(cn,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return cn.MoneyFormatterConfig}),n.o(cn,"WrapperManager")&&n.d(e,"WrapperManager",function(){return cn.WrapperManager}),n.o(cn,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return cn.WinCappingModel}),n.o(cn,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return cn.WinCappingAction}),n.o(cn,"SwipeManager")&&n.d(e,"SwipeManager",function(){return cn.SwipeManager}),n.o(cn,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return cn.BalanceManagerEventType}),n.o(cn,"BalanceManager")&&n.d(e,"BalanceManager",function(){return cn.BalanceManager}),n.o(cn,"APIModel")&&n.d(e,"APIModel",function(){return cn.APIModel}),n.o(cn,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return cn.HelpLauncherView}),n.o(cn,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return cn.HelpLauncherConstants}),n.o(cn,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return cn.HelpLauncherMediator}),n.o(cn,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return cn.HelpLauncherEvents}),n.o(cn,"HeaderView")&&n.d(e,"HeaderView",function(){return cn.HeaderView}),n.o(cn,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return cn.HeaderModuleConstant}),n.o(cn,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return cn.HeaderMediator}),n.o(cn,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return cn.HeaderEvents}),n.o(cn,"ContextModule")&&n.d(e,"ContextModule",function(){return cn.ContextModule}),n.o(cn,"APIModule")&&n.d(e,"APIModule",function(){return cn.APIModule}),n.o(cn,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return cn.MoneyFormatterModule}),n.o(cn,"SwipeModule")&&n.d(e,"SwipeModule",function(){return cn.SwipeModule}),n.o(cn,"WrapperModule")&&n.d(e,"WrapperModule",function(){return cn.WrapperModule}),n.o(cn,"ManagersModule")&&n.d(e,"ManagersModule",function(){return cn.ManagersModule}),n.o(cn,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return cn.CollapsingSlotModel}),n.o(cn,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return cn.HelpLauncherModule});var dn=n(225);n.n(dn);n.o(dn,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return dn.WinCappingModule}),n.o(dn,"JackpotManager")&&n.d(e,"JackpotManager",function(){return dn.JackpotManager}),n.o(dn,"JackpotModel")&&n.d(e,"JackpotModel",function(){return dn.JackpotModel}),n.o(dn,"ContextModel")&&n.d(e,"ContextModel",function(){return dn.ContextModel}),n.o(dn,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return dn.MoneyFormatterUtils}),n.o(dn,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return dn.MoneyFormatterConfig}),n.o(dn,"WrapperManager")&&n.d(e,"WrapperManager",function(){return dn.WrapperManager}),n.o(dn,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return dn.WinCappingModel}),n.o(dn,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return dn.WinCappingAction}),n.o(dn,"SwipeManager")&&n.d(e,"SwipeManager",function(){return dn.SwipeManager}),n.o(dn,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return dn.BalanceManagerEventType}),n.o(dn,"BalanceManager")&&n.d(e,"BalanceManager",function(){return dn.BalanceManager}),n.o(dn,"APIModel")&&n.d(e,"APIModel",function(){return dn.APIModel}),n.o(dn,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return dn.HelpLauncherView}),n.o(dn,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return dn.HelpLauncherConstants}),n.o(dn,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return dn.HelpLauncherMediator}),n.o(dn,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return dn.HelpLauncherEvents}),n.o(dn,"HeaderView")&&n.d(e,"HeaderView",function(){return dn.HeaderView}),n.o(dn,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return dn.HeaderModuleConstant}),n.o(dn,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return dn.HeaderMediator}),n.o(dn,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return dn.HeaderEvents}),n.o(dn,"ContextModule")&&n.d(e,"ContextModule",function(){return dn.ContextModule}),n.o(dn,"APIModule")&&n.d(e,"APIModule",function(){return dn.APIModule}),n.o(dn,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return dn.MoneyFormatterModule}),n.o(dn,"SwipeModule")&&n.d(e,"SwipeModule",function(){return dn.SwipeModule}),n.o(dn,"WrapperModule")&&n.d(e,"WrapperModule",function(){return dn.WrapperModule}),n.o(dn,"ManagersModule")&&n.d(e,"ManagersModule",function(){return dn.ManagersModule}),n.o(dn,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return dn.CollapsingSlotModel}),n.o(dn,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return dn.HelpLauncherModule});var pn=n(224);n.n(pn);n.o(pn,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return pn.WinCappingModule}),n.o(pn,"JackpotManager")&&n.d(e,"JackpotManager",function(){return pn.JackpotManager}),n.o(pn,"JackpotModel")&&n.d(e,"JackpotModel",function(){return pn.JackpotModel}),n.o(pn,"ContextModel")&&n.d(e,"ContextModel",function(){return pn.ContextModel}),n.o(pn,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return pn.MoneyFormatterUtils}),n.o(pn,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return pn.MoneyFormatterConfig}),n.o(pn,"WrapperManager")&&n.d(e,"WrapperManager",function(){return pn.WrapperManager}),n.o(pn,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return pn.WinCappingModel}),n.o(pn,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return pn.WinCappingAction}),n.o(pn,"SwipeManager")&&n.d(e,"SwipeManager",function(){return pn.SwipeManager}),n.o(pn,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return pn.BalanceManagerEventType}),n.o(pn,"BalanceManager")&&n.d(e,"BalanceManager",function(){return pn.BalanceManager}),n.o(pn,"APIModel")&&n.d(e,"APIModel",function(){return pn.APIModel}),n.o(pn,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return pn.HelpLauncherView}),n.o(pn,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return pn.HelpLauncherConstants}),n.o(pn,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return pn.HelpLauncherMediator}),n.o(pn,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return pn.HelpLauncherEvents}),n.o(pn,"HeaderView")&&n.d(e,"HeaderView",function(){return pn.HeaderView}),n.o(pn,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return pn.HeaderModuleConstant}),n.o(pn,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return pn.HeaderMediator}),n.o(pn,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return pn.HeaderEvents}),n.o(pn,"ContextModule")&&n.d(e,"ContextModule",function(){return pn.ContextModule}),n.o(pn,"APIModule")&&n.d(e,"APIModule",function(){return pn.APIModule}),n.o(pn,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return pn.MoneyFormatterModule}),n.o(pn,"SwipeModule")&&n.d(e,"SwipeModule",function(){return pn.SwipeModule}),n.o(pn,"WrapperModule")&&n.d(e,"WrapperModule",function(){return pn.WrapperModule}),n.o(pn,"ManagersModule")&&n.d(e,"ManagersModule",function(){return pn.ManagersModule}),n.o(pn,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return pn.CollapsingSlotModel}),n.o(pn,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return pn.HelpLauncherModule});var hn=n(216);n.n(hn);n.o(hn,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return hn.WinCappingModule}),n.o(hn,"JackpotManager")&&n.d(e,"JackpotManager",function(){return hn.JackpotManager}),n.o(hn,"JackpotModel")&&n.d(e,"JackpotModel",function(){return hn.JackpotModel}),n.o(hn,"ContextModel")&&n.d(e,"ContextModel",function(){return hn.ContextModel}),n.o(hn,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return hn.MoneyFormatterUtils}),n.o(hn,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return hn.MoneyFormatterConfig}),n.o(hn,"WrapperManager")&&n.d(e,"WrapperManager",function(){return hn.WrapperManager}),n.o(hn,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return hn.WinCappingModel}),n.o(hn,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return hn.WinCappingAction}),n.o(hn,"SwipeManager")&&n.d(e,"SwipeManager",function(){return hn.SwipeManager}),n.o(hn,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return hn.BalanceManagerEventType}),n.o(hn,"BalanceManager")&&n.d(e,"BalanceManager",function(){return hn.BalanceManager}),n.o(hn,"APIModel")&&n.d(e,"APIModel",function(){return hn.APIModel}),n.o(hn,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return hn.HelpLauncherView}),n.o(hn,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return hn.HelpLauncherConstants}),n.o(hn,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return hn.HelpLauncherMediator}),n.o(hn,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return hn.HelpLauncherEvents}),n.o(hn,"HeaderView")&&n.d(e,"HeaderView",function(){return hn.HeaderView}),n.o(hn,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return hn.HeaderModuleConstant}),n.o(hn,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return hn.HeaderMediator}),n.o(hn,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return hn.HeaderEvents}),n.o(hn,"ContextModule")&&n.d(e,"ContextModule",function(){return hn.ContextModule}),n.o(hn,"APIModule")&&n.d(e,"APIModule",function(){return hn.APIModule}),n.o(hn,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return hn.MoneyFormatterModule}),n.o(hn,"SwipeModule")&&n.d(e,"SwipeModule",function(){return hn.SwipeModule}),n.o(hn,"WrapperModule")&&n.d(e,"WrapperModule",function(){return hn.WrapperModule}),n.o(hn,"ManagersModule")&&n.d(e,"ManagersModule",function(){return hn.ManagersModule}),n.o(hn,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return hn.CollapsingSlotModel}),n.o(hn,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return hn.HelpLauncherModule});var fn=n(226);n.n(fn);n.o(fn,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return fn.WinCappingModule}),n.o(fn,"JackpotManager")&&n.d(e,"JackpotManager",function(){return fn.JackpotManager}),n.o(fn,"JackpotModel")&&n.d(e,"JackpotModel",function(){return fn.JackpotModel}),n.o(fn,"ContextModel")&&n.d(e,"ContextModel",function(){return fn.ContextModel}),n.o(fn,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return fn.MoneyFormatterUtils}),n.o(fn,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return fn.MoneyFormatterConfig}),n.o(fn,"WrapperManager")&&n.d(e,"WrapperManager",function(){return fn.WrapperManager}),n.o(fn,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return fn.WinCappingModel}),n.o(fn,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return fn.WinCappingAction}),n.o(fn,"SwipeManager")&&n.d(e,"SwipeManager",function(){return fn.SwipeManager}),n.o(fn,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return fn.BalanceManagerEventType}),n.o(fn,"BalanceManager")&&n.d(e,"BalanceManager",function(){return fn.BalanceManager}),n.o(fn,"APIModel")&&n.d(e,"APIModel",function(){return fn.APIModel}),n.o(fn,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return fn.HelpLauncherView}),n.o(fn,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return fn.HelpLauncherConstants}),n.o(fn,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return fn.HelpLauncherMediator}),n.o(fn,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return fn.HelpLauncherEvents}),n.o(fn,"HeaderView")&&n.d(e,"HeaderView",function(){return fn.HeaderView}),n.o(fn,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return fn.HeaderModuleConstant}),n.o(fn,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return fn.HeaderMediator}),n.o(fn,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return fn.HeaderEvents}),n.o(fn,"ContextModule")&&n.d(e,"ContextModule",function(){return fn.ContextModule}),n.o(fn,"APIModule")&&n.d(e,"APIModule",function(){return fn.APIModule}),n.o(fn,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return fn.MoneyFormatterModule}),n.o(fn,"SwipeModule")&&n.d(e,"SwipeModule",function(){return fn.SwipeModule}),n.o(fn,"WrapperModule")&&n.d(e,"WrapperModule",function(){return fn.WrapperModule}),n.o(fn,"ManagersModule")&&n.d(e,"ManagersModule",function(){return fn.ManagersModule}),n.o(fn,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return fn.CollapsingSlotModel}),n.o(fn,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return fn.HelpLauncherModule});var Mn=n(223);n.n(Mn);n.o(Mn,"WinCappingModule")&&n.d(e,"WinCappingModule",function(){return Mn.WinCappingModule}),n.o(Mn,"JackpotManager")&&n.d(e,"JackpotManager",function(){return Mn.JackpotManager}),n.o(Mn,"JackpotModel")&&n.d(e,"JackpotModel",function(){return Mn.JackpotModel}),n.o(Mn,"ContextModel")&&n.d(e,"ContextModel",function(){return Mn.ContextModel}),n.o(Mn,"MoneyFormatterUtils")&&n.d(e,"MoneyFormatterUtils",function(){return Mn.MoneyFormatterUtils}),n.o(Mn,"MoneyFormatterConfig")&&n.d(e,"MoneyFormatterConfig",function(){return Mn.MoneyFormatterConfig}),n.o(Mn,"WrapperManager")&&n.d(e,"WrapperManager",function(){return Mn.WrapperManager}),n.o(Mn,"WinCappingModel")&&n.d(e,"WinCappingModel",function(){return Mn.WinCappingModel}),n.o(Mn,"WinCappingAction")&&n.d(e,"WinCappingAction",function(){return Mn.WinCappingAction}),n.o(Mn,"SwipeManager")&&n.d(e,"SwipeManager",function(){return Mn.SwipeManager}),n.o(Mn,"BalanceManagerEventType")&&n.d(e,"BalanceManagerEventType",function(){return Mn.BalanceManagerEventType}),n.o(Mn,"BalanceManager")&&n.d(e,"BalanceManager",function(){return Mn.BalanceManager}),n.o(Mn,"APIModel")&&n.d(e,"APIModel",function(){return Mn.APIModel}),n.o(Mn,"HelpLauncherView")&&n.d(e,"HelpLauncherView",function(){return Mn.HelpLauncherView}),n.o(Mn,"HelpLauncherConstants")&&n.d(e,"HelpLauncherConstants",function(){return Mn.HelpLauncherConstants}),n.o(Mn,"HelpLauncherMediator")&&n.d(e,"HelpLauncherMediator",function(){return Mn.HelpLauncherMediator}),n.o(Mn,"HelpLauncherEvents")&&n.d(e,"HelpLauncherEvents",function(){return Mn.HelpLauncherEvents}),n.o(Mn,"HeaderView")&&n.d(e,"HeaderView",function(){return Mn.HeaderView}),n.o(Mn,"HeaderModuleConstant")&&n.d(e,"HeaderModuleConstant",function(){return Mn.HeaderModuleConstant}),n.o(Mn,"HeaderMediator")&&n.d(e,"HeaderMediator",function(){return Mn.HeaderMediator}),n.o(Mn,"HeaderEvents")&&n.d(e,"HeaderEvents",function(){return Mn.HeaderEvents}),n.o(Mn,"ContextModule")&&n.d(e,"ContextModule",function(){return Mn.ContextModule}),n.o(Mn,"APIModule")&&n.d(e,"APIModule",function(){return Mn.APIModule}),n.o(Mn,"MoneyFormatterModule")&&n.d(e,"MoneyFormatterModule",function(){return Mn.MoneyFormatterModule}),n.o(Mn,"SwipeModule")&&n.d(e,"SwipeModule",function(){return Mn.SwipeModule}),n.o(Mn,"WrapperModule")&&n.d(e,"WrapperModule",function(){return Mn.WrapperModule}),n.o(Mn,"ManagersModule")&&n.d(e,"ManagersModule",function(){return Mn.ManagersModule}),n.o(Mn,"CollapsingSlotModel")&&n.d(e,"CollapsingSlotModel",function(){return Mn.CollapsingSlotModel}),n.o(Mn,"HelpLauncherModule")&&n.d(e,"HelpLauncherModule",function(){return Mn.HelpLauncherModule});var yn=n(376);n.d(e,"HeaderEvents",function(){return yn.a});var mn=n(375);n.d(e,"HeaderModuleConstant",function(){return mn.a});var gn=n(378);n.d(e,"HeaderView",function(){return gn.a});var Sn=n(377);n.d(e,"HeaderMediator",function(){return Sn.a});var vn=(n(374),n(383));n.d(e,"HelpLauncherView",function(){return vn.a});var An=n(381);n.d(e,"HelpLauncherEvents",function(){return An.a});var bn=n(382);n.d(e,"HelpLauncherMediator",function(){return bn.a});var En=n(379);n.d(e,"HelpLauncherModule",function(){return En.a});var Cn=n(380);n.d(e,"HelpLauncherConstants",function(){return Cn.a});var Pn=n(308);n.d(e,"APIModel",function(){return Pn.a});var Ln=n(307);n.d(e,"APIModule",function(){return Ln.a});var In=n(51);n.d(e,"ContextModel",function(){return In.a});var wn=n(347);n.d(e,"ContextModule",function(){return wn.a});var Tn=n(400);n.d(e,"ManagersModule",function(){return Tn.a});var _n=n(399);n.d(e,"BalanceManager",function(){return _n.a});var kn=n(401);n.d(e,"BalanceManagerEventType",function(){return kn.a});var Rn=n(454);n.d(e,"SwipeManager",function(){return Rn.a});var Bn=n(455);n.d(e,"SwipeModule",function(){return Bn.a});var On=n(484);n.d(e,"WinCappingModule",function(){return On.a});var xn=n(485);n.d(e,"WinCappingAction",function(){return xn.a});var Nn=n(486);n.d(e,"WinCappingModel",function(){return Nn.a});var Wn=n(487);n.d(e,"WrapperModule",function(){return Wn.a});var Dn=n(488);n.d(e,"WrapperManager",function(){return Dn.a});var Gn=n(404);n.d(e,"MoneyFormatterConfig",function(){return Gn.a});var Fn=n(403);n.d(e,"MoneyFormatterUtils",function(){return Fn.a});var Vn=n(402);n.d(e,"MoneyFormatterModule",function(){return Vn.a});var Un=n(393);n.d(e,"JackpotModel",function(){return Un.a});var Hn=n(392);n.d(e,"JackpotManager",function(){return Hn.a});n(391)},function(t,e,n){"use strict";var i=n(498);n.d(e,"ParallelAction",function(){return i.a});var o=n(499);n.d(e,"SequenceAction",function(){return o.a});var r=n(497);n.d(e,"ActionManagerMark2",function(){return r.a});var a=n(764);n.d(e,"ResourceIdMark2",function(){return a.a});var s=n(501);n.d(e,"RenderManagerMark2",function(){return s.a});var u=n(500);n.d(e,"KeyboardEventManagerMark2",function(){return u.a});var l=n(722);n.d(e,"ShowWinningEvents",function(){return l.a});var c=n(692);n.d(e,"WinActionsModule",function(){return c.a});var d=n(721);n.d(e,"WinActionsModuleConstants",function(){return d.a});var p=n(695);n.d(e,"AllWaysFirstLineToggleCycleAction",function(){return p.a});var h=(n(696),n(709));n.d(e,"ResetInfoMessageWinningAction",function(){return h.a});var f=n(705);n.d(e,"DefaultWinningPlayAction",function(){return f.a});var M=n(720);n.d(e,"WinCappingAction",function(){return M.a});var y=n(707);n.d(e,"FreeGamesWinCappingAction",function(){return y.a});var m=n(701);n.d(e,"BaseFeatureShowSymbolsWinningAction",function(){return m.a});var g=n(697);n.d(e,"BaseFeatureHideSymbolsWinningAction",function(){return g.a});var S=n(702);n.d(e,"BaseFeatureStartWinningAction",function(){return S.a});var v=n(703);n.d(e,"BaseFeatureWaitCancellingWinningAction",function(){return v.a});var A=n(699);n.d(e,"BaseFeaturePopupWinningAction",function(){return A.a});var b=n(698);n.d(e,"BaseFeaturePlayTriggerSoundWinningAction",function(){return b.a});var E=n(700);n.d(e,"BaseFeaturePrepareToStartWinningAction",function(){return E.a});var C=n(694);n.d(e,"AfterFreeSpinsInitAllReelsAction",function(){return C.a});var P=n(716);n.d(e,"WaitForLandingAnimationCompleteAction",function(){return P.a});var L=n(727);n.d(e,"WinLinesMediator",function(){return L.a});var I=n(726);n.d(e,"WinFramesMediator",function(){return I.a});var w=n(730);n.d(e,"SegmentVO",function(){return w.a});var T=n(731);n.d(e,"WinningDataToShowVO",function(){return T.a});var _=(n(734),n(733),n(736));n.d(e,"WinLinesView",function(){return _.a});var k=n(735);n.d(e,"WinFramesView",function(){return k.a});var R=n(732);n.d(e,"WinUtils",function(){return R.a});var B=n(725);n.d(e,"WinManager",function(){return B.a});var O=n(728);n.d(e,"ScatterModel",function(){return O.a});var x=n(729);n.d(e,"WinActionsModel",function(){return x.a});var N=n(724);n.d(e,"WinActionsModelEvent",function(){return N.a});var W=n(723);n.d(e,"WinActionEvent",function(){return W.a});var D=n(719);n.d(e,"WinBoxWinningAction",function(){return D.a});var G=n(693);n.d(e,"AfterFreeGamesWinBoxWinningAction",function(){return G.a});var F=n(712);n.d(e,"StartWinningSymbolsAnimationAction",function(){return F.a});var V=n(714);n.d(e,"StopWinningSymbolsAnimationAction",function(){return V.a});var U=(n(704),n(57));n.d(e,"FirstLineToggleCycleAction",function(){return U.a});var H=n(706);n.d(e,"FiveOfAKindAction",function(){return H.a});var j=n(710);n.d(e,"SecondLineToggleCycleAction",function(){return j.a});var Y=n(708);n.d(e,"MobileSpaghettiLineDisplayAction",function(){return Y.a});var K=n(711);n.d(e,"ShowWinLinesAndFramesAction",function(){return K.a});var z=n(717);n.d(e,"WinAnimationAction",function(){return z.a});var X=n(718);n.d(e,"WinBoxInfoLabelWinningAction",function(){return X.a});var J=n(713);n.d(e,"StopWinAnimationAction",function(){return J.a});var q=n(715);n.d(e,"TurboModeWinAnimationAction",function(){return q.a});var Z=(n(525),n(527));n.d(e,"GameDataModelMark2",function(){return Z.a});var Q=n(526);n.d(e,"SlotModelMark2",function(){return Q.a});var $=n(544);n.d(e,"BonusModel",function(){return $.a});var tt=n(545);n.d(e,"BonusUtils",function(){return tt.a});var et=n(538);n.d(e,"BonusModuleConstants",function(){return et.a});var nt=n(539);n.d(e,"BonusEvents",function(){return nt.a});var it=n(548);n.d(e,"BonusView",function(){return it.a});var ot=n(546);n.d(e,"BonusIntroView",function(){return ot.a});var rt=n(547);n.d(e,"BonusOutroView",function(){return rt.a});var at=n(542);n.d(e,"BonusMediator",function(){return at.a});var st=n(541);n.d(e,"BonusIntroMediator",function(){return st.a});var ut=n(543);n.d(e,"BonusOutroMediator",function(){return ut.a});var lt=n(528);n.d(e,"BonusModule",function(){return lt.a});var ct=n(534);n.d(e,"BonusRestorationWinningAction",function(){return ct.a});var dt=n(533);n.d(e,"BonusPlayWinningAction",function(){return dt.a});var pt=n(536);n.d(e,"BonusStartWinningAction",function(){return pt.a});var ht=n(529);n.d(e,"BonusHideSymbolsWinningAction",function(){return ht.a});var ft=n(537);n.d(e,"BonusWaitCancellingWinningAction",function(){return ft.a});var Mt=n(532);n.d(e,"BonusPlayTriggerSoundWinningAction",function(){return Mt.a});var yt=n(535);n.d(e,"BonusShowSymbolsWinningAction",function(){return yt.a});var mt=n(530);n.d(e,"BonusIntroWinningAction",function(){return mt.a});var gt=n(531);n.d(e,"BonusOutroWinningAction",function(){return gt.a});var St=n(540);n.d(e,"BonusManager",function(){return St.a});var vt=(n(553),n(554));n.d(e,"BottomBarMediator",function(){return vt.a});var At=n(556);n.d(e,"BottomBarDesktopMediator",function(){return At.a});var bt=n(557);n.d(e,"BottomBarMobileMediator",function(){return bt.a});var Et=n(555);n.d(e,"BottomBarMobileBalanceMediator",function(){return Et.a});var Ct=n(558);n.d(e,"BottomBarBaseView",function(){return Ct.a});var Pt=n(561);n.d(e,"BottomBarDesktopView",function(){return Pt.a});var Lt=n(560);n.d(e,"AutoSpinsListView",function(){return Lt.a});var It=n(559);n.d(e,"AutoSpinsBtnView",function(){return It.a});var wt=n(566);n.d(e,"BottomBarMobileView",function(){return wt.a});var Tt=n(570);n.d(e,"LandscapeMobileBaseMenuView",function(){return Tt.a});var _t=n(565);n.d(e,"BottomBarBalanceContMobile",function(){return _t.a});var kt=n(567);n.d(e,"BottomBarTotalBetContMobile",function(){return kt.a});var Rt=n(573);n.d(e,"SpinButtonMobileView",function(){return Rt.a});var Bt=n(571);n.d(e,"OptionsLandscapeMobileView",function(){return Bt.a});var Ot=n(572);n.d(e,"OptionsPortraitMobileView",function(){return Ot.a});var xt=n(574);n.d(e,"TotalBetSwitcherMobileView",function(){return xt.a});var Nt=n(575);n.d(e,"TurboSwitcherMobileView",function(){return Nt.a});var Wt=n(564);n.d(e,"AutoSpinsMobileView",function(){return Wt.a});var Dt=n(562);n.d(e,"AutoSpinsContainerLandscapeMobileView",function(){return Dt.a});var Gt=n(563);n.d(e,"AutoSpinsContainerPortraitMobileView",function(){return Gt.a});var Ft=n(569);n.d(e,"CoinContMobile",function(){return Ft.a});var Vt=n(55);n.d(e,"SpinButtonState",function(){return Vt.a}),n.d(e,"BottomBarModuleConstant",function(){return Vt.b}),n.d(e,"BottomBarContol",function(){return Vt.c}),n.d(e,"ButtonSounds",function(){return Vt.d});var Ut=n(549);n.d(e,"BottomBarModule",function(){return Ut.a});var Ht=n(552);n.d(e,"BottomBarViewEvent",function(){return Ht.a});var jt=n(551);n.d(e,"BottomBarEvent",function(){return jt.a});var Yt=n(550);n.d(e,"ShowWinAmountVO",function(){return Yt.a});var Kt=n(738);n.d(e,"WinBoxConstants",function(){return Kt.a});var zt=n(739);n.d(e,"WinBoxMessageTypes",function(){return zt.a});var Xt=n(740);n.d(e,"WinBoxEvents",function(){return Xt.a});var Jt=n(741);n.d(e,"WinBoxViewEvents",function(){return Jt.a});var qt=n(737);n.d(e,"WinBoxModule",function(){return qt.a});var Zt=n(745);n.d(e,"WinBoxModel",function(){return Zt.a});var Qt=n(742);n.d(e,"WinBoxMediator",function(){return Qt.a});var $t=n(744);n.d(e,"WinBoxMediatorMobile",function(){return $t.a});var te=n(743);n.d(e,"WinBoxMediatorDesktop",function(){return te.a});var ee=n(750);n.d(e,"WinBoxInfoLabel",function(){return ee.a});var ne=n(752);n.d(e,"WinBoxView",function(){return ne.a});var ie=n(751);n.d(e,"WinBoxTweenAnimator",function(){return ie.a});var oe=n(758);n.d(e,"WinBoxViewDesktop",function(){return oe.a});var re=n(760);n.d(e,"WinBoxViewMobile",function(){return re.a});var ae=n(759);n.d(e,"WinBoxTweenAnimatorMobile",function(){return ae.a});var se=n(755);n.d(e,"CoinAnimationSettings",function(){return se.a});var ue=(n(757),n(756),n(58),n(753));n.d(e,"CoinsRain",function(){return ue.a});var le=(n(754),n(749));n.d(e,"WinBoxVO",function(){return le.a});var ce=n(746);n.d(e,"CommonCountUp",function(){return ce.a});var de=n(747);n.d(e,"PromiseResolver",function(){return de.a});var pe=n(748);n.d(e,"WinBoxConfigManager",function(){return pe.a});var he=n(518);n.d(e,"AutoSpinsModule",function(){return he.a});var fe=n(521);n.d(e,"AutoSpinsModel",function(){return fe.a});var Me=n(520);n.d(e,"AutoSpinsManager",function(){return Me.a});var ye=n(519);n.d(e,"AutoSpinsModelEvent",function(){return ye.a});var me=n(626);n.d(e,"MainScreenModuleMark2",function(){return me.a});var ge=(n(56),n(583));n.d(e,"FreeGamesModule",function(){return ge.a});var Se=n(596);n.d(e,"FreeGamesModuleConstants",function(){return Se.a});var ve=n(603);n.d(e,"FreeGamesModel",function(){return ve.a});var Ae=n(604);n.d(e,"FreeGamesUtils",function(){return Ae.a});var be=n(594);n.d(e,"FreeGamesFeatureWaitCancellingWinningAction",function(){return be.a});var Ee=n(586);n.d(e,"FreeGamesFeatureIntroPopupWinningAction",function(){return Ee.a});var Ce=n(587);n.d(e,"FreeGamesFeatureMorePopupWinningAction",function(){return Ce.a});var Pe=n(588);n.d(e,"FreeGamesFeatureOutroPopupWinningAction",function(){return Pe.a});var Le=n(592);n.d(e,"FreeGamesFeatureShowSymbolsWinningAction",function(){return Le.a});var Ie=n(584);n.d(e,"FreeGamesFeatureHideSymbolsWinningAction",function(){return Ie.a});var we=n(593);n.d(e,"FreeGamesFeatureStartWinningAction",function(){return we.a});var Te=n(589);n.d(e,"FreeGamesFeaturePlayTriggerSoundWinningAction",function(){return Te.a});var _e=n(590);n.d(e,"FreeGamesFeaturePrepareToStartWinningAction",function(){return _e.a});var ke=n(591);n.d(e,"FreeGamesFeatureRestorationWinningAction",function(){return ke.a});var Re=n(585);n.d(e,"FreeGamesFeatureInfoMessageWinningAction",function(){return Re.a});var Be=n(595);n.d(e,"FreeGamesNoWinDelayWiningAction",function(){return Be.a});var Oe=n(606);n.d(e,"FreeGamesIntroPopup",function(){return Oe.a});var xe=n(600);n.d(e,"IntroScreenMediator",function(){return xe.a});var Ne=n(597);n.d(e,"FreeGamesEvent",function(){return Ne.a});var We=n(601);n.d(e,"MoreScreenMediator",function(){return We.a});var De=n(607);n.d(e,"FreeGamesMorePopup",function(){return De.a});var Ge=n(608);n.d(e,"TotalWinView",function(){return Ge.a});var Fe=n(605);n.d(e,"FreeGamesCounterView",function(){return Fe.a});var Ve=(n(609),n(602));n.d(e,"TotalWinMediator",function(){return Ve.a});var Ue=n(599);n.d(e,"FreeGamesCounterMediator",function(){return Ue.a});var He=n(598);n.d(e,"FreeGamesManager",function(){return He.a});var je=n(616);n.d(e,"StartModuleMark2",function(){return je.a});var Ye=n(617);n.d(e,"DefaultStartGameAction",function(){return Ye.a});var Ke=n(618);n.d(e,"LoaderBarMark2",function(){return Ke.a});var ze=n(580);n.d(e,"FiveOfAKindModuleConstant",function(){return ze.a});var Xe=n(582);n.d(e,"FiveOfAKindView",function(){return Xe.a});var Je=n(581);n.d(e,"FiveOfAKindMediator",function(){return Je.a});var qe=(n(579),n(761));n.d(e,"WrapperPopupModuleMark2",function(){return qe.a});var Ze=n(762);n.d(e,"PopupEvent",function(){return Ze.a});var Qe=n(763);n.d(e,"WrapperPopupManagerMark2",function(){return Qe.a});var $e=n(642);n.d(e,"ReelsModule",function(){return $e.a});var tn=n(658);n.d(e,"ReelsConstants",function(){return tn.a});var en=n(645);n.d(e,"DefaultReelsPlayAction",function(){return en.a});var nn=n(648);n.d(e,"InitAllReelsActionMark2",function(){return nn.a});var on=n(649);n.d(e,"RestoreInitAllReelsActionMark2",function(){return on.a});var rn=n(650);n.d(e,"StartAllReelsAction",function(){return rn.a});var an=n(655);n.d(e,"StartSingleReelAction",function(){return an.a});var sn=n(654);n.d(e,"SingleReelSymbolAnimationAction",function(){return sn.a});var un=n(656);n.d(e,"StopSingleReelAction",function(){return un.a});var ln=n(643);n.d(e,"AllReelsStoppedAction",function(){return ln.a});var cn=n(651);n.d(e,"WaitResponseAction",function(){return cn.a});var dn=n(653);n.d(e,"WaitStopAction",function(){return dn.a});var pn=n(652);n.d(e,"WaitSpinAction",function(){return pn.a});var hn=n(646);n.d(e,"DoSpinRequestAction",function(){return hn.a});var fn=n(647);n.d(e,"FinishAllReelsAction",function(){return fn.a});var Mn=n(644);n.d(e,"CalculateModelsForAnticipationAction",function(){return Mn.a});var yn=n(661);n.d(e,"ReelsMediatorMark2",function(){return yn.a});var mn=n(660);n.d(e,"ReelsPromiseManager",function(){return mn.a});var gn=n(665);n.d(e,"ReelsAreaViewMark2",function(){return gn.a});var Sn=n(666);n.d(e,"SingleReelViewMark2",function(){return Sn.a});var vn=n(662);n.d(e,"AllReelsModel",function(){return vn.a});var An=n(663);n.d(e,"SingleReelModelMark2",function(){return An.a});var bn=n(664);n.d(e,"ValidatedTapeMark2",function(){return bn.a});var En=n(659);n.d(e,"ReelsEventsMark2",function(){return En.a});var Cn=n(625);n.d(e,"InfoBarViewMark2",function(){return Cn.a});var Pn=n(622);n.d(e,"InfoBarEventMark2",function(){return Pn.a});var Ln=n(623);n.d(e,"InfoBarMediatorMark2",function(){return Ln.a});var In=n(621);n.d(e,"InfoBarModuleMark2",function(){return In.a});var wn=n(624);n.d(e,"MessageFactoryMark2",function(){return wn.a});var Tn=n(636);n.d(e,"PromoMessagesEvents",function(){return Tn.a});var _n=n(635);n.d(e,"PromoMessagesModuleConstant",function(){return _n.a});var kn=(n(638),n(639));n.d(e,"PromoMessagesManager",function(){return kn.a});var Rn=n(641);n.d(e,"PromoMessagesView",function(){return Rn.a});var Bn=n(637);n.d(e,"PromoMessagesMediator",function(){return Bn.a});var On=n(634);n.d(e,"PromoMessagesModule",function(){return On.a});var xn=(n(640),n(233));n.n(xn);n.o(xn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return xn.LabelBuilderMark2}),n.o(xn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return xn.LabelMark2}),n.o(xn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return xn.RendererSupportModuleMark2}),n.o(xn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return xn.SpineProviderMark2}),n.o(xn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return xn.LayoutManagerMark2}),n.o(xn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return xn.ScenesManagerMark2}),n.o(xn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return xn.BackgroundModuleMark2Constants}),n.o(xn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return xn.BackgroundManagerMark2}),n.o(xn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return xn.ServerServiceMark2}),n.o(xn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return xn.PaytablePayoutController}),n.o(xn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return xn.PaytablePayoutModel}),n.o(xn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return xn.PayTableMediatorMark2}),n.o(xn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return xn.PayTableViewMark2}),n.o(xn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return xn.PaytableMark2Constants}),n.o(xn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return xn.SymbolAnimationsMediatorMark2}),n.o(xn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return xn.SymbolAnimationsViewMark2}),n.o(xn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return xn.SymbolAnimationManager}),n.o(xn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return xn.SymbolsConstantsMark2}),n.o(xn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return xn.SymbolAnimationEventsMark2}),n.o(xn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return xn.GameRunEventMark2}),n.o(xn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return xn.ParallaxLayerMark2}),n.o(xn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return xn.GameRunSceneMark2}),n.o(xn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return xn.GameRunMediatorMark2}),n.o(xn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return xn.DefaultRestoreGameAction}),n.o(xn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return xn.AnticipationDimView}),n.o(xn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return xn.AnticipationEvent}),n.o(xn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return xn.AnticipationDimMediator}),n.o(xn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return xn.AnticipationView}),n.o(xn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return xn.AnticipationModel}),n.o(xn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return xn.BaseSingleReelAnticipationAnim}),n.o(xn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return xn.SingleReelMovieClipAnticipationAnim}),n.o(xn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return xn.SingleReelParticlesAnticipationAnim}),n.o(xn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return xn.AnticipationUtils}),n.o(xn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return xn.AnticipationModuleConstant}),n.o(xn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return xn.MovieClipAnticipationView}),n.o(xn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return xn.AnticipationModule}),n.o(xn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return xn.StopSingleReelWithAnticipationAction}),n.o(xn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return xn.AnticipationMediator}),n.o(xn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return xn.ParticlesAnticipationView}),n.o(xn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return xn.SlotRenderManager}),n.o(xn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return xn.WaitAutoPlayLimitPopupAction}),n.o(xn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return xn.ShowAutoPlayLimitPopupAction}),n.o(xn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return xn.RegulationsEventMark2}),n.o(xn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return xn.RegulationsModelMark2}),n.o(xn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return xn.RegulationsManagerMark2}),n.o(xn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return xn.DefaultRegulationsAction}),n.o(xn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return xn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(xn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return xn.LockUIAutoPlayLimitPopupAction}),n.o(xn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return xn.SymbolAnimationType}),n.o(xn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return xn.PlayBtnMark2}),n.o(xn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return xn.StartSceneMark2}),n.o(xn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return xn.BlinkingAnimationUtils}),n.o(xn,"MathUtils")&&n.d(e,"MathUtils",function(){return xn.MathUtils}),n.o(xn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return xn.RegulationsModuleMark2}),n.o(xn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return xn.SymbolsModuleMark2}),n.o(xn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return xn.GameRunModuleMark2}),n.o(xn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return xn.GameFlowModule}),n.o(xn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return xn.EngineContextMark2}),n.o(xn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return xn.ServerModuleMark2}),n.o(xn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return xn.SlotRenderModule}),n.o(xn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return xn.CommonExtensionLoaderMark2}),n.o(xn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return xn.PaytableModuleMark2});var Nn=n(232);n.n(Nn);n.o(Nn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Nn.LabelBuilderMark2}),n.o(Nn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Nn.LabelMark2}),n.o(Nn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Nn.RendererSupportModuleMark2}),n.o(Nn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Nn.SpineProviderMark2}),n.o(Nn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Nn.LayoutManagerMark2}),n.o(Nn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Nn.ScenesManagerMark2}),n.o(Nn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Nn.BackgroundModuleMark2Constants}),n.o(Nn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Nn.BackgroundManagerMark2}),n.o(Nn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Nn.ServerServiceMark2}),n.o(Nn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Nn.PaytablePayoutController}),n.o(Nn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Nn.PaytablePayoutModel}),n.o(Nn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Nn.PayTableMediatorMark2}),n.o(Nn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Nn.PayTableViewMark2}),n.o(Nn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Nn.PaytableMark2Constants}),n.o(Nn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Nn.SymbolAnimationsMediatorMark2}),n.o(Nn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Nn.SymbolAnimationsViewMark2}),n.o(Nn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Nn.SymbolAnimationManager}),n.o(Nn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Nn.SymbolsConstantsMark2}),n.o(Nn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Nn.SymbolAnimationEventsMark2}),n.o(Nn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Nn.GameRunEventMark2}),n.o(Nn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Nn.ParallaxLayerMark2}),n.o(Nn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Nn.GameRunSceneMark2}),n.o(Nn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Nn.GameRunMediatorMark2}),n.o(Nn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Nn.DefaultRestoreGameAction}),n.o(Nn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Nn.AnticipationDimView}),n.o(Nn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Nn.AnticipationEvent}),n.o(Nn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Nn.AnticipationDimMediator}),n.o(Nn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Nn.AnticipationView}),n.o(Nn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Nn.AnticipationModel}),n.o(Nn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Nn.BaseSingleReelAnticipationAnim}),n.o(Nn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Nn.SingleReelMovieClipAnticipationAnim}),n.o(Nn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Nn.SingleReelParticlesAnticipationAnim}),n.o(Nn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Nn.AnticipationUtils}),n.o(Nn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Nn.AnticipationModuleConstant}),n.o(Nn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Nn.MovieClipAnticipationView}),n.o(Nn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Nn.AnticipationModule}),n.o(Nn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Nn.StopSingleReelWithAnticipationAction}),n.o(Nn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Nn.AnticipationMediator}),n.o(Nn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Nn.ParticlesAnticipationView}),n.o(Nn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Nn.SlotRenderManager}),n.o(Nn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Nn.WaitAutoPlayLimitPopupAction}),n.o(Nn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Nn.ShowAutoPlayLimitPopupAction}),n.o(Nn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Nn.RegulationsEventMark2}),n.o(Nn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Nn.RegulationsModelMark2}),n.o(Nn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Nn.RegulationsManagerMark2}),n.o(Nn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Nn.DefaultRegulationsAction}),n.o(Nn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Nn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Nn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Nn.LockUIAutoPlayLimitPopupAction}),n.o(Nn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Nn.SymbolAnimationType}),n.o(Nn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Nn.PlayBtnMark2}),n.o(Nn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Nn.StartSceneMark2}),n.o(Nn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Nn.BlinkingAnimationUtils}),n.o(Nn,"MathUtils")&&n.d(e,"MathUtils",function(){return Nn.MathUtils}),n.o(Nn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Nn.RegulationsModuleMark2}),n.o(Nn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Nn.SymbolsModuleMark2}),n.o(Nn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Nn.GameRunModuleMark2}),n.o(Nn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Nn.GameFlowModule}),n.o(Nn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Nn.EngineContextMark2}),n.o(Nn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Nn.ServerModuleMark2}),n.o(Nn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Nn.SlotRenderModule}),n.o(Nn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Nn.CommonExtensionLoaderMark2}),n.o(Nn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Nn.PaytableModuleMark2});var Wn=n(229);n.n(Wn);n.o(Wn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Wn.LabelBuilderMark2}),n.o(Wn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Wn.LabelMark2}),n.o(Wn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Wn.RendererSupportModuleMark2}),n.o(Wn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Wn.SpineProviderMark2}),n.o(Wn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Wn.LayoutManagerMark2}),n.o(Wn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Wn.ScenesManagerMark2}),n.o(Wn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Wn.BackgroundModuleMark2Constants}),n.o(Wn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Wn.BackgroundManagerMark2}),n.o(Wn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Wn.ServerServiceMark2}),n.o(Wn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Wn.PaytablePayoutController}),n.o(Wn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Wn.PaytablePayoutModel}),n.o(Wn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Wn.PayTableMediatorMark2}),n.o(Wn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Wn.PayTableViewMark2}),n.o(Wn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Wn.PaytableMark2Constants}),n.o(Wn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Wn.SymbolAnimationsMediatorMark2}),n.o(Wn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Wn.SymbolAnimationsViewMark2}),n.o(Wn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Wn.SymbolAnimationManager}),n.o(Wn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Wn.SymbolsConstantsMark2}),n.o(Wn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Wn.SymbolAnimationEventsMark2}),n.o(Wn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Wn.GameRunEventMark2}),n.o(Wn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Wn.ParallaxLayerMark2}),n.o(Wn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Wn.GameRunSceneMark2}),n.o(Wn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Wn.GameRunMediatorMark2}),n.o(Wn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Wn.DefaultRestoreGameAction}),n.o(Wn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Wn.AnticipationDimView}),n.o(Wn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Wn.AnticipationEvent}),n.o(Wn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Wn.AnticipationDimMediator}),n.o(Wn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Wn.AnticipationView}),n.o(Wn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Wn.AnticipationModel}),n.o(Wn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Wn.BaseSingleReelAnticipationAnim}),n.o(Wn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Wn.SingleReelMovieClipAnticipationAnim}),n.o(Wn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Wn.SingleReelParticlesAnticipationAnim}),n.o(Wn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Wn.AnticipationUtils}),n.o(Wn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Wn.AnticipationModuleConstant}),n.o(Wn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Wn.MovieClipAnticipationView}),n.o(Wn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Wn.AnticipationModule}),n.o(Wn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Wn.StopSingleReelWithAnticipationAction}),n.o(Wn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Wn.AnticipationMediator}),n.o(Wn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Wn.ParticlesAnticipationView}),n.o(Wn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Wn.SlotRenderManager}),n.o(Wn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Wn.WaitAutoPlayLimitPopupAction}),n.o(Wn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Wn.ShowAutoPlayLimitPopupAction}),n.o(Wn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Wn.RegulationsEventMark2}),n.o(Wn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Wn.RegulationsModelMark2}),n.o(Wn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Wn.RegulationsManagerMark2}),n.o(Wn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Wn.DefaultRegulationsAction}),n.o(Wn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Wn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Wn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Wn.LockUIAutoPlayLimitPopupAction}),n.o(Wn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Wn.SymbolAnimationType}),n.o(Wn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Wn.PlayBtnMark2}),n.o(Wn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Wn.StartSceneMark2}),n.o(Wn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Wn.BlinkingAnimationUtils}),n.o(Wn,"MathUtils")&&n.d(e,"MathUtils",function(){return Wn.MathUtils}),n.o(Wn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Wn.RegulationsModuleMark2}),n.o(Wn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Wn.SymbolsModuleMark2}),n.o(Wn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Wn.GameRunModuleMark2}),n.o(Wn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Wn.GameFlowModule}),n.o(Wn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Wn.EngineContextMark2}),n.o(Wn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Wn.ServerModuleMark2}),n.o(Wn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Wn.SlotRenderModule}),n.o(Wn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Wn.CommonExtensionLoaderMark2}),n.o(Wn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Wn.PaytableModuleMark2});var Dn=n(231);n.n(Dn);n.o(Dn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Dn.LabelBuilderMark2}),n.o(Dn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Dn.LabelMark2}),n.o(Dn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Dn.RendererSupportModuleMark2}),n.o(Dn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Dn.SpineProviderMark2}),n.o(Dn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Dn.LayoutManagerMark2}),n.o(Dn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Dn.ScenesManagerMark2}),n.o(Dn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Dn.BackgroundModuleMark2Constants}),n.o(Dn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Dn.BackgroundManagerMark2}),n.o(Dn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Dn.ServerServiceMark2}),n.o(Dn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Dn.PaytablePayoutController}),n.o(Dn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Dn.PaytablePayoutModel}),n.o(Dn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Dn.PayTableMediatorMark2}),n.o(Dn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Dn.PayTableViewMark2}),n.o(Dn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Dn.PaytableMark2Constants}),n.o(Dn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Dn.SymbolAnimationsMediatorMark2}),n.o(Dn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Dn.SymbolAnimationsViewMark2}),n.o(Dn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Dn.SymbolAnimationManager}),n.o(Dn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Dn.SymbolsConstantsMark2}),n.o(Dn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Dn.SymbolAnimationEventsMark2}),n.o(Dn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Dn.GameRunEventMark2}),n.o(Dn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Dn.ParallaxLayerMark2}),n.o(Dn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Dn.GameRunSceneMark2}),n.o(Dn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Dn.GameRunMediatorMark2}),n.o(Dn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Dn.DefaultRestoreGameAction}),n.o(Dn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Dn.AnticipationDimView}),n.o(Dn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Dn.AnticipationEvent}),n.o(Dn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Dn.AnticipationDimMediator}),n.o(Dn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Dn.AnticipationView}),n.o(Dn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Dn.AnticipationModel}),n.o(Dn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Dn.BaseSingleReelAnticipationAnim}),n.o(Dn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Dn.SingleReelMovieClipAnticipationAnim}),n.o(Dn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Dn.SingleReelParticlesAnticipationAnim}),n.o(Dn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Dn.AnticipationUtils}),n.o(Dn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Dn.AnticipationModuleConstant}),n.o(Dn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Dn.MovieClipAnticipationView}),n.o(Dn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Dn.AnticipationModule}),n.o(Dn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Dn.StopSingleReelWithAnticipationAction}),n.o(Dn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Dn.AnticipationMediator}),n.o(Dn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Dn.ParticlesAnticipationView}),n.o(Dn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Dn.SlotRenderManager}),n.o(Dn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Dn.WaitAutoPlayLimitPopupAction}),n.o(Dn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Dn.ShowAutoPlayLimitPopupAction}),n.o(Dn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Dn.RegulationsEventMark2}),n.o(Dn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Dn.RegulationsModelMark2}),n.o(Dn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Dn.RegulationsManagerMark2}),n.o(Dn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Dn.DefaultRegulationsAction}),n.o(Dn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Dn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Dn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Dn.LockUIAutoPlayLimitPopupAction}),n.o(Dn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Dn.SymbolAnimationType}),n.o(Dn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Dn.PlayBtnMark2}),n.o(Dn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Dn.StartSceneMark2}),n.o(Dn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Dn.BlinkingAnimationUtils}),n.o(Dn,"MathUtils")&&n.d(e,"MathUtils",function(){return Dn.MathUtils}),n.o(Dn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Dn.RegulationsModuleMark2}),n.o(Dn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Dn.SymbolsModuleMark2}),n.o(Dn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Dn.GameRunModuleMark2}),n.o(Dn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Dn.GameFlowModule}),n.o(Dn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Dn.EngineContextMark2}),n.o(Dn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Dn.ServerModuleMark2}),n.o(Dn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Dn.SlotRenderModule}),n.o(Dn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Dn.CommonExtensionLoaderMark2}),n.o(Dn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Dn.PaytableModuleMark2});var Gn=n(228);n.n(Gn);n.o(Gn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Gn.LabelBuilderMark2}),n.o(Gn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Gn.LabelMark2}),n.o(Gn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Gn.RendererSupportModuleMark2}),n.o(Gn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Gn.SpineProviderMark2}),n.o(Gn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Gn.LayoutManagerMark2}),n.o(Gn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Gn.ScenesManagerMark2}),n.o(Gn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Gn.BackgroundModuleMark2Constants}),n.o(Gn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Gn.BackgroundManagerMark2}),n.o(Gn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Gn.ServerServiceMark2}),n.o(Gn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Gn.PaytablePayoutController}),n.o(Gn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Gn.PaytablePayoutModel}),n.o(Gn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Gn.PayTableMediatorMark2}),n.o(Gn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Gn.PayTableViewMark2}),n.o(Gn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Gn.PaytableMark2Constants}),n.o(Gn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Gn.SymbolAnimationsMediatorMark2}),n.o(Gn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Gn.SymbolAnimationsViewMark2}),n.o(Gn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Gn.SymbolAnimationManager}),n.o(Gn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Gn.SymbolsConstantsMark2}),n.o(Gn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Gn.SymbolAnimationEventsMark2}),n.o(Gn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Gn.GameRunEventMark2}),n.o(Gn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Gn.ParallaxLayerMark2}),n.o(Gn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Gn.GameRunSceneMark2}),n.o(Gn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Gn.GameRunMediatorMark2}),n.o(Gn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Gn.DefaultRestoreGameAction}),n.o(Gn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Gn.AnticipationDimView}),n.o(Gn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Gn.AnticipationEvent}),n.o(Gn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Gn.AnticipationDimMediator}),n.o(Gn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Gn.AnticipationView}),n.o(Gn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Gn.AnticipationModel}),n.o(Gn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Gn.BaseSingleReelAnticipationAnim}),n.o(Gn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Gn.SingleReelMovieClipAnticipationAnim}),n.o(Gn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Gn.SingleReelParticlesAnticipationAnim}),n.o(Gn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Gn.AnticipationUtils}),n.o(Gn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Gn.AnticipationModuleConstant}),n.o(Gn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Gn.MovieClipAnticipationView}),n.o(Gn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Gn.AnticipationModule}),n.o(Gn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Gn.StopSingleReelWithAnticipationAction}),n.o(Gn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Gn.AnticipationMediator}),n.o(Gn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Gn.ParticlesAnticipationView}),n.o(Gn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Gn.SlotRenderManager}),n.o(Gn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Gn.WaitAutoPlayLimitPopupAction}),n.o(Gn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Gn.ShowAutoPlayLimitPopupAction}),n.o(Gn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Gn.RegulationsEventMark2}),n.o(Gn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Gn.RegulationsModelMark2}),n.o(Gn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Gn.RegulationsManagerMark2}),n.o(Gn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Gn.DefaultRegulationsAction}),n.o(Gn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Gn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Gn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Gn.LockUIAutoPlayLimitPopupAction}),n.o(Gn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Gn.SymbolAnimationType}),n.o(Gn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Gn.PlayBtnMark2}),n.o(Gn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Gn.StartSceneMark2}),n.o(Gn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Gn.BlinkingAnimationUtils}),n.o(Gn,"MathUtils")&&n.d(e,"MathUtils",function(){return Gn.MathUtils}),n.o(Gn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Gn.RegulationsModuleMark2}),n.o(Gn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Gn.SymbolsModuleMark2}),n.o(Gn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Gn.GameRunModuleMark2}),n.o(Gn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Gn.GameFlowModule}),n.o(Gn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Gn.EngineContextMark2}),n.o(Gn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Gn.ServerModuleMark2}),n.o(Gn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Gn.SlotRenderModule}),n.o(Gn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Gn.CommonExtensionLoaderMark2}),n.o(Gn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Gn.PaytableModuleMark2});var Fn=n(230);n.n(Fn);n.o(Fn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Fn.LabelBuilderMark2}),n.o(Fn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Fn.LabelMark2}),n.o(Fn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Fn.RendererSupportModuleMark2}),n.o(Fn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Fn.SpineProviderMark2}),n.o(Fn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Fn.LayoutManagerMark2}),n.o(Fn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Fn.ScenesManagerMark2}),n.o(Fn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Fn.BackgroundModuleMark2Constants}),n.o(Fn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Fn.BackgroundManagerMark2}),n.o(Fn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Fn.ServerServiceMark2}),n.o(Fn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Fn.PaytablePayoutController}),n.o(Fn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Fn.PaytablePayoutModel}),n.o(Fn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Fn.PayTableMediatorMark2}),n.o(Fn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Fn.PayTableViewMark2}),n.o(Fn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Fn.PaytableMark2Constants}),n.o(Fn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Fn.SymbolAnimationsMediatorMark2}),n.o(Fn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Fn.SymbolAnimationsViewMark2}),n.o(Fn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Fn.SymbolAnimationManager}),n.o(Fn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Fn.SymbolsConstantsMark2}),n.o(Fn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Fn.SymbolAnimationEventsMark2}),n.o(Fn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Fn.GameRunEventMark2}),n.o(Fn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Fn.ParallaxLayerMark2}),n.o(Fn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Fn.GameRunSceneMark2}),n.o(Fn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Fn.GameRunMediatorMark2}),n.o(Fn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Fn.DefaultRestoreGameAction}),n.o(Fn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Fn.AnticipationDimView}),n.o(Fn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Fn.AnticipationEvent}),n.o(Fn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Fn.AnticipationDimMediator}),n.o(Fn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Fn.AnticipationView}),n.o(Fn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Fn.AnticipationModel}),n.o(Fn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Fn.BaseSingleReelAnticipationAnim}),n.o(Fn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Fn.SingleReelMovieClipAnticipationAnim}),n.o(Fn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Fn.SingleReelParticlesAnticipationAnim}),n.o(Fn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Fn.AnticipationUtils}),n.o(Fn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Fn.AnticipationModuleConstant}),n.o(Fn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Fn.MovieClipAnticipationView}),n.o(Fn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Fn.AnticipationModule}),n.o(Fn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Fn.StopSingleReelWithAnticipationAction}),n.o(Fn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Fn.AnticipationMediator}),n.o(Fn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Fn.ParticlesAnticipationView}),n.o(Fn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Fn.SlotRenderManager}),n.o(Fn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Fn.WaitAutoPlayLimitPopupAction}),n.o(Fn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Fn.ShowAutoPlayLimitPopupAction}),n.o(Fn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Fn.RegulationsEventMark2}),n.o(Fn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Fn.RegulationsModelMark2}),n.o(Fn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Fn.RegulationsManagerMark2}),n.o(Fn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Fn.DefaultRegulationsAction}),n.o(Fn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Fn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Fn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Fn.LockUIAutoPlayLimitPopupAction}),n.o(Fn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Fn.SymbolAnimationType}),n.o(Fn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Fn.PlayBtnMark2}),n.o(Fn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Fn.StartSceneMark2}),n.o(Fn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Fn.BlinkingAnimationUtils}),n.o(Fn,"MathUtils")&&n.d(e,"MathUtils",function(){return Fn.MathUtils}),n.o(Fn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Fn.RegulationsModuleMark2}),n.o(Fn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Fn.SymbolsModuleMark2}),n.o(Fn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Fn.GameRunModuleMark2}),n.o(Fn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Fn.GameFlowModule}),n.o(Fn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Fn.EngineContextMark2}),n.o(Fn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Fn.ServerModuleMark2}),n.o(Fn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Fn.SlotRenderModule}),n.o(Fn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Fn.CommonExtensionLoaderMark2}),n.o(Fn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Fn.PaytableModuleMark2});var Vn=n(234);n.n(Vn);n.o(Vn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Vn.LabelBuilderMark2}),n.o(Vn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Vn.LabelMark2}),n.o(Vn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Vn.RendererSupportModuleMark2}),n.o(Vn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Vn.SpineProviderMark2}),n.o(Vn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Vn.LayoutManagerMark2}),n.o(Vn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Vn.ScenesManagerMark2}),n.o(Vn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Vn.BackgroundModuleMark2Constants}),n.o(Vn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Vn.BackgroundManagerMark2}),n.o(Vn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Vn.ServerServiceMark2}),n.o(Vn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Vn.PaytablePayoutController}),n.o(Vn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Vn.PaytablePayoutModel}),n.o(Vn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Vn.PayTableMediatorMark2}),n.o(Vn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Vn.PayTableViewMark2}),n.o(Vn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Vn.PaytableMark2Constants}),n.o(Vn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Vn.SymbolAnimationsMediatorMark2}),n.o(Vn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Vn.SymbolAnimationsViewMark2}),n.o(Vn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Vn.SymbolAnimationManager}),n.o(Vn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Vn.SymbolsConstantsMark2}),n.o(Vn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Vn.SymbolAnimationEventsMark2}),n.o(Vn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Vn.GameRunEventMark2}),n.o(Vn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Vn.ParallaxLayerMark2}),n.o(Vn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Vn.GameRunSceneMark2}),n.o(Vn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Vn.GameRunMediatorMark2}),n.o(Vn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Vn.DefaultRestoreGameAction}),n.o(Vn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Vn.AnticipationDimView}),n.o(Vn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Vn.AnticipationEvent}),n.o(Vn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Vn.AnticipationDimMediator}),n.o(Vn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Vn.AnticipationView}),n.o(Vn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Vn.AnticipationModel}),n.o(Vn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Vn.BaseSingleReelAnticipationAnim}),n.o(Vn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Vn.SingleReelMovieClipAnticipationAnim}),n.o(Vn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Vn.SingleReelParticlesAnticipationAnim}),n.o(Vn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Vn.AnticipationUtils}),n.o(Vn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Vn.AnticipationModuleConstant}),n.o(Vn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Vn.MovieClipAnticipationView}),n.o(Vn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Vn.AnticipationModule}),n.o(Vn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Vn.StopSingleReelWithAnticipationAction}),n.o(Vn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Vn.AnticipationMediator}),n.o(Vn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Vn.ParticlesAnticipationView}),n.o(Vn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Vn.SlotRenderManager}),n.o(Vn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Vn.WaitAutoPlayLimitPopupAction}),n.o(Vn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Vn.ShowAutoPlayLimitPopupAction}),n.o(Vn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Vn.RegulationsEventMark2}),n.o(Vn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Vn.RegulationsModelMark2}),n.o(Vn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Vn.RegulationsManagerMark2}),n.o(Vn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Vn.DefaultRegulationsAction}),n.o(Vn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Vn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Vn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Vn.LockUIAutoPlayLimitPopupAction}),n.o(Vn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Vn.SymbolAnimationType}),n.o(Vn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Vn.PlayBtnMark2}),n.o(Vn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Vn.StartSceneMark2}),n.o(Vn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Vn.BlinkingAnimationUtils}),n.o(Vn,"MathUtils")&&n.d(e,"MathUtils",function(){return Vn.MathUtils}),n.o(Vn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Vn.RegulationsModuleMark2}),n.o(Vn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Vn.SymbolsModuleMark2}),n.o(Vn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Vn.GameRunModuleMark2}),n.o(Vn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Vn.GameFlowModule}),n.o(Vn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Vn.EngineContextMark2}),n.o(Vn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Vn.ServerModuleMark2}),n.o(Vn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Vn.SlotRenderModule}),n.o(Vn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Vn.CommonExtensionLoaderMark2}),n.o(Vn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Vn.PaytableModuleMark2});var Un=n(227);n.n(Un);n.o(Un,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Un.LabelBuilderMark2}),n.o(Un,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Un.LabelMark2}),n.o(Un,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Un.RendererSupportModuleMark2}),n.o(Un,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Un.SpineProviderMark2}),n.o(Un,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Un.LayoutManagerMark2}),n.o(Un,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Un.ScenesManagerMark2}),n.o(Un,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Un.BackgroundModuleMark2Constants}),n.o(Un,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Un.BackgroundManagerMark2}),n.o(Un,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Un.ServerServiceMark2}),n.o(Un,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Un.PaytablePayoutController}),n.o(Un,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Un.PaytablePayoutModel}),n.o(Un,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Un.PayTableMediatorMark2}),n.o(Un,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Un.PayTableViewMark2}),n.o(Un,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Un.PaytableMark2Constants}),n.o(Un,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Un.SymbolAnimationsMediatorMark2}),n.o(Un,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Un.SymbolAnimationsViewMark2}),n.o(Un,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Un.SymbolAnimationManager}),n.o(Un,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Un.SymbolsConstantsMark2}),n.o(Un,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Un.SymbolAnimationEventsMark2}),n.o(Un,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Un.GameRunEventMark2}),n.o(Un,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Un.ParallaxLayerMark2}),n.o(Un,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Un.GameRunSceneMark2}),n.o(Un,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Un.GameRunMediatorMark2}),n.o(Un,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Un.DefaultRestoreGameAction}),n.o(Un,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Un.AnticipationDimView}),n.o(Un,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Un.AnticipationEvent}),n.o(Un,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Un.AnticipationDimMediator}),n.o(Un,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Un.AnticipationView}),n.o(Un,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Un.AnticipationModel}),n.o(Un,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Un.BaseSingleReelAnticipationAnim}),n.o(Un,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Un.SingleReelMovieClipAnticipationAnim}),n.o(Un,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Un.SingleReelParticlesAnticipationAnim}),n.o(Un,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Un.AnticipationUtils}),n.o(Un,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Un.AnticipationModuleConstant}),n.o(Un,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Un.MovieClipAnticipationView}),n.o(Un,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Un.AnticipationModule}),n.o(Un,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Un.StopSingleReelWithAnticipationAction}),n.o(Un,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Un.AnticipationMediator}),n.o(Un,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Un.ParticlesAnticipationView}),n.o(Un,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Un.SlotRenderManager}),n.o(Un,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Un.WaitAutoPlayLimitPopupAction}),n.o(Un,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Un.ShowAutoPlayLimitPopupAction}),n.o(Un,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Un.RegulationsEventMark2}),n.o(Un,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Un.RegulationsModelMark2}),n.o(Un,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Un.RegulationsManagerMark2}),n.o(Un,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Un.DefaultRegulationsAction}),n.o(Un,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Un.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Un,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Un.LockUIAutoPlayLimitPopupAction}),n.o(Un,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Un.SymbolAnimationType}),n.o(Un,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Un.PlayBtnMark2}),n.o(Un,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Un.StartSceneMark2}),n.o(Un,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Un.BlinkingAnimationUtils}),n.o(Un,"MathUtils")&&n.d(e,"MathUtils",function(){return Un.MathUtils}),n.o(Un,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Un.RegulationsModuleMark2}),n.o(Un,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Un.SymbolsModuleMark2}),n.o(Un,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Un.GameRunModuleMark2}),n.o(Un,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Un.GameFlowModule}),n.o(Un,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Un.EngineContextMark2}),n.o(Un,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Un.ServerModuleMark2}),n.o(Un,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Un.SlotRenderModule}),n.o(Un,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Un.CommonExtensionLoaderMark2}),n.o(Un,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Un.PaytableModuleMark2});var Hn=n(217);n.n(Hn);n.o(Hn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Hn.LabelBuilderMark2}),n.o(Hn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Hn.LabelMark2}),n.o(Hn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Hn.RendererSupportModuleMark2}),n.o(Hn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Hn.SpineProviderMark2}),n.o(Hn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Hn.LayoutManagerMark2}),n.o(Hn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Hn.ScenesManagerMark2}),n.o(Hn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Hn.BackgroundModuleMark2Constants}),n.o(Hn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Hn.BackgroundManagerMark2}),n.o(Hn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Hn.ServerServiceMark2}),n.o(Hn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Hn.PaytablePayoutController}),n.o(Hn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Hn.PaytablePayoutModel}),n.o(Hn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Hn.PayTableMediatorMark2}),n.o(Hn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Hn.PayTableViewMark2}),n.o(Hn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Hn.PaytableMark2Constants}),n.o(Hn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Hn.SymbolAnimationsMediatorMark2}),n.o(Hn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Hn.SymbolAnimationsViewMark2}),n.o(Hn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Hn.SymbolAnimationManager}),n.o(Hn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Hn.SymbolsConstantsMark2}),n.o(Hn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Hn.SymbolAnimationEventsMark2}),n.o(Hn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Hn.GameRunEventMark2}),n.o(Hn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Hn.ParallaxLayerMark2}),n.o(Hn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Hn.GameRunSceneMark2}),n.o(Hn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Hn.GameRunMediatorMark2}),n.o(Hn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Hn.DefaultRestoreGameAction}),n.o(Hn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Hn.AnticipationDimView}),n.o(Hn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Hn.AnticipationEvent}),n.o(Hn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Hn.AnticipationDimMediator}),n.o(Hn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Hn.AnticipationView}),n.o(Hn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Hn.AnticipationModel}),n.o(Hn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Hn.BaseSingleReelAnticipationAnim}),n.o(Hn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Hn.SingleReelMovieClipAnticipationAnim}),n.o(Hn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Hn.SingleReelParticlesAnticipationAnim}),n.o(Hn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Hn.AnticipationUtils}),n.o(Hn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Hn.AnticipationModuleConstant}),n.o(Hn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Hn.MovieClipAnticipationView}),n.o(Hn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Hn.AnticipationModule}),n.o(Hn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Hn.StopSingleReelWithAnticipationAction}),n.o(Hn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Hn.AnticipationMediator}),n.o(Hn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Hn.ParticlesAnticipationView}),n.o(Hn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Hn.SlotRenderManager}),n.o(Hn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Hn.WaitAutoPlayLimitPopupAction}),n.o(Hn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Hn.ShowAutoPlayLimitPopupAction}),n.o(Hn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Hn.RegulationsEventMark2}),n.o(Hn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Hn.RegulationsModelMark2}),n.o(Hn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Hn.RegulationsManagerMark2}),n.o(Hn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Hn.DefaultRegulationsAction}),n.o(Hn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Hn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Hn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Hn.LockUIAutoPlayLimitPopupAction}),n.o(Hn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Hn.SymbolAnimationType}),n.o(Hn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Hn.PlayBtnMark2}),n.o(Hn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Hn.StartSceneMark2}),n.o(Hn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Hn.BlinkingAnimationUtils}),n.o(Hn,"MathUtils")&&n.d(e,"MathUtils",function(){return Hn.MathUtils}),n.o(Hn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Hn.RegulationsModuleMark2}),n.o(Hn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Hn.SymbolsModuleMark2}),n.o(Hn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Hn.GameRunModuleMark2}),n.o(Hn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Hn.GameFlowModule}),n.o(Hn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Hn.EngineContextMark2}),n.o(Hn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Hn.ServerModuleMark2}),n.o(Hn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Hn.SlotRenderModule}),n.o(Hn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Hn.CommonExtensionLoaderMark2}),n.o(Hn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Hn.PaytableModuleMark2});var jn=n(236);n.n(jn);n.o(jn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return jn.LabelBuilderMark2}),n.o(jn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return jn.LabelMark2}),n.o(jn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return jn.RendererSupportModuleMark2}),n.o(jn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return jn.SpineProviderMark2}),n.o(jn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return jn.LayoutManagerMark2}),n.o(jn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return jn.ScenesManagerMark2}),n.o(jn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return jn.BackgroundModuleMark2Constants}),n.o(jn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return jn.BackgroundManagerMark2}),n.o(jn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return jn.ServerServiceMark2}),n.o(jn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return jn.PaytablePayoutController}),n.o(jn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return jn.PaytablePayoutModel}),n.o(jn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return jn.PayTableMediatorMark2}),n.o(jn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return jn.PayTableViewMark2}),n.o(jn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return jn.PaytableMark2Constants}),n.o(jn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return jn.SymbolAnimationsMediatorMark2}),n.o(jn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return jn.SymbolAnimationsViewMark2}),n.o(jn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return jn.SymbolAnimationManager}),n.o(jn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return jn.SymbolsConstantsMark2}),n.o(jn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return jn.SymbolAnimationEventsMark2}),n.o(jn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return jn.GameRunEventMark2}),n.o(jn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return jn.ParallaxLayerMark2}),n.o(jn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return jn.GameRunSceneMark2}),n.o(jn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return jn.GameRunMediatorMark2}),n.o(jn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return jn.DefaultRestoreGameAction}),n.o(jn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return jn.AnticipationDimView}),n.o(jn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return jn.AnticipationEvent}),n.o(jn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return jn.AnticipationDimMediator}),n.o(jn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return jn.AnticipationView}),n.o(jn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return jn.AnticipationModel}),n.o(jn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return jn.BaseSingleReelAnticipationAnim}),n.o(jn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return jn.SingleReelMovieClipAnticipationAnim}),n.o(jn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return jn.SingleReelParticlesAnticipationAnim}),n.o(jn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return jn.AnticipationUtils}),n.o(jn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return jn.AnticipationModuleConstant}),n.o(jn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return jn.MovieClipAnticipationView}),n.o(jn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return jn.AnticipationModule}),n.o(jn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return jn.StopSingleReelWithAnticipationAction}),n.o(jn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return jn.AnticipationMediator}),n.o(jn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return jn.ParticlesAnticipationView}),n.o(jn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return jn.SlotRenderManager}),n.o(jn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return jn.WaitAutoPlayLimitPopupAction}),n.o(jn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return jn.ShowAutoPlayLimitPopupAction}),n.o(jn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return jn.RegulationsEventMark2}),n.o(jn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return jn.RegulationsModelMark2}),n.o(jn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return jn.RegulationsManagerMark2}),n.o(jn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return jn.DefaultRegulationsAction}),n.o(jn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return jn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(jn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return jn.LockUIAutoPlayLimitPopupAction}),n.o(jn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return jn.SymbolAnimationType}),n.o(jn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return jn.PlayBtnMark2}),n.o(jn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return jn.StartSceneMark2}),n.o(jn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return jn.BlinkingAnimationUtils}),n.o(jn,"MathUtils")&&n.d(e,"MathUtils",function(){return jn.MathUtils}),n.o(jn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return jn.RegulationsModuleMark2}),n.o(jn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return jn.SymbolsModuleMark2}),n.o(jn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return jn.GameRunModuleMark2}),n.o(jn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return jn.GameFlowModule}),n.o(jn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return jn.EngineContextMark2}),n.o(jn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return jn.ServerModuleMark2}),n.o(jn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return jn.SlotRenderModule}),n.o(jn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return jn.CommonExtensionLoaderMark2}),n.o(jn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return jn.PaytableModuleMark2});var Yn=n(239);n.n(Yn);n.o(Yn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Yn.LabelBuilderMark2}),n.o(Yn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Yn.LabelMark2}),n.o(Yn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Yn.RendererSupportModuleMark2}),n.o(Yn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Yn.SpineProviderMark2}),n.o(Yn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Yn.LayoutManagerMark2}),n.o(Yn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Yn.ScenesManagerMark2}),n.o(Yn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Yn.BackgroundModuleMark2Constants}),n.o(Yn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Yn.BackgroundManagerMark2}),n.o(Yn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Yn.ServerServiceMark2}),n.o(Yn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Yn.PaytablePayoutController}),n.o(Yn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Yn.PaytablePayoutModel}),n.o(Yn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Yn.PayTableMediatorMark2}),n.o(Yn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Yn.PayTableViewMark2}),n.o(Yn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Yn.PaytableMark2Constants}),n.o(Yn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Yn.SymbolAnimationsMediatorMark2}),n.o(Yn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Yn.SymbolAnimationsViewMark2}),n.o(Yn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Yn.SymbolAnimationManager}),n.o(Yn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Yn.SymbolsConstantsMark2}),n.o(Yn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Yn.SymbolAnimationEventsMark2}),n.o(Yn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Yn.GameRunEventMark2}),n.o(Yn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Yn.ParallaxLayerMark2}),n.o(Yn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Yn.GameRunSceneMark2}),n.o(Yn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Yn.GameRunMediatorMark2}),n.o(Yn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Yn.DefaultRestoreGameAction}),n.o(Yn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Yn.AnticipationDimView}),n.o(Yn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Yn.AnticipationEvent}),n.o(Yn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Yn.AnticipationDimMediator}),n.o(Yn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Yn.AnticipationView}),n.o(Yn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Yn.AnticipationModel}),n.o(Yn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Yn.BaseSingleReelAnticipationAnim}),n.o(Yn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Yn.SingleReelMovieClipAnticipationAnim}),n.o(Yn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Yn.SingleReelParticlesAnticipationAnim}),n.o(Yn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Yn.AnticipationUtils}),n.o(Yn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Yn.AnticipationModuleConstant}),n.o(Yn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Yn.MovieClipAnticipationView}),n.o(Yn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Yn.AnticipationModule}),n.o(Yn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Yn.StopSingleReelWithAnticipationAction}),n.o(Yn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Yn.AnticipationMediator}),n.o(Yn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Yn.ParticlesAnticipationView}),n.o(Yn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Yn.SlotRenderManager}),n.o(Yn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Yn.WaitAutoPlayLimitPopupAction}),n.o(Yn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Yn.ShowAutoPlayLimitPopupAction}),n.o(Yn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Yn.RegulationsEventMark2}),n.o(Yn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Yn.RegulationsModelMark2}),n.o(Yn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Yn.RegulationsManagerMark2}),n.o(Yn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Yn.DefaultRegulationsAction}),n.o(Yn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Yn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Yn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Yn.LockUIAutoPlayLimitPopupAction}),n.o(Yn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Yn.SymbolAnimationType}),n.o(Yn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Yn.PlayBtnMark2}),n.o(Yn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Yn.StartSceneMark2}),n.o(Yn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Yn.BlinkingAnimationUtils}),n.o(Yn,"MathUtils")&&n.d(e,"MathUtils",function(){return Yn.MathUtils}),n.o(Yn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Yn.RegulationsModuleMark2}),n.o(Yn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Yn.SymbolsModuleMark2}),n.o(Yn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Yn.GameRunModuleMark2}),n.o(Yn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Yn.GameFlowModule}),n.o(Yn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Yn.EngineContextMark2}),n.o(Yn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Yn.ServerModuleMark2}),n.o(Yn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Yn.SlotRenderModule}),n.o(Yn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Yn.CommonExtensionLoaderMark2}),n.o(Yn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Yn.PaytableModuleMark2});var Kn=n(238);n.n(Kn);n.o(Kn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Kn.LabelBuilderMark2}),n.o(Kn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Kn.LabelMark2}),n.o(Kn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Kn.RendererSupportModuleMark2}),n.o(Kn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Kn.SpineProviderMark2}),n.o(Kn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Kn.LayoutManagerMark2}),n.o(Kn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Kn.ScenesManagerMark2}),n.o(Kn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Kn.BackgroundModuleMark2Constants}),n.o(Kn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Kn.BackgroundManagerMark2}),n.o(Kn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Kn.ServerServiceMark2}),n.o(Kn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Kn.PaytablePayoutController}),n.o(Kn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Kn.PaytablePayoutModel}),n.o(Kn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Kn.PayTableMediatorMark2}),n.o(Kn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Kn.PayTableViewMark2}),n.o(Kn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Kn.PaytableMark2Constants}),n.o(Kn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Kn.SymbolAnimationsMediatorMark2}),n.o(Kn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Kn.SymbolAnimationsViewMark2}),n.o(Kn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Kn.SymbolAnimationManager}),n.o(Kn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Kn.SymbolsConstantsMark2}),n.o(Kn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Kn.SymbolAnimationEventsMark2}),n.o(Kn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Kn.GameRunEventMark2}),n.o(Kn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Kn.ParallaxLayerMark2}),n.o(Kn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Kn.GameRunSceneMark2}),n.o(Kn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Kn.GameRunMediatorMark2}),n.o(Kn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Kn.DefaultRestoreGameAction}),n.o(Kn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Kn.AnticipationDimView}),n.o(Kn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Kn.AnticipationEvent}),n.o(Kn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Kn.AnticipationDimMediator}),n.o(Kn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Kn.AnticipationView}),n.o(Kn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Kn.AnticipationModel}),n.o(Kn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Kn.BaseSingleReelAnticipationAnim}),n.o(Kn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Kn.SingleReelMovieClipAnticipationAnim}),n.o(Kn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Kn.SingleReelParticlesAnticipationAnim}),n.o(Kn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Kn.AnticipationUtils}),n.o(Kn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Kn.AnticipationModuleConstant}),n.o(Kn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Kn.MovieClipAnticipationView}),n.o(Kn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Kn.AnticipationModule}),n.o(Kn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Kn.StopSingleReelWithAnticipationAction}),n.o(Kn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Kn.AnticipationMediator}),n.o(Kn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Kn.ParticlesAnticipationView}),n.o(Kn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Kn.SlotRenderManager}),n.o(Kn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Kn.WaitAutoPlayLimitPopupAction}),n.o(Kn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Kn.ShowAutoPlayLimitPopupAction}),n.o(Kn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Kn.RegulationsEventMark2}),n.o(Kn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Kn.RegulationsModelMark2}),n.o(Kn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Kn.RegulationsManagerMark2}),n.o(Kn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Kn.DefaultRegulationsAction}),n.o(Kn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Kn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Kn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Kn.LockUIAutoPlayLimitPopupAction}),n.o(Kn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Kn.SymbolAnimationType}),n.o(Kn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Kn.PlayBtnMark2}),n.o(Kn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Kn.StartSceneMark2}),n.o(Kn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Kn.BlinkingAnimationUtils}),n.o(Kn,"MathUtils")&&n.d(e,"MathUtils",function(){return Kn.MathUtils}),n.o(Kn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Kn.RegulationsModuleMark2}),n.o(Kn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Kn.SymbolsModuleMark2}),n.o(Kn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Kn.GameRunModuleMark2}),n.o(Kn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Kn.GameFlowModule}),n.o(Kn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Kn.EngineContextMark2}),n.o(Kn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Kn.ServerModuleMark2}),n.o(Kn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Kn.SlotRenderModule}),n.o(Kn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Kn.CommonExtensionLoaderMark2}),n.o(Kn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Kn.PaytableModuleMark2});var zn=n(237);n.n(zn);n.o(zn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return zn.LabelBuilderMark2}),n.o(zn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return zn.LabelMark2}),n.o(zn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return zn.RendererSupportModuleMark2}),n.o(zn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return zn.SpineProviderMark2}),n.o(zn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return zn.LayoutManagerMark2}),n.o(zn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return zn.ScenesManagerMark2}),n.o(zn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return zn.BackgroundModuleMark2Constants}),n.o(zn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return zn.BackgroundManagerMark2}),n.o(zn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return zn.ServerServiceMark2}),n.o(zn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return zn.PaytablePayoutController}),n.o(zn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return zn.PaytablePayoutModel}),n.o(zn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return zn.PayTableMediatorMark2}),n.o(zn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return zn.PayTableViewMark2}),n.o(zn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return zn.PaytableMark2Constants}),n.o(zn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return zn.SymbolAnimationsMediatorMark2}),n.o(zn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return zn.SymbolAnimationsViewMark2}),n.o(zn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return zn.SymbolAnimationManager}),n.o(zn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return zn.SymbolsConstantsMark2}),n.o(zn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return zn.SymbolAnimationEventsMark2}),n.o(zn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return zn.GameRunEventMark2}),n.o(zn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return zn.ParallaxLayerMark2}),n.o(zn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return zn.GameRunSceneMark2}),n.o(zn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return zn.GameRunMediatorMark2}),n.o(zn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return zn.DefaultRestoreGameAction}),n.o(zn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return zn.AnticipationDimView}),n.o(zn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return zn.AnticipationEvent}),n.o(zn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return zn.AnticipationDimMediator}),n.o(zn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return zn.AnticipationView}),n.o(zn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return zn.AnticipationModel}),n.o(zn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return zn.BaseSingleReelAnticipationAnim}),n.o(zn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return zn.SingleReelMovieClipAnticipationAnim}),n.o(zn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return zn.SingleReelParticlesAnticipationAnim}),n.o(zn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return zn.AnticipationUtils}),n.o(zn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return zn.AnticipationModuleConstant}),n.o(zn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return zn.MovieClipAnticipationView}),n.o(zn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return zn.AnticipationModule}),n.o(zn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return zn.StopSingleReelWithAnticipationAction}),n.o(zn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return zn.AnticipationMediator}),n.o(zn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return zn.ParticlesAnticipationView}),n.o(zn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return zn.SlotRenderManager}),n.o(zn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return zn.WaitAutoPlayLimitPopupAction}),n.o(zn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return zn.ShowAutoPlayLimitPopupAction}),n.o(zn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return zn.RegulationsEventMark2}),n.o(zn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return zn.RegulationsModelMark2}),n.o(zn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return zn.RegulationsManagerMark2}),n.o(zn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return zn.DefaultRegulationsAction}),n.o(zn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return zn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(zn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return zn.LockUIAutoPlayLimitPopupAction}),n.o(zn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return zn.SymbolAnimationType}),n.o(zn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return zn.PlayBtnMark2}),n.o(zn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return zn.StartSceneMark2}),n.o(zn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return zn.BlinkingAnimationUtils}),n.o(zn,"MathUtils")&&n.d(e,"MathUtils",function(){return zn.MathUtils}),n.o(zn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return zn.RegulationsModuleMark2}),n.o(zn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return zn.SymbolsModuleMark2}),n.o(zn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return zn.GameRunModuleMark2}),n.o(zn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return zn.GameFlowModule}),n.o(zn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return zn.EngineContextMark2}),n.o(zn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return zn.ServerModuleMark2}),n.o(zn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return zn.SlotRenderModule}),n.o(zn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return zn.CommonExtensionLoaderMark2}),n.o(zn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return zn.PaytableModuleMark2});var Xn=n(241);n.n(Xn);n.o(Xn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Xn.LabelBuilderMark2}),n.o(Xn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Xn.LabelMark2}),n.o(Xn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Xn.RendererSupportModuleMark2}),n.o(Xn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Xn.SpineProviderMark2}),n.o(Xn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Xn.LayoutManagerMark2}),n.o(Xn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Xn.ScenesManagerMark2}),n.o(Xn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Xn.BackgroundModuleMark2Constants}),n.o(Xn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Xn.BackgroundManagerMark2}),n.o(Xn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Xn.ServerServiceMark2}),n.o(Xn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Xn.PaytablePayoutController}),n.o(Xn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Xn.PaytablePayoutModel}),n.o(Xn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Xn.PayTableMediatorMark2}),n.o(Xn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Xn.PayTableViewMark2}),n.o(Xn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Xn.PaytableMark2Constants}),n.o(Xn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Xn.SymbolAnimationsMediatorMark2}),n.o(Xn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Xn.SymbolAnimationsViewMark2}),n.o(Xn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Xn.SymbolAnimationManager}),n.o(Xn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Xn.SymbolsConstantsMark2}),n.o(Xn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Xn.SymbolAnimationEventsMark2}),n.o(Xn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Xn.GameRunEventMark2}),n.o(Xn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Xn.ParallaxLayerMark2}),n.o(Xn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Xn.GameRunSceneMark2}),n.o(Xn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Xn.GameRunMediatorMark2}),n.o(Xn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Xn.DefaultRestoreGameAction}),n.o(Xn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Xn.AnticipationDimView}),n.o(Xn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Xn.AnticipationEvent}),n.o(Xn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Xn.AnticipationDimMediator}),n.o(Xn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Xn.AnticipationView}),n.o(Xn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Xn.AnticipationModel}),n.o(Xn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Xn.BaseSingleReelAnticipationAnim}),n.o(Xn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Xn.SingleReelMovieClipAnticipationAnim}),n.o(Xn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Xn.SingleReelParticlesAnticipationAnim}),n.o(Xn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Xn.AnticipationUtils}),n.o(Xn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Xn.AnticipationModuleConstant}),n.o(Xn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Xn.MovieClipAnticipationView}),n.o(Xn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Xn.AnticipationModule}),n.o(Xn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Xn.StopSingleReelWithAnticipationAction}),n.o(Xn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Xn.AnticipationMediator}),n.o(Xn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Xn.ParticlesAnticipationView}),n.o(Xn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Xn.SlotRenderManager}),n.o(Xn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Xn.WaitAutoPlayLimitPopupAction}),n.o(Xn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Xn.ShowAutoPlayLimitPopupAction}),n.o(Xn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Xn.RegulationsEventMark2}),n.o(Xn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Xn.RegulationsModelMark2}),n.o(Xn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Xn.RegulationsManagerMark2}),n.o(Xn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Xn.DefaultRegulationsAction}),n.o(Xn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Xn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Xn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Xn.LockUIAutoPlayLimitPopupAction}),n.o(Xn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Xn.SymbolAnimationType}),n.o(Xn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Xn.PlayBtnMark2}),n.o(Xn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Xn.StartSceneMark2}),n.o(Xn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Xn.BlinkingAnimationUtils}),n.o(Xn,"MathUtils")&&n.d(e,"MathUtils",function(){return Xn.MathUtils}),n.o(Xn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Xn.RegulationsModuleMark2}),n.o(Xn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Xn.SymbolsModuleMark2}),n.o(Xn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Xn.GameRunModuleMark2}),n.o(Xn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Xn.GameFlowModule}),n.o(Xn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Xn.EngineContextMark2}),n.o(Xn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Xn.ServerModuleMark2}),n.o(Xn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Xn.SlotRenderModule}),n.o(Xn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Xn.CommonExtensionLoaderMark2}),n.o(Xn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Xn.PaytableModuleMark2});var Jn=n(240);n.n(Jn);n.o(Jn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Jn.LabelBuilderMark2}),n.o(Jn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Jn.LabelMark2}),n.o(Jn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Jn.RendererSupportModuleMark2}),n.o(Jn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Jn.SpineProviderMark2}),n.o(Jn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Jn.LayoutManagerMark2}),n.o(Jn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Jn.ScenesManagerMark2}),n.o(Jn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Jn.BackgroundModuleMark2Constants}),n.o(Jn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Jn.BackgroundManagerMark2}),n.o(Jn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Jn.ServerServiceMark2}),n.o(Jn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Jn.PaytablePayoutController}),n.o(Jn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Jn.PaytablePayoutModel}),n.o(Jn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Jn.PayTableMediatorMark2}),n.o(Jn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Jn.PayTableViewMark2}),n.o(Jn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Jn.PaytableMark2Constants}),n.o(Jn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Jn.SymbolAnimationsMediatorMark2}),n.o(Jn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Jn.SymbolAnimationsViewMark2}),n.o(Jn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Jn.SymbolAnimationManager}),n.o(Jn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Jn.SymbolsConstantsMark2}),n.o(Jn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Jn.SymbolAnimationEventsMark2}),n.o(Jn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Jn.GameRunEventMark2}),n.o(Jn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Jn.ParallaxLayerMark2}),n.o(Jn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Jn.GameRunSceneMark2}),n.o(Jn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Jn.GameRunMediatorMark2}),n.o(Jn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Jn.DefaultRestoreGameAction}),n.o(Jn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Jn.AnticipationDimView}),n.o(Jn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Jn.AnticipationEvent}),n.o(Jn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Jn.AnticipationDimMediator}),n.o(Jn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Jn.AnticipationView}),n.o(Jn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Jn.AnticipationModel}),n.o(Jn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Jn.BaseSingleReelAnticipationAnim}),n.o(Jn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Jn.SingleReelMovieClipAnticipationAnim}),n.o(Jn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Jn.SingleReelParticlesAnticipationAnim}),n.o(Jn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Jn.AnticipationUtils}),n.o(Jn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Jn.AnticipationModuleConstant}),n.o(Jn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Jn.MovieClipAnticipationView}),n.o(Jn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Jn.AnticipationModule}),n.o(Jn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Jn.StopSingleReelWithAnticipationAction}),n.o(Jn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Jn.AnticipationMediator}),n.o(Jn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Jn.ParticlesAnticipationView}),n.o(Jn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Jn.SlotRenderManager}),n.o(Jn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Jn.WaitAutoPlayLimitPopupAction}),n.o(Jn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Jn.ShowAutoPlayLimitPopupAction}),n.o(Jn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Jn.RegulationsEventMark2}),n.o(Jn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Jn.RegulationsModelMark2}),n.o(Jn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Jn.RegulationsManagerMark2}),n.o(Jn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Jn.DefaultRegulationsAction}),n.o(Jn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Jn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Jn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Jn.LockUIAutoPlayLimitPopupAction}),n.o(Jn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Jn.SymbolAnimationType}),n.o(Jn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Jn.PlayBtnMark2}),n.o(Jn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Jn.StartSceneMark2}),n.o(Jn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Jn.BlinkingAnimationUtils}),n.o(Jn,"MathUtils")&&n.d(e,"MathUtils",function(){return Jn.MathUtils}),n.o(Jn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Jn.RegulationsModuleMark2}),n.o(Jn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Jn.SymbolsModuleMark2}),n.o(Jn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Jn.GameRunModuleMark2}),n.o(Jn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Jn.GameFlowModule}),n.o(Jn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Jn.EngineContextMark2}),n.o(Jn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Jn.ServerModuleMark2}),n.o(Jn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Jn.SlotRenderModule}),n.o(Jn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Jn.CommonExtensionLoaderMark2}),n.o(Jn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Jn.PaytableModuleMark2});var qn=(n(667),n(235));n.n(qn);n.o(qn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return qn.LabelBuilderMark2}),n.o(qn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return qn.LabelMark2}),n.o(qn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return qn.RendererSupportModuleMark2}),n.o(qn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return qn.SpineProviderMark2}),n.o(qn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return qn.LayoutManagerMark2}),n.o(qn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return qn.ScenesManagerMark2}),n.o(qn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return qn.BackgroundModuleMark2Constants}),n.o(qn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return qn.BackgroundManagerMark2}),n.o(qn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return qn.ServerServiceMark2}),n.o(qn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return qn.PaytablePayoutController}),n.o(qn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return qn.PaytablePayoutModel}),n.o(qn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return qn.PayTableMediatorMark2}),n.o(qn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return qn.PayTableViewMark2}),n.o(qn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return qn.PaytableMark2Constants}),n.o(qn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return qn.SymbolAnimationsMediatorMark2}),n.o(qn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return qn.SymbolAnimationsViewMark2}),n.o(qn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return qn.SymbolAnimationManager}),n.o(qn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return qn.SymbolsConstantsMark2}),n.o(qn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return qn.SymbolAnimationEventsMark2}),n.o(qn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return qn.GameRunEventMark2}),n.o(qn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return qn.ParallaxLayerMark2}),n.o(qn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return qn.GameRunSceneMark2}),n.o(qn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return qn.GameRunMediatorMark2}),n.o(qn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return qn.DefaultRestoreGameAction}),n.o(qn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return qn.AnticipationDimView}),n.o(qn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return qn.AnticipationEvent}),n.o(qn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return qn.AnticipationDimMediator}),n.o(qn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return qn.AnticipationView}),n.o(qn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return qn.AnticipationModel}),n.o(qn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return qn.BaseSingleReelAnticipationAnim}),n.o(qn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return qn.SingleReelMovieClipAnticipationAnim}),n.o(qn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return qn.SingleReelParticlesAnticipationAnim}),n.o(qn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return qn.AnticipationUtils}),n.o(qn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return qn.AnticipationModuleConstant}),n.o(qn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return qn.MovieClipAnticipationView}),n.o(qn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return qn.AnticipationModule}),n.o(qn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return qn.StopSingleReelWithAnticipationAction}),n.o(qn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return qn.AnticipationMediator}),n.o(qn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return qn.ParticlesAnticipationView}),n.o(qn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return qn.SlotRenderManager}),n.o(qn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return qn.WaitAutoPlayLimitPopupAction}),n.o(qn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return qn.ShowAutoPlayLimitPopupAction}),n.o(qn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return qn.RegulationsEventMark2}),n.o(qn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return qn.RegulationsModelMark2}),n.o(qn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return qn.RegulationsManagerMark2}),n.o(qn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return qn.DefaultRegulationsAction}),n.o(qn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return qn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(qn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return qn.LockUIAutoPlayLimitPopupAction}),n.o(qn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return qn.SymbolAnimationType}),n.o(qn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return qn.PlayBtnMark2}),n.o(qn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return qn.StartSceneMark2}),n.o(qn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return qn.BlinkingAnimationUtils}),n.o(qn,"MathUtils")&&n.d(e,"MathUtils",function(){return qn.MathUtils}),n.o(qn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return qn.RegulationsModuleMark2}),n.o(qn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return qn.SymbolsModuleMark2}),n.o(qn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return qn.GameRunModuleMark2}),n.o(qn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return qn.GameFlowModule}),n.o(qn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return qn.EngineContextMark2}),n.o(qn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return qn.ServerModuleMark2}),n.o(qn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return qn.SlotRenderModule}),n.o(qn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return qn.CommonExtensionLoaderMark2}),n.o(qn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return qn.PaytableModuleMark2});var Zn=n(242);n.n(Zn);n.o(Zn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Zn.LabelBuilderMark2}),n.o(Zn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Zn.LabelMark2}),n.o(Zn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Zn.RendererSupportModuleMark2}),n.o(Zn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Zn.SpineProviderMark2}),n.o(Zn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Zn.LayoutManagerMark2}),n.o(Zn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Zn.ScenesManagerMark2}),n.o(Zn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Zn.BackgroundModuleMark2Constants}),n.o(Zn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Zn.BackgroundManagerMark2}),n.o(Zn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Zn.ServerServiceMark2}),n.o(Zn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Zn.PaytablePayoutController}),n.o(Zn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Zn.PaytablePayoutModel}),n.o(Zn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Zn.PayTableMediatorMark2}),n.o(Zn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Zn.PayTableViewMark2}),n.o(Zn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Zn.PaytableMark2Constants}),n.o(Zn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Zn.SymbolAnimationsMediatorMark2}),n.o(Zn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Zn.SymbolAnimationsViewMark2}),n.o(Zn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Zn.SymbolAnimationManager}),n.o(Zn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Zn.SymbolsConstantsMark2}),n.o(Zn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Zn.SymbolAnimationEventsMark2}),n.o(Zn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Zn.GameRunEventMark2}),n.o(Zn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Zn.ParallaxLayerMark2}),n.o(Zn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Zn.GameRunSceneMark2}),n.o(Zn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Zn.GameRunMediatorMark2}),n.o(Zn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Zn.DefaultRestoreGameAction}),n.o(Zn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Zn.AnticipationDimView}),n.o(Zn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Zn.AnticipationEvent}),n.o(Zn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Zn.AnticipationDimMediator}),n.o(Zn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Zn.AnticipationView}),n.o(Zn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Zn.AnticipationModel}),n.o(Zn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Zn.BaseSingleReelAnticipationAnim}),n.o(Zn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Zn.SingleReelMovieClipAnticipationAnim}),n.o(Zn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Zn.SingleReelParticlesAnticipationAnim}),n.o(Zn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Zn.AnticipationUtils}),n.o(Zn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Zn.AnticipationModuleConstant}),n.o(Zn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Zn.MovieClipAnticipationView}),n.o(Zn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Zn.AnticipationModule}),n.o(Zn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Zn.StopSingleReelWithAnticipationAction}),n.o(Zn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Zn.AnticipationMediator}),n.o(Zn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Zn.ParticlesAnticipationView}),n.o(Zn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Zn.SlotRenderManager}),n.o(Zn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Zn.WaitAutoPlayLimitPopupAction}),n.o(Zn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Zn.ShowAutoPlayLimitPopupAction}),n.o(Zn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Zn.RegulationsEventMark2}),n.o(Zn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Zn.RegulationsModelMark2}),n.o(Zn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Zn.RegulationsManagerMark2}),n.o(Zn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Zn.DefaultRegulationsAction}),n.o(Zn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Zn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Zn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Zn.LockUIAutoPlayLimitPopupAction}),n.o(Zn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Zn.SymbolAnimationType}),n.o(Zn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Zn.PlayBtnMark2}),n.o(Zn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Zn.StartSceneMark2}),n.o(Zn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Zn.BlinkingAnimationUtils}),n.o(Zn,"MathUtils")&&n.d(e,"MathUtils",function(){return Zn.MathUtils}),n.o(Zn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Zn.RegulationsModuleMark2}),n.o(Zn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Zn.SymbolsModuleMark2}),n.o(Zn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Zn.GameRunModuleMark2}),n.o(Zn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Zn.GameFlowModule}),n.o(Zn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Zn.EngineContextMark2}),n.o(Zn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Zn.ServerModuleMark2}),n.o(Zn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Zn.SlotRenderModule}),n.o(Zn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Zn.CommonExtensionLoaderMark2}),n.o(Zn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Zn.PaytableModuleMark2});var Qn=n(243);n.n(Qn);n.o(Qn,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return Qn.LabelBuilderMark2}),n.o(Qn,"LabelMark2")&&n.d(e,"LabelMark2",function(){return Qn.LabelMark2}),n.o(Qn,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return Qn.RendererSupportModuleMark2}),n.o(Qn,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return Qn.SpineProviderMark2}),n.o(Qn,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return Qn.LayoutManagerMark2}),n.o(Qn,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return Qn.ScenesManagerMark2}),n.o(Qn,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return Qn.BackgroundModuleMark2Constants}),n.o(Qn,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return Qn.BackgroundManagerMark2}),n.o(Qn,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return Qn.ServerServiceMark2}),n.o(Qn,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return Qn.PaytablePayoutController}),n.o(Qn,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return Qn.PaytablePayoutModel}),n.o(Qn,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return Qn.PayTableMediatorMark2}),n.o(Qn,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return Qn.PayTableViewMark2}),n.o(Qn,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return Qn.PaytableMark2Constants}),n.o(Qn,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return Qn.SymbolAnimationsMediatorMark2}),n.o(Qn,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return Qn.SymbolAnimationsViewMark2}),n.o(Qn,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return Qn.SymbolAnimationManager}),n.o(Qn,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return Qn.SymbolsConstantsMark2}),n.o(Qn,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return Qn.SymbolAnimationEventsMark2}),n.o(Qn,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return Qn.GameRunEventMark2}),n.o(Qn,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return Qn.ParallaxLayerMark2}),n.o(Qn,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return Qn.GameRunSceneMark2}),n.o(Qn,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return Qn.GameRunMediatorMark2}),n.o(Qn,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return Qn.DefaultRestoreGameAction}),n.o(Qn,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return Qn.AnticipationDimView}),n.o(Qn,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return Qn.AnticipationEvent}),n.o(Qn,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return Qn.AnticipationDimMediator}),n.o(Qn,"AnticipationView")&&n.d(e,"AnticipationView",function(){return Qn.AnticipationView}),n.o(Qn,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return Qn.AnticipationModel}),n.o(Qn,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return Qn.BaseSingleReelAnticipationAnim}),n.o(Qn,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return Qn.SingleReelMovieClipAnticipationAnim}),n.o(Qn,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Qn.SingleReelParticlesAnticipationAnim}),n.o(Qn,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return Qn.AnticipationUtils}),n.o(Qn,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return Qn.AnticipationModuleConstant}),n.o(Qn,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return Qn.MovieClipAnticipationView}),n.o(Qn,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return Qn.AnticipationModule}),n.o(Qn,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return Qn.StopSingleReelWithAnticipationAction}),n.o(Qn,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return Qn.AnticipationMediator}),n.o(Qn,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return Qn.ParticlesAnticipationView}),n.o(Qn,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return Qn.SlotRenderManager}),n.o(Qn,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return Qn.WaitAutoPlayLimitPopupAction}),n.o(Qn,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return Qn.ShowAutoPlayLimitPopupAction}),n.o(Qn,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return Qn.RegulationsEventMark2}),n.o(Qn,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return Qn.RegulationsModelMark2}),n.o(Qn,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return Qn.RegulationsManagerMark2}),n.o(Qn,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return Qn.DefaultRegulationsAction}),n.o(Qn,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return Qn.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o(Qn,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return Qn.LockUIAutoPlayLimitPopupAction}),n.o(Qn,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return Qn.SymbolAnimationType}),n.o(Qn,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return Qn.PlayBtnMark2}),n.o(Qn,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return Qn.StartSceneMark2}),n.o(Qn,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return Qn.BlinkingAnimationUtils}),n.o(Qn,"MathUtils")&&n.d(e,"MathUtils",function(){return Qn.MathUtils}),n.o(Qn,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return Qn.RegulationsModuleMark2}),n.o(Qn,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return Qn.SymbolsModuleMark2}),n.o(Qn,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return Qn.GameRunModuleMark2}),n.o(Qn,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return Qn.GameFlowModule}),n.o(Qn,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return Qn.EngineContextMark2}),n.o(Qn,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return Qn.ServerModuleMark2}),n.o(Qn,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return Qn.SlotRenderModule}),n.o(Qn,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return Qn.CommonExtensionLoaderMark2}),n.o(Qn,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return Qn.PaytableModuleMark2});var $n=n(244);n.n($n);n.o($n,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return $n.LabelBuilderMark2}),n.o($n,"LabelMark2")&&n.d(e,"LabelMark2",function(){return $n.LabelMark2}),n.o($n,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return $n.RendererSupportModuleMark2}),n.o($n,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return $n.SpineProviderMark2}),n.o($n,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return $n.LayoutManagerMark2}),n.o($n,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return $n.ScenesManagerMark2}),n.o($n,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return $n.BackgroundModuleMark2Constants}),n.o($n,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return $n.BackgroundManagerMark2}),n.o($n,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return $n.ServerServiceMark2}),n.o($n,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return $n.PaytablePayoutController}),n.o($n,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return $n.PaytablePayoutModel}),n.o($n,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return $n.PayTableMediatorMark2}),n.o($n,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return $n.PayTableViewMark2}),n.o($n,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return $n.PaytableMark2Constants}),n.o($n,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return $n.SymbolAnimationsMediatorMark2}),n.o($n,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return $n.SymbolAnimationsViewMark2}),n.o($n,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return $n.SymbolAnimationManager}),n.o($n,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return $n.SymbolsConstantsMark2}),n.o($n,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return $n.SymbolAnimationEventsMark2}),n.o($n,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return $n.GameRunEventMark2}),n.o($n,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return $n.ParallaxLayerMark2}),n.o($n,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return $n.GameRunSceneMark2}),n.o($n,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return $n.GameRunMediatorMark2}),n.o($n,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return $n.DefaultRestoreGameAction}),n.o($n,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return $n.AnticipationDimView}),n.o($n,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return $n.AnticipationEvent}),n.o($n,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return $n.AnticipationDimMediator}),n.o($n,"AnticipationView")&&n.d(e,"AnticipationView",function(){return $n.AnticipationView}),n.o($n,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return $n.AnticipationModel}),n.o($n,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return $n.BaseSingleReelAnticipationAnim}),n.o($n,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return $n.SingleReelMovieClipAnticipationAnim}),n.o($n,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return $n.SingleReelParticlesAnticipationAnim}),n.o($n,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return $n.AnticipationUtils}),n.o($n,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return $n.AnticipationModuleConstant}),n.o($n,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return $n.MovieClipAnticipationView}),n.o($n,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return $n.AnticipationModule}),n.o($n,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return $n.StopSingleReelWithAnticipationAction}),n.o($n,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return $n.AnticipationMediator}),n.o($n,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return $n.ParticlesAnticipationView}),n.o($n,"SlotRenderManager")&&n.d(e,"SlotRenderManager",function(){return $n.SlotRenderManager}),n.o($n,"WaitAutoPlayLimitPopupAction")&&n.d(e,"WaitAutoPlayLimitPopupAction",function(){return $n.WaitAutoPlayLimitPopupAction}),n.o($n,"ShowAutoPlayLimitPopupAction")&&n.d(e,"ShowAutoPlayLimitPopupAction",function(){return $n.ShowAutoPlayLimitPopupAction}),n.o($n,"RegulationsEventMark2")&&n.d(e,"RegulationsEventMark2",function(){return $n.RegulationsEventMark2}),n.o($n,"RegulationsModelMark2")&&n.d(e,"RegulationsModelMark2",function(){return $n.RegulationsModelMark2}),n.o($n,"RegulationsManagerMark2")&&n.d(e,"RegulationsManagerMark2",function(){return $n.RegulationsManagerMark2}),n.o($n,"DefaultRegulationsAction")&&n.d(e,"DefaultRegulationsAction",function(){return $n.DefaultRegulationsAction}),n.o($n,"ShowAutoPlayLimitPopupFreeSpinsEndAction")&&n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return $n.ShowAutoPlayLimitPopupFreeSpinsEndAction}),n.o($n,"LockUIAutoPlayLimitPopupAction")&&n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return $n.LockUIAutoPlayLimitPopupAction}),n.o($n,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return $n.SymbolAnimationType}),n.o($n,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return $n.PlayBtnMark2}),n.o($n,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return $n.StartSceneMark2}),n.o($n,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return $n.BlinkingAnimationUtils}),n.o($n,"MathUtils")&&n.d(e,"MathUtils",function(){return $n.MathUtils}),n.o($n,"RegulationsModuleMark2")&&n.d(e,"RegulationsModuleMark2",function(){return $n.RegulationsModuleMark2}),n.o($n,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return $n.SymbolsModuleMark2}),n.o($n,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return $n.GameRunModuleMark2}),n.o($n,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return $n.GameFlowModule}),n.o($n,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return $n.EngineContextMark2}),n.o($n,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return $n.ServerModuleMark2}),n.o($n,"SlotRenderModule")&&n.d(e,"SlotRenderModule",function(){return $n.SlotRenderModule}),n.o($n,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return $n.CommonExtensionLoaderMark2}),n.o($n,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return $n.PaytableModuleMark2});var ti=n(668);n.d(e,"RegulationsModuleMark2",function(){return ti.a});var ei=n(669);n.d(e,"DefaultRegulationsAction",function(){return ei.a});var ni=n(671);n.d(e,"ShowAutoPlayLimitPopupAction",function(){return ni.a});var ii=n(672);n.d(e,"ShowAutoPlayLimitPopupFreeSpinsEndAction",function(){return ii.a});var oi=n(673);n.d(e,"WaitAutoPlayLimitPopupAction",function(){return oi.a});var ri=n(670);n.d(e,"LockUIAutoPlayLimitPopupAction",function(){return ri.a});var ai=n(674);n.d(e,"RegulationsEventMark2",function(){return ai.a});var si=n(676);n.d(e,"RegulationsModelMark2",function(){return si.a});var ui=n(675);n.d(e,"RegulationsManagerMark2",function(){return ui.a});var li=n(677);n.d(e,"SlotRenderModule",function(){return li.a});var ci=n(678);n.d(e,"SlotRenderManager",function(){return ci.a});var di=n(245);n.n(di);n.o(di,"LabelBuilderMark2")&&n.d(e,"LabelBuilderMark2",function(){return di.LabelBuilderMark2}),n.o(di,"LabelMark2")&&n.d(e,"LabelMark2",function(){return di.LabelMark2}),n.o(di,"RendererSupportModuleMark2")&&n.d(e,"RendererSupportModuleMark2",function(){return di.RendererSupportModuleMark2}),n.o(di,"SpineProviderMark2")&&n.d(e,"SpineProviderMark2",function(){return di.SpineProviderMark2}),n.o(di,"LayoutManagerMark2")&&n.d(e,"LayoutManagerMark2",function(){return di.LayoutManagerMark2}),n.o(di,"ScenesManagerMark2")&&n.d(e,"ScenesManagerMark2",function(){return di.ScenesManagerMark2}),n.o(di,"BackgroundModuleMark2Constants")&&n.d(e,"BackgroundModuleMark2Constants",function(){return di.BackgroundModuleMark2Constants}),n.o(di,"BackgroundManagerMark2")&&n.d(e,"BackgroundManagerMark2",function(){return di.BackgroundManagerMark2}),n.o(di,"ServerServiceMark2")&&n.d(e,"ServerServiceMark2",function(){return di.ServerServiceMark2}),n.o(di,"PaytablePayoutController")&&n.d(e,"PaytablePayoutController",function(){return di.PaytablePayoutController}),n.o(di,"PaytablePayoutModel")&&n.d(e,"PaytablePayoutModel",function(){return di.PaytablePayoutModel}),n.o(di,"PayTableMediatorMark2")&&n.d(e,"PayTableMediatorMark2",function(){return di.PayTableMediatorMark2}),n.o(di,"PayTableViewMark2")&&n.d(e,"PayTableViewMark2",function(){return di.PayTableViewMark2}),n.o(di,"PaytableMark2Constants")&&n.d(e,"PaytableMark2Constants",function(){return di.PaytableMark2Constants}),n.o(di,"SymbolAnimationsMediatorMark2")&&n.d(e,"SymbolAnimationsMediatorMark2",function(){return di.SymbolAnimationsMediatorMark2}),n.o(di,"SymbolAnimationsViewMark2")&&n.d(e,"SymbolAnimationsViewMark2",function(){return di.SymbolAnimationsViewMark2}),n.o(di,"SymbolAnimationManager")&&n.d(e,"SymbolAnimationManager",function(){return di.SymbolAnimationManager}),n.o(di,"SymbolsConstantsMark2")&&n.d(e,"SymbolsConstantsMark2",function(){return di.SymbolsConstantsMark2}),n.o(di,"SymbolAnimationEventsMark2")&&n.d(e,"SymbolAnimationEventsMark2",function(){return di.SymbolAnimationEventsMark2}),n.o(di,"GameRunEventMark2")&&n.d(e,"GameRunEventMark2",function(){return di.GameRunEventMark2}),n.o(di,"ParallaxLayerMark2")&&n.d(e,"ParallaxLayerMark2",function(){return di.ParallaxLayerMark2}),n.o(di,"GameRunSceneMark2")&&n.d(e,"GameRunSceneMark2",function(){return di.GameRunSceneMark2}),n.o(di,"GameRunMediatorMark2")&&n.d(e,"GameRunMediatorMark2",function(){return di.GameRunMediatorMark2}),n.o(di,"DefaultRestoreGameAction")&&n.d(e,"DefaultRestoreGameAction",function(){return di.DefaultRestoreGameAction}),n.o(di,"AnticipationDimView")&&n.d(e,"AnticipationDimView",function(){return di.AnticipationDimView}),n.o(di,"AnticipationEvent")&&n.d(e,"AnticipationEvent",function(){return di.AnticipationEvent}),n.o(di,"AnticipationDimMediator")&&n.d(e,"AnticipationDimMediator",function(){return di.AnticipationDimMediator}),n.o(di,"AnticipationView")&&n.d(e,"AnticipationView",function(){return di.AnticipationView}),n.o(di,"AnticipationModel")&&n.d(e,"AnticipationModel",function(){return di.AnticipationModel}),n.o(di,"BaseSingleReelAnticipationAnim")&&n.d(e,"BaseSingleReelAnticipationAnim",function(){return di.BaseSingleReelAnticipationAnim}),n.o(di,"SingleReelMovieClipAnticipationAnim")&&n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return di.SingleReelMovieClipAnticipationAnim}),n.o(di,"SingleReelParticlesAnticipationAnim")&&n.d(e,"SingleReelParticlesAnticipationAnim",function(){return di.SingleReelParticlesAnticipationAnim}),n.o(di,"AnticipationUtils")&&n.d(e,"AnticipationUtils",function(){return di.AnticipationUtils}),n.o(di,"AnticipationModuleConstant")&&n.d(e,"AnticipationModuleConstant",function(){return di.AnticipationModuleConstant}),n.o(di,"MovieClipAnticipationView")&&n.d(e,"MovieClipAnticipationView",function(){return di.MovieClipAnticipationView}),n.o(di,"AnticipationModule")&&n.d(e,"AnticipationModule",function(){return di.AnticipationModule}),n.o(di,"StopSingleReelWithAnticipationAction")&&n.d(e,"StopSingleReelWithAnticipationAction",function(){return di.StopSingleReelWithAnticipationAction}),n.o(di,"AnticipationMediator")&&n.d(e,"AnticipationMediator",function(){return di.AnticipationMediator}),n.o(di,"ParticlesAnticipationView")&&n.d(e,"ParticlesAnticipationView",function(){return di.ParticlesAnticipationView}),n.o(di,"SymbolAnimationType")&&n.d(e,"SymbolAnimationType",function(){return di.SymbolAnimationType}),n.o(di,"PlayBtnMark2")&&n.d(e,"PlayBtnMark2",function(){return di.PlayBtnMark2}),n.o(di,"StartSceneMark2")&&n.d(e,"StartSceneMark2",function(){return di.StartSceneMark2}),n.o(di,"BlinkingAnimationUtils")&&n.d(e,"BlinkingAnimationUtils",function(){return di.BlinkingAnimationUtils}),n.o(di,"MathUtils")&&n.d(e,"MathUtils",function(){return di.MathUtils}),n.o(di,"SymbolsModuleMark2")&&n.d(e,"SymbolsModuleMark2",function(){return di.SymbolsModuleMark2}),n.o(di,"GameRunModuleMark2")&&n.d(e,"GameRunModuleMark2",function(){return di.GameRunModuleMark2}),n.o(di,"GameFlowModule")&&n.d(e,"GameFlowModule",function(){return di.GameFlowModule}),n.o(di,"EngineContextMark2")&&n.d(e,"EngineContextMark2",function(){return di.EngineContextMark2}),n.o(di,"ServerModuleMark2")&&n.d(e,"ServerModuleMark2",function(){return di.ServerModuleMark2}),n.o(di,"CommonExtensionLoaderMark2")&&n.d(e,"CommonExtensionLoaderMark2",function(){return di.CommonExtensionLoaderMark2}),n.o(di,"PaytableModuleMark2")&&n.d(e,"PaytableModuleMark2",function(){return di.PaytableModuleMark2});var pi=n(506);n.d(e,"AnticipationModuleConstant",function(){return pi.a});var hi=n(503);n.d(e,"AnticipationModule",function(){return hi.a});var fi=(n(505),n(504),n(502));n.d(e,"AnticipationEvent",function(){return fi.a});var Mi=n(657);n.d(e,"StopSingleReelWithAnticipationAction",function(){return Mi.a});var yi=n(508);n.d(e,"AnticipationModel",function(){return yi.a});var mi=n(54);n.d(e,"AnticipationUtils",function(){return mi.a});var gi=n(509);n.d(e,"AnticipationView",function(){return gi.a});var Si=n(511);n.d(e,"ParticlesAnticipationView",function(){return Si.a});var vi=n(510);n.d(e,"MovieClipAnticipationView",function(){return vi.a});var Ai=n(512);n.d(e,"BaseSingleReelAnticipationAnim",function(){return Ai.a});var bi=n(513);n.d(e,"SingleReelMovieClipAnticipationAnim",function(){return bi.a});var Ei=n(514);n.d(e,"SingleReelParticlesAnticipationAnim",function(){return Ei.a});var Ci=n(507);n.d(e,"AnticipationMediator",function(){return Ci.a});var Pi=(n(515),n(517));n.d(e,"AnticipationDimView",function(){return Pi.a});var Li=n(516);n.d(e,"AnticipationDimMediator",function(){return Li.a});var Ii=n(610);n.d(e,"GameFlowModule",function(){return Ii.a});var wi=n(611);n.d(e,"DefaultRestoreGameAction",function(){return wi.a});var Ti=n(612);n.d(e,"GameRunModuleMark2",function(){return Ti.a});var _i=n(615);n.d(e,"GameRunSceneMark2",function(){return _i.a});var ki=n(614);n.d(e,"GameRunMediatorMark2",function(){return ki.a});var Ri=n(613);n.d(e,"GameRunEventMark2",function(){return Ri.a});var Bi=n(687);n.d(e,"SymbolAnimationEventsMark2",function(){return Bi.a});var Oi=n(688);n.d(e,"SymbolAnimationManager",function(){return Oi.a});var xi=n(689);n.d(e,"SymbolAnimationsMediatorMark2",function(){return xi.a});var Ni=n(690);n.d(e,"SymbolAnimationType",function(){return Ni.a});var Wi=n(691);n.d(e,"SymbolAnimationsViewMark2",function(){return Wi.a});var Di=n(685);n.d(e,"SymbolsModuleMark2",function(){return Di.a});var Gi=n(686);n.d(e,"SymbolsConstantsMark2",function(){return Gi.a});var Fi=n(629);n.d(e,"PaytablePayoutController",function(){return Fi.a});var Vi=n(631);n.d(e,"PaytablePayoutModel",function(){return Vi.a});var Ui=n(630);n.d(e,"PayTableMediatorMark2",function(){return Ui.a});var Hi=n(632);n.d(e,"PayTableViewMark2",function(){return Hi.a});var ji=(n(633),n(628));n.d(e,"PaytableModuleMark2",function(){return ji.a});var Yi=n(627);n.d(e,"PaytableMark2Constants",function(){return Yi.a});var Ki=n(619);n.d(e,"PlayBtnMark2",function(){return Ki.a});var zi=n(620);n.d(e,"StartSceneMark2",function(){return zi.a});var Xi=n(683);n.d(e,"ServerModuleMark2",function(){return Xi.a});var Ji=n(684);n.d(e,"ServerServiceMark2",function(){return Ji.a});var qi=(n(522),n(523));n.d(e,"BackgroundModuleMark2Constants",function(){return qi.a});var Zi=n(524);n.d(e,"BackgroundManagerMark2",function(){return Zi.a});var Qi=(n(681),n(682));n.d(e,"ScenesManagerMark2",function(){return Qi.a});var $i=n(679);n.d(e,"RendererSupportModuleMark2",function(){return $i.a});var to=n(680);n.d(e,"SpineProviderMark2",function(){return to.a});var eo=(n(576),n(578),n(577),n(768));n.d(e,"BlinkingAnimationUtils",function(){return eo.a});var no=n(767);n.d(e,"ParallaxLayerMark2",function(){return no.a});var io=(n(765),n(766));n.d(e,"MathUtils",function(){return io.a});var oo=n(496);n.d(e,"EngineContextMark2",function(){return oo.a});var ro=n(495);n.d(e,"CommonExtensionLoaderMark2",function(){return ro.a});var ao=n(771);n.d(e,"LabelMark2",function(){return ao.a});var so=n(770);n.d(e,"LabelBuilderMark2",function(){return so.a});var uo=n(769);n.d(e,"LayoutManagerMark2",function(){return uo.a})},function(t,e,n){"use strict";n.d(e,"e",function(){return T}),n.d(e,"o",function(){return _}),n.d(e,"D",function(){return k});var i=n(15);n.d(e,"t",function(){return i.a});var o=n(19);n.d(e,"c",function(){return o.a}),n.d(e,"v",function(){return o.b}),n.d(e,"C",function(){return o.c});var r=n(59);n.d(e,"z",function(){return r.a});var a=(n(74),n(816));n.d(e,"i",function(){return a.a});var s=(n(7),n(787));n.d(e,"n",function(){return s.a});var u=(n(65),n(64));n.d(e,"B",function(){return u.a});var l=(n(63),n(788));n.d(e,"a",function(){return l.a});var c=n(25);n.d(e,"f",function(){return c.a});var d=n(62);n.d(e,"y",function(){return d.a});var p=n(16);n.d(e,"b",function(){return p.a});var h=n(777);n.d(e,"r",function(){return h.a});var f=n(781);n.d(e,"s",function(){return f.a});var M=n(24);n.d(e,"x",function(){return M.a});var y=(n(60),n(61),n(17));n.d(e,"h",function(){return y.a});var m=n(76);n.d(e,"g",function(){return m.a});var g=n(28);n.d(e,"m",function(){return g.a});var S=(n(6),n(31));n.d(e,"A",function(){return S.a});var v=(n(806),n(32));n.d(e,"E",function(){return v.a});var A=(n(81),n(82),n(21));n.d(e,"q",function(){return A.a});var b=n(13);n.d(e,"d",function(){return b.a});var E=(n(33),n(66),n(36));n.d(e,"j",function(){return E.a});var C=(n(92),n(93));n.d(e,"w",function(){return C.a});var P=n(94);n.d(e,"u",function(){return P.a});var L=n(96);n.d(e,"k",function(){return L.a});var I=(n(97),n(98),n(99),n(104));n.d(e,"p",function(){return I.a});var w=(n(105),n(95),n(91),n(90),n(89),n(88),n(35),n(34),n(30),n(79),n(100),n(101));n.d(e,"l",function(){return w.a});var T=(n(102),n(103),n(22),n(9),PIXI.Point),_=(PIXI.Texture,PIXI.Graphics),k=(PIXI.Circle,PIXI.Rectangle);PIXI.DisplayObject,PIXI.SystemRenderer,PIXI.interaction.InteractionManager,PIXI.particles.Emitter,PIXI.Text,PIXI.TextStyle},function(t,e,n){"use strict";var i=n(144);n.d(e,"_23",function(){return i.a});var o=n(149);n.d(e,"_34",function(){return o.a});var r=n(148);n.d(e,"_36",function(){return r.a});var a=n(150);n.d(e,"_37",function(){return a.a});var s=n(146);n.d(e,"_35",function(){return s.a});var u=(n(147),n(145));n.d(e,"w",function(){return u.a});var l=n(174);n.d(e,"_17",function(){return l.a});var c=n(178);n.d(e,"_30",function(){return c.a});var d=n(177);n.d(e,"_31",function(){return d.a});var p=n(179);n.d(e,"v",function(){return p.a});var h=n(175);n.d(e,"_32",function(){return h.a});var f=n(176);n.d(e,"_29",function(){return f.a});var M=n(108);n.d(e,"b",function(){return M.a});var y=n(107);n.d(e,"a",function(){return y.a});var m=n(109);n.d(e,"_10",function(){return m.a});var g=n(187);n.d(e,"_3",function(){return g.a});var S=n(189);n.d(e,"_5",function(){return S.a});var v=n(188);n.d(e,"_7",function(){return v.a});var A=n(186);n.d(e,"_9",function(){return A.a});var b=n(183);n.d(e,"_6",function(){return b.a});var E=n(182);n.d(e,"_4",function(){return E.a});var C=n(185);n.d(e,"_2",function(){return C.a});var P=n(184);n.d(e,"_8",function(){return P.a});var L=n(180);n.d(e,"_19",function(){return L.a});var I=n(181);n.d(e,"e",function(){return I.a});var w=n(132);n.d(e,"_13",function(){return w.a});var T=n(135);n.d(e,"Z",function(){return T.a});var _=n(134);n.d(e,"t",function(){return _.a});var k=n(127);n.d(e,"_14",function(){return k.a});var R=n(128);n.d(e,"X",function(){return R.a});var B=n(129);n.d(e,"Y",function(){return B.a});var O=n(130);n.d(e,"_12",function(){return O.a});var x=n(131);n.d(e,"W",function(){return x.a});var N=n(193);n.d(e,"N",function(){return N.a});var W=n(151);n.d(e,"_15",function(){return W.a});var D=n(163);n.d(e,"P",function(){return D.a});var G=n(164);n.d(e,"O",function(){return G.a});var F=n(155);n.d(e,"Q",function(){return F.a});var V=n(157);n.d(e,"S",function(){return V.a});var U=n(158);n.d(e,"U",function(){return U.a});var H=n(153);n.d(e,"V",function(){return H.a});var j=n(160);n.d(e,"J",function(){return j.a});var Y=n(159);n.d(e,"T",function(){return Y.a});var K=n(156);n.d(e,"K",function(){return K.a});var z=n(154);n.d(e,"L",function(){return z.a});var X=n(162);n.d(e,"R",function(){return X.a});var J=n(152);n.d(e,"_22",function(){return J.a});var q=n(161);n.d(e,"M",function(){return q.a});var Z=n(118);n.d(e,"s",function(){return Z.a});var Q=n(117);n.d(e,"_18",function(){return Q.a});var $=n(124);n.d(e,"E",function(){return $.a});var tt=n(121);n.d(e,"D",function(){return tt.a});var et=n(126);n.d(e,"G",function(){return et.a});var nt=n(125);n.d(e,"I",function(){return nt.a});var it=n(197);n.d(e,"q",function(){return it.a});var ot=n(122);n.d(e,"C",function(){return ot.a});var rt=n(119);n.d(e,"F",function(){return rt.a});var at=n(120);n.d(e,"H",function(){return at.a});var st=n(137);n.d(e,"_21",function(){return st.a});var ut=n(142);n.d(e,"A",function(){return ut.a});var lt=n(143);n.d(e,"y",function(){return lt.a});var ct=n(141);n.d(e,"x",function(){return ct.a});var dt=n(139);n.d(e,"B",function(){return dt.a});var pt=n(140);n.d(e,"z",function(){return pt.a});var ht=n(138);n.d(e,"o",function(){return ht.a});var ft=n(196);n.d(e,"_11",function(){return ft.a});var Mt=n(198);n.d(e,"p",function(){return Mt.a});var yt=n(114);n.d(e,"_20",function(){return yt.a});var mt=n(115);n.d(e,"d",function(){return mt.a});var gt=n(116);n.d(e,"r",function(){return gt.a});var St=n(123);n.d(e,"u",function(){return St.a});var vt=n(133);n.d(e,"_0",function(){return vt.a});var At=n(136);n.d(e,"_1",function(){return At.a});var bt=n(172);n.d(e,"n",function(){return bt.a});var Et=n(173);n.d(e,"m",function(){return Et.a});var Ct=n(171);n.d(e,"_24",function(){return Ct.a});var Pt=n(194);n.d(e,"k",function(){return Pt.a});var Lt=n(195);n.d(e,"l",function(){return Lt.a});var It=n(192);n.d(e,"_26",function(){return It.a});var wt=n(169);n.d(e,"i",function(){return wt.a});var Tt=n(170);n.d(e,"j",function(){return Tt.a});var _t=n(168);n.d(e,"_27",function(){return _t.a});var kt=n(113);n.d(e,"h",function(){return kt.a});var Rt=n(112);n.d(e,"_33",function(){return Rt.a});var Bt=n(111);n.d(e,"_16",function(){return Bt.a});var Ot=n(165);n.d(e,"_25",function(){return Ot.a});var xt=n(167);n.d(e,"f",function(){return xt.a});var Nt=n(166);n.d(e,"g",function(){return Nt.a});var Wt=n(191);n.d(e,"c",function(){return Wt.a});var Dt=n(190);n.d(e,"_28",function(){return Dt.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(80),r=function(t){function e(){var n=t.call(this)||this;return n._eventsTriggers=new o.a(n),n.on(e.ADDED_TO_SCENE,n.onAdded).on(e.REMOVED_FROM_SCENE,n.onRemoved),n}return i.a(e,t),Object.defineProperty(e.prototype,"eventsTriggers",{get:function(){return this._eventsTriggers},enumerable:!0,configurable:!0}),e.prototype.rewindTimeline=function(){},e.prototype.onAdded=function(){},e.prototype.onRemoved=function(){},e.prototype.toString=function(){var t=this.constructor.name;return this.id&&(t+="("+this.id+")"),t},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._eventsTriggers.destroy()},e.prototype.executeActions=function(t){this._eventsTriggers.executeActions(t)},e.ADDED_TO_SCENE="AddedToScene",e.REMOVED_FROM_SCENE="RemovedFromScene",e}(PIXI.Container)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(6),o=function(){function t(){}return t.prototype.create=function(t,e,n){return n?new n:this.createDefault(t,e)},t.prototype.applyProperties=function(t,e,n){this.applyBaseProperties(t,e,n)},t.prototype.applyBaseProperties=function(t,e,n){t.name=t.id=e.id,t.pivot.x=e.px||0,t.pivot.y=e.py||0,"center"!==e.p&&e.p&&(t.x=e.p.x,t.y=e.p.y),"w"in e&&(t.width=e.w),"h"in e&&(t.height=e.h),"sx"in e&&(t.scale.x=e.sx),"sy"in e&&(t.scale.y=e.sy),"v"in e&&(t.visible=e.v),"a"in e&&(t.alpha=e.a),e.r&&(t.rotation=e.r),t instanceof i.a&&t.eventsTriggers.applyProperties(e,n)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){this.eventMap=new i.Map}return t.prototype.addListener=function(t,e,n){return this.eventMap.add(new i.EventMapping(t,e,n))},t.prototype.hasListener=function(t,e,n){return this.eventMap.hasByFilter({event:t,listener:e,scope:n})},t.prototype.removeListener=function(t,e,n){this.eventMap.removeByFilter({event:t,listener:e,scope:n})},t.prototype.removeListeners=function(t,e){this.eventMap.removeByFilter({event:t,scope:e})},t.prototype.removeAllListeners=function(){this.eventMap.removeByFilter()},t.prototype.dispatch=function(t,e){var n=this;this.getAllListeners(t).each(function(t){t.executionAllowedByGuards(e)&&(t.listener.call(t.scope,e),t.isOnce()&&n.removeListener(t.event,t.listener,t.scope))})},t.prototype.getAllListeners=function(t){return this.eventMap.getByFilter({event:t})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.lerp=function(t,e,n){return t+(e-t)*n},t.closestAngle=function(e,n){e=t.normalizeAngle(e),n=t.normalizeAngle(n);var i=n-e;return i<-Math.PI?n+=2*Math.PI:i>Math.PI&&(n-=2*Math.PI),n},t.bezier=function(t,e,n,i,o){return Math.pow(1-o,3)*t+3*o*Math.pow(1-o,2)*e+3*Math.pow(o,2)*(1-o)*n+Math.pow(o,3)*i},t.normalizeAngle=function(t){return t%=2*Math.PI,t<0&&(t=2*Math.PI+t),t},t.getDownscaleFactor=function(t,e,n,i){var o=t/e,r=n/i;return o>r?n/t:i/e},t.inRange=function(t,e,n){if(e>n){var i=e;e=n,n=i}return e<=t&&t<=n},t.sign=function(t){return 0!==t?t/Math.abs(t):1},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e){this.type=t,this.data=e}return t.LOAD_START_EVENT="loadStartEvent",t.LOAD_PROGRESS_EVENT="loadProgressEvent",t.LOAD_ERROR_EVENT="loadErrorEvent",t.LOAD_COMPLETE_EVENT="loadCompleteEvent",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(10),r=n(8),a=createjs.LoadQueue,s=function(t){function e(e){var n=t.call(this)||this;return n._isLoaded=!1,n._path=e,n._name=n._path.match(/([^\\/]+)\.\w+$/)[1],n}return i.a(e,t),e.parseFileName=function(t){var e=t.lastIndexOf(".");return{fullName:e>-1?t.slice(0,e):t,extension:e>-1?t.slice(e+1):""}},Object.defineProperty(e.prototype,"url",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadProgress",{get:function(){return this._loadProgress},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inProgress",{get:function(){return void 0!==this._loadProgress},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return this._isLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadError",{get:function(){return this._loadError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rawData",{get:function(){return this._rawData},enumerable:!0,configurable:!0}),e.prototype.type=function(){return 0},e.prototype.load=function(){var t=this;this.inProgress||this.isLoaded||(this._loadProgress=0,this.loader=new a,this.loader.addEventListener("fileprogress",function(e){return t.loadProgressHandler(e)}),this.loader.addEventListener("fileload",function(e){return t.loadCompleteHandler(e)}),this.loader.addEventListener("error",function(e){return t.loadErrorHandler(e)}),this.loader.loadFile(this._path,!0),this.dispatch(o.a.LOAD_START_EVENT,new o.a(o.a.LOAD_START_EVENT,this)))},e.prototype.cancel=function(){return!(void 0===this._loadProgress||this._isLoaded&&!this._loadError)&&(this.resetLoader(),!0)},e.prototype.loadProgressHandler=function(t){this._loadProgress=t.loaded,this.dispatch(o.a.LOAD_PROGRESS_EVENT,new o.a(o.a.LOAD_PROGRESS_EVENT,this))},e.prototype.loadCompleteHandler=function(t){this._loadProgress=1,this._isLoaded=!0,t&&(this._rawData=t.result),this.resetLoader(),this.dataLoadCallback(),this.dispatch(o.a.LOAD_COMPLETE_EVENT,new o.a(o.a.LOAD_COMPLETE_EVENT,this))},e.prototype.loadErrorHandler=function(t){this._loadError=t.message?t.message:t.stack,this._loadProgress=1,this._isLoaded=!0,this.resetLoader(),this.dispatch(o.a.LOAD_ERROR_EVENT,new o.a(o.a.LOAD_ERROR_EVENT,this))},e.prototype.resetLoader=function(){this.loader.close(),this.loader.removeAllEventListeners(),this.loader=null},e.prototype.dataLoadCallback=function(){},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this.displayObject=t}return Object.defineProperty(t.prototype,"target",{get:function(){return this.displayObject},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.displayObject.destroy(),this.displayObject=null},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(28),r=n(20),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._propertiesBinds=[],e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.bindModel(r.a.instance)},e.prototype.onRemoved=function(){this.bindModel(null),t.prototype.onRemoved.call(this)},Object.defineProperty(e.prototype,"timeline",{get:function(){return this._timeline},set:function(t){if(this._timeline)throw Error("Timeline already created!");this._timeline=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"propertiesBinds",{set:function(t){var e=this._model;this.bindModel(null),this._propertiesBinds=t,this.bindModel(e)},enumerable:!0,configurable:!0}),e.prototype.getChildByName=function(e){return this._timeline?this._timeline.getChildByName(e):t.prototype.getChildByName.call(this,e)},e.prototype.rewindTimeline=function(){this._timeline&&this._timeline.rewind()},Object.defineProperty(e.prototype,"numChildren",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),e.prototype.bindModel=function(t){this._model=t;for(var e=0,n=this._propertiesBinds;e<n.length;e++){n[e].bindModel(this._model)}},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={LOADED:"RESOURCE_LOADED"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.CONTAINER="Container",t.LABEL="Label",t.BUTTON="Button",t.IMAGE="Image",t.TILING_SPRITE="TilingSprite",t.MOVIE_CLIP="MovieClip",t.CHECKBOX="Checkbox",t.LIBRARY_ITEM="LibraryItem",t.RECTANGLE_AREA="RectangleArea",t.SPINE="Spine",t.REELS_VIEW="ReelsView",t.RECTANGLE="Rectangle",t.ELLIPSE="Ellipse",t.LINE="Line",t.ADVANCED_BUTTON="AdvancedButton",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(1),o=PIXI.ticker,r=PIXI.autoDetectRenderer,a=PIXI.CanvasRenderer,s=function(){function t(t,e){this.isWebGLSupport=t,this.getParams=e,this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.forceRenderLock=new i.Lock,this.renderEnabled=!0,this.disableRenderDelay=500,this.sourceResizeWidth=0,this.sourceResizeHeight=0,this.htmlButtons=[].slice.apply(document.querySelectorAll(".nav-btn")),this.isIOS=!1,this.getParams||(this.getParams={}),this.initialize()}return t.prototype.initialize=function(){var e=this;if(t.isWindowTopPermitted()){var n=window.top;n.document.hasFocus&&(this.isWindowBlured=!n.document.hasFocus()),n.addEventListener("blur",function(){return e.isWindowBlured=!0},!1),n.addEventListener("focus",function(){return e.isWindowBlured=!1},!1)}},t.prototype.onDOMVisibilityChange=function(t){t||this.refreshRenderer()},t.isWindowTopPermitted=function(){try{return!(!window.top||!window.top.document)}catch(t){return!1}},t.prototype.create=function(t,e,n){void 0===n&&(n={}),this._renderer=this.createRenderer(t,e,n),this.resize(t,e),o.shared.add(this.onTick,this)},t.prototype.patchEvents=function(){return},t.prototype.isTouchEvent=function(t){return!this.isIOS||!(t instanceof MouseEvent)},t.prototype.disableHtmlButtons=function(t){return},t.prototype.resize=function(t,e,n){if(void 0===n&&(n=!1),this.sourceResizeWidth!==t||this.sourceResizeHeight!==e||n){this.sourceResizeWidth=t,this.sourceResizeHeight=e;var o=this.renderer.view;o.style.width=t+"px",o.style.height=e+"px",this.renderer.resize(t,e),this.dispatcher.dispatch(i.RenderManagerEvent.RESIZE),this.render(!0)}},t.prototype.getCanvasElement=function(){return this.renderer.view},t.prototype.setEnableAutoPreventDefault=function(t){this.renderer.plugins.interaction.autoPreventDefault=t},t.prototype.isRendererCreated=function(){return!!this.renderer},t.prototype.createRenderer=function(t,e,n){void 0===n&&(n={}),n.resolution=window.devicePixelRatio;var i=this.isWebGLSupport?r(t,e,n):new a(t,e,n);return i.view.id="canvas",Object.assign(i.view.style,{position:"fixed",top:0,left:0}),i},t.prototype.onTick=function(t){this.render()},t.prototype.render=function(t){void 0===t&&(t=!1),!t&&!this.renderEnabled&&Date.now()>=this.disableRenderTime+this.disableRenderDelay||this.objectToRender&&(this.renderer.render(this.objectToRender),this.dispatcher.dispatch(i.RenderManagerEvent.RENDER))},Object.defineProperty(t.prototype,"canvasWidth",{get:function(){return this.sourceResizeWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvasHeight",{get:function(){return this.sourceResizeHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),t.prototype.commitRenderData=function(){!this.forceRenderLock.isLocked&&this.isWindowBlured?(this.renderEnabled=!1,this.disableRenderTime=Date.now()):this.renderEnabled=!0},t.prototype.addRenderForceLock=function(t){this.forceRenderLock.add(t),this.commitRenderData()},t.prototype.removeRenderForceLock=function(t){this.forceRenderLock.remove(t),this.commitRenderData()},Object.defineProperty(t.prototype,"isWindowBlured",{get:function(){return this._isWindowBlured},set:function(t){t!==this.isWindowBlured&&(this.dispatcher.dispatch(i.SoundManagerEvent.MUTE,t),this._isWindowBlured=t,this.commitRenderData())},enumerable:!0,configurable:!0}),t.prototype.uploadAsset=function(t){var e=this;return new Promise(function(n){e.renderer.plugins.prepare.upload(t,n)})},t.prototype.refreshRenderer=function(){var t=this;setTimeout(function(){t.resize(t.sourceResizeWidth,t.sourceResizeHeight,!0)},0)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(11),r=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return"string"==typeof this._data?JSON.parse(this._data):this._data},enumerable:!0,configurable:!0}),e.prototype.type=function(){return 4},e.prototype.dataLoadCallback=function(){this._data=this.rawData,this.cacheData()},e.prototype.cacheData=function(){n.i(r.inject)(r.JsonCache).add(this.name,this.data)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return r});var i={LEFT:"left",CENTER:"center",RIGHT:"right"},o={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},r=i},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(793),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.SELECTED_STATE_CHANGED="checkboxSelectionChanged",t.ENABLED_STATE_CHANGED="checkboxEnabledStateChanged",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=PIXI.Point,o=function(){function t(){}return t.sub=function(t,e){return new i(t.x-e.x,t.y-e.y)},t.add=function(t,e){return new i(t.x+e.x,t.y+e.y)},t.deserialize=function(t){return new i(t.x,t.y)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=(PIXI.utils.TextureCache,function(t){function e(e,n){var i=t.call(this,e)||this;return i.id=n,i}return i.a(e,t),e.prototype.type=function(){return 1},e.prototype.load=function(){this.inProgress||this.isLoaded||(this._isLoaded=!1,this._loadError=void 0,this._loadProgress=void 0,this.loader=new PIXI.loaders.Loader,this.loader.once("complete",this.loadCompleteHandler,this),this.loader.once("error",this.loadErrorHandler,this),this.loader.on("progress",this.loadProgressHandler,this),this.loader.add(this.id,this._path),this.dispatch(o.LibraryAssetEvent.LOAD_START_EVENT,new o.LibraryAssetEvent(o.LibraryAssetEvent.LOAD_START_EVENT,this)),this.loader.load())},e.prototype.resetLoader=function(){this.loader.removeAllListeners("complete"),this.loader.removeAllListeners("error"),this.loader.removeAllListeners("progress"),this.loader.reset()},e.prototype.loadCompleteHandler=function(){if(!this._loadError){t.prototype.loadCompleteHandler.call(this),PIXI.Texture.removeTextureFromCache(this._path)}},e.prototype.loadProgressHandler=function(e){t.prototype.loadProgressHandler.call(this,{loaded:e.progress/100})},e}(o.FileLoader))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(103),r=function(){function t(){this.cache={},this.loader=n.i(i.inject)(i.ApplicationAssetsLoader),this.loadData={},this.loader.addListener(i.SBResourceEvent.LOADED,this.onLoad,this)}return t.prototype.get=function(t){var e=this.cache[t];if(e||(e=this.cache[t]=this.readSkeletonData(t)),!e)throw Error("No spine with id "+t);return e},t.prototype.readSkeletonData=function(t){var e=this.loadData[t];delete this.loadData[t];var n=o.a.getSpineTexturesMap(e,PIXI.utils.TextureCache);return o.a.buildSkeleton(n,e)},t.prototype.onLoad=function(t){8===t.loader.type()&&(this.loadData[t.id]=t.loader.data)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={INNER:"inner",OUTER:"outer",DEFAULT:"default"}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(71),o=n(78),r=n(817),a=n(83),s=function(){function t(t,e,n){this._children=[],this._transforms=[],this._eventActions=new o.a,this._initMasks=!0,this._layout=t,this._layer=e,this._context=n,this._name=t.n,this._startFrame=t.f,this._duration=t.d,this._childrenMeta=t.ch;for(var r=0,a=this._childrenMeta;r<a.length;r++){var s=a[r];this._children.push(null);var u=new i.a(s);this._transforms.push(u)}this._eventActions.deserialize(t.eventsToActions)}return t.initRanges=function(t,e){if(e.length){for(var n=1;n<e.length;n++){var i=e[n-1];i._next=e[n],e[n]._prev=i}var o=e[0],r=e[e.length-1];r.startFrame+r.duration===t&&0===o.startFrame&&(r._next=o,o._prev=r);for(var a=e[0],n=0;n<a.numChildren;n++)a.getChildAt(n)}},t.prototype.getChildAt=function(t){if(!this._children[t])if(r.a.isLibraryItem(this._childrenMeta[t]))for(var e=this.findFirstLibraryItemRange(t),n=e.cacheChildAt(t,null),i=e.next;i&&i!==e&&i.isSameContentAt(t,this);i=i.next)i.cacheChildAt(t,n);else this.cacheChildAt(t,null);return this._children[t]},t.prototype.findFirstLibraryItemRange=function(t){for(var e=this,n=this._prev;n;){if(n===this){e=this;break}if(!n.isSameContentAt(t,this))break;e=n,n=n._prev}return e},t.prototype.cacheChildAt=function(t,e){if(!this._children[t]){var n=this._childrenMeta[t];e||(e=this._context.create(n)),this._children[t]=e}return this._children[t]},Object.defineProperty(t.prototype,"numChildren",{get:function(){return this._children.length},enumerable:!0,configurable:!0}),t.prototype.rewindChild=function(t){var e=this._children[t];e&&e.rewindTimeline()},Object.defineProperty(t.prototype,"next",{get:function(){return this._next},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prev",{get:function(){return this._prev},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._layer.parent},enumerable:!0,configurable:!0}),t.prototype.enter=function(e){this.showChildren(),this._initMasks&&(this._initMasks=!1,a.a.deserialize(this,this._layout.masking));for(var n=0;n<this.numChildren;n++)e&&e.isSameContentAt(n,this)||this.rewindChild(n);this._eventActions.executeActions(t.ENTER_EVENT,this.container)},t.prototype.showChildren=function(){for(var t,e=0;e<this.numChildren;e++)t=this.getChildAt(e),this._transforms[e].apply(t),this._layer.addChild(t),this.container[t.name]=t},t.prototype.exit=function(){for(var e=0,n=this._children;e<n.length;e++){var i=n[e];this._layer.removeChild(i),delete this.container[i.name]}this._eventActions.stopActions(t.ENTER_EVENT,!1)},t.prototype.hasChildAt=function(t){return t<this.numChildren},t.prototype.isSameContentAt=function(t,e){if(this.hasChildAt(t)){var n=this._childrenMeta[t],i=e._childrenMeta[t];return r.a.isEqualContent(n,i)}return!1},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startFrame",{get:function(){return this._startFrame},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),t.prototype.getChildTransformAt=function(t){return this._transforms[t]},Object.defineProperty(t.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),t.prototype.setCurrentFrame=function(t){},t.prototype.forceStopActions=function(){this._eventActions.stopActions(t.ENTER_EVENT,!0)},t.ENTER_EVENT="onEnterFrame",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(0),o=n(26),r=n(790),a=n(789),s=n(805),u=n(28),l=n(6),c=n(798),d=function(t){function e(e,n){var i=t.call(this)||this;i._frameRanges=[],i._context=n,i._layerName=e.n,i._maskLayerName=e.mask,i._layerType=e.lt;for(var s=0,u=e.fr;s<u.length;s++){var d=u[s],p=d.ft;switch(p){case r.a.MOTION_TWEEN:i._frameRanges.push(new c.a(d,i,i._context));break;case r.a.CLASSIC_TWEEN:i._frameRanges.push(new a.a(d,i,i._context));break;case r.a.STATIC:i._frameRanges.push(new o.a(d,i,i._context))}}return i.on(l.a.REMOVED_FROM_SCENE,function(){for(var t=0,e=i._frameRanges;t<e.length;t++){e[t].forceStopActions()}}),i}return i.a(e,t),e.prototype.init=function(t,e){t.addChild(this),o.a.initRanges(e,this._frameRanges),this._frameRanges.length>0&&this._frameRanges[0].showChildren()},e.prototype.toString=function(){return t.prototype.toString.call(this)+"("+this._layerName+")"},Object.defineProperty(e.prototype,"layerType",{get:function(){return this._layerType},enumerable:!0,configurable:!0}),e.prototype.findFramesRange=function(t){return s.a.find(this._frameRanges,function(e){return e.name===t})},Object.defineProperty(e.prototype,"maskLayerName",{get:function(){return this._maskLayerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layerName",{get:function(){return this._layerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalFrames",{get:function(){var t=this._frameRanges[this._frameRanges.length-1];return t.startFrame+t.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{set:function(t){this.setFrame(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),e.prototype.setFrame=function(t){var e=this.searchFrame(t);this.changeFrame(e),e&&e.setCurrentFrame(t)},e.prototype.changeFrame=function(t){if(this._currentFrame!==t){var e=this._currentFrame;this._currentFrame?this._currentFrame.exit():this.children.length>0&&this.removeChildren(),this._currentFrame=t,this._currentFrame&&this._currentFrame.enter(e)}},e.prototype.searchFrame=function(t){for(var e=0,n=this._frameRanges;e<n.length;e++){var i=n[e];if(t>=i.startFrame&&t<i.startFrame+i.duration)return i}return null},e.prototype.rewindChildren=function(){this.currentFrame=0;for(var t=0,e=this._frameRanges;t<e.length;t++)for(var n=e[t],i=0;i<n.numChildren;i++)n.rewindChild(i)},e}(u.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(6),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.addedToScene=!1,e}return i.a(e,t),e.prototype.addChild=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.postAddChild(t.prototype.addChild.apply(this,[e].concat(n)))},e.prototype.addChildAt=function(e,n){return this.postAddChild(t.prototype.addChildAt.call(this,e,n))},e.prototype.removeChild=function(e){return this.postRemoveChild(t.prototype.removeChild.call(this,e))},e.prototype.removeChildAt=function(e){return this.postRemoveChild(t.prototype.removeChildAt.call(this,e))},e.prototype.onAdded=function(){if(t.prototype.onAdded.call(this),!this.addedToScene){this.addedToScene=!0;for(var e=0,n=this.children;e<n.length;e++){n[e].emit(o.a.ADDED_TO_SCENE)}}},e.prototype.onRemoved=function(){if(t.prototype.onRemoved.call(this),this.addedToScene){this.addedToScene=!1;for(var e=0,n=this.children;e<n.length;e++){n[e].emit(o.a.REMOVED_FROM_SCENE)}}},e.prototype.removeChildren=function(e,n){var i=t.prototype.removeChildren.call(this,e,n);if(this.addedToScene)for(var r=0,a=i;r<a.length;r++){var s=a[r];s.emit(o.a.REMOVED_FROM_SCENE)}return i},e.prototype.postAddChild=function(t){return this.addedToScene&&t.emit(o.a.ADDED_TO_SCENE),t},e.prototype.postRemoveChild=function(t){return this.addedToScene&&t.emit(o.a.REMOVED_FROM_SCENE),t},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(77),o=n(808),r=n(811),a=n(807),s=n(810),u=n(809),l=function(){function t(){this._buildersMap={},this.registerFactory(i.a.TYPE_NAME,i.a.create),this.registerFactory(o.a.TYPE_NAME,o.a.create),this.registerFactory(r.a.TYPE_NAME,r.a.create),this.registerFactory(a.a.TYPE_NAME,a.a.create),this.registerFactory(s.a.TYPE_NAME,s.a.create),this.registerFactory(u.a.TYPE_NAME,u.a.create)}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.registerFactory=function(t,e){if(this._buildersMap[t])throw Error("Component action already registered: "+t);this._buildersMap[t]=e},t.prototype.create=function(t,e){var n=this._buildersMap[t];return n?n(e):null},t.prototype.createAction=function(t){return this.create(t.actionType,t.info)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(13),r=n(21),a=function(t){function e(){var e=t.call(this)||this;return e._state=0,e._selected=!1,e._enabled=!0,e._isOver=!1,e._isDown=!1,e.interactive=!0,e.buttonMode=!0,e.initBehaviourListeners(),e}return i.a(e,t),e.prototype.initBehaviourListeners=function(){this.on("pointerdown",this.onButtonDown).on("pointerup",this.onButtonUp).on("pointerover",this.onButtonOver).on("pointerupoutside",this.onButtonOut).on("pointerout",this.onButtonOut).on("pointertap",this.onButtonClick)},Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!==t&&(this._selected=t,this.updateFrame())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!==t&&(this._enabled=t,this.interactive=this._enabled,this.updateFrame())},enumerable:!0,configurable:!0}),e.prototype.onButtonOver=function(){this._isOver=!0,this._state=this._isDown?2:1,this.updateFrame(),this.executeActions("onOver")},e.prototype.onButtonOut=function(){this._isOver=!1,this._isDown=!1,this._state=0,this.updateFrame()},e.prototype.onButtonDown=function(){this._isDown=!0,this._state=2,this.updateFrame()},e.prototype.onButtonUp=function(){this._isDown=!1,this._state=1,this.updateFrame()},e.prototype.onButtonClick=function(){this.timeline.totalFrames>4&&(this._selected=!this._selected,this._selected?this.executeActions("onSelectClick"):this.executeActions("onDeselectClick"),this.emit(r.a.SELECTED_STATE_CHANGED,this._selected)),this.executeActions("onClick")},e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this._state=0,this._isOver=!1,this._isDown=!1,this.updateFrame()},e.prototype.updateFrame=function(){var t=this._enabled?this._state:3;this._selected&&t+4<this.timeline.totalFrames&&(t+=4),this.timeline.gotoAndStop(t)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),o=n(6),r=n(59),a=n(36),s=n(775),u=n(774),l=function(t){function e(e){var n=t.call(this)||this;return n.padding=new u.a(0,0,0,0),n.isDown=!1,n.isOver=!1,n._visible=!0,n._stateTextures={},n.labels={},n.padding.addListener(u.a.PROPERTY_CHANGED,function(){return n.positionLabels()}),n.attachEvents(),n._enabled=!0,Object.assign(n._stateTextures,e),n.setDefaultState(),n}return i.a(e,t),e.prototype.setDefaultState=function(){this.changeState(r.a.NORMAL,!0)},e.prototype.attachEvents=function(){this.interactive=!0,this.buttonMode=!0,this.on("pointerdown",this.onMouseDown,this).on("pointerup",this.onMouseUp,this).on("pointerover",this.onMouseOver,this).on("pointerout",this.onMouseOut,this).on("pointerupoutside",this.onMouseOut,this).on("pointertap",this.onClick,this)},e.prototype.setStateTexture=function(t,e){this._stateTextures[t]=e,t===this._state&&this.updateTextureState(this._state)},e.prototype.setStateLabel=function(t,e){if(this.labels[t])throw Error("Button: Label for state "+t+" is already set!");this.labels[t]=e,e.visible=t===this._state,this.positionLabel(e),this.addChild(e)},e.prototype.destroy=function(){this._stateTextures=null,t.prototype.destroy.call(this)},e.prototype.getOriginalHeight=function(){return this.height},e.prototype.changeState=function(t,e){(this._state!==t||e)&&(this._state=t,this.stateChangedHandler())},e.prototype.stateChangedHandler=function(){this.updateLabelState(),this._stateTextures&&this.updateTextureState(this._state)},e.prototype.updateTextureState=function(t){if(!this._stateTextures[t])return void(this.backgroundImage&&(this.backgroundImage.visible=!1));this.backgroundImage||(this.backgroundImage=new a.a(this._stateTextures[t]),this.backgroundImage.interactive=!1,this.addChildAt(this.backgroundImage,0)),this.backgroundImage.visible=!0,this.backgroundImage.texture=this._stateTextures[t],this.backgroundImage.width=this._width,this.backgroundImage.height=this._height},e.prototype.updateLabelState=function(){for(var t in this.labels)if(this.labels.hasOwnProperty(t)){var e=this.labels[t];e.visible=t===this._state,e.arrange()}},e.prototype.enabledStateChangedHandler=function(){this.interactive=this._enabled,this.buttonMode=this._enabled,this.updateVisualState(),this.notifyEnabledStateChange()},e.prototype.notifyEnabledStateChange=function(){this.emit(s.a.ENABLED_STATE_CHANGED,this._enabled)},e.prototype.onMouseUp=function(t){this.isDown=!1,this.updateVisualState()},e.prototype.onMouseDown=function(t){this.isDown=!0,this.updateVisualState()},e.prototype.onClick=function(t){this.executeActions("onClick")},e.prototype.onMouseOver=function(t){this.executeActions("onOver"),this.isOver=!0,this.updateVisualState()},e.prototype.onMouseOut=function(t){this.isOver=!1,this.isDown=!1,this.updateVisualState()},e.prototype.updateVisualState=function(){var t;t=this._enabled?this.isDown?r.a.DOWN:this.isOver?r.a.OVER:r.a.NORMAL:r.a.DISABLED,this.changeState(t)},e.prototype.onSizeChanged=function(){this.backgroundImage&&(this.backgroundImage.width=this._width,this.backgroundImage.height=this._height),this.positionLabels()},e.prototype.positionLabels=function(){for(var t in this.labels)this.labels.hasOwnProperty(t)&&this.positionLabel(this.labels[t])},e.prototype.positionLabel=function(t){t.width=this._width-(this.padding.left+this.padding.right),t.height=this._height-(this.padding.top+this.padding.bottom),t.x=this.padding.left,t.y=this.padding.top},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!==t&&(this._enabled=t,this.enabledStateChangedHandler())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t;for(var e in this.labels)this.labels.hasOwnProperty(e)&&(this.labels[e].text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=t,this.onSizeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=t,this.onSizeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,t?this.updateVisualState():(this.isDown=!1,this.isOver=!1))},enumerable:!0,configurable:!0}),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(7),r=n(31),a=n(15),s=n(813),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._hitAreaFactory=new s.a,e}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e.prototype.applyProperties=function(e,n,i){var o=e;n.img.hover||(n.img.hover=n.img.default);for(var r in n.img)n.img.hasOwnProperty(r)&&o.setStateTexture(r,i.getLayoutsContext().getTexture(n.img[r]));if(!1!==n.hasLabel)for(var r in n.states)if(n.states.hasOwnProperty(r)){var s={};Object.assign(s,n.states[r]),s.t=a.a.LABEL,o.setStateLabel(r,i.create(s))}n.paddings&&(o.padding.left=n.paddings.l,o.padding.top=n.paddings.t,o.padding.right=n.paddings.r,o.padding.bottom=n.paddings.b),n.hitArea&&this.applyHitArea(o,n.hitArea),t.prototype.applyProperties.call(this,e,n,i)},e.prototype.applyHitArea=function(t,e){var n=this._hitAreaFactory.create(e);n&&(t.hitArea=n)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),o=n(7),r=n(13),a=n(66),s=n(83),u=n(794),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e.prototype.applyProperties=function(e,n,i){var o=e;if(n.tl){o.timeline=new a.a(n.tl,o,i);var r=[];if(n.dataBindToActions instanceof Array){for(var l=n.dataBindToActions,c=0,d=l;c<d.length;c++){var p=d[c],h=new u.a(o);h.deserialize(p),r.push(h)}o.propertiesBinds=r}}else{for(var f=n.ch||[],M=0,y=f;M<y.length;M++){var m=y[M],g=i.create(m);g&&(o.addChild(g),g.id&&(o[g.id]=g))}s.a.deserialize(o,n.masking)}t.prototype.applyProperties.call(this,e,n,i)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(84),r=n(35),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(85),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.redraw=function(){this.clear(),t.prototype.redraw.call(this),this.moveTo(0,0),this.lineTo(this._width,this._height)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this,!0)},e.prototype.rewindTimeline=function(){},e}(PIXI.Sprite)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(10),r=n(8),a=function(t){function e(e){var n=t.call(this)||this;if(n.assets={},n.libraryAssets=[],n._loadErrors=[],n._isLoaded=!1,n.assetsInProgress=[],n._maxSimultaneousDownloads=1,e){if("name"in e&&(n._name=e.name),"libraryAssets"in e)for(var i=0,o=e.libraryAssets;i<o.length;i++){var r=o[i];n.addAsset(r)}"maxSimultaneousDownloads"in e&&(n._maxSimultaneousDownloads=e.maxSimultaneousDownloads)}return n}return i.a(e,t),Object.defineProperty(e.prototype,"url",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numAssets",{get:function(){return this.libraryAssets?this.libraryAssets.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadProgress",{get:function(){return this._loadProgress},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inProgress",{get:function(){return void 0!==this._loadProgress},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return this._isLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadErrors",{get:function(){return this._loadErrors},enumerable:!0,configurable:!0}),e.prototype.type=function(){return 6},e.prototype.addAsset=function(t){if(this.inProgress||this.isLoaded)throw Error("FileSetLoader loading is already in progress or is loaded and no new items can be added");if(t instanceof e)throw Error("you should NOT add FileSetLoader into FileSetLoader!");if(!t.url||!this.assets[t.url])return this.assets[t.url]=t,this.libraryAssets.push(t),this},e.prototype.load=function(){this.inProgress||this.isLoaded||(this._loadProgress=0,this.loadingQueue=this.libraryAssets.concat(),this.dispatch(o.a.LOAD_START_EVENT,new o.a(o.a.LOAD_START_EVENT,this)),this.loadingQueue.length?this.runMaximumPossibleDownloads():this.loadComplete())},e.prototype.cancel=function(){var t=this;return void 0!==this._loadProgress&&!this._isLoaded&&(this.libraryAssets.length>0&&this.libraryAssets.forEach(function(t){"cancel"in t&&t.cancel()}),this.assetsInProgress.length>0&&this.assetsInProgress.forEach(function(e){t.removeAssetListeners(e)}),this.loadingQueue=null,this.assetsInProgress=[],!0)},e.prototype.runMaximumPossibleDownloads=function(){for(;this.assetsInProgress.length<this._maxSimultaneousDownloads&&this.loadNextAsset(););},e.prototype.loadNextAsset=function(){if(0===this.loadingQueue.length)return!1;if(this.assetsInProgress.length>=this._maxSimultaneousDownloads)throw Error('set "'+this.name+'": simultaneous download limit reached!');var t=this.loadingQueue.shift();return t.isLoaded?(this.onAssetComplete({type:o.a.LOAD_COMPLETE_EVENT,data:t}),!1):(t.inProgress?this.addAssetListeners(t):(this.addAssetListeners(t),t.load()),!0)},e.prototype.onAssetProgress=function(t){this.updateLoadProgress()},e.prototype.onAssetError=function(t){this._loadErrors.push(""+(t.data.url?t.data.url:t.data.name)),this.dispatch(o.a.LOAD_ERROR_EVENT,new o.a(o.a.LOAD_ERROR_EVENT,t.data)),this.removeAssetListeners(t.data),this.updateLoadProgress(),this.checkIfAllFilesLoaded()||this.runMaximumPossibleDownloads()},e.prototype.onAssetComplete=function(t){this.removeAssetListeners(t.data),this.updateLoadProgress(),this.checkIfAllFilesLoaded()||this.runMaximumPossibleDownloads()},e.prototype.checkIfAllFilesLoaded=function(){0===this.assetsInProgress.length&&0===this.loadingQueue.length&&(this._loadProgress,this.loadComplete())},e.prototype.addAssetListeners=function(t){t.addListener(o.a.LOAD_PROGRESS_EVENT,this.onAssetProgress,this),t.addListener(o.a.LOAD_ERROR_EVENT,this.onAssetError,this),t.addListener(o.a.LOAD_COMPLETE_EVENT,this.onAssetComplete,this),this.assetsInProgress.push(t)},e.prototype.removeAssetListeners=function(t){t.removeListener(o.a.LOAD_PROGRESS_EVENT,this.onAssetProgress,this),t.removeListener(o.a.LOAD_ERROR_EVENT,this.onAssetError,this),t.removeListener(o.a.LOAD_COMPLETE_EVENT,this.onAssetComplete,this),this.assetsInProgress.splice(this.assetsInProgress.indexOf(t),1)},e.prototype.updateLoadProgress=function(){var t=0;this.libraryAssets.forEach(function(e){isNaN(e.loadProgress)||0===e.loadProgress||(t+=e.loadProgress)});var e=t/this.libraryAssets.length;this._loadProgress!==e&&(this._loadProgress=e,this._isLoaded=1===this._loadProgress,this.dispatch(o.a.LOAD_PROGRESS_EVENT,new o.a(o.a.LOAD_PROGRESS_EVENT,this)))},e.prototype.loadComplete=function(){this.dispatch(o.a.LOAD_COMPLETE_EVENT,new o.a(o.a.LOAD_COMPLETE_EVENT,this))},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(11),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype.type=function(){return 1},e.prototype.dataLoadCallback=function(){this._data=this.rawData},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(11),a=n(10),s=n(49),u=function(t){function e(e,i){var a=t.call(this,e)||this;a._hasLoaded=!1,a.soundManager=n.i(o.inject)(s.a);var u=r.a.parseFileName(a._path),l=u.fullName,c=u.extension;return a.idList=[i],a._fullNameWithoutExtension=l+".",a._extension=c,a._soundExtensions=[c].concat(createjs.Sound.alternateExtensions),a}return i.a(e,t),e.prototype.registerId=function(t){this.idList.push(t)},e.prototype.load=function(){this.dispatch(a.a.LOAD_START_EVENT,new a.a(a.a.LOAD_START_EVENT,this));for(var t=0,e=this.idList;t<e.length;t++){var n=e[t];createjs.Sound.registerSound(this._path,n)}createjs.Sound.on("fileload",this.loadCompleteHandler,this),createjs.Sound.on("fileerror",this.loadErrorHandler,this)},e.prototype.loadCompleteHandler=function(e){if(!(this._hasLoaded||e&&!this.isCorrectUrl(e.src))){for(var n=0,i=this.idList;n<i.length;n++){var o=i[n];this.soundManager.setSound(o)}this.loadProgressHandler({loaded:1}),t.prototype.loadCompleteHandler.call(this),this._hasLoaded=!0}},e.prototype.resetLoader=function(){createjs.Sound.off("fileload",this.loadCompleteHandler),createjs.Sound.off("fileerror",this.loadErrorHandler)},e.prototype.type=function(){return 2},e.prototype.isCorrectUrl=function(t){for(var e=0,n=this._soundExtensions;e<n.length;e++){var i=n[e];if(t===this._fullNameWithoutExtension+i)return!0}return!1},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(18),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.type=function(){return 8},e.prototype.cacheData=function(){},e}(o.a)},function(t,e,n){"use strict";function i(t,e){return d.Context.getInstance().kernel.get(t,e)}function o(t){return d.Context.getInstance().viewProvider.getView(t)}function r(t){return d.Context.getInstance().viewProvider.destroyView(t)}function a(t){return d.Context.getInstance().viewProvider.getViewComponent(t)}function s(t){return d.Context.getInstance().viewProvider.viewComponentExists(t)}function u(t,e){return d.Context.getInstance().mediatorProvider.createMediator(t,e)}function l(t,e){return d.Context.getInstance().mediatorProvider.destroyMediator(t,e)}function c(){return d.Context.getInstance().modelProvider.getServerModels()}e.a=i,e.f=o,e.d=r,e.e=a,e.h=s,e.b=u,e.c=l,e.g=c;var d=n(1)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={VISIBILITY_CHANGED:"DOMEventType.VISIBILITY_CHANGED"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={PRELOAD:"preload",INITIAL:"initial",LAZY:"lazy"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={PRELOADER_ASSETS_LOADED:"PRELOADER_ASSETS_LOADED",PRELOADER_ASSETS_ERROR:"PRELOADER_ASSETS_ERROR",INITIAL_ASSETS_LOADED:"INITIAL_ASSETS_LOADED",INITIAL_ASSETS_ERROR:"INITIAL_ASSETS_ERROR",LAZY_ASSETS_LOADED:"LAZY_ASSETS_LOADED",LAZY_ASSETS_ERROR:"LAZY_ASSETS_ERROR"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={LOADED:"SBGroupEvent.LOADED"}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(38),o=n(11),r=n(18),a=n(40),s=n(39),u=function(){function t(){}return t.prototype.getBitmapFontLoader=function(){return i.a},t.prototype.getImageLoader=function(){return i.a},t.prototype.getSpriteSheetLoader=function(){return i.a},t.prototype.getFileLoader=function(){return o.a},t.prototype.getJsonLoader=function(){return r.a},t.prototype.getSpineLoader=function(){return a.a},t.prototype.getSoundLoader=function(){return s.a},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(8),r=n(14),a=n(45),s=function(t){function e(e){var n=t.call(this)||this;return n.id=e,n.resources=[],n.loadedResources=[],n}return i.a(e,t),e.prototype.addResource=function(t){var e=this;-1===this.resources.indexOf(t)&&(this.resources.push(t),t.addListener(r.a.LOADED,function(){return e.onResourceLoaded(t)},this))},e.prototype.onResourceLoaded=function(t){-1===this.loadedResources.indexOf(t)&&(this.loadedResources.push(t),this.loadedResources.length===this.resources.length&&this.dispatch(a.a.LOADED))},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(10),r=n(8),a=n(14),s=function(t){function e(e,n,i){var r=t.call(this)||this;return r.id=e,r.loadDelayPriority=n,r.loader=i,i.addListener(o.a.LOAD_COMPLETE_EVENT,function(){r.dispatch(a.a.LOADED,r)}),r}return i.a(e,t),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){this.sounds={},this.soundLoadCallbacks={},this.dispatcher=n.i(i.inject)(i.EventDispatcher),createjs.Sound.alternateExtensions=["mp3"],this.dispatcher.addListener(i.DOMEventType.VISIBILITY_CHANGED,function(t){return createjs.Sound.muted=t}),this.dispatcher.addListener(i.SoundManagerEvent.MUTE,function(t){return createjs.Sound.muted=t})}return t.prototype.setSound=function(t){this.sounds[t]=new i.Sound(t),this.setLoadingStatusCheck(t)},t.prototype.getSound=function(t){return this.sounds[t]},t.prototype.getSoundConstantById=function(t){return t},t.prototype.isSoundAvailable=function(t){var e=this.getSound(t);return e&&e.loaded},t.prototype.isSoundPlaying=function(t){var e=!1;return this.isSoundAvailable(t)&&(e=this.getSound(t).isPlaying()),e},t.prototype.playSound=function(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===i&&(i=!1);var o=this.getSound(t);o&&(o.loaded?o.play(e,i):n&&(this.soundLoadCallbacks[o.id]=function(){return o.play(e,i)}))},t.prototype.playSoundInstance=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=null);var i=this.getSound(t);return i&&i.loaded?i.playInstance(e,n):null},t.prototype.stopSound=function(t){var e=this.getSound(t);e&&e.stop()},t.prototype.setSoundsVolume=function(t){createjs.Sound.volume=t},t.prototype.setSoundVolume=function(t,e){var n=this.getSound(t);n&&(n.volume=e)},t.prototype.muteSound=function(t){var e=this.getSound(t);e&&e.mute()},t.prototype.unMuteSound=function(t){var e=this.getSound(t);e&&e.unMute()},t.prototype.setLoadingStatusCheck=function(t){this.sounds[t].loaded=!0,this.dispatcher.dispatch(i.SoundManagerEvent.SOUND_LOADED,t),createjs.Sound.volume=createjs.Sound.volume,this.soundLoadCallbacks[t]&&(this.soundLoadCallbacks[t].call(this),this.soundLoadCallbacks[t]=null)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i){void 0===n&&(n=0);var o=this;if(this.instance=createjs.Sound.createInstance(t),this.config=e,this.loopsCount=n,this._onCompleted=i,this.instance)if(this.loopsCount>0)this.loopsCount--,this.instance.on("complete",function(){return o.onSoundCompleted()}),this.instance.play(this.config);else if(this.config.loop=Number.MAX_VALUE,this.instance.play(this.config),i)throw Error("Can't use onCompleted for loop sounds")}return t.prototype.onSoundCompleted=function(){this.loopsCount>0?(this.loopsCount--,this.instance.play(this.config)):this._onCompleted&&this._onCompleted()},t.prototype.isPlaying=function(){return this.instance&&this.instance.playState===createjs.Sound.PLAY_SUCCEEDED},t.prototype.stop=function(){this.instance&&this.instance.stop()},t.prototype.mute=function(){this.instance&&(this.instance.muted=!0)},t.prototype.unMute=function(){this.instance&&(this.instance.muted=!1)},t.prototype.pause=function(){this.instance&&(this.instance.paused=!0)},t.prototype.resume=function(){this.instance&&(this.instance.paused=!1)},Object.defineProperty(t.prototype,"volume",{get:function(){if(this.instance)return this.instance.volume},set:function(t){this.instance&&(this.instance.volume=t)},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_YOU_WON_BONUS:"SHOW_YOU_WON_BONUS",SHOW_MESSAGE:"SHOW_MESSAGE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.gameDataModel=n.i(i.inject)(o.GameDataModel),this.rewardsModel=n.i(i.inject)(o.RewardsModel)}return t.prototype.getWinSymbolsByReward=function(t){var e,n=this,r=[];if(t.type===o.ServerRewardType.LINE){for(var a=t,s=void 0,u=void 0,l=this.gameDataModel.lineWinnings.length,c=0;c<l;c++)if(u=this.gameDataModel.lineWinnings[c],u.lineIndex===a.lineId){s=u;break}r.push(s);var d=this.gameDataModel.winningLinesConfig[a.lineId],p=o.LineUtils.getLineSymbolPositions(d,a.payoutSymbolsCount,a.direction);e=[];for(var h=void 0,f=p.length,M=0;M<f;M++)h=this.gameDataModel.slotState.getWinningSymbolAt(p[M].x,p[M].y),e.push(h)}else if(t.type===o.ServerRewardType.SCATTER){var y=t;e=[],y.positions.forEach(function(t){var i=n.gameDataModel.slotState.getWinningSymbolAt(t.x,t.y);e.push(i)})}else if(t.type===o.ServerRewardType.WAYS){e=[];for(var m=t,g=void 0,S=this.getLineRewardsByIds(m.wayIds),v=0,A=S;v<A.length;v++){var b=A[v];g=this.getWinSymbolsByReward(b),e.push.apply(e,g)}e=i.ArrayUtils.removeDuplicates(e)}return e},t.prototype.getLineRewardsByIds=function(t){for(var e=[],n=this.rewardsModel.getPayRewards([o.ServerRewardType.LINE]),i=0,r=n;i<r.length;i++){var a=r[i];-1!==t.indexOf(a.lineId)&&e.push(a)}return e},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(2),r=n(3),a=function(){function t(){this.slotModel=n.i(i.inject)(o.SlotModel)}return t.prototype.checkIfAnticipationIsNeeded=function(t,e,o){var a=!1;if(t>0){var s=void 0,u=n.i(i.inject)(r.AnticipationModel),l=u.anticipationConfig.symbols;if(l)for(var c=void 0,d=void 0,p=Object.keys(l),h=p.length,f=0;f<h;f++)if(d=p[f],c=l[d]){if(c.ignoreReelIndices&&-1!==c.ignoreReelIndices.indexOf(t))continue;if((s=this.getLandedSymbolsCount(d,t-1,e,o))>=c.minCount&&(!c.maxCount||s<=c.maxCount)){a=!0;break}}}return a},t.prototype.calculateSymbolAnticipationStops=function(t,e){var o=this.slotModel.getSlotConfig().reelsCount,a=n.i(i.inject)(r.AnticipationModel),s=a.anticipationConfig.symbols,u={};if(s)for(var l=Object.keys(s),c=l.length,d=0;d<c;d++){var p=l[d],h=s[p];if(h){u[p]=0;for(var f=0;f<o;f++)if(!h.ignoreReelIndices||-1===h.ignoreReelIndices.indexOf(f)){var M=this.checkIfAnticipationIsNeededForSpecificSymbol(f,t,e,p,h);M&&(u[p]=f)}}}return u},t.prototype.checkIfAnticipationIsNeededForSpecificSymbol=function(t,e,n,i,o){var r,a=!1;return r=this.getLandedSymbolsCount(i,t-1,e,n),r>=o.minCount&&(!o.maxCount||r<=o.maxCount)&&(a=!0),a},t.prototype.getLandedSymbolsCount=function(t,e,r,a){var s=0,u=n.i(i.inject)(o.SymbolManager),l=u.getSymbolModel(t);if(l){var c=l.slotSymbolConfig;if(c.isConsecutiveScatter)s=this.getConsecutiveScattersCount(t,e,r);else if(c.isScatter)s=this.getScatterSymbolsCount(t,e,r);else{var d=this.slotModel.getSlotConfig();s=d.allWays?this.getAllWaysRegularSymbolsCount(t,e,r):this.getLinesRegularSymbolsCount(t,e,r,a)}}return s},t.prototype.getConsecutiveScattersCount=function(t,e,r){for(var a,s=0,u=n.i(i.inject)(o.ReelsManager),l=!1,c=0;c<=e;c++){a=r[c];for(var d=u.getReelConfig(c).rows,p=0;p<d;p++)if(""+a[p]===t){l=!0;break}l?s++:s=0,l=!1}return s},t.prototype.getScatterSymbolsCount=function(t,e,r){for(var a,s=0,u=n.i(i.inject)(o.ReelsManager),l=0;l<=e;l++){a=r[l];for(var c=u.getReelConfig(l).rows,d=0;d<c;d++)""+a[d]===t&&s++}return s},t.prototype.getLinesRegularSymbolsCount=function(t,e,r,a){for(var s,u,l,c,d,p,h,f=0,M=n.i(i.inject)(o.SymbolManager),y=M.getSymbolModel(t),m=a.length,g=0;g<m;g++)for(d=a[g],c=0;c<=e;c++){if(l=r[c],s=!1,h=d.lineIndices[c],(p=""+l[h])===t){s=!0;break}if((u=M.getSymbolModel(p))&&u.slotSymbolConfig&&u.slotSymbolConfig.isWild&&(!y||!y.slotSymbolConfig||!y.slotSymbolConfig.preventWildSubstitution)){s=!0;break}if(!s)break;c>=f&&f++}return f},t.prototype.getAllWaysRegularSymbolsCount=function(t,e,a){for(var s,u,l,c,d=0,p=n.i(i.inject)(o.ReelsManager),h=n.i(i.inject)(r.AnticipationModel),f=n.i(i.inject)(o.SymbolManager),M=f.getSymbolModel(t),y=h.anticipationConfig.symbols[t],m=0;m<=e;m++){u=0,s=!1;for(var g=p.getReelConfig(m).rows,S=0;S<g&&(c=a[m][S],""+c===t?(s=!0,u++):(l=f.getSymbolModel(""+c))&&l.slotSymbolConfig&&l.slotSymbolConfig.isWild&&(M&&M.slotSymbolConfig&&M.slotSymbolConfig.preventWildSubstitution||(s=!0,u++)),!s||y.multipleSymbolsOnReel);S++);if(!s){d=0;break}d+=u}return d},t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"d",function(){return a});var i={iconRotationFreq:5e3,layouts:{autoContainer:"autoContainer",autoSpinsFeatureButton:"autoSpinsFeatureButton",autoSpinsSelectButton:{desktop:{id:"autoSpinsSelectButton",featureBtnId:"autoSpinsFeatureButton"}},bottomBar:"bottomBar",winBox:"winBox"},locales:{autoSpinsBtn:"autoSpinsBtn",stopBtn:"stopBtn",autoSpinsCounterUntilFeature:"autoSpinsCounterUntilFeature",coinsTitle:"coinsTitle",totalBetTitle:"totalBetTitle",stakeTitle:"stakeTitle",balanceTitle:"balanceTitle",stopLabel:"stopLabel"},timingForAutoSpinPanel:{show:.5,hide:.5}},o={SPIN:"0",STOP:"1",CLICK_TO_START:"3",SKIP:"4"},r={SPIN:"spin",BETS:"bets",INFO:"info",AUTO:"auto",TURBO:"turbo",REELS_CLICK:"reelsClick",ANYWHERE_CLICK:"anywhereClick"},a={GENERIC_BUTTON_CLICK:"GENERIC_BUTTON_CLICK",STAKE_INCREASE_BUTTON_CLICK:"STAKE_INCREASE_BUTTON_CLICK",STAKE_DECREASE_BUTTON_CLICK:"STAKE_DECREASE_BUTTON_CLICK",TURBO_ENABLE_BUTTON_CLICK:"TURBO_ENABLE_BUTTON_CLICK",TURBO_DISABLE_BUTTON_CLICK:"TURBO_DISABLE_BUTTON_CLICK",AUTOPLAY_ENABLED_BUTTON_CLICK:"AUTOPLAY_ENABLED_BUTTON_CLICK",AUTOPLAY_DISABLED_BUTTON_CLICK:"AUTOPLAY_DISABLED_BUTTON_CLICK",INFO_BUTTON_CLICK:"INFO_BUTTON_CLICK",START_CLICK:"START_CLICK",STOP_CLICK:"STOP_CLICK",STOP_IN_TURBO_CLICKED:"TURBO_STOP_CLICK"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotModel=n.i(o.inject)(r.SlotModel),e}return i.a(e,t),e.prototype.onReelsTouchDown=function(e){this.slotModel.isSpinning&&this.dispatcher.dispatch(r.Event.REELS_SWIPE),e.currentTarget===e.target&&t.prototype.onReelsTouchDown.call(this,e)},e.prototype.onTouchUp=function(e){e.currentTarget===e.target&&t.prototype.onTouchUp.call(this,e)},e.prototype.addListenerShowOverlayForFOAK=function(){},e}(r.MainScreenMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LINE_TOGGLE_MESSAGE_TYPE_NAME="lineWin",e.winManager=n.i(o.inject)(a.WinManager),e.gameDataModel=n.i(o.inject)(r.GameDataModel),e.rewardsModel=n.i(o.inject)(r.RewardsModel),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.autoPlayModeModel=n.i(o.inject)(r.AutoPlayModeModel),e.turboModeModel=n.i(o.inject)(r.TurboModeModel),e.slotModel=n.i(o.inject)(r.SlotModel),e.winBoxModel=n.i(o.inject)(a.WinBoxModel),e.contentManager=n.i(o.inject)(o.ContentManager),e.soundManager=n.i(o.inject)(o.SoundManager),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.autoSpinsModel=n.i(o.inject)(a.AutoSpinsModel),e.moneyFormatter=n.i(o.inject)(r.MoneyFormatterUtils),e.currentRewardIndex=0,e.slotViewModel=n.i(o.inject)(r.SlotViewModel),e.paused=!1,e.autoStopped=!1,e}return i.a(e,t),e.prototype.guard=function(t){var e=!0,n=this.getWinningRewards();return(t.isTerminating||n.length<=0)&&(e=!1),e},e.prototype.onTerminate=function(e){return this.stopAllAnimations(),t.prototype.onTerminate.call(this,e)},e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.mainResolve=n,e.mainActionInfo=t,e.addListeners(),e.payRewards=e.getWinningRewards(),e.isTurboMode=e.turboModeModel.canBeActive,e.showWinAnimations()})},e.prototype.getWinningRewards=function(){return this.rewardsModel.getPayRewards([r.ServerRewardType.LINE,r.ServerRewardType.SCATTER])},e.prototype.readyToFinish=function(){this.autoStopped||this.stopAllAnimations(),this.mainResolve(this.mainActionInfo),this.dispatcher.dispatch(a.WinActionEvent.FIRST_LINE_TOGGLE_COMPLETE)},e.prototype.showWinAnimations=function(){var t=this.slotModel.getSlotConfig();a.WinUtils.sortRewardsForFirstLineWinningAction(this.payRewards,this.gameDataModel,this.slotModel.stopReelsSymbols,t.isHigherSymbolIndexBetter),this.currentRewardIndex=-1,this.showNextWinAnimation()},e.prototype.showNextWinAnimation=function(){if(this.currentRewardIndex++,this.checkIfCanShowNextAnimation()){var t=this.currentRewardIndex%this.payRewards.length;this.showSingleWinAnimation(this.payRewards[t])}else this.readyToFinish()},e.prototype.run=function(e){return t.prototype.run.call(this,e)},e.prototype.showSingleWinAnimation=function(t){var e,n=this,i=[],o=this.slotModel.getSlotConfig(),s=o.isDuplicateInfoLineWin?a.InfoBarEventMark2.SHOW_MESSAGE_WITH_TOTAL_WIN:r.InfoBarEvent.SHOW_MESSAGE;if(t.type===r.ServerRewardType.LINE){var u=t,l=this.winManager.getLine(u.lineId);i.push(l);var c=this.gameDataModel.winningLinesConfig[u.lineId],d=r.LineUtils.getLineSymbolPositions(c,u.payoutSymbolsCount,u.direction);e=[];for(var p=void 0,h=d.length,f=0;f<h;f++)p=this.gameDataModel.slotState.getWinningSymbolAt(d[f].x,d[f].y),e.push(p);this.dispatcher.dispatch(s,a.MessageFactoryMark2.createMessage([this.getMessageType()],[{rewardId:u.lineId+1,money:this.moneyFormatter.formatNumber(u.value)}]))}else if(t.type===r.ServerRewardType.SCATTER){var M=t;e=[],M.positions.forEach(function(t){var i=n.gameDataModel.slotState.getWinningSymbolAt(t.x,t.y);e.push(i)}),this.dispatcher.dispatch(s,a.MessageFactoryMark2.createMessage(["winScatters"],[{scattersCount:M.payoutSymbolsCount,value:this.moneyFormatter.formatNumber(M.value,{showCurrency:!0})}]))}this.gameDataModel.putCurrentWinSymbols(e),this.showWinningLines(e,i);var y=this.calculateTimeoutFromConfig(o);this.getShowFrames()?this.waitForSingleAnimationComplete(new Promise(function(t){return n.currentLineTimeout=setTimeout(t,y)})):this.currentRewardIndex===this.payRewards.length-1?this.waitForSingleAnimationComplete(new Promise(function(t){return n.currentLineTimeout=setTimeout(t,y)})):this.showNextWinAnimation()},e.prototype.calculateTimeoutFromConfig=function(t){return this.freeGamesModel.isFreeSpinsActive?t.lineToggleOptions?t.lineToggleOptions.freeGameToggleDelay:a.WinActionsModuleConstants.timings.fgLineToggleDelay:this.autoSpinsModel.isActive?t.lineToggleOptions?t.lineToggleOptions.autoSpinToggleDelay:a.WinActionsModuleConstants.timings.fgLineToggleDelay:t.lineToggleOptions?t.lineToggleOptions.mainToggleDelay:a.WinActionsModuleConstants.timings.lineToggleDelay},e.prototype.playSoundToggle=function(){this.slotViewModel.isPaytableOpen||!this.winBoxModel.isCountUp&&this.payRewards.length>1&&!this.slotModel.getSlotConfig().allWays&&this.soundManager.playSound("LINE_TOGGLE")},e.prototype.onSingleAnimationComplete=function(){this.isTerminated||(this.stopSingleAnimation(),this.showNextWinAnimation())},e.prototype.stopAllAnimations=function(){this.removeListeners(),clearTimeout(this.currentLineTimeout),this.paused=!1,this.autoStopped=!1,this.stopSingleAnimation()},e.prototype.getShowFrames=function(){return!this.winManager.isRegularWin||(!(!this.freeGamesModel.isFreeSpinsActive||this.freeGamesModel.isJustWon)||!this.isTurboMode)},e.prototype.stopSingleAnimation=function(){this.gameDataModel.clearCurrentWinSymbols(),this.dispatcher.dispatch(a.ShowWinningEvents.HIDE_ALL_WINNING_FRAMES),this.dispatcher.dispatch(a.ShowWinningEvents.HIDE_ALL_WINNING_LINES)},e.prototype.checkIfCanShowNextAnimation=function(){return this.currentRewardIndex<this.payRewards.length},e.prototype.waitForSingleAnimationComplete=function(t){var e=this;t.then(function(){e.isTerminated||e.onSingleAnimationComplete()})},e.prototype.showWinningLines=function(t,e){var n=new a.WinningDataToShowVO(this.winManager.totalWin,e,t,this.getShowFrames());this.getShowFrames()&&(this.dispatcher.dispatch(a.ShowWinningEvents.SHOW_WINNING_FRAMES,n),this.playSoundToggle()),this.dispatcher.dispatch(a.ShowWinningEvents.SHOW_WINNING_LINES,n)},e.prototype.onWinBoxActionComplete=function(){this.readyToFinish()},e.prototype.getMessageType=function(){return this.LINE_TOGGLE_MESSAGE_TYPE_NAME},e.prototype.addListeners=function(){this.dispatcher.addListener(r.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS,this.pause,this),this.dispatcher.addListener(r.SymbolAnimationEvents.RESUME_ALL_SYMBOL_ANIMATIONS,this.resume,this),this.freeGamesModel.isJustWon&&this.dispatcher.addListener(a.WinBoxEvents.ACTION_COMPLETE,this.onWinBoxActionComplete,this),this.dispatcher.addListener(a.BottomBarEvent.STOP_AUTO_SPINS_CLICK,this.onUpdateStop,this),this.dispatcher.addListener(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS,this.stopAllAnimations,this)},e.prototype.onUpdateStop=function(){this.autoStopped=!this.autoStopped},e.prototype.removeListeners=function(){this.dispatcher.removeListeners(r.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS,this),this.dispatcher.removeListeners(r.SymbolAnimationEvents.RESUME_ALL_SYMBOL_ANIMATIONS,this),this.dispatcher.removeListeners(a.WinBoxEvents.ACTION_COMPLETE,this),this.dispatcher.removeListeners(a.WinBoxEvents.SKIP_WIN_ANIMATION,this),this.dispatcher.removeListeners(a.WinBoxEvents.SKIP_WIN_ANIMATION_COMPLETE,this),this.dispatcher.removeListeners(a.WinBoxEvents.WIN_ANIMATION_COMPLETE,this),this.dispatcher.removeListeners(a.BottomBarEvent.STOP_AUTO_SPINS_CLICK,this),this.dispatcher.removeListeners(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS,this)},e.prototype.pause=function(){this.paused||(clearTimeout(this.currentLineTimeout),this.stopSingleAnimation()),this.paused=!0},e.prototype.resume=function(){this.paused&&this.onSingleAnimationComplete(),this.paused=!1},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(e,n){var i=t.call(this,e)||this;return i.updateStep=0,i.settings=n,i}return i.a(e,t),e.prototype.update=function(e){if(this.position.y+=this.vY,this.position.y>this.settings.maxY)return void this.refresh();this.scale.x+=this.vScaleX,(this.scale.x>1||this.scale.x<-1)&&(this.vScaleX=-this.vScaleX),this.scale.y+=this.vScaleY,(this.scale.y>1||this.scale.y<-1)&&(this.vScaleY=-this.vScaleY),this.rotation+=this.vRotation,this.updateStep+=this.fps,this.updateStep<this.settings.originalFps||(this.updateStep=0,t.prototype.update.call(this,e))},e.prototype.refresh=function(){this.position.y=-this.height+Math.random()*this.settings.positionStartY,this.position.x=Math.random()*this.settings.maxWidth,this.scale.x=this.settings.MIN_SCALEX+Math.random()*(this.settings.MAX_SCALEX-this.settings.MIN_SCALEX),this.scale.y=Math.random()<this.settings.SCALY_START_COEF?this.scale.x:this.scale.x+this.settings.MIN_SCALY_DIFF+Math.random()*(this.settings.MAX_SCALY_DIFF-this.settings.MIN_SCALY_DIFF),this.alpha=this.scale.x+this.settings.ALPHA_COEF,this.vY=this.settings.MIN_VY+Math.random()*(this.settings.MAX_VY-this.settings.MIN_VY),this.vScaleY=Math.random()<this.settings.SCALE_START_COEF?Math.random()*this.settings.MAX_VSCALE:0,this.vScaleX=Math.random()<this.settings.SCALE_START_COEF?Math.random()*this.settings.MAX_VSCALE:0,this.vRotation=Math.random()<this.settings.ROTATION_START_COEF?Math.random()*this.settings.MAX_VROTATION:0,this.fps=this.settings.MIN_FPS+Math.random()*(this.settings.MAX_FPS-this.settings.MIN_FPS)},e}(o.k)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.NORMAL="default",t.OVER="hover",t.DOWN="down",t.DISABLED="disabled",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(16),r=n(1),a=PIXI.Sprite,s=PIXI.Container,u=function(t){function e(e){var i=t.call(this)||this;return i.imageAnchor=e,i.px=0,i.py=0,i.pz=0,i.isWebGLSupport=n.i(r.inject)(o.a).isWebGLSupport,i.showImageTime=.35,i}return i.a(e,t),e.prototype.changeImage=function(t){var e;if(this.currentImage&&(this.hideImage(this.currentImage),e=this.currentImage,this.currentImage=null),t&&(this.currentImage=new a,this.addChild(this.currentImage),this.currentImage.texture=t,this.currentImage.anchor.set(this.imageAnchor.x,this.imageAnchor.y),this.isWebGLSupport)){var n=0;e&&(n=this.showImageTime),this.currentImage.alpha=0,TweenLite.to(this.currentImage,n,{alpha:1,ease:Sine.easeInOut})}},e.prototype.hideImage=function(t){this.isWebGLSupport?(TweenLite.killTweensOf(t),TweenLite.to(t,.2,{delay:this.showImageTime,alpha:0,ease:Sine.easeInOut,onComplete:function(){t.parent&&t.parent.removeChild(t)}})):t.parent.removeChild(t)},e}(s)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={ALWAYS:"always",ONLY_UPSCALE:"onlyUpscale",NEVER:"never"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SCENE_RESIZED:"SCENE_RESIZED"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={TOP:"TOP",MIDDLE:"MIDDLE",BOTTOM:"BOTTOM"}},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(27),o=n(792),r=n(74),a=n(799),s=n(802),u=n(801),l=n(791),c=n(800),d=n(6),p=function(){function t(t,e,n){this.TL_EPSILON=1e-5,this._layers=[],this._currentFrame=0,this._source=t,this._container=e,this._context=n,this._fps=parseInt(t.fps,10),(this._fps<=0||isNaN(this._fps))&&(this._fps=24);for(var r=0,s=t.ls;r<s.length;r++){var u=s[r];if(u.lt===l.a.MASK){var c=new o.a(u,this._context);this._layers.push(c)}else this._layers.push(new i.a(u,this._context))}this._totalFrames=0;for(var p=0,h=this._layers;p<h.length;p++){var f=h[p];if(this._totalFrames<f.totalFrames&&(this._totalFrames=f.totalFrames),f.maskLayerName){var c=this.getLayerByName(f.maskLayerName);if(c){f.mask=c.dynamicMask;break}}}for(var M=0,y=this._layers;M<y.length;M++){var f=y[M];f.init(this._container,this._totalFrames)}this._playback=new a.a(this),this._container.on(d.a.ADDED_TO_SCENE,this.onAdded,this).on(d.a.REMOVED_FROM_SCENE,this.onRemoved,this)}return t.prototype.getLayerByName=function(t){for(var e=0,n=this._layers;e<n.length;e++){var i=n[e];if(i.layerName===t)return i}return null},t.prototype.onAdded=function(){r.a.instance.addListener(this)},t.prototype.onRemoved=function(){r.a.instance.removeListener(this)},Object.defineProperty(t.prototype,"isPlaying",{get:function(){return null!=this._playback},enumerable:!0,configurable:!0}),t.prototype.startPlayback=function(t){this._playback=t,this._playback.initFirstFrame()},t.prototype.play=function(){this.startPlayback(new a.a(this))},t.prototype.stop=function(){this._playback=null},t.prototype.playSingle=function(t,e){void 0===e&&(e=null);var n=this.findRangeByLabel(t);if(n){var i=n.startFrame+this.TL_EPSILON,o=n.startFrame+n.duration-this.TL_EPSILON;this.startPlayback(new s.a(this,i,o,e))}},t.prototype.playSingleReverse=function(t,e){void 0===e&&(e=null);var n=this.findRangeByLabel(t);if(n){var i=n.startFrame+n.duration-this.TL_EPSILON,o=n.startFrame+this.TL_EPSILON;this.startPlayback(new s.a(this,i,o,e))}},t.prototype.playLoop=function(t,e){void 0===e&&(e=!1);var n=this.findRangeByLabel(t);n&&this.startPlayback(new u.a(this,n.startFrame+this.TL_EPSILON,n.duration-this.TL_EPSILON,e))},t.prototype.findFrameByLabel=function(t){var e=this.findRangeByLabel(t);return e?e.startFrame:NaN},t.prototype.findRangeByLabel=function(t){for(var e,n=0,i=this._layers;n<i.length;n++){if(e=i[n].findFramesRange(t))return e}return null},t.prototype.gotoAndStop=function(t){this._playback=null,this.currentFrame=t},t.prototype.gotoAndStopByLabel=function(t){var e=this.findFrameByLabel(t);if(isNaN(e))throw Error("timeline label not found: "+t);this.gotoAndStop(e)},t.prototype.gotoAndPlay=function(t){this.startPlayback(new c.a(this,t))},t.prototype.gotoAndPlayByLabel=function(t){var e=this.findFrameByLabel(t);if(isNaN(e))throw Error("timeline label not found: "+t);this.gotoAndPlay(e)},t.prototype.onEnterFrame=function(t){this._playback&&this._playback.onEnterFrame(t)},Object.defineProperty(t.prototype,"fps",{get:function(){return this._fps},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._totalFrames},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(t){this._currentFrame=t;for(var e=0,n=this._layers;e<n.length;e++){n[e].currentFrame=this._currentFrame}},enumerable:!0,configurable:!0}),t.prototype.rewind=function(){this._currentFrame=0;for(var t=0,e=this._layers;t<e.length;t++){e[t].rewindChildren()}},t.prototype.getChildByName=function(t){for(var e=0,n=this._layers;e<n.length;e++){var i=n[e],o=i.getChildByName(t);if(o)return o}return null},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e){this.propertyName=t,this.propertyValue=e}return t.NAME="TimelineBindEvent",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(804),o=n(9),r=function(){function t(t,e){this._bezier=new i.a(t.x,t.y,e.x,e.y)}return t.prototype.interpolate=function(t,e,n){var i=this._bezier.getYForX(n);return o.a.lerp(t,e,i)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(9),o=function(){function t(){}return t.prototype.interpolate=function(t,e,n){return i.a.lerp(t,e,n)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this._tween=t}return t.prototype.interpolate=function(t,e,n,i){i.alpha=this._tween.interpolate(t.alpha,e.alpha,n)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this.x=0,this.y=0,this.pivotX=0,this.pivotY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.visible=!0,"px"in t&&(this.pivotX=t.px),"py"in t&&(this.pivotY=t.py),"center"!==t.p&&(this.x=t.p.x,this.y=t.p.y),"sx"in t&&(this.scaleX=t.sx),"sy"in t&&(this.scaleY=t.sy),"a"in t&&(this.alpha=t.a),t.r&&(this.rotation=t.r),"v"in t&&(this.visible=t.v)}return t.prototype.apply=function(t){t.pivot.x=this.pivotX,t.pivot.y=this.pivotY,t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.scale.x=this.scaleX,t.scale.y=this.scaleY,t.alpha=this.alpha,t.visible=this.visible},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(9),o=function(){function t(t){this._tween=t}return t.prototype.interpolate=function(t,e,n,o){var r=i.a.normalizeAngle(t.rotation),a=i.a.closestAngle(r,e.rotation);o.rotation=this._tween.interpolate(r,a,n)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this._tween=t}return t.prototype.interpolate=function(t,e,n,i){i.scale.x=this._tween.interpolate(t.scaleX,e.scaleX,n),i.scale.y=this._tween.interpolate(t.scaleY,e.scaleY,n)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=PIXI.ticker,o=function(){function t(){this._listeners=[],this._prevTime=performance.now(),i.shared.add(this.onEnterFrame,this)}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.addListener=function(t){this._listeners.push(t)},t.prototype.removeListener=function(t){var e=this._listeners.indexOf(t);e>=0&&this._listeners.splice(e,1)},t.prototype.onEnterFrame=function(e){var n=performance.now(),i=(n-this._prevTime)/1e3;this._prevTime=n;var o=1/t.MIN_FPS,r=1;i>o&&(r=Math.floor(i/o),this._prevTime-=i-r*o,i=o);for(var a=0;a<r;a++)for(var s=this._listeners.length-1;s>=0;s--)this._listeners[s].onEnterFrame(i)},t.MIN_FPS=30,t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){void 0===t&&(t=""),this._buildersMap={},this._componentTypeInfo=t}return t.prototype.registerBuilder=function(t,e,n){if(this._buildersMap[t]){if(!n)throw Error("builder already registered for type name: "+t);this._buildersMap[t]=e}else this._buildersMap[t]=e},t.prototype.getBuilder=function(t){var e=this._buildersMap[t];return e},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(13),a=PIXI.DisplayObject,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=null,e}return i.a(e,t),e.prototype.render=function(){},e.prototype.onAdded=function(){n.i(o.createMediator)(this.constructor,this),t.prototype.onAdded.call(this)},e.prototype.onRemoved=function(){t.prototype.onRemoved.call(this),n.i(o.destroyMediator)(this.constructor,this)},e.prototype.draw=function(t){},e.prototype.attachView=function(t){return!1},e.prototype.detachView=function(t){return!1},e.prototype.requestAnimation=function(t){for(var n=this.parent;n;){if(!(n instanceof a))return;if(n instanceof e&&n.attachView(t))return;n=n.parent}},e.prototype.cancelRequestAnimation=function(t){for(var n=this.parent;n;){if(!(n instanceof a))return;if(n instanceof e&&n.detachView(t))return;n=n.parent}},e.prototype.destroy=function(){t.prototype.destroy.call(this),n.i(o.destroyView)(this)},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(t){if(this._dispatcher=n.i(i.inject)(i.EventDispatcher),this._eventName=t.name,t.params){this._params={};for(var e=t.params,o=0,r=e;o<r.length;o++){var a=r[o];this._params[a.name]=a.value}}}return t.prototype.hasEqualParams=function(t){if(this._params){if(!t)return!1;for(var e in this._params)if(this._params.hasOwnProperty(e)&&this._params[e]!==t[e])return!1}return!0},Object.defineProperty(t.prototype,"eventName",{get:function(){return this._eventName},enumerable:!0,configurable:!0}),t.prototype.execute=function(t){this._dispatcher.dispatch(this._eventName,this._params)},t.prototype.stop=function(t){},t.create=function(e){return new t(e)},t.TYPE_NAME="Event",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(29),o=function(){function t(){this._actionsMap={}}return t.prototype.executeActions=function(t,e){var n=this._actionsMap[t];if(n)for(var i=0,o=n;i<o.length;i++){var r=o[i];r.execute(e)}},t.prototype.stopActions=function(t,e){var n=this._actionsMap[t];if(n)for(var i=0,o=n;i<o.length;i++){var r=o[i];r.stop(e)}},t.prototype.deserialize=function(t){if(t)for(var e in t)if(t.hasOwnProperty(e))for(var n=this.getActions(e),o=0,r=t[e];o<r.length;o++){var a=r[o],s=i.a.instance.createAction(a);s&&n.push(s)}},t.prototype.getActions=function(t){return this._actionsMap[t]||(this._actionsMap[t]=[]),this._actionsMap[t]},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(33),r=n(30),a=n(812),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e.prototype.applyProperties=function(e,n,i){t.prototype.applyProperties.call(this,e,n,i);var o=i.getLayoutsContext().getRenderer().plugins.interaction;if(o){var r=e,s=r.timeline.getLayerByName("HitArea");s&&(r.hitArea=new a.a(s,r,o))}},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(6),o=function(){function t(t){this._component=t,this._component.on(i.a.ADDED_TO_SCENE,this.onAdded,this).on(i.a.REMOVED_FROM_SCENE,this.onRemoved,this)}return t.prototype.destroy=function(){this._triggers&&this._triggers.destroy()},t.prototype.onAdded=function(){this._triggers&&this._triggers.addListeners()},t.prototype.onRemoved=function(){this._triggers&&this._triggers.removeListeners()},t.prototype.applyProperties=function(t,e){this._eventsToActions||(this._eventsToActions=e.createEventsToActionsExecutor()),this._triggers||(this._triggers=e.createTriggersList(this._component)),this._eventsToActions.deserialize(t.eventsToActions),this._triggers.deserialize(t.triggers)},t.prototype.executeActions=function(t){this._eventsToActions&&this._eventsToActions.executeActions(t,this._component)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(31),r=n(772),a=n(21),s=function(t){function e(e){var n=t.call(this,e)||this;return n._selected=!1,n}return i.a(e,t),e.prototype.setDefaultState=function(){this.changeState(r.a.NORMAL)},e.prototype.notifyEnabledStateChange=function(){this.emit(a.a.ENABLED_STATE_CHANGED,this._enabled)},e.prototype.updateVisualState=function(){var t;t=this._enabled?this.isDown?this._selected?r.a.DOWN_SELECTED:r.a.DOWN:this.isOver?this._selected?r.a.HOVER_SELECTED:r.a.HOVER:this._selected?r.a.SELECTED:r.a.NORMAL:this._selected?r.a.DISABLED_SELECTED:r.a.DISABLED,this.changeState(t)},e.prototype.onMouseUp=function(e){this.isDown&&(this._selected=!this._selected),t.prototype.onMouseUp.call(this,e),this.emit(a.a.SELECTED_STATE_CHANGED,this._selected)},e.prototype.onClick=function(t){this._selected?this.executeActions("onSelectClick"):this.executeActions("onDeselectClick")},Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!==t&&(this._selected=t,this.updateVisualState())},enumerable:!0,configurable:!0}),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(32),r=n(81),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(9),o=function(){function t(){}return t.deserialize=function(t,e){if(e)for(var n=0,o=e;n<o.length;n++){var r=o[n],a=r.maskIndex,s=r.childrenIndexes;if(i.a.inRange(a,0,t.numChildren-1))for(var u=t.getChildAt(a),l=0,c=s;l<c.length;l++){var d=c[l];if(i.a.inRange(d,0,t.numChildren-1)&&a!==d){var p=t.getChildAt(d);(u instanceof PIXI.Sprite||u instanceof PIXI.Graphics)&&(u.visible=!0,p.mask=u)}}}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(7),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.applyProperties=function(e,n,i){t.prototype.applyProperties.call(this,e,n,i);var o=e;o.strokeThickness=n.lineThickness,o.strokeColor=parseInt(n.lineColor,16),o.strokeAlpha=n.lineAlpha},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._strokeThickness=1,e._strokeColor=0,e._strokeAlpha=1,e}return i.a(e,t),e.prototype.rewindTimeline=function(){},Object.defineProperty(e.prototype,"width",{set:function(t){this._width!==t&&(this._width=t,this.redraw())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{set:function(t){this._height!==t&&(this._height=t,this.redraw())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.redraw())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor!==t&&(this._strokeColor=t,this.redraw())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeAlpha",{get:function(){return this._strokeAlpha},set:function(t){this._strokeAlpha!==t&&(this._strokeAlpha=t,this.redraw())},enumerable:!0,configurable:!0}),e.prototype.redraw=function(){this.applyStyles()},e.prototype.applyStyles=function(){this.lineStyle(this._strokeThickness,this._strokeColor,this._strokeAlpha)},e}(PIXI.Graphics)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(84),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.applyProperties=function(e,n,i){t.prototype.applyProperties.call(this,e,n,i);var o=e;o.fillingColor=parseInt(n.fillColor,16),o.fillingAlpha=n.fillAlpha},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(85),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fillingColor=8947848,e._fillingAlpha=1,e}return i.a(e,t),Object.defineProperty(e.prototype,"fillingColor",{get:function(){return this._fillingColor},set:function(t){this._fillingColor!==t&&(this._fillingColor=t,this.redraw())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillingAlpha",{get:function(){return this._fillingAlpha},set:function(t){this._fillingAlpha!==t&&(this._fillingAlpha=t,this.redraw())},enumerable:!0,configurable:!0}),e.prototype.applyStyles=function(){t.prototype.applyStyles.call(this),this.beginFill(this._fillingColor,this._fillingAlpha)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(86),r=n(89),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(87),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.redraw=function(){this.clear(),t.prototype.redraw.call(this);var e=this._width/2,n=this._height/2;this.drawEllipse(e,n,e,n),this.endFill()},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(91),r=n(86),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new o.a},e.prototype.applyProperties=function(e,n,i){t.prototype.applyProperties.call(this,e,n,i),e.cornersRadius=n.cornersRadius||0},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(87),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._cornersRadius=0,e}return i.a(e,t),Object.defineProperty(e.prototype,"cornersRadius",{get:function(){return this._cornersRadius},set:function(t){this._cornersRadius!==t&&(this._cornersRadius=t,this.redraw())},enumerable:!0,configurable:!0}),e.prototype.redraw=function(){this.clear(),t.prototype.redraw.call(this),this._cornersRadius>0?this.drawRoundedRect(0,0,this._width,this._height,this._cornersRadius):this.drawRect(0,0,this._width,this._height),this.endFill()},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(7),r=n(36),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e.prototype.applyProperties=function(e,n,i){e.texture=i.getLayoutsContext().getTexture(n.img),t.prototype.applyProperties.call(this,e,n,i)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(0),o=n(1),r=n(6),a=n(773),s=n(19),u=PIXI.extras.BitmapText,l=PIXI.Text,c=function(t){function e(e,i){void 0===e&&(e="");var r=t.call(this)||this;return r.needToCheckBounds=!1,r.updatePositionOnLettersChangeOnly=!1,r._backgroundColor=16777215,r._bgAlpha=0,r.lastArrangeLettersCount=0,r.contentManager=n.i(o.inject)(o.ContentManager),r._text="",r.bg=new PIXI.Graphics,r.addChild(r.bg),r.fieldMask=new PIXI.Graphics,r.addChild(r.fieldMask),i&&(r.fontStyle=i),r.text=e,r}return i.a(e,t),Object.defineProperty(e.prototype,"fontStyle",{set:function(t){if(this.field&&this.removeChild(this.field),t=new a.a(t),t.fontFamily=t.fontFamily||"",this._hAlign=t.hAlign||s.a.LEFT,this._vAlign=t.vAlign||s.b.TOP,this._fitToSize=t.fitToSize,this._isBitmap=t.bitmapFont,this._isBitmap)this.field=new u(this._text,{font:{name:t.fontFamily,size:t.fontSize},align:t.hAlign,tint:t.fontColor});else{var e=t;e.fill=t.fontColor,e.align=t.hAlign,this.field=new l(this._text,e)}if(this.addChild(this.field),this.field.mask=this.fieldMask,this.redrawBackground(),this.field instanceof l){var n=this.contentManager.getLanguage();"km"===n||"th"===n?this.field.style.padding=8:"vi"===n&&(this.field.style.padding=16)}},enumerable:!0,configurable:!0}),e.prototype.redrawBackground=function(){this.bg.clear(),this.bg.beginFill(this.backgroundColor,this.bgAlpha),this.bg.drawRect(0,0,this._width,this._height),this.bg.endFill(),this.fieldMask.clear(),this.fieldMask.beginFill(this.backgroundColor,this.bgAlpha),this.fieldMask.drawRect(0,0,this._width,this._height),this.fieldMask.endFill()},e.prototype.arrange=function(){this.onSizeChanged()},e.prototype.setDictionaryId=function(t){this.dictionaryId=t,t&&(this.text=this.contentManager.i18n(t))},e.prototype.onSizeChanged=function(){if(this.field.scale.set(1),this._autoSize)this.width=this.textWidth,this.height=this.textHeight;else if(this._fitToSize){if(this.textWidth>this._width||this.textHeight>this._height){var t=Math.min(this._width/this.textWidth,this._height/this.textHeight);this.field.scale.set(t)}}else this.field.width>this.width&&(this.field.width=this.width);if(this.alignField(),this.redrawBackground(),this.needToCheckBounds){var e=this.field.getLocalBounds();this.field.y-=e.y*this.field.scale.y}},e.prototype.alignField=function(){switch(this._hAlign){case s.a.LEFT:this.field.x=0;break;case s.a.CENTER:this.field.x=Math.floor(.5*(this._width-this.textWidth*this.field.scale.x));break;case s.a.RIGHT:this.field.x=Math.floor(this._width-this.textWidth*this.field.scale.x)}switch(this._vAlign){case s.b.TOP:this.field.y=0;break;case s.b.MIDDLE:this.field.y=Math.floor(.5*(this._height-this.textHeight*this.field.scale.y));break;case s.b.BOTTOM:this.field.y=Math.floor(this._height-this.textHeight*this.field.scale.y)}},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=t,this.onSizeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=t,this.onSizeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoSize",{get:function(){return this._autoSize},set:function(t){this._autoSize=t,this.onSizeChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.field.text},set:function(t){if(this._text=t,this.field&&(this.field.text=t,this.visible)){var e=this.field.text.length;this.updatePositionOnLettersChangeOnly&&e===this.lastArrangeLettersCount||(this.onSizeChanged(),this.lastArrangeLettersCount=e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this._isBitmap?this.field.textWidth:this.field.width/this.field.scale.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this._isBitmap?this.field.textHeight:this.field.height/this.field.scale.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hAlign",{get:function(){return this._hAlign},set:function(t){t!==this._hAlign&&(this._hAlign=t,this.onSizeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vAlign",{get:function(){return this._vAlign},set:function(t){this._vAlign!==t&&(this._vAlign=t,this.onSizeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitToSize",{get:function(){return this._fitToSize},set:function(t){this._fitToSize!==t&&(this._fitToSize=t,this.onSizeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){t!==this._backgroundColor&&(this._backgroundColor=t,this.redrawBackground())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bgAlpha",{get:function(){return this._bgAlpha},set:function(t){t!==this._bgAlpha&&(this._bgAlpha=t,this.redrawBackground())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlpha",{set:function(t){this.field.alpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this.field.style},enumerable:!0,configurable:!0}),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(7),r=n(93),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e.prototype.applyProperties=function(n,i,o){var r=n;r.fontStyle=e.getFontStyle(i),r.text=i.text,i.aLabel&&(r.textAlpha=i.aLabel),i.i18nId&&r.setDictionaryId(i.i18nId),t.prototype.applyProperties.call(this,n,i,o)},e.getFontStyle=function(t){var e=!!t.font.b,n=0;t.font.color&&(n=e?"0x"+t.font.color:"#"+t.font.color);var i={bitmapFont:!!t.font.b,fontFamily:t.font.family,fontSize:t.font.size,hAlign:t.font.align,vAlign:t.font.valign,fontWeight:t.font.weight,fitToSize:t.font.fitToSize,wordWrap:t.wordWrap,wordWrapWidth:t.w,fontColor:n};return t.strc&&(i.stroke=parseInt(t.strc,16)),t.strt&&(i.strokeThickness=2*t.strt),t.dropShadow&&(i.dropShadow=t.dropShadow,i.dropShadowAngle=t.dropShadowAngle,i.dropShadowColor="#"+t.dropShadowColor,i.dropShadowDistance=t.dropShadowDistance,i.dropShadowBlur=t.dropShadowBlur),i},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(7),r=function(t){function e(e){var n=t.call(this)||this;return n.componentMap={},n.componentMap=e,n}return i.a(e,t),e.prototype.create=function(t,e,n){return this.createDefault(t,e)},e.prototype.createDefault=function(t,e){var n=t.id,i=t.itemId,o=e.getLayoutsContext().getLayout(i);return o.id=n,e.create(o,n?this.componentMap[n]:null)},e.prototype.applyProperties=function(e,n,i){var o=e.pivot.x,r=e.pivot.y;t.prototype.applyProperties.call(this,e,n,i),e.pivot.x+=o,e.pivot.y+=r},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(80),r=function(t){function e(e){var n=t.call(this,e||[PIXI.Texture.EMPTY])||this;return n.sequences={},n.loopsCount=0,n.loopIndex=0,n._eventsTriggers=new o.a(n),n.onComplete=n.onCompleteInternal.bind(n),n}return i.a(e,t),Object.defineProperty(e.prototype,"eventsTriggers",{get:function(){return this._eventsTriggers},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._eventsTriggers.destroy(),this.onComplete=null,t.prototype.destroy.call(this)},e.prototype.rewindTimeline=function(){this.gotoAndPlay(0)},e.prototype.playAnim=function(t){if(!this.sequences[t])throw Error("MovieClip: Sequence named "+t+" does not exist!");this.textures=this.sequences[t],this.gotoAndPlay(0)},e.prototype.setLoops=function(t){this.loop=!1,this.loopsCount=t},e.prototype.playMovie=function(){var t=this;return this.loopIndex=0,new Promise(function(e){t.animationCompleteResolve=e,t.play()})},e.prototype.onCompleteInternal=function(){this._eventsTriggers.executeActions("onCompleted");var t;this.loopsCount>0?(this.loopIndex++,this.loopIndex>=this.loopsCount&&this.animationCompleteResolve?this.animationCompleteResolve():t=!0):this.animationCompleteResolve&&this.animationCompleteResolve(),(t||this.infiniteLoop)&&this.gotoAndPlay(0)},e.prototype.forceComplete=function(){this.stop(),this.animationCompleteResolve&&this.animationCompleteResolve()},e}(PIXI.extras.AnimatedSprite)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(7),r=n(96),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e.prototype.applyProperties=function(e,n,i){var o=e,r=n.sequences,a={};for(var s in r)if(r.hasOwnProperty(s)){var u=r[s];a[s]=u.map(function(t){return i.getLayoutsContext().getTexture(t)})}a[n.defaultAnimation],o.textures=a[n.defaultAnimation],Object.assign(o.sequences,a),o.animationSpeed=null===n.animationSpeed?1:n.animationSpeed,o.loop=n.loop,n.paused?o.stop():o.play(),o.eventsTriggers.applyProperties(n,i),t.prototype.applyProperties.call(this,e,n,i)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(6),r=function(t){function e(e,n,i){void 0===e&&(e=100),void 0===n&&(n=100),void 0===i&&(i=16711680);var o=t.call(this)||this;return o.graphics=new PIXI.Graphics,o._width=e,o._height=n,o._color=i,o.redraw(),o.addChild(o.graphics),o}return i.a(e,t),e.prototype.redraw=function(){this.graphics.clear(),this.graphics.beginFill(this._color),this.graphics.drawRect(0,0,this._width,this._height),this.graphics.endFill()},Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this.color!==t&&(this._color=t,this.redraw())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=t,this.redraw())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=t,this.redraw())},enumerable:!0,configurable:!0}),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(7),r=n(98),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.SKINS="skins",t.ATTACHMENT_TYPE="type",t.ATTACHMENT_NAME="name",t.ATTACHMENT_PATH="path",t.REGION="region",t.MESH="mesh",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(6),r=function(t){function e(){var e=t.call(this)||this;return e._paused=!1,e._speed=1,e._loop=!1,e._animation=null,e.on(o.a.ADDED_TO_SCENE,function(){e._spine&&e._spine.autoUpdateTransform()}),e}return i.a(e,t),Object.defineProperty(e.prototype,"skeleton",{set:function(t){this._spine&&(this.removeChild(this._spine),this._spine=null),t&&(this._spine=new PIXI.spine.Spine(t),this._spine.skeleton.setToSetupPose(),this.addChild(this._spine),this.state.addListener(this))},enumerable:!0,configurable:!0}),e.prototype.playAnimationByName=function(t,e,n){void 0===e&&(e=0),this._spine.state.setAnimation(e,t,n),this.paused=!1},e.prototype.rewindTimeline=function(){this.updatePlaybackAnimation()},e.prototype.play=function(){this.paused=!1},e.prototype.stop=function(){this.paused=!0},Object.defineProperty(e.prototype,"spine",{get:function(){return this._spine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){if(!this._spine)throw Error("Skeleton data is not set");return this._spine.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loop",{set:function(t){this._loop!==t&&(this._loop=t,this.updatePlaybackAnimation())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animation",{set:function(t){this._animation=t,this.updatePlaybackAnimation()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.updatePlaybackSpeed()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.updatePlaybackSpeed()},enumerable:!0,configurable:!0}),e.prototype.updatePlaybackSpeed=function(){this._paused?this.state.timeScale=0:this.state.timeScale=this._speed},e.prototype.updatePlaybackAnimation=function(){this._animation&&this._spine&&this.state.setAnimation(0,this._animation,this._loop)},e.prototype.start=function(t){},e.prototype.interrupt=function(t){},e.prototype.end=function(t){},e.prototype.dispose=function(t){},e.prototype.complete=function(t){this.executeActions("onCompleted")},e.prototype.event=function(t,e){},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(7),r=n(101),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e.prototype.applyProperties=function(e,n,i){this.applySpineProperties(e,n,i),t.prototype.applyProperties.call(this,e,n,i)},e.prototype.applySpineProperties=function(t,e,n){var i=t;i.skeleton=n.getLayoutsContext().getSpineSkeleton(e.spine.skeletonPath),i.animation=e.spine.animationName,i.loop=e.spine.loop,i.speed=e.spine.speed,i.paused=e.spine.paused},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(100),o=function(){function t(){}return t.buildSkeleton=function(t,e){var n=new PIXI.spine.core.TextureAtlas(null,null,null);n.addTextureHash(t,!0);var i=new PIXI.spine.core.AtlasAttachmentLoader(n);return new PIXI.spine.core.SkeletonJson(i).readSkeletonData(e)},t.getSpineTexturesMap=function(t,e){for(var n={},i=this.getImageNames(t),o=0,r=i;o<r.length;o++){var a=r[o],s=this.findTexture(a,e);s&&(n[a]=s)}return n},t.findTexture=function(t,e){for(var n,i=["",".png",".jpg",".jpeg"],o=0,r=i;o<r.length;o++){var a=r[o];if(n=e[t+a],n||(n=e[t+a.toLocaleUpperCase()]),n)return n}return null},t.getImageNames=function(t){var e=[];if(t.hasOwnProperty(i.a.SKINS))for(var n=t[i.a.SKINS],o=0,r=Object.keys(n);o<r.length;o++)for(var a=r[o],s=n[a],u=0,l=Object.keys(s);u<l.length;u++)for(var c=l[u],d=s[c],p=0,h=Object.keys(d);p<h.length;p++){var f=h[p],M=d[f],y=M[i.a.ATTACHMENT_TYPE]||i.a.REGION;if(y===i.a.REGION||y===i.a.MESH){var m=M[i.a.ATTACHMENT_PATH]||M[i.a.ATTACHMENT_NAME]||f;e.push(m)}}return e},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(6),r=PIXI.extras.TilingSprite,a=PIXI.Texture,s=function(t){function e(){var e=t.call(this)||this;return e._textureScale=1,e._tileScale=1,e._width=100,e._height=100,e.tilingSprite=new r(a.EMPTY,e._width,e._height),e.addChild(e.tilingSprite),e.onSizeChanged(),e}return i.a(e,t),e.prototype.onSizeChanged=function(){this.tilingSprite.width=this._width,this.tilingSprite.height=this._height},e.prototype.updateTileScale=function(){var t=this._tileScale/this._textureScale;this.tilingSprite.tileScale.x=t,this.tilingSprite.tileScale.y=t},Object.defineProperty(e.prototype,"texture",{get:function(){return this.tilingSprite.texture},set:function(t){this.tilingSprite.texture!==t&&(t.baseTexture.mipmap=!1,this.tilingSprite.texture=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tilePosX",{get:function(){return this.tilingSprite.tilePosition.x},set:function(t){this.tilingSprite.tilePosition.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tilePosY",{get:function(){return this.tilingSprite.tilePosition.y},set:function(t){this.tilingSprite.tilePosition.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tilingSprite.tileScale.x},set:function(t){this._tileScale!==t&&(this._tileScale=t,this.updateTileScale())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textureScale",{get:function(){return this._textureScale},set:function(t){this._textureScale!==t&&(this._textureScale=t,this.updateTileScale())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=t,this.onSizeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=t,this.onSizeChanged())},enumerable:!0,configurable:!0}),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(7),r=n(104),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e.prototype.applyProperties=function(e,n,i){var o=e;o.texture=i.getLayoutsContext().getTexture(n.img),o.tilePosX=n.tilePosition.x,o.tilePosY=n.tilePosition.y,o.tileScale=n.tileScale,t.prototype.applyProperties.call(this,e,n,i)},e}(o.a)},function(t,e){t.exports={allWays:!1,canStopSpin:!0,paylineCount:1,reelsCount:3,linesCount:1,featureSymbolsPayoutIds:[],bigWinCoef:.1,megaWinCoef:.1,isDuplicateInfoLineWin:!1,isHigherSymbolIndexBetter:!1,skipFoakIfNotLoaded:!0,skipDwbIfNotLoaded:!0,autoSpinsOptions:[{label:"UNTIL FEATURE",value:0,isUntilFeature:!0}],lineToggleOptions:{mainToggleDelay:800,autoSpinToggleDelay:300,freeGameToggleDelay:300},symbols:{},lines:{},anticipation:{symbols:{},animation:{}},additionalReelFrameSymbols:1}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(5),a=n(3),s=n(4),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createSettings=function(){return new r._10},e.prototype.addInjections=function(e){t.prototype.addInjections.call(this,e),n.i(o.inject)(s.i).registerBuilder(s.t.BUTTON,new r._11,!0)},e}(a.EngineContextMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(2),r=n(3),a=n(20),s=n(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addModules=function(e){t.prototype.addModules.call(this,e),this.addModule(new r.RendererSupportModuleMark2(this.context)),this.addModule(new s._12(e)),this.addModule(new s._13(e)),this.addModule(new s._14(e)),this.addModule(new r.ServerModuleMark2(e)),this.addModule(new o.ReelsModule(e)),this.addModule(new s._15(e)),this.addModule(new s._16(e)),this.addModule(new r.BonusModule(e)),this.addModule(new r.WinActionsModule(e)),this.addModule(new s._17(e)),this.addModule(new s._18(e)),this.addModule(new r.FreeGamesModule(e)),this.addModule(new r.SlotRenderModule(e)),this.addModule(new o.RegularBetHelperModule(e)),this.addModule(new s._19(e)),this.addModule(new r.PromoMessagesModule(e)),this.addModule(new s._20(e)),this.addModule(new s._21(e)),this.addModule(new s._22(e)),this.addModule(new s._23(e)),this.addModule(new s._24(e)),this.addModule(new r.InfoBarModuleMark2(e)),this.addModule(new r.WrapperPopupModuleMark2(e));this.addModule(new o.WinCappingModule(e)),this.addModule(new s._25(e)),this.addModule(new o.HelpLauncherModule(e)),this.addModule(new s._26(e)),this.addModule(new s._27(e)),this.addModule(new s._28(e)),a.a.instance.setProperty("locale",e.api.getLocale())},e}(r.CommonExtensionLoaderMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){var e=t.call(this)||this;return e.slotParameters=n(106),e.fonts.push({family:"SW Slot Bold",weight:"bold"},{family:"SW Slot Bold",weight:"normal"},{family:"SW Slot Regular",weight:"bold"},{family:"SW Slot Regular",weight:"normal"}),e}return i.a(e,t),e}(o.SlotInitSettings)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(5);PIXI.settings.PRECISION_FRAGMENT=PIXI.PRECISION.HIGH,i.EngineActivator.activate(o.a,o.b)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.AutoSpinsManager).to(r.h)},e}(o.AutoSpinsModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={UPDATE_BUTTON_PANEL_AFTER_STOP:"CustomAutoSpinEventsCH.UPDATE_BUTTON_PANEL_AFTER_STOP"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=(n(5),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.stopAutoSpinsWithCheck=function(e){t.prototype.stopAutoSpinsWithCheck.call(this,e)},e}(o.AutoSpinsManager))},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.GameDataModel).to(r.r),e.bind(o.SlotModel).to(r.d)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(2),r=n(1),a=n(5),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skipStartAnimation=0,e.isWinCappingTriggered=!1,e.winCappingAmount=0,e}return i.a(e,t),e.prototype.parseResponse=function(t){var e=this,n=t.reels,i=t.events;if(t.lines&&t.lines.length>0&&(this.paylinesCount=t.lines.length),t.sets&&(this.reelSets=t.sets),this.multiplier=o.SlotModel.DEFUALT_MULTIPLIER,t.state&&(this.multiplier=t.state.multiplier||o.SlotModel.DEFUALT_MULTIPLIER),t.previousResult&&(t.previousResult.reels&&(n=t.previousResult.reels),t.previousResult.events&&(i=t.previousResult.events)),n&&(this.initializeStopReels(n.set,n.view),this.stopReelsPositions=n.view[1],this.startReelSetId=this.stopReelSetId,this.startReelsSymbols=[],r.ObjectUtils.mergeObjects(this.stopReelsSymbols,this.startReelsSymbols),this.startReelsPositions=this.stopReelsPositions.concat()),i)for(var s=0,u=i;s<u.length;s++){var l=u[s];if(l.reels){var c=l.reels;this.startReelSetId=c.set,this.startReelsSymbols=r.MatrixUtils.transpose(c.view),this.startReelsSymbols.forEach(function(t,n){e.startReelsSymbols[n]=t.filter(o.ReelUtils.filterReelSymbols)}),n||this.initializeStopReels(c.set,c.view)}}if(i)for(var d=0,p=i;d<p.length;d++){var h=p[d],f=""+h.id;if(f===a.e.maxWinReached){this.isWinCappingTriggered=!0,this.winCappingAmount=h[a.e.amount];break}}},e}(o.SlotModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentWinSymbols=[],e.isAmountAnimating=!1,e}return i.a(e,t),e.prototype.putCurrentWinSymbols=function(t){this.currentWinSymbols=t.splice(0,0)},e.prototype.clearCurrentWinSymbols=function(){this.currentWinSymbols.length=0},e.prototype.isCurrentWinSymbol=function(t,e){return this.currentWinSymbols.some(function(n){return n.reelIndex===t&&n.lineIndex===e})},e.prototype.updateRewardData=function(){t.prototype.updateRewardData.call(this),this.isFullLineWon||this.checkScattersFullLine()},e.prototype.checkScattersFullLine=function(){var t=this.dataParser.getRewards(o.ServerRewardType.SCATTER);if(t)for(var e=this.slotModel.getSlotConfig().reelsCount,n=0;n<t.length;n++){var i=t[n];if(i.positions.length>=e){for(var r=0,a=0;a<e;a++){var s=function(t){if(!i.positions.some(function(e){return e[1]===t}))return"break";r++}(a);if("break"===s)break}if(r===e){this.isFullLineWon=!0;break}}}},e}(o.GameDataModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addDesktopInjections=function(e){t.prototype.addDesktopInjections.call(this,e),e.bind(o.BottomBarDesktopView).to(r.E).asView().withId(o.BottomBarModuleConstant.layouts.bottomBar).bindMediator(o.BottomBarDesktopMediator).toMediator(r.F)},e.prototype.addMobileInjections=function(e){t.prototype.addMobileInjections.call(this,e),e.bind(o.BottomBarMobileView).to(r.G).asView().withId(o.BottomBarModuleConstant.layouts.bottomBar).bindMediator(o.BottomBarMobileMediator).toMediator(r.H)},e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.AutoSpinsMobileView).to(r.I)},e}(o.BottomBarModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={autoPlayStopButtonID:"autoStopButton",autoPlayStartButtonID:"autoStartButton",spinButtonID:"spinButton",SLIDERCLICKBLOCKER:"sliderClickBlocker",autoPlayCounterStates:{default:{skewX:9*Math.PI/180,alpha:1,offset:{x:0,y:0}},hover:{skewX:9*Math.PI/180,alpha:.75,offset:{x:0,y:0}},down:{skewX:9*Math.PI/180,alpha:.75,offset:{x:-3,y:12}},disabled:{skewX:9*Math.PI/180,alpha:1,offset:{x:0,y:0}}},spinButtonLight:{fadeInTime:.5,fadeOutTime:.75},mobile:{portrait:{spinButton:{x:569,y:734},turboButton:{x:1020,y:734},betButton:{x:118,y:734}}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(3),r=n(5),a=n(1),s=n(2),u=function(t){function e(){var e=t.call(this)||this;return e.bottomBar=n.i(a.inject)(o.BottomBarDesktopView,e),e.payTableModel=n.i(a.inject)(s.PayTableModel),e.addEventListeners(),e}return i.a(e,t),e.prototype.addEventListeners=function(){var t=this;this.dispatcher.addListener(s.GameRunEvents.SHOW_PAYTABLE,this.onShowPaytable,this),this.dispatcher.addListener(s.GameRunEvents.HIDE_PAYTABLE,this.onHidePaytable,this),this.bottomBar.removeAllListeners(this.bottomBar.getPaytableButtonClickEvent()),this.bottomBar.on(this.bottomBar.getPaytableButtonClickEvent(),function(){t.togglePayTable()}),this.bottomBar.on(this.bottomBar.getBetButtonClickEvent(),function(){t.closePayTableIfNeeded(),t.resetGameRound()}),this.bottomBar.on(this.bottomBar.getStartSpinClickEvent(),function(){t.soundManager.stopSound(o.WinBoxConstants.sounds.winTickupEndSoundId),t.soundManager.stopSound(o.WinBoxConstants.sounds.winTickupLoopSoundId),t.closePayTableIfNeeded()}),this.bottomBar.on(o.BottomBarViewEvent.TURBO_BTN_CLICK,function(){t.closePayTableIfNeeded()}),this.bottomBar.on(o.BottomBarViewEvent.AUTO_SPINS_BTN_CLICK,function(){t.closePayTableIfNeeded()}),this.dispatcher.addListener(r.e.showAutoplayRegulationPopup,this.onAutoPlaySettingsCH,this)},e.prototype.onAutoPlaySettingsCH=function(){this.autoSpinsModel.isActive||(this.removeAutoPlayPopupListeners(),this.autoSpinsModel.activate(0,!0),this.onSpinClicked())},e.prototype.closePayTableIfNeeded=function(){this.payTableModel.payTableOpened&&this.dispatcher.dispatch(s.GameRunEvents.HIDE_PAYTABLE)},e.prototype.resetGameRound=function(){var t=n.i(a.inject)(o.WinManager);t.totalWin>0&&(this.dispatcher.dispatch(r.v.TERMINATE_GAME_ROUND),t.totalWin=0)},e.prototype.togglePayTable=function(){this.payTableModel.payTableOpened?this.dispatcher.dispatch(s.GameRunEvents.HIDE_PAYTABLE):this.dispatcher.dispatch(s.GameRunEvents.SHOW_PAYTABLE)},e.prototype.onShowPaytable=function(){this.bottomBar.hideAutoSpinsList()},e.prototype.onHidePaytable=function(){this.bottomBar.showAutoSpinsList()},e.prototype.destroy=function(){this.removeEventListeners(),t.prototype.destroy.call(this)},e.prototype.removeEventListeners=function(){this.dispatcher.removeListener(s.GameRunEvents.SHOW_PAYTABLE,this.onShowPaytable,this),this.dispatcher.removeListener(s.GameRunEvents.HIDE_PAYTABLE,this.onHidePaytable,this),this.dispatcher.removeListener(r.e.showAutoplayRegulationPopup,this.onAutoPlaySettingsCH,this),this.bottomBar.off(this.bottomBar.getPaytableButtonClickEvent()),this.bottomBar.off(this.bottomBar.getBetButtonClickEvent()),this.bottomBar.off(this.bottomBar.getStartSpinClickEvent()),this.bottomBar.off(o.BottomBarViewEvent.TURBO_BTN_CLICK),this.bottomBar.off(o.BottomBarViewEvent.AUTO_SPINS_BTN_CLICK)},e}(o.BottomBarDesktopMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(3),r=n(2),a=n(1),s=n(5),u=function(t){function e(){var e=t.call(this)||this;return e.api=n.i(a.inject)(r.ContextModel).context.api,e.payTableModel=n.i(a.inject)(r.PayTableModel),e.addEventListeners(),e}return i.a(e,t),e.prototype.destroy=function(){this.removeEventListeners(),t.prototype.destroy.call(this)},e.prototype.addEventListeners=function(){var t=this;this.dispatcher.addListener(r.GameRunEvents.SHOW_PAYTABLE,this.onShowPayTable,this),this.api.onPayTableButtonClicked(function(){return t.onShowPayTable()}),this.dispatcher.addListener(r.GameRunEvents.HIDE_PAYTABLE,this.onHidePayTable,this),this.bottomBar.on(this.bottomBar.getBetButtonClickEvent(),function(){t.closePayTableIfNeeded(),t.resetGameRound()}),this.bottomBar.on(s.e.showAutoplayRegulationPopup,this.onAutoPlaySettingsCH,this)},e.prototype.onAutoPlaySettingsCH=function(){this.autoSpinsModel.isActive||(this.removeAutoPlayPopupListeners(),this.autoSpinsModel.activate(0,!0),this.onSpinClicked())},e.prototype.removeEventListeners=function(){this.dispatcher.removeListener(r.GameRunEvents.SHOW_PAYTABLE,this.onShowPayTable,this),this.dispatcher.removeListener(r.GameRunEvents.HIDE_PAYTABLE,this.onHidePayTable,this),this.bottomBar.off(s.e.showAutoplayRegulationPopup,this.onAutoPlaySettingsCH,this)},e.prototype.onShowPayTable=function(){this.closePayTableIfNeeded()},e.prototype.onHidePayTable=function(){},e.prototype.closePayTableIfNeeded=function(){this.payTableModel.payTableOpened&&this.dispatcher.dispatch(r.GameRunEvents.HIDE_PAYTABLE)},e.prototype.resetGameRound=function(){this.dispatcher.dispatch(s.v.HIDE_PAYOUTS);var t=n.i(a.inject)(o.WinManager);t.totalWin>0&&(this.dispatcher.dispatch(s.v.TERMINATE_GAME_ROUND),t.totalWin=0)},e}(o.BottomBarMobileMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(4),o=n(5),r=function(){function t(){}return t.prototype.init=function(t,e){this.parent=t,this.contentManager=e,this.autoStartButton=this.parent.autoStartButton,this.autoStartButton.text=this.contentManager.i18n("autoSpinsBtn"),this.autoStartButton.visible=!0,this.autoStopButton=this.parent.autoStopButton,this.autoStopButton.text=this.contentManager.i18n("stopBtn"),this.autoStopButton.visible=!1,this.autoCounter=this.parent.autoCounter,this.autoCounter.visible=!1,this.autoCounterField=this.autoCounter.textField,this.autoCounterField.visible=!1,this.addEventListeners()},t.prototype.setAutoSpinsData=function(t,e,n){var i=t>0||e;return i?(this.autoStartButton.visible=!1,this.autoStopButton.visible=!0):(this.autoCounter.visible=!1,this.autoCounterField.visible=!1,this.autoStartButton.visible=!0,this.autoStopButton.visible=!1),i},t.prototype.enabled=function(t){this.autoStartButton.enabled=t,this.autoStopButton.enabled=t},t.prototype.startBtn=function(){return this.autoStartButton},t.prototype.stopBtn=function(){return this.autoStopButton},t.prototype.rotateUntilFeatureIcon=function(){},t.prototype.addEventListeners=function(){var t=this;this.autoStopButton.on(o.p.changeButtonStateEvent,function(e){t.onChangeStopButtonState(e)}),this.onChangeStopButtonState(i.z.NORMAL)},t.prototype.onChangeStopButtonState=function(t){this.autoCounterField.alpha=o.s.autoPlayCounterStates[t].alpha,this.autoCounterField.skew.x=o.s.autoPlayCounterStates[t].skewX,this.autoCounterField.x=o.s.autoPlayCounterStates[t].offset.x,this.autoCounterField.y=o.s.autoPlayCounterStates[t].offset.y},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(4),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.hideInstantly=function(){this.autoContainer.visible=!1},e.prototype.showInstantly=function(){},e.prototype.build=function(){this.hide()},e.prototype.addListeners=function(){var e=this;t.prototype.addListeners.call(this),this.menuButton.off("mouseover",function(){e.isButtonHovered=!0}),this.menuButton.off("mouseout",function(){e.isButtonHovered=!1,e.hide()})},e.prototype.onChangeMenuButtonState=function(t){t===r.z.OVER||t===r.z.DOWN?this.isButtonHovered=!0:(this.isButtonHovered=!1,this.hide())},e.prototype.updateButtonsPositions=function(){},e}(o.AutoSpinsListView)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(3),r=n(1),a=n(5),s=n(2),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.autoSpinsModel=n.i(r.inject)(o.AutoSpinsModel),e.dispatcher=n.i(r.inject)(r.EventDispatcher),e.regulationsModel=n.i(r.inject)(s.RegulationsModel),e.bottomBarDesktopView=n.i(r.inject)(o.BottomBarDesktopView),e}return i.a(e,t),e.prototype.onMouseDown=function(t){this.bottomBarDesktopView.autoButtonOnOnClickSound(),this.regulationsModel.regulationsConfig.autoPlayLimitEnabled||this.regulationsModel.regulationsConfig.autoPlayLossLimitEnabled||this.regulationsModel.regulationsConfig.autoPlaySingleWinLimitEnabled?(this.dispatcher.dispatch(s.RegulationsEvent.SHOW_AUTO_PLAY_SETTINGS_POPUP),this.addAutoPlayPopupListeners()):(this.autoSpinsModel.activate(0,!0),this.dispatcher.dispatch(o.BottomBarEvent.READY_TO_SPIN)),this.overCheck(t)},e.prototype.addAutoPlayPopupListeners=function(){this.dispatcher.addListener(s.RegulationsEvent.AUTO_PLAY_SETTINGS_OK,this.onAutoPlaySettingsOk,this)},e.prototype.onAutoPlaySettingsOk=function(){this.dispatcher.dispatch(a.e.showAutoplayRegulationPopup,this)},e.prototype.onMouseUp=function(e){t.prototype.onMouseUp.call(this,e),this.overCheck(e)},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.overCheck(e)},e.prototype.overCheck=function(t){this.isOver||this.onMouseOver(t)},e.prototype.destroy=function(){this.dispatcher.removeListener(s.RegulationsEvent.AUTO_PLAY_SETTINGS_OK,this.onAutoPlaySettingsOk,this),t.prototype.destroy.call(this)},e}(a.q)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),o=n(5),r=n(3),a=n(4),s=n(2),u=n(1),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stakesModel=n.i(u.inject)(s.StakesModel),e.contextModel=n.i(u.inject)(s.ContextModel),e.regulationsModel=n.i(u.inject)(s.RegulationsModel),e}return i.a(e,t),Object.defineProperty(e.prototype,"isSkipButtonEnabled",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClickToStartVisible",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._spinButtonGlowTween&&(this._spinButtonGlowTween.kill(),this._spinButtonGlowTween=null),t.prototype.destroy.call(this)},e.prototype.onAdded=function(){this.calculateClockFaceParameters(),this.setupsliderClickBlocker(),this.startSpinButtonGlow(),t.prototype.onAdded.call(this)},e.prototype.commitBetsData=function(){var t=!1,e=!1;this.betsEnabled&&(t=this.stakesModel.currentStakeIndex>0,e=this.stakesModel.currentStakeIndex<this.stakesModel.stakes.length-1,this.userModel.hasEnoughBalance(this.betHelper.getTotalBet())||(e=!1)),this.increaseBet.enabled=e,this.decreaseBet.enabled=t,this.totalbetLabel.text=this.moneyFormatter.formatNumber(this.totalBet,{decimalPartAppendType:0,showCurrency:!0}),this.totalbetLabel.hAlign="center",this.totalbetLabel.vAlign="center"},e.prototype.hideAutoSpinsList=function(){this.autoSpinsListView.hideInstantly()},e.prototype.showAutoSpinsList=function(){this.autoSpinsListView.showInstantly()},e.prototype.createAutoSpinsList=function(){this.autoSpinsListView=new o.C(this.slotParameters,this,this.autoSpinsBtnView.startBtn(),this.bg.position.y)},e.prototype.rotateSpinIcon=function(){},e.prototype.createAutoSpinsButton=function(){this.autoSpinsBtnView=new o.D,this.autoSpinsBtnView.init(this,this.contentManager)},e.prototype.changeSpinButtonState=function(t){if(t.mode){var e=!1,n=!1;switch(t.mode){case r.SpinButtonState.SPIN:e=!0;break;case r.SpinButtonState.STOP:n=!0}this.spinButton.visible=e,this.spinButtonLight.visible=e,this.stopButton.visible=n}void 0!==t.enabled&&(this.spinButton.enabled=t.enabled)},e.prototype.startListeners=function(){var t=this;this.decreaseBet.on(this.deviceClickEventName,function(){t.stakesModel.decreaseStake(),t.startOnChangeBetDecreaseListenersSound(),t.emit(t.getBetButtonClickEvent())}),this.increaseBet.on(this.deviceClickEventName,function(){t.stakesModel.increaseStake(),t.startOnChangeBetIncreaseListenersSound(),t.emit(t.getBetButtonClickEvent())}),this.spinButton.on(this.deviceClickEventName,function(){t.emit(t.getStartSpinClickEvent())}),this.spinButton.on(o.p.changeButtonStateEvent,function(e){t.onChangeSpinButtonState(e)}),this.stopButton.on(this.deviceClickEventName,function(){t.emit(t.getStopButtonClickEvent())}),this.infoButton.on(this.deviceClickEventName,function(){t.infoButtonOnClickSound(),t.onShowHelp()}),this.turboPlayButton.on(a.q.SELECTED_STATE_CHANGED,function(){t.turboButtonOnClickSound(),t.emit(r.BottomBarViewEvent.TURBO_BTN_CLICK)}),this.autoSpinsBtnView.stopBtn().on(this.deviceClickEventName,function(){t.autoButtonOffOnClickSound(),t.emit(r.BottomBarViewEvent.AUTO_SPINS_BTN_CLICK)}),this.autoSpinsBtnView.startBtn().on(this.deviceClickEventName,function(){t.emit(r.BottomBarViewEvent.AUTO_SPINS_BTN_CLICK)}),this.autoSpinsListView.onItemSelected(function(e){t.autoButtonOnOnClickSound(),t.emit(r.BottomBarViewEvent.AUTO_SPINS_ITEM_CLICK,e)})},e.prototype.onShowHelp=function(){var t=this,e=this.contextModel.context.api,i=e.showLoadingPopup(),o=n.i(u.inject)(u.LoadManager);o.loadJson(s.HelpLauncherConstants.pathToVersion).then(function(n){o.loadHtml(t.getPathByPaltformAndRegulation(s.HelpLauncherConstants.pathToHelpTemplate)).then(function(o){e.hidePopup(i);var r=t.getHelpConfig(n);e.showContentWindow(o,r||{})},function(t){e.hidePopup(i),e.showPopup({title:"Error",message:t,btnTitle:"Ok",isBtnRefresh:!0,preventHideOnClick:!0})})})},e.prototype.getHelpConfig=function(t){return{autoPlayUntilFeatureEnabled:this.regulationsModel.regulationsConfig.autoPlayUntilFeatureEnabled,showRTP:this.regulationsModel.regulationsConfig.showRTP,rulesDateStamped:this.regulationsModel.regulationsConfig.rulesDateStamped,buildNumber:t.buildNumber,date:this.formatDate(t.date)}},e.prototype.formatDate=function(t){var e=new Date(t),n=""+(e.getMonth()+1),i=""+e.getDate(),o=e.getFullYear();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),[o,n,i].join("-")},e.prototype.getPathByPaltformAndRegulation=function(t){return t.replace("{platform}","desktop").replace("{locale}",this.contextModel.context.api.getLocale())},e.prototype.startSpinButtonGlow=function(){this.fadeInSpinButtonGlow()},e.prototype.stopSpinButtonGlow=function(){this._spinButtonGlowTween&&this._spinButtonGlowTween.kill(),this.spinButtonLight.alpha=0},e.prototype.fadeInSpinButtonGlow=function(){var t=this;this._spinButtonGlowTween&&this._spinButtonGlowTween.kill(),this._spinButtonGlowTween=TweenLite.to(this.spinButtonLight,o.s.spinButtonLight.fadeInTime,{alpha:1,onComplete:function(){t.fadeOutSpinButtonGlow()}})},e.prototype.fadeOutSpinButtonGlow=function(){var t=this;this._spinButtonGlowTween&&this._spinButtonGlowTween.kill(),this._spinButtonGlowTween=TweenLite.to(this.spinButtonLight,o.s.spinButtonLight.fadeOutTime,{alpha:0,onComplete:function(){t.fadeInSpinButtonGlow()}})},e.prototype.setupsliderClickBlocker=function(){var t;t=this[o.s.SLIDERCLICKBLOCKER],t.interactive=!0,t.alpha=0},e.prototype.calculateClockFaceParameters=function(){var t,e,n,i,o,r=-Math.PI/180*6.5;for(this.totalBetClockFaceHasDot=!1,t=0;t<this.stakesModel.stakes.length;t++)if(this.stakesModel.stakes[t]%1!=0){this.totalBetClockFaceHasDot=!0;break}for(e=this.stakesModel.stakeMax-this.stakesModel.stakeMax%1,n=(""+e).replace(/./g,"0").replace(/000/g,"000,").split("").reverse().join(""),","===n.charAt(0)&&(n=n.substring(1)),this.totalBetClockFaceHasDot&&(n+=".00"),this.totalBetClockFace.text=n,i=this.totalBetClockFace.fontStyleMark2;this.totalBetClockFace.textWidth>=this.totalBetClockFace.width;)i.fontSize--,this.totalBetClockFace.fontStyle=i,this.totalBetClockFace.text=this.totalBetClockFace.text;for(this.totalbetLabel.text=this.totalbetLabel.text,o=this.moneyFormatter.formatNumber(0,{showCurrency:!0}),this.totalBetCurrency.text=/\D*/.exec(o)[0].replace(/ /g,""),i=this.totalBetCurrency.fontStyleMark2;this.totalBetCurrency.textWidth>=this.totalBetCurrency.width;)i.fontSize--,this.totalBetCurrency.fontStyle=i,this.totalBetCurrency.text=this.totalBetCurrency.text;this.totalBetClockFace.skew.x=r,this.totalbetLabel.skew.x=r,this.totalBetCurrency.skew.x=r},e.prototype.onChangeSpinButtonState=function(t){t===a.z.NORMAL?this.startSpinButtonGlow():this.stopSpinButtonGlow()},e}(r.BottomBarDesktopView)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.setSliderPosition=function(t){var e=this.slider.width/2.5,n=this.getWidth()-e;if(this.sliderCenterX=t,this.sliderCenterX<e&&(this.sliderCenterX=e),this.sliderCenterX>n&&(this.sliderCenterX=n),this.transparentMask.x=this.sliderCenterX-this.transparentMask.width,this.currentSliderItemIndex=Math.round(this.sliderCenterX/(n/(this.configItems.length-1))),this.configItems.length>0)if(this.configItems[this.currentSliderItemIndex].isUntilFeature)this.title.text=this.contentManager.i18n(o.AutoSpinsMobileView.FEATURE_BTN_LOCALE_ID);else{var i=this.configItems[this.currentSliderItemIndex].label;this.contentManager.hasI18n(o.AutoSpinsMobileView.REGULAR_BTN_LOCALE_ID)&&(i=r.StringUtils.substitute(this.contentManager.i18n(o.AutoSpinsMobileView.REGULAR_BTN_LOCALE_ID),{count:this.configItems[this.currentSliderItemIndex].value})),this.title.text=i}},e.prototype.getSliderSelectedValue=function(){if(0!==this.configItems.length){var t=this.configItems[this.currentSliderItemIndex];return t.sliderPosition=this.getSliderPosition(),t}},e}(o.AutoSpinsMobileView)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),o=n(3),r=n(5),a=n(1),s=n(2),u=n(824),l=(n.n(u),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotModelCHSkip=n.i(a.inject)(r.d),e.dispatcher=n.i(a.inject)(a.EventDispatcher),e}return i.a(e,t),e.prototype.openAutoPlay=function(e,n){t.prototype.openAutoPlay.call(this,e,n),n?this.autoSpinsLandscapeCtrl.show(!1):this.autoSpinsPortraitCtrl.setVisibility(!1)},e.prototype.onChangeBet=function(e){t.prototype.onChangeBet.call(this,e),this.emit(this.getBetButtonClickEvent())},e.prototype.landscape=function(){t.prototype.landscape.call(this),this.spinButton.y=window.innerHeight/2,this.totalBetLandscapeCtrl.y=window.innerHeight/2},e.prototype.onAutoSpin=function(){t.prototype.onAutoSpin.call(this),this.regulationsModel.regulationsConfig.autoPlayLimitEnabled||this.regulationsModel.regulationsConfig.autoPlayLossLimitEnabled||this.regulationsModel.regulationsConfig.autoPlaySingleWinLimitEnabled?(this.dispatcher.dispatch(s.RegulationsEvent.SHOW_AUTO_PLAY_SETTINGS_POPUP),this.addAutoPlayPopupListeners()):t.prototype.onSpin.call(this)},e.prototype.addAutoPlayPopupListeners=function(){this.dispatcher.addListener(s.RegulationsEvent.AUTO_PLAY_SETTINGS_OK,this.onAutoPlaySettingsOk,this)},e.prototype.onAutoPlaySettingsOk=function(){this.emit(r.e.showAutoplayRegulationPopup,this)},e.prototype.onSpin=function(){this.slotModelCHSkip.skipStartAnimation=r.e.count,t.prototype.onSpin.call(this),this.soundManager.stopSound(o.WinBoxConstants.sounds.winTickupEndSoundId),this.soundManager.stopSound(o.WinBoxConstants.sounds.winTickupLoopSoundId)},e.prototype.onClickScreen=function(t){if(this.visible){var e,i=!1;if(!n.i(u.isUndefined)(t)){e=t.changedTouches[0];var r=[this.totalBetLandscapeCtrl,this.totalBetPortraitCtrl,this.autoSpinsLandscapeCtrl,this.autoSpinsPortraitCtrl,this.spinButton,this.totalBetBtn];this.anywhereClickEnabled&&!this.spinButton.getBounds().contains(e.clientX,e.clientY)&&this.emit(o.BottomBarViewEvent.ANYWHERE_CLICK);for(var a=0;a<r.length;a++)if(r[a].visible&&r[a].getBounds().contains(e.clientX,e.clientY)){i=!0;break}}var s=!1;if(i||(this.isAutoSpinsMenuOpened&&(this.soundManager.playSound(o.ButtonSounds.GENERIC_BUTTON_CLICK),this.closeAutoPlay(this.isLandscape,this.isLandscape),s=!0),this.isTotalBetMenuOpened&&(this.closeTotalBet(this.isLandscape,this.isLandscape),s=!0)),!s){var l=this.parent.getChildByName("mainView"),c=l.getChildByName("resizeArea");this.reelsClickEnabled&&c.getBounds().contains(e.clientX,e.clientY)&&this.emit(o.BottomBarViewEvent.REELS_CLICK)}}},e.prototype.onStop=function(t){this.slotModelCHSkip.skipStartAnimation=r.e.count,t&&this.api.enableMenu(),this.isAutoSpinsMenuOpened=!1,this.emit(this.getStopButtonClickEvent())},e.prototype.changeContolState=function(e,n,i){this.isAutoSpinsMenuOpened=!1,t.prototype.changeContolState.call(this,e,n,i)},e}(o.BottomBarMobileView))},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(2),r=n(3),a=n(5),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.RestoreGameAction).to(a.X),e.bind(o.ShowGameSceneAction).to(a.Y)},e}(r.GameFlowModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e}return i.a(e,t),e.prototype.getActionSequence=function(){var t=[];return this.freeGamesModel.isRestorationBeforeClickToStart?t=[r.RestoreInitAllReelsAction,a.FreeGamesFeatureStartWinningAction,a.FreeGamesFeatureRestorationWinningAction,a.FreeGamesFeatureShowSymbolsWinningAction,a.FreeGamesFeatureWaitCancellingWinningAction,a.FreeGamesFeatureHideSymbolsWinningAction,a.FreeGamesFeatureIntroPopupWinningAction,a.FreeGamesFeaturePrepareToStartWinningAction]:this.freeGamesModel.isJustRestored&&(t=[a.FreeGamesFeatureRestorationWinningAction,a.FreeGamesFeaturePrepareToStartWinningAction]),t},e}(a.DefaultRestoreGameAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onExecute=function(e){var n=o.GameRunModuleConstant.layouts.gameScene;return this.scenesManager.createScene(n),t.prototype.onExecute.call(this,e)},e}(o.ShowGameSceneAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(3),r=n(5),a=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjection.call(this,e),e.bind(a.GameRunScene).to(r.W).asView()},e}(o.GameRunModuleMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),o=n(3),r=n(2),a=n(4),s=n(1),u=n(5),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainViewYPosition=0,e.soundManager=n.i(s.inject)(s.SoundManager),e.contextModel=n.i(s.inject)(r.ContextModel),e.regulationsModel=n.i(s.inject)(r.RegulationsModel),e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.resizeArea=this.mainView.resizeArea,this.mainViewYPosition=this.mainView.y},e.prototype.showPaytable=function(){if(!this.paytableView)return void this.loadAssets();this.payTableModel.payTableOpened},e.prototype.hidePaytable=function(){this.payTableModel.payTableOpened},e.prototype.resize=function(t,e,n){this.superSuperSuperResize(t,e,n)},e.prototype.loadAssets=function(){this.soundManager.playSound(u.t.infoButtonSound),this.onShowHelp()},e.prototype.onShowHelp=function(){var t=this,e=this.contextModel.context.api,i=e.showLoadingPopup(),o=n.i(s.inject)(s.LoadManager);o.loadJson(r.HelpLauncherConstants.pathToVersion).then(function(n){o.loadHtml(t.getPathByPaltformAndRegulation(r.HelpLauncherConstants.pathToHelpTemplate)).then(function(o){e.hidePopup(i);var r=t.getHelpConfig(n);e.showContentWindow(o,r||{})},function(t){e.hidePopup(i),e.showPopup({title:"Error",message:t,btnTitle:"Ok",isBtnRefresh:!0,preventHideOnClick:!0})})})},e.prototype.getHelpConfig=function(t){return{autoPlayUntilFeatureEnabled:this.regulationsModel.regulationsConfig.autoPlayUntilFeatureEnabled,showRTP:this.regulationsModel.regulationsConfig.showRTP,rulesDateStamped:this.regulationsModel.regulationsConfig.rulesDateStamped,buildNumber:t.buildNumber,date:this.formatDate(t.date)}},e.prototype.formatDate=function(t){var e=new Date(t),n=""+(e.getMonth()+1),i=""+e.getDate(),o=e.getFullYear();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),[o,n,i].join("-")},e.prototype.getPathByPaltformAndRegulation=function(t){return t.replace("{platform}","desktop").replace("{locale}",this.contextModel.context.api.getLocale())},e.prototype.superSuperSuperResize=function(t,e,n){this.canvasWidth=t,this.canvasHeight=e,this.children.length&&this.internalResize(n),this.dispatcher.dispatch(a.B.SCENE_RESIZED,{canvasWidth:t,canvasHeight:e,scale:this.objectToResize.scale.x})},e}(o.GameRunSceneMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.PlayBtnMark2).to(r.Z),e.bind(o.DefaultStartGameAction).to(r._0),e.bind(o.StartSceneMark2).to(r._1)},e}(o.StartModuleMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(3),r=n(1),a=n(5),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backgroundManager=n.i(r.inject)(a.k),e}return i.a(e,t),e.prototype.createAndRunStartScene=function(){this.scenesManager.createScene("startScene"),this.scenesManager.goToScene("startScene"),this.backgroundManager.setPreloaderBackground(!0),this.api.removeSplash()},e}(o.DefaultStartGameAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={playButtonID:"button",playButtonTextID:"playGameImage",infoButtonSound:"INFO_BUTTON_CLICK",spinButtonLight:{fadeInTime:.5,fadeOutTime:.75}}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(3),r=n(5),a=n(4),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onAdded=function(){var e=this;t.prototype.onAdded.call(this),this.startGlow(),this.playGameImage.interactive=!1,this.playGameImage.interactiveChildren=!1,this.button.on(r.p.changeButtonStateEvent,function(t){e.onChangeButtonState(t)})},e.prototype.destroy=function(){var e=this;this._glowTween&&(this._glowTween.kill(),this._glowTween=null),this.button.off(r.p.changeButtonStateEvent,function(t){e.onChangeButtonState(t)}),t.prototype.destroy.call(this)},e.prototype.startGlow=function(){this.fadeInGlow()},e.prototype.stopGlow=function(){this._glowTween&&this._glowTween.kill(),this.hilightImage.alpha=0},e.prototype.fadeInGlow=function(){var t=this;this._glowTween&&this._glowTween.kill(),this._glowTween=TweenLite.to(this.hilightImage,r.t.spinButtonLight.fadeInTime,{alpha:1,onComplete:function(){t.fadeOutGlow()}})},e.prototype.fadeOutGlow=function(){var t=this;this._glowTween&&this._glowTween.kill(),this._glowTween=TweenLite.to(this.hilightImage,r.t.spinButtonLight.fadeOutTime,{alpha:0,onComplete:function(){t.fadeInGlow()}})},e.prototype.onChangeButtonState=function(t){this.playGameImage.changeStateSgk(t),t===a.z.NORMAL?this.startGlow():this.stopGlow()},e}(o.PlayBtnMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(2),r=n(1),a=n(3),s=function(t){function e(e){var i=t.call(this,e)||this;return i.device=e,i.ambientSoundManager=n.i(r.inject)(o.AmbientSoundsManager),i.soundsManager=n.i(r.inject)(r.SoundManager),i}return i.a(e,t),e.prototype.onLoadComplete=function(){t.prototype.onLoadComplete.call(this),document.body.focus(),document.body.addEventListener("blur",this.getFocusOnGame,!0),this.playBtn.visible=!1,this.onClickPlayButton()},e.prototype.onClickPlayButton=function(){this.dispatcher.removeListeners(r.SoundManagerEvent.SOUND_LOADED,this),this.emit(this.getPlayButtonEventName())},e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.checkAndStartAmbientSound()},e.prototype.destroy=function(){this.objectToResize=null,this.popupContainers&&(this.popupContainers.destroy(),this.popupContainers=null),this.resizeArea=null,this.camera.dispose(),this.resizeArea=null},e.prototype.playAmbientSound=function(){if(!this.introSoundStarted){this.introSoundStarted=!0;var t={useNativeLoop:!1,continueMainAmbient:!1};this.ambientSoundManager.setActiveSound(o.AmbientSoundType.MAIN,t)}},e.prototype.getFocusOnGame=function(t){document.body.focus(),document.body.removeEventListener("blur",this.getFocusOnGame)},e}(a.StartSceneMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(3),r=n(5),a=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),this.bindDesktopView(e)},e.prototype.bindMobileView=function(t){t.bind(a.MainScreenView).to(r.y).asView().withId(a.MainScreenModuleConstant.layouts.mainScreen).bindMediator(a.MainScreenMediator).toMediator(r.z).withParameters(this.context.slotParameters,this.context.api.device)},e.prototype.bindDesktopView=function(t){t.bind(a.MainScreenView).to(r.A).asView().withId(a.MainScreenModuleConstant.layouts.mainScreen).bindMediator(a.MainScreenMediator).toMediator(r.B)},e}(o.MainScreenModuleMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={miniPayTable:"miniPayTable",miniPayTableParams:{WIN_FADE_OUT_TIME:.25,WIN_FADE_IN_TIME:.25},mobile:{landscape:{background:{y:445},reelBorderImage:{y:44.7},winLine:{y:257},miniPayTable:{y:-149},logo:{y:-17},slotOverlay:{y:250},reelsView:{y:17},resizeArea:{resizeHight:800}},portrait:{background:{y:355},reelBorderImage:{y:-45.3},winLine:{y:167},miniPayTable:{y:-239},logo:{y:-107},slotOverlay:{y:160},reelsView:{y:-73}}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(2),r=n(5),a=n(1),s=n(3),u=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(a.inject)(o.MainScreenView,e),e.addListeners(),e}return i.a(e,t),e.prototype.destroy=function(){this.removeListeners(),t.prototype.destroy.call(this)},e.prototype.addListeners=function(){this.dispatcher.addListener(s.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,this.onNextLevelWin,this),this.dispatcher.addListener(r.v.HIDE_PAYOUTS,this.onReelsSpinStarted,this),this.dispatcher.addListener(o.Event.REELS_SPIN_STARTED,this.onReelsSpinStarted,this),this.dispatcher.addListener(o.Event.REELS_SPIN_STOPPED,this.onReelsSpinStopped,this),this.dispatcher.addListener(o.GameRunEvents.SHOW_PAYTABLE,this.onShowPayTable,this),this.dispatcher.addListener(o.GameRunEvents.HIDE_PAYTABLE,this.onHidePayTable,this)},e.prototype.removeListeners=function(){this.dispatcher.removeListener(s.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,this.onNextLevelWin,this),this.dispatcher.removeListener(r.v.HIDE_PAYOUTS,this.onReelsSpinStarted,this),this.dispatcher.removeListener(o.Event.REELS_SPIN_STARTED,this.onReelsSpinStarted,this),this.dispatcher.removeListener(o.Event.REELS_SPIN_STOPPED,this.onReelsSpinStopped,this),this.dispatcher.removeListener(o.GameRunEvents.SHOW_PAYTABLE,this.onShowPayTable,this),this.dispatcher.removeListener(o.GameRunEvents.HIDE_PAYTABLE,this.onHidePayTable,this)},e.prototype.onReelsClick=function(){this.dispatcher.dispatch(o.MainScreenEvents.REELS_CLICK)},e.prototype.onNextLevelWin=function(t){this.view.miniPayTable.playWinLevel(t)},e.prototype.onShowPayTable=function(){},e.prototype.onHidePayTable=function(){this.view.miniPayTable.show()},e.prototype.onReelsSpinStarted=function(){this.view.miniPayTable.onReelsSpinStarted()},e.prototype.onReelsSpinStopped=function(){this.view.miniPayTable.onReelsSpinStopped()},e}(a.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(2),r=n(5),a=n(1),s=n(3),u=function(t){function e(e,i){var r=t.call(this)||this;return r.slotParameters=e,r.device=i,r.view=n.i(a.inject)(o.MainScreenView,r),r.slotModel=n.i(a.inject)(o.SlotModel),r.MIN_SWIPE_DISTANCE=20,r.MIN_SWIPE_TIME=1e3,r.view.device=i,r.addListeners(),r}return i.a(e,t),e.prototype.destroy=function(){this.removeListeners(),t.prototype.destroy.call(this)},e.prototype.onReelsTouchDown=function(t){if(this.slotModel.isSpinning&&this.dispatcher.dispatch(o.Event.REELS_SWIPE),t.currentTarget===t.target){var e=t.data;this.touchStartTime=(new Date).getTime(),this.touchStartPoint=e.getLocalPosition(this.view.parent)}},e.prototype.onTouchUp=function(t){if(t.currentTarget===t.target){var e=t.data;if(this.touchStartPoint){this.touchEndPoint=e.getLocalPosition(this.view.parent);if(Math.abs(this.touchStartPoint.y-this.touchEndPoint.y)>this.MIN_SWIPE_DISTANCE&&this.touchEndPoint.y>this.touchStartPoint.y){Date.now()-this.touchStartTime<this.MIN_SWIPE_TIME&&this.dispatcher.dispatch(o.Event.REELS_SWIPE)}}this.touchStartPoint=null,this.touchEndPoint=null}},e.prototype.addListeners=function(){this.dispatcher.addListener(s.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,this.onNextLevelWin,this),this.dispatcher.addListener(o.GameRunEvents.SHOW_PAYTABLE,this.onShowPayTable,this),this.dispatcher.addListener(o.GameRunEvents.HIDE_PAYTABLE,this.onHidePayTable,this),this.dispatcher.addListener(o.Event.REELS_SPIN_STARTED,this.onReelsSpinStarted,this),this.dispatcher.addListener(o.Event.REELS_SPIN_STOPPED,this.onReelsSpinStopped,this),this.dispatcher.addListener(r.v.HIDE_PAYOUTS,this.onReelsSpinStarted,this),this.view.reelBorderImage.addListener(this.device.event.click,this.onReelsClick,this),this.addReelsSwipeListener()},e.prototype.removeListeners=function(){this.dispatcher.removeListener(s.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,this.onNextLevelWin,this),this.dispatcher.removeListener(o.GameRunEvents.SHOW_PAYTABLE,this.onShowPayTable,this),this.dispatcher.removeListener(o.GameRunEvents.HIDE_PAYTABLE,this.onHidePayTable,this),this.dispatcher.removeListener(o.Event.REELS_SPIN_STARTED,this.onReelsSpinStarted,this),this.dispatcher.removeListener(o.Event.REELS_SPIN_STOPPED,this.onReelsSpinStopped,this),this.dispatcher.removeListener(r.v.HIDE_PAYOUTS,this.onReelsSpinStarted,this),this.view.reelBorderImage.removeListener(this.device.event.click,this.onReelsClick,this),this.removeReelsSwipeListener()},e.prototype.addReelsSwipeListener=function(){var t=this.device.event;this.view.reelBorderImage.interactive=!0,this.view.reelBorderImage.addListener(t.down,this.onReelsTouchDown,this),this.view.reelBorderImage.addListener(t.up,this.onTouchUp,this),this.view.reelBorderImage.addListener(t.outside,this.onTouchUp,this)},e.prototype.removeReelsSwipeListener=function(){var t=this.device.event;this.view.reelBorderImage.removeListener(t.down,this.onReelsTouchDown,this),this.view.reelBorderImage.removeListener(t.up,this.onTouchUp,this),this.view.reelBorderImage.removeListener(t.outside,this.onTouchUp,this)},e.prototype.onReelsClick=function(){this.dispatcher.dispatch(o.MainScreenEvents.REELS_CLICK)},e.prototype.onNextLevelWin=function(t){this.view.miniPayTable.playWinLevel(t)},e.prototype.onShowPayTable=function(){this.view.miniPayTable.hide()},e.prototype.onHidePayTable=function(){this.view.miniPayTable.show()},e.prototype.onReelsSpinStarted=function(){this.view.miniPayTable.onReelsSpinStarted()},e.prototype.onReelsSpinStopped=function(){this.view.miniPayTable.onReelsSpinStopped()},e}(a.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(4),r=n(1),a=n(2),s=n(5),u=function(t){function e(e){var i=t.call(this)||this;return i.layer=e,i.rewardsModel=n.i(r.inject)(a.RewardsModel),i.init(),i}return i.a(e,t),e.prototype.destroy=function(e){null!==this.tweenMap&&(this.killTweens(),this.tweenMap.clear(),this.tweenMap=null),null!==this.lightImageMap&&(this.lightImageMap.clear(),this.lightImageMap=null),t.prototype.destroy.call(this,e)},e.prototype.show=function(){this.layer.visible=!0},e.prototype.hide=function(){this.layer.visible=!1},e.prototype.onReelsSpinStarted=function(){this.winAnimationInProgress=!1,this.killTweens()},e.prototype.onReelsSpinStopped=function(){this.winAnimationInProgress=!1},e.prototype.playWinLevel=function(t){!0!==this.winAnimationInProgress&&(this.winAnimationInProgress=!0,this.killTweens(),this.currentKey=this.rewardsModel.rewards[0].payoutSymbolsCount-1,this.fadeIn(this.currentKey))},e.prototype.fadeIn=function(t){var e=this;this.tweenMap[t]&&this.tweenMap[t].kill(),this.tweenMap[t]=TweenLite.to(this.lightImageMap[t],s.o.miniPayTableParams.WIN_FADE_IN_TIME,{onComplete:function(){e.lightImageMap[t].alpha=1,e.onFadeInComplete(t)}})},e.prototype.onFadeInComplete=function(t){this.fadeOut(t)},e.prototype.fadeOut=function(t){var e=this;this.tweenMap[t]&&this.tweenMap[t].kill(),this.tweenMap[t]=TweenLite.to(this.lightImageMap[t],s.o.miniPayTableParams.WIN_FADE_OUT_TIME,{onComplete:function(){e.lightImageMap[t].alpha=0,e.onFadeOutComplete(t)}})},e.prototype.onFadeOutComplete=function(t){this.winAnimationInProgress&&this.fadeIn(t)},e.prototype.init=function(){this.winAnimationInProgress=!1,this.tweenMap=new Map,this.lightImageMap=new Map;for(var t=0;t<=s.w.MAX_COMBINATION_INDEX;t++)this.lightImageMap[t]=this.layer["light"+t];this.currentKey=0},e.prototype.killTweens=function(){var t;for(t in this.tweenMap)this.tweenMap[t]&&(this.tweenMap[t].kill(),this.lightImageMap[t].alpha=0)},e}(o.d)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(5),r=n(4),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.destroy=function(){null!==this.miniPayTable&&(this.miniPayTable.destroy(),this.miniPayTable=null),t.prototype.destroy.call(this)},e.prototype.getReelsBounds=function(){return this.reelBorderImage.getBounds()},e.prototype.hide=function(){this.visible=!1},e.prototype.show=function(){this.visible=!0},e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.background_mobile.visible=!1,this.background.visible=!0,this.createMiniPayTable()},e.prototype.createMiniPayTable=function(){this.miniPayTable=new o.x(this[o.o.miniPayTable])},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),Object.defineProperty(e.prototype,"device",{get:function(){return this._device},set:function(t){this._device=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){null!==this.miniPayTable&&(this.miniPayTable.destroy(),this.miniPayTable=null),this._device=null,t.prototype.destroy.call(this)},e.prototype.getReelsBounds=function(){return this.reelBorderImage.getBounds()},e.prototype.hide=function(){this.visible=!1},e.prototype.show=function(){this.visible=!0},e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.background_mobile.visible=!0,this.background.visible=!1,this.createMiniPayTable()},e.prototype.createMiniPayTable=function(){this.miniPayTable=new r.x(this[r.o.miniPayTable])},e}(o.MainScreenView)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(2),r=n(3),a=n(5),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(r.PayTableViewMark2).to(a._34).withParameters(this.context.api).asView().withId(o.PayTableModuleConstant.layouts.payTable).bindMediator(o.PayTableMediator).toMediator(a._35)},e}(r.PaytableModuleMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={WIN_FADE_OUT_TIME:.5,WIN_FADE_IN_TIME:.5,MAX_COMBINATION_INDEX:8,mobile:{id:"paytableScreenMobile",landscape:{x:148,y:94,scale:1},portrait:{x:15,y:51,scale:1.21}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(3),r=n(2),a=n(5),s=n(1),u=function(t){function e(){var e=t.call(this)||this;return e.viewSgk=n.i(s.inject)(a._34,e),e.dispatcher.addListener(r.GameRunEvents.PAYTABLE_SHOWN,e.onShown,e),e.dispatcher.addListener(r.Event.REELS_SPIN_STARTED,e.onReelsSpinStarted,e),e}return i.a(e,t),e.prototype.destroy=function(){this.dispatcher.removeListener(o.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,this.onShown,this),this.dispatcher.removeListener(r.Event.REELS_SPIN_STARTED,this.onReelsSpinStarted,this),t.prototype.destroy.call(this)},e.prototype.onShown=function(){this.viewSgk.overlay.playWin()},e.prototype.onReelsSpinStarted=function(){this.viewSgk.overlay.onReelsSpinStarted()},e}(o.PayTableMediatorMark2)},function(t,e,n){"use strict";var i=n(0),o=n(3),r=n(2),a=n(5),s=n(1);!function(t){function e(){var e=t.call(this)||this;return e.viewSgk=n.i(s.inject)(a._37,e),e.dispatcher.addListener(s.RenderManagerEvent.RESIZE,e.onResize,e),e.dispatcher.addListener(r.GameRunEvents.PAYTABLE_SHOWN,e.onShown,e),e.dispatcher.addListener(r.Event.REELS_SPIN_STARTED,e.onReelsSpinStarted,e),e}i.a(e,t),e.prototype.destroy=function(){this.dispatcher.removeListener(s.RenderManagerEvent.RESIZE,this.onResize,this),this.dispatcher.removeListener(o.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,this.onShown,this),this.dispatcher.removeListener(r.Event.REELS_SPIN_STARTED,this.onReelsSpinStarted,this),t.prototype.destroy.call(this)},e.prototype.onShown=function(){this.viewSgk.overlay.playWin()},e.prototype.onReelsSpinStarted=function(){this.viewSgk.overlay.onReelsSpinStarted()},e.prototype.onResize=function(){this.viewSgk.onResizeSgk()}}(o.PayTableMediatorMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(4),r=n(1),a=n(2),s=n(5),u=function(t){function e(e){var i=t.call(this)||this;return i.layer=e,i.rewardsModel=n.i(r.inject)(a.RewardsModel),i.init(),i}return i.a(e,t),e.prototype.destroy=function(e){null!==this.tweenMap&&(this.killTweens(),this.tweenMap.clear(),this.tweenMap=null),null!==this.lightImageMap&&(this.lightImageMap.clear(),this.lightImageMap=null),t.prototype.destroy.call(this,e)},e.prototype.show=function(){this.layer.visible=!0},e.prototype.hide=function(){this.layer.visible=!1},e.prototype.onReelsSpinStarted=function(){this.winAnimationInProgress=!1},e.prototype.playWin=function(){!0!==this.winAnimationInProgress&&0!==this.rewardsModel.rewards.length&&(this.winAnimationInProgress=!0,this.killTweens(),this.fadeIn(this.rewardsModel.rewards[0].payoutId))},e.prototype.fadeIn=function(t){var e=this;this.tweenMap[t]&&this.tweenMap[t].kill(),this.tweenMap[t]=TweenLite.to(this.lightImageMap[t],s.w.WIN_FADE_IN_TIME,{alpha:1,onComplete:function(){e.onFadeInComplete(t)}})},e.prototype.onFadeInComplete=function(t){this.fadeOut(t)},e.prototype.fadeOut=function(t){var e=this;this.tweenMap[t]&&this.tweenMap[t].kill(),this.tweenMap[t]=TweenLite.to(this.lightImageMap[t],s.w.WIN_FADE_OUT_TIME,{alpha:0,onComplete:function(){e.onFadeOutComplete(t)}})},e.prototype.onFadeOutComplete=function(t){this.winAnimationInProgress&&this.fadeIn(t)},e.prototype.init=function(){this.winAnimationInProgress=!1,this.tweenMap=new Map,this.lightImageMap=new Map;for(var t=0;t<=s.w.MAX_COMBINATION_INDEX;t++)this.lightImageMap[t]=this.layer["light"+t]},e.prototype.killTweens=function(){var t;for(t in this.tweenMap)this.tweenMap[t]&&(this.tweenMap[t].kill(),this.lightImageMap[t].alpha=0)},e}(o.d)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(2),r=n(1),a=n(4),s=n(5),u=function(t){function e(e){var i=t.call(this)||this;return i.api=e,i._paytableModel=n.i(r.inject)(o.PayTableModel),i._soundManager=n.i(r.inject)(r.SoundManager),i._eventName=i.api.device.event,i}return i.a(e,t),e.prototype.onAdded=function(){this.setInitialState(),this.startListeners(),this.setupOverlay(),t.prototype.onAdded.call(this)},e.prototype.onCancelClick=function(){this.payTableCancelButtonClickSound(),this.emit(this.getCloseEvent())},e.prototype.payTableCancelButtonClickSound=function(){this._soundManager.playSound(o.PayTableModuleConstant.sounds.PAYTABLE_CANCEL)},e.prototype.getCloseEvent=function(){return"hide_paytable"},e.prototype.changePaytableVisibility=function(t){this.visible=t,this.visible?this.emit(o.PaytableEvents.OPEN):(this.paytableCancelButton.setDefaultState(),this.emit(o.PaytableEvents.CLOSE))},e.prototype.onResize=function(t,e,n){},e.prototype.onBackClick=function(){},e.prototype.onForwardClick=function(){},e.prototype.setupOverlay=function(){this.overlay=new s._36(this.overlay)},e.prototype.setInitialState=function(){this._paytableModel.pagesCount=0},e.prototype.startListeners=function(){this.paytableCancelButton&&this.paytableCancelButton.on(this._eventName.click,this.onCancelClick,this)},e}(a.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(2),r=n(1),a=n(4),s=n(5),u=function(t){function e(e){var i=t.call(this)||this;return i.api=e,i._paytableModel=n.i(r.inject)(o.PayTableModel),i._soundManager=n.i(r.inject)(r.SoundManager),i._eventName=i.api.device.event,i}return i.a(e,t),e.prototype.onAdded=function(){this.setInitialState(),this.startListeners(),this.setupOverlay(),this.onResizeSgk(),t.prototype.onAdded.call(this)},e.prototype.onCancelClick=function(){this.payTableCancelButtonClickSound(),this.emit(this.getCloseEvent())},e.prototype.payTableCancelButtonClickSound=function(){this._soundManager.playSound(o.PayTableModuleConstant.sounds.PAYTABLE_CANCEL)},e.prototype.getCloseEvent=function(){return"hide_paytable"},e.prototype.changePaytableVisibility=function(t){this.visible=t,this.visible?this.emit(o.PaytableEvents.OPEN):(this.paytableCancelButton.setDefaultState(),this.emit(o.PaytableEvents.CLOSE))},e.prototype.onResize=function(t,e,n){},e.prototype.onBackClick=function(){},e.prototype.onForwardClick=function(){},e.prototype.onResizeSgk=function(){this.api.device.isLandscape?this.transformToLandscape():this.transformToPortrait()},e.prototype.transformToLandscape=function(){this.x=s.w.mobile.landscape.x,this.y=s.w.mobile.landscape.y,this.scale.x=s.w.mobile.landscape.scale,this.scale.y=s.w.mobile.landscape.scale},e.prototype.transformToPortrait=function(){this.x=s.w.mobile.portrait.x,this.y=s.w.mobile.portrait.y,this.scale.x=s.w.mobile.portrait.scale,this.scale.y=s.w.mobile.portrait.scale},e.prototype.setupOverlay=function(){this.overlay=new s._36(this.overlay)},e.prototype.setInitialState=function(){this._paytableModel.pagesCount=0},e.prototype.startListeners=function(){this.paytableCancelButton&&this.paytableCancelButton.on(this._eventName.click,this.onCancelClick,this)},e}(a.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.ReelsAreaViewMark2).to(r.P),e.bind(o.InitAllReelsActionMark2).to(r.Q),e.bind(o.SingleReelModelMark2).to(r.R),e.bind(o.StopSingleReelAction).to(r.S),e.bind(o.SingleReelSymbolAnimationAction).to(r.T),e.bind(o.WaitSpinAction).to(r.U),e.bind(o.AllReelsStoppedAction).to(r.V)},e}(o.ReelsModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(3),r=n(2),a=n(5),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.StopSingleReelWithAnticipationAction).to(a.J),e.bind(o.StartAllReelsAction).to(a.K),e.bind(o.FinishAllReelsAction).to(a.L)},e}(r.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(2),r=n(3),a=n(1),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allReelsModel=n.i(a.inject)(r.AllReelsModel),e.eventDispatcher=n.i(a.inject)(a.EventDispatcher),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){Promise.all(t.reelStopCompletePromises).then(function(){e.eventDispatcher.dispatch(o.Event.REELS_SPIN_STOPPED),t.isTerminating&&(e.allReelsModel.isAllLandingAnimationsCompleted=!0),n(t)})})},e}(a.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(2),r=n(1),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.turboModeModel=n.i(r.inject)(o.TurboModeModel),e.regulationsModelsingleWin=n.i(r.inject)(o.RegulationsModel),e}return i.a(e,t),e.prototype.onExecute=function(t){var e,i=this;this.winManager.updateState();var a=this.getReelsSpinSoundId();this.turboModeModel.isActive?this.soundsManager.stopSound(a):setTimeout(function(){return i.soundsManager.stopSound(a)},100);var s=n.i(r.inject)(o.SlotSoundsUtils).getLastPlayedSound(o.SlotSoundsModuleConstants.abstractIds.spinStart);s&&this.checkIfStopReelsSpinSound()&&s!==a&&this.soundsManager.stopSound(s),this.slotModel.isSpinning=!1,this.allReelsModel.isScatterLoopAnimationStarted=!1,this.allReelsModel.beforeAnticipationScatters.length=0,this.context.updateViewBalance(),this.updateUI();var u=(new Date).getTime();return u-this.slower>this.MIN_SPIN_TIME?(e=Promise.resolve(t),this.slower=u):e=new Promise(function(e){setTimeout(function(){i.slower=(new Date).getTime(),e(t)},i.MIN_SPIN_TIME-(u-i.slower))}),e},e.prototype.updateUI=function(){var t={bets:!0,info:!0,auto:!0,turbo:!0,wrapperGamesMenu:!0,wrapperMainMenu:!0};this.freeGamesModel.isFreeSpinsActive&&(t.auto=!1,t.bets=!1,t.info=!1,t.turbo=!1,t.wrapperGamesMenu=!1,t.wrapperMainMenu=!1),this.freeGamesModel.freeSpinsCount>0&&!this.freeGamesModel.isJustWon&&this.rewardsModel.rewards.length<=0||0===this.freeGamesModel.freeSpinsCount&&this.freeGamesModel.isFreeSpinsActive?t.spin={mode:a.SpinButtonState.STOP,enabled:!1,rotate:!1}:t.spin={enabled:!0,mode:a.SpinButtonState.SPIN,rotate:!0},this.autoSpinsModel.isActive&&(t.bets=!1,t.info=!1,t.turbo=!1,t.wrapperGamesMenu=!1,t.wrapperMainMenu=!1),this.freeGamesModel.isFreeSpinsActive||this.autoSpinsModel.isActive||this.dispatcher.dispatch(a.WinBoxEvents.TOGGLE_WIN_BOX_LABELS,[a.WinBoxMessageTypes.GOOD_LUCK,a.WinBoxMessageTypes.CLICK_TO_SPIN]),(this.regulationsModelsingleWin.getIsSingleWinReached()||this.regulationsModelsingleWin.getIsLossLimitReached())&&(t.spin={enabled:!1,mode:a.SpinButtonState.SPIN,rotate:!1}),this.dispatcher.dispatch(o.UIEvent.CHANGE_UI,t)},e}(a.FinishAllReelsAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(5),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createTapes=function(t){for(var e,n,i=[],r=o.e.reels,a=r.length,s=0;s<a;s++)e=this.reelsManager.getReelConfig(s),n=new o.N(r[s],e.rows),i.push(n);return i},e}(r.InitAllReelsActionMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.playSpinSound=function(t,e){this.soundsManager.playSound(t,-1,!1,!1)},e}(o.StartAllReelsAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(3),r=n(2),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.playReelSound=function(t){var e=this,i=n.i(a.inject)(r.SlotSoundsUtils).getSpinAndSymbolsStopSound(this.soundManager,this.singleReelModel.reelIndex,this.slotModel.stopReelsSymbols,t.isTerminating);this.canPlayStopSound()&&(t.isTerminating||this.playReelStopSound(i.soundId,5),this.singleReelModel.reelIndex===this.slotModel.getSlotConfig().reelsCount-1&&setTimeout(function(){e.slotModel.isSpinning||e.soundManager.stopSound(e.getReelSpinSoundId())},5))},e}(o.StopSingleReelAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userModel=n.i(o.inject)(r.UserModel),e.reelsManager=n.i(o.inject)(r.ReelsManager),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.slotModel=n.i(o.inject)(r.SlotModel),e.turboModeModel=n.i(o.inject)(r.TurboModeModel),e.autoSpinsModel=n.i(o.inject)(a.AutoSpinsModel),e.autoPlayModeModel=n.i(o.inject)(r.AutoPlayModeModel),e.contentManager=n.i(o.inject)(o.ContentManager),e.betHelper=n.i(o.inject)(r.BetHelper),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.reelsPromiseManager=n.i(o.inject)(a.ReelsPromiseManager),e.context=n.i(o.inject)(r.ContextModel).context,e.spinsCount=0,e.isInsufficientBalanceOnStage=!1,e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return this.dispatcher.dispatch(a.AutoSpinsModelEvent.SHOW_CONTINUE_AUTO_PLAY_SLIDER),new Promise(function(n){e.mainResolve=n,e.context.updateViewBalance(),e.dispatcher.dispatch(r.Event.ACTIVATE_SPIN),e.spinsCount>0&&e.showDefaultMessages(),e.dispatcher.addListener(a.BottomBarEvent.READY_TO_SPIN,function(){e.startWithCheck(t)},e),(e.autoPlayModeModel.autoSpinAllowed||t.shouldForceSpin)&&e.startWithCheck(t)})},e.prototype.isTerminable=function(){return!1},e.prototype.hideAllAnimations=function(){var t=this;this.dispatcher.addListener(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE,function(e){t.reelsPromiseManager.reset(),t.dispatcher.dispatch(r.Event.SHOW_REEL_SYMBOLS,e)},this).once(),this.dispatcher.dispatch(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS)},e.prototype.startWithCheck=function(t){if(this.userModel.hasEnoughBalance(this.betHelper.getTotalBet()))t.shouldForceSpin=!1,t.isTerminating=!1,this.dispatcher.dispatch(r.InfoBarEvent.SHOW_MESSAGE,a.MessageFactoryMark2.createMessage(["clickToStopEarly"])),this.configureReels(t),this.readyToResolve(t);else if(this.showInsufficientMessage(),this.autoSpinsModel.isActive){var e={info:!0,auto:!0,turbo:!0,bets:!0,wrapperMainMenu:!0,wrapperGamesMenu:!0};this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,e),this.dispatcher.dispatch(a.WinBoxEvents.TOGGLE_WIN_BOX_LABELS,[a.WinBoxMessageTypes.GOOD_LUCK,a.WinBoxMessageTypes.CLICK_TO_SPIN]),this.autoSpinsModel.deactivate()}},e.prototype.readyToResolve=function(t){this.hideAllAnimations(),this.dispatcher.removeListeners(a.BottomBarEvent.READY_TO_SPIN,this),this.autoSpinsModel.isActive&&(this.autoSpinsModel.isUntilFeature&&this.dispatcher.dispatch(a.BottomBarEvent.ROTATE_UNTIL_FEATURE_ICON),this.autoSpinsModel.decrease()),this.spinsCount++,this.mainResolve(t)},e.prototype.configureReels=function(t){this.turboModeModel.isActive?this.reelsManager.setState(r.SlotState.Turbo):this.autoSpinsModel.isActive?this.reelsManager.setState(r.SlotState.Auto):this.reelsManager.setState(r.SlotState.Regular);for(var e=0,n=this.slotModel.reels;e<n.length;e++){n[e].setSpinConfig(this.reelsManager.getSpinConfig())}},e.prototype.showInsufficientMessage=function(){var t=this;this.isInsufficientBalanceOnStage||(this.isInsufficientBalanceOnStage=!0,this.dispatcher.dispatch(a.PopupEvent.SHOW_POPUP,{title:this.contentManager.i18n("insufficientTitle"),message:this.contentManager.i18n("insufficientMessage")}),this.dispatcher.addListener(a.PopupEvent.POPUP_HIDDEN,function(){t.isInsufficientBalanceOnStage=!1,t.dispatcher.removeListeners(a.PopupEvent.POPUP_HIDDEN,t)},this))},e.prototype.showDefaultMessages=function(){var t;t=this.freeGamesModel.isFreeSpinsActive||this.autoSpinsModel.isActive?a.MessageFactoryMark2.createMessage(["playingLines"],[{count:this.slotModel.paylinesCount}]):a.MessageFactoryMark2.createMessage(["clickSpinToStart","playingLines"],[null,{count:this.slotModel.paylinesCount}],5e3),this.dispatcher.dispatch(r.InfoBarEvent.SHOW_MESSAGE,t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.symbolManager=n.i(o.inject)(a.SymbolManager),e.landingSymbolAnimationVO=[],e.allReelsModel=n.i(o.inject)(s.AllReelsModel),e.turboModeModel=n.i(o.inject)(a.TurboModeModel),e.reelsPromiseManager=n.i(o.inject)(s.ReelsPromiseManager),e.symbolAnimationManager=n.i(o.inject)(s.SymbolAnimationManager),e.symbolsConfig=n.i(o.inject)(a.SymbolConfigModel),e.loadManager=n.i(o.inject)(o.LoadManager),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){var i=e.singleReelModel.getLandingAnimationSymbols();if(i.length>0){e.landingSymbolAnimationVO=[];for(var o=0,r=i;o<r.length;o++){var a=r[o];!e.turboModeModel.isActive&&e.loadManager.isLazyAssetsLoaded&&e.showLandingAnimation(a.symbolId,a.lineIndex)}}else e.onLastReelLandingAnimationComplete(null);n(t)})},e.prototype.init=function(t){return this.singleReelModel=t,this},e.prototype.isTerminable=function(){return!0},e.prototype.guard=function(t){return!t.isTerminating&&(this.singleReelModel.getLandingAnimationSymbols().length>0||this.singleReelModel.isLastReel)},e.prototype.showLandingAnimation=function(t,e){var n=this,i=new a.SymbolAnimationVO(t,this.singleReelModel.reelIndex,e,s.SymbolAnimationType.LANDING);this.landingSymbolAnimationVO.push(i),this.hideReelSymbol(i),this.symbolAnimationManager.showSymbolAnimation(i,function(t){n.reelsPromiseManager.setLandingPromise(n.singleReelModel.reelIndex,t),t.then(function(){n.onLandingAnimationComplete(i)})})},e.prototype.hasAnimation=function(t){var e=this.symbolsConfig.getAnimationKeys(t.symbolId,t.animationType);return void 0!==this.symbolManager.getSymbolView(t.symbolId).getClipByKey(e[0],t.animationType)},e.prototype.getSyncPromise=function(){return[]},e.prototype.hideReelSymbol=function(t){this.dispatcher.dispatch(a.Event.HIDE_REEL_SYMBOLS,[new r.e(t.reelIndex,t.lineIndex)])},e.prototype.onLandingAnimationComplete=function(t){this.singleReelModel.isLastReel&&this.onLastReelLandingAnimationComplete(t),this.hideSymbolAnimation(t)},e.prototype.hideSymbolAnimation=function(t){this.dispatcher.dispatch(a.SymbolAnimationEvents.HIDE_SYMBOL_ANIMATION,t),this.dispatcher.dispatch(a.Event.SHOW_REEL_SYMBOLS,[new r.e(t.reelIndex,t.lineIndex)])},e.prototype.onLastReelLandingAnimationComplete=function(t){this.allReelsModel.isAllLandingAnimationsCompleted=!0,this.dispatcher.dispatch(s.ReelsEventsMark2.LANDING_ANIMATION_FINISHED,t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.playReelStopSound=function(t,e){var n=this;setTimeout(function(){return n.soundManager.playSound(t)},r.M.TIME_OUT_DELAY)},e.prototype.getStopSoundDelay=function(){var t=r.M.STOP_SOUND_DELAY;return this.turboModeModel.isActive&&(t=r.M.TIME_OUT_DELAY),this.freeGamesModel.isFreeSpinsActive&&(t=r.M.STOP_SOUND_DELAY_FREE_SPIN),t},e}(o.StopSingleReelWithAnticipationAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={TIME_OUT_DELAY:100,STOP_SOUND_DELAY:140,STOP_SOUND_DELAY_FREE_SPIN:380}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.setValidateTape=function(t){},e}(o.SingleReelModelMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(5),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.initReelSpeedIncreaseTimer=function(t){},e.prototype.resetReelSpeedTimer=function(t){},e.prototype.createReelView=function(t,e){return new o.O(t,e)},e.prototype.setReelsMask=function(){t.prototype.setReelsMask.call(this),this.mask.y=o.p.symbolMaskYPostion,this.mask.height=o.p.symbolMaskHeight},e}(r.ReelsAreaViewMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.getAdditionalSymbolsCount=function(){return 3===this.reelModel.getState()?r.ReelsConstants.additionalReelSymbolCountSpin:r.ReelsConstants.additionalReelSymbolCountIdle},e.prototype.drawStoppingAnimation=function(t){this.drawStoppingContainer(),this.lastStopCallback=null,TweenLite.killTweensOf(this),this.y=this.topReelOffset-this.topSymbolOffset,this.reelModel.executeOnStop();for(var e=this.reelVO.rows,n=0;n<e;n++)this.reelModel.goNext()},e}(o.SingleReelView)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.RegulationsModelMark2).to(r.f),e.bind(o.RegulationsManagerMark2).to(r.g)},e}(o.RegulationsModuleMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(2),a=(n(1),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.setUIEnable=function(t){this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,{info:t,auto:t,turbo:t,bets:t,wrapperMainMenu:t,wrapperGamesMenu:t,spin:{enabled:t,mode:o.SpinButtonState.SPIN,rotate:t}})},e.prototype.autoPlayLimitPopupClosedCallback=function(){t.prototype.autoPlayLimitPopupClosedCallback.call(this)},e}(o.RegulationsManagerMark2))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=(n(5),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.parseResponse=function(e){t.prototype.parseResponse.call(this,e),this.contextModel.context.api.device.getParams.rg_until},e}(o.RegulationsModelMark2))},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(5),a=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(a.AmbientSoundsManager).to(r.i),e.bind(o.SoundManager).to(r.j)},e}(a.SoundsModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.startCurrentSoundWithCheck=function(e){void 0===e&&(e=!1),t.prototype.startCurrentSoundWithCheck.call(this,!1)},e}(o.AmbientSoundsManager)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.stopSound=function(t){var e=this.getSound(t);e&&("REEL_SPIN_START_main"===t?TweenLite.to(e,.1,{volume:0,onComplete:function(){e.stop(),e.volume=1}}):e.stop())},e}(o.SoundManager)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjection=function(e){t.prototype.addInjection.call(this,e),e.bind(o.SymbolAnimationsViewMark2).to(r.m),e.bind(o.SymbolAnimationsMediatorMark2).to(r.n)},e}(o.SymbolsModuleMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(3),r=n(5),a=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addListeners=function(){this.view.on(r.p.hidePayoutHighLight,this.hideReelSymbols,this),this.view.on(r.p.showPayoutHighLight,this.showReelSymbols,this),this.dispatcher.addListener(o.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,this.onNextLevelWin,this),t.prototype.addListeners.call(this)},e.prototype.onNextLevelWin=function(t){t===r.e.WIN_LEVEL_0&&this.viewMark2.startSynchAnimation()},e.prototype.destroy=function(){this.dispatcher.removeListener(o.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,this.onNextLevelWin,this),t.prototype.destroy.call(this)},e.prototype.hideReelSymbols=function(t){this.dispatcher.dispatch(a.Event.HIDE_REEL_SYMBOLS,t)},e.prototype.showReelSymbols=function(t){this.dispatcher.dispatch(a.Event.SHOW_REEL_SYMBOLS,t)},e}(o.SymbolAnimationsMediatorMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),o=n(3),r=n(2),a=n(5),s=n(1),u=n(4),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(s.inject)(s.EventDispatcher),e}return i.a(e,t),e.prototype.playAnimation=function(e,n){return this.dispatcher.dispatch(r.Event.SHOW_REEL_SYMBOLS,[new u.e(e.data.reelIndex,e.data.lineIndex)]),e.displayObject.alpha=0,this.fadeIn(e),t.prototype.playAnimation.call(this,e,!0)},e.prototype.startSynchAnimation=function(){for(var t=0;t<this.symbolAnimationsDataList.length;t++)TweenLite.killTweensOf(this.symbolAnimationsDataList[t].displayObject),this.fadeIn(this.symbolAnimationsDataList[t])},e.prototype.fadeIn=function(t){var e=this;TweenLite.to(t.displayObject,a.o.miniPayTableParams.WIN_FADE_IN_TIME,{onComplete:function(){null!==t.displayObject&&(e.emit(a.p.hidePayoutHighLight,[new u.e(t.data.reelIndex,t.data.lineIndex)]),t.displayObject.alpha=1,e.fadeOut(t))}})},e.prototype.fadeOut=function(t){var e=this;TweenLite.to(t.displayObject,a.o.miniPayTableParams.WIN_FADE_IN_TIME,{onComplete:function(){null!==t.displayObject&&(e.emit(a.p.showPayoutHighLight,[new u.e(t.data.reelIndex,t.data.lineIndex)]),t.displayObject.alpha=0,e.fadeIn(t))}})},e}(o.SymbolAnimationsViewMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(5),r=n(3),a=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o._29),e.bind(a.WinningPlayAction).to(o._30).asSingleton(),e.bind(r.WinBoxWinningAction).to(o._31).asSingleton(),e.bind(r.SecondLineToggleCycleAction).to(o._32)},e}(a.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addListeners=function(){t.prototype.addListeners.call(this),(this.autoSpinsModel.isActive||this.freeGamesModel.isFreeSpinsActive)&&this.dispatcher.addListener(o.WinBoxEvents.ACTION_COMPLETE,this.onWinBoxActionComplete,this)},e.prototype.removeListeners=function(){this.dispatcher.removeListener(o.WinBoxEvents.ACTION_COMPLETE,this.onWinBoxActionComplete,this),t.prototype.removeListeners.call(this)},e}(o.SecondLineToggleCycleAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(2),a=n(3),s=n(5),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onExecute=function(t){return this.updateUI(),n.i(o.inject)(o.EventDispatcher).addListener(s._33.UPDATE_BUTTON_PANEL_AFTER_STOP,this.updateUI),Promise.resolve(t)},e.prototype.isTerminable=function(){return!1},e.prototype.updateUI=function(){var t=n.i(o.inject)(a.AutoSpinsModel),e=n.i(o.inject)(a.FreeGamesModel),i=n.i(o.inject)(r.RewardsModel),s=n.i(o.inject)(o.EventDispatcher),u={bets:!0,info:!0,auto:!0,turbo:!0,wrapperGamesMenu:!0,wrapperMainMenu:!0};e.isFreeSpinsActive&&(u.auto=!1,u.bets=!1,u.info=!1,u.turbo=!1,u.wrapperGamesMenu=!1,u.wrapperMainMenu=!1),e.freeSpinsCount>0&&!e.isJustWon&&i.rewards.length<=0||0===e.freeSpinsCount&&e.isFreeSpinsActive?u.spin={mode:a.SpinButtonState.STOP,enabled:!1,rotate:!1}:u.spin={enabled:!0,mode:a.SpinButtonState.SPIN,rotate:!0},t.isActive&&(u.bets=!1,u.info=!1,u.turbo=!1,u.wrapperGamesMenu=!1,u.wrapperMainMenu=!1),e.isFreeSpinsActive||t.isActive||s.dispatch(a.WinBoxEvents.TOGGLE_WIN_BOX_LABELS,[a.WinBoxMessageTypes.GOOD_LUCK,a.WinBoxMessageTypes.CLICK_TO_SPIN]),s.dispatch(r.UIEvent.CHANGE_UI,u)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(3),r=n(1),a=n(5),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.autoSpinsModel=n.i(r.inject)(o.AutoSpinsModel),e.soundsManager=n.i(r.inject)(r.SoundManager),e.slotModelCHSkip=n.i(r.inject)(a.d),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.mainResolve=n,e.continueOnExecute(t)})},e.prototype.startSkipAnimation=function(){var t=this;this.isSkipAnimationStarted||(this.removeListeners(),clearTimeout(this.autoModeTimeout),this.isSkipAnimationStarted=!0,this.freeGamesModel.isJustWon||this.resumeSymbolAnimations(),this.dispatcher.removeListeners(o.WinBoxEvents.SKIP_WIN_ANIMATION_COMPLETE,this),this.dispatcher.addListener(o.WinBoxEvents.SKIP_WIN_ANIMATION_COMPLETE,function(e){e.then(function(){t.readyToResolve(),t.slotModelCHSkip.skipStartAnimation=0})},this).once(),this.dispatcher.dispatch(o.WinBoxEvents.SKIP_WIN_ANIMATION),this.autoSpinsModel.isActive&&this.soundsManager.stopSound(o.WinBoxConstants.sounds.winTickupEndSoundId))},e}(o.WinBoxWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(3),r=n(5),a=n(2),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.setListeners=function(e){var n=this;t.prototype.setListeners.call(this,e),this.dispatcher.addListener(r.v.TERMINATE_GAME_ROUND,function(){n.actionManager.terminate(),n.hideAllAnimations(),n.updateUI()},this)},e.prototype.hideAllAnimations=function(){var t=this;this.dispatcher.removeListener(r.v.TERMINATE_GAME_ROUND,this.hideAllAnimations),this.dispatcher.dispatch(r.v.HIDE_PAYOUTS),this.dispatcher.addListener(a.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE,function(e){t.dispatcher.dispatch(a.Event.SHOW_REEL_SYMBOLS,e)},this).once(),this.dispatcher.dispatch(a.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS)},e.prototype.updateUI=function(){var t={spin:{enabled:!0,mode:o.SpinButtonState.SPIN}};this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,t)},e.prototype.getActionSequence=function(){return[o.ResetInfoMessageWinningAction,new o.ParallelAction([o.WinAnimationAction,new o.SequenceAction([o.WinBoxWinningAction,o.WinCappingAction,o.ShowAutoPlayLimitPopupAction]),new o.SequenceAction([o.FirstLineToggleCycleAction,o.TurboModeWinAnimationAction,o.SecondLineToggleCycleAction])]),o.StopWinAnimationAction,o.ShowAutoPlayLimitPopupFreeSpinsEndAction,o.FreeGamesNoWinDelayWiningAction,r._29]},e}(o.DefaultWinningPlayAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={TERMINATE_GAME_ROUND:"WinActionEventCH.TERMINATE_GAME_ROUND",HIDE_PAYOUTS:"WinActionEventCH.HIDE_PAYOUTS"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addCommonInjections=function(e){t.prototype.addCommonInjections.call(this,e),e.bind(o.WinBoxConfigManager).to(r._2)},e.prototype.addDesktopInjections=function(e){t.prototype.addDesktopInjections.call(this,e),e.bind(o.WinBoxViewDesktop).to(r._3),e.bind(o.WinBoxMediatorDesktop).to(r._4)},e.prototype.addMobileInjections=function(e){t.prototype.addMobileInjections.call(this,e),e.bind(o.WinBoxViewMobile).to(r._5),e.bind(o.WinBoxMediatorMobile).to(r._6)},e}(o.WinBoxModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={winLevelLimits:[0,20,40,60,80,100,200,350,1e3],exitDelays:[300,300,300,300,300,300,300,300,300],skipDelays:[300,300,300,300,300,300,300,300,300],reels:[[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1]],count:2,countWin:1,winCountUp:8,yPositionInLandscape:2,yPositionInPotarte:120,yPositionInNormalPotarte:60,tickupDelay:200,regulationsConfig:"_regulationsConfig",maxWinReached:"maxWinReached",amount:"amount",showAutoplayRegulationPopup:"showAutoplayRegulationPopup",tickupDelayAutoPlay:300,INITIAL_SECOND_VALUE:1e3,INITIAL_WIN_TICK_UP_CONST:8,animations:[{start:"level_1_start",loop:"level_1_loop",end:"level_1_end"},{start:"level2_start",loop:"level2_loop",end:"level2_end"},{start:"level3_start",loop:"level3_loop",end:"level3_end"},{start:"level4_start",loop:"level4_loop",end:"level4_end"},{start:"level5_start",loop:"level5_loop",end:"level5_end"},{start:"level_6_start",loop:"level_6_loop",end:"level_6_end"},{start:"level_7_start",loop:"level_7_loop",end:"level_7_end"},{start:"level_8_start",loop:"level_8_loop",end:"level_8_end"},{start:"level_9_start",loop:"level_9_loop",end:"level_9_end"}],winLevelTimeMap:[[1],[2,1.5],[3,3,1.25],[3,3,2,2],[3,3,1,2,2],[3,3,2,2,2,3],[3,3,2,2,2,3,5],[3,3,2,2,2,3,5,5],[3,3,2,2,2,3,5,5,5],[3,3,2,2,2,3,5,5,5,5]],winLevelTimeMapTurbo:[[1],[2,1.5],[3,3,1.25],[3,3,2,2],[3,3,1,2,2],[3,3,2,2,2,3],[3,3,2,2,2,3,5],[3,3,2,2,2,3,5,5],[3,3,2,2,2,3,5,5,5],[3,3,2,2,2,3,5,5,5,5]],WIN_LEVEL_0:"level_0",WIN_LEVEL_1:"level_1",WIN_LEVEL_2:"level_2",WIN_LEVEL_3:"level_3",WIN_LEVEL_4:"level_4"};n(3).WinBoxConstants.winLevelResorseGroups=[null,null,null,null,null,null,null,null,null,null]},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(3),r=n(1),a=n(5),s=n(2),u=function(t){function e(){var e=t.call(this)||this;return e.model=n.i(r.inject)(o.WinBoxModel),e.winManager=n.i(r.inject)(o.WinManager),e.configManager=n.i(r.inject)(o.WinBoxConfigManager),e.promoMessagesManager=n.i(r.inject)(o.PromoMessagesManager),e.setupView(),e.dispatcher.addListener(o.WinBoxEvents.SHOW_WIN_AMOUNT,e.onShowWinAmount,e),e.dispatcher.addListener(o.WinBoxEvents.SKIP_WIN_ANIMATION,e.onSkipWinAnimation,e),e.dispatcher.addListener(o.WinBoxEvents.SHOW_WIN_BOX_LABEL,e.onShowWinBoxLabel,e),e.dispatcher.addListener(s.Event.REELS_SPIN_STOPPED,e.onReelsSpinStopped,e),e.view.on(o.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,e.onWinBoxPlayNextLevel,e),e.view.on(o.WinBoxViewEvents.WIN_BOX_LAST_LEVEL_COMPLETED,e.onWinBoxLastLevelCompleted,e),e.view.on(o.WinBoxViewEvents.WIN_BOX_COUNT_UP_COMPLETE,e.onCountUpCompleted,e),e.dispatcher.addListener(s.GameRunEvents.SHOW_PAYTABLE,e.onShowPaytable,e),e.dispatcher.addListener(s.GameRunEvents.HIDE_PAYTABLE,e.onHidePaytable,e),e.dispatcher.addListener(a.v.HIDE_PAYOUTS,e.clearWinBox,e),e}return i.a(e,t),e.prototype.clearWinBox=function(){this.view.clearWinBoxLabel()},e.prototype.destroy=function(){null!=this.dispatcher&&(this.dispatcher.removeListeners(o.WinBoxEvents.SHOW_WIN_AMOUNT,this),this.dispatcher.removeListeners(o.WinBoxEvents.SKIP_WIN_ANIMATION,this),this.dispatcher.removeListeners(o.WinBoxEvents.SHOW_WIN_BOX_LABEL,this),this.dispatcher.removeListener(s.Event.REELS_SPIN_STOPPED,this.onReelsSpinStopped,this),this.dispatcher.removeListener(s.GameRunEvents.SHOW_PAYTABLE,this.onShowPaytable,this),this.dispatcher.removeListener(s.GameRunEvents.HIDE_PAYTABLE,this.onHidePaytable,this),this.dispatcher=null),null!=this.view&&(this.view.off(o.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL),this.view.off(o.WinBoxViewEvents.WIN_BOX_LAST_LEVEL_COMPLETED),this.view.off(o.WinBoxViewEvents.WIN_BOX_COUNT_UP_COMPLETE),this.view=null),this.model=null,this.configManager=null,this.promoMessagesManager=null,this.skipAnimationPromise=null,t.prototype.destroy.call(this)},e.prototype.onShowWinAmount=function(t){var e,n=this;if(t.ignoreAnimation)this.view.setWinImmediately(t.amount),e=Promise.resolve();else{this.skipAnimationPromise=null;var i=this.configManager.createWinLevelsVO(t.amount);i.length>0?(this.dispatcher.dispatch(o.FreeGamesEvent.SHOW_FREE_GAMES_TOTAL_WIN),this.model.isAnimating=!0,this.model.isCountUp=!0,e=this.view.play(t.amount,i,t.startAmount),e.then(function(){n.model.isAnimating=!1})):e=Promise.resolve()}this.dispatcher.dispatch(o.WinBoxEvents.SHOW_WIN_AMOUNT_COMPLETE,e)},e.prototype.onSkipWinAnimation=function(){var t;this.model.isAnimating?(t=this.view.skip(),this.model.isAnimating=!1,this.model.isCountUp=!1,this.skipAnimationPromise=t):t=Promise.resolve(),this.dispatcher.dispatch(o.WinBoxEvents.SKIP_WIN_ANIMATION_COMPLETE,t)},e.prototype.onWinBoxPlayNextLevel=function(t){this.dispatcher.dispatch(o.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,t)},e.prototype.onWinBoxLastLevelCompleted=function(){this.dispatcher.dispatch(o.WinBoxEvents.WIN_ANIMATION_COMPLETE)},e.prototype.onCountUpCompleted=function(){this.model.isCountUp=!1,this.dispatcher.dispatch(o.WinBoxEvents.COUNT_UP_COMPLETE)},e.prototype.setupView=function(){this.view=n.i(r.inject)(o.WinBoxViewDesktop,this)},e.prototype.onShowPaytable=function(){this.view.hide()},e.prototype.onHidePaytable=function(){this.view.show()},e.prototype.onShowWinBoxLabel=function(){this.view.clearWinBoxLabel()},e.prototype.onReelsSpinStopped=function(){0===this.winManager.totalWin&&this.view.clearWinBoxLabel()},e}(r.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){var e=t.call(this)||this;return e.setupView(),e.view.on(o.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,e.onWinBoxPlayNextLevel,e),e}return i.a(e,t),e.prototype.onWinBoxPlayNextLevel=function(t){this.dispatcher.dispatch(o.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,t)},e}(o.WinBoxMediatorMobile)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){var e=t.call(this)||this;return e._hasDot=!1,e}return i.a(e,t),Object.defineProperty(e.prototype,"hasDot",{get:function(){return this._hasDot},set:function(t){this._hasDot=t},enumerable:!0,configurable:!0}),e.prototype.skip=function(){this.isSkipped=!0,t.prototype.skip.call(this)},e.prototype.countUp=function(e,n,i){this.isSkipped=!1,t.prototype.countUp.call(this,e,n,i)},Object.defineProperty(e.prototype,"tickUpValue",{set:function(t){var e,n=this.moneyFormatter.formatNumber(t,{decimalPartAppendType:this.hasDot?2:1,showCurrency:!1});e=n,(this.isCompleted||this.isSkipped)&&".00"===e.slice(e.length-3)?this._label.text=this.moneyFormatter.getFormattedCurrencySign().trim()+e.slice(0,e.length-3):this._label.text=this.moneyFormatter.getFormattedCurrencySign().trim()+n,this._label.visible=!0},enumerable:!0,configurable:!0}),e}(o.CommonCountUp)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(3),r=n(5),a=n(1),s=n(2),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stakesModel=n.i(a.inject)(s.StakesModel),e}return i.a(e,t),e.prototype.createWinLevelsVO=function(t){var e=[];this._totalDuration=0;var n=new o.WinBoxVO;return n.duration=t/(r.e.winCountUp*this.stakesModel.currentStakeValue),this._totalDuration=n.duration,n.animations=this.animations[0],n.exitDelay=this.exitDelays[0],n.skipDelay=this.skipDelays[0],n.id=r.e.WIN_LEVEL_0,n.level=0,e.push(n),e},e.prototype.getWinLevel=function(t){for(var e,n=t/this.winManager.totalBet,i=0;i<this.winLevelLimits.length&&!(this.winLevelLimits[i]>n);i++)e=i;return e},e.prototype.setConfig=function(){this.winLevelTimeMap=r.e.winLevelTimeMap,this.winLevelLimits=r.e.winLevelLimits,this.animations=r.e.animations,this.skipDelays=r.e.skipDelays,this.exitDelays=r.e.exitDelays},e}(o.WinBoxConfigManager)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(5),o=n(1),r=function(){function t(t){this.slotModel=n.i(o.inject)(i.r),this.WIN_ANIMATION_NAME="animation",this.SPINE_ID="shine",this.spineMovie=t.getChildByName(this.SPINE_ID),this.stopAnimation()}return t.prototype.playStart=function(t){return this.playAnimation(),Promise.resolve()},t.prototype.playLoop=function(){},t.prototype.playExit=function(){var t=this;return new Promise(function(e){t.slotModel.isAmountAnimating=!1,t.stopAnimation(),e()})},t.prototype.skip=function(){return this.stopAnimation(),Promise.resolve()},t.prototype.playAnimation=function(){this.spineMovie.spine.lastTime=0,this.spineMovie.animation=this.WIN_ANIMATION_NAME,this.spineMovie.play(),this.spineMovie.loop=!0},t.prototype.stopAnimation=function(){this.spineMovie.spine.lastTime=0,this.spineMovie.animation=this.WIN_ANIMATION_NAME,this.spineMovie.stop()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),o=n(4),r=n(3),a=n(1),s=n(5),u=n(2),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.configManager=n.i(a.inject)(r.WinBoxConfigManager),e.soundsManager=n.i(a.inject)(a.SoundManager),e.ambientSoundManager=n.i(a.inject)(u.AmbientSoundsManager),e.winAnimators=[],e.soundId="",e.minlevelForTikupSound=10,e.animationName="WIN_BOX_",e.stakesModel=n.i(a.inject)(u.StakesModel),e.moneyFormatter=n.i(a.inject)(u.MoneyFormatterUtils),e.slotModel=n.i(a.inject)(s.r),e.autoSpinsModel=n.i(a.inject)(r.AutoSpinsModel),e.model=n.i(a.inject)(r.WinBoxModel),e}return i.a(e,t),e.prototype.onAdded=function(){this.counter=new s._8,this.counter.setupGraphics(this.winBoxLabel),this.calculateClockFaceParameters(),t.prototype.onAdded.call(this),this.addWinAnimators()},e.prototype.clearWinBoxLabel=function(){var t=this,e=n.i(a.inject)(r.WinManager);a.TimeoutUtils.setTimeout(function(){var e=t.moneyFormatter.getFormattedCurrencySign().trim();t.winBoxLabel.text="";var n=e+t.moneyFormatter.formatNumber(0,{decimalPartAppendType:(t.winBoxLabelClockFaceHasDot,0),showCurrency:!1});t.winBoxLabel.text=n},e.totalWin>0?this.autoSpinsModel.isActive||this.model.isCountUp?s.e.tickupDelayAutoPlay:s.e.tickupDelay:0),this.winBoxLabel.visible=!0},e.prototype.addWinAnimators=function(){this.winAnimators.push(new s._9(this))},e.prototype.setWinImmediately=function(t){this.counter.tickUpValue=t},e.prototype.play=function(t,e,n){var i=this;this.level=e.length,this.slotModel.isAmountAnimating=!0,this.tickupSoundStart(),this.counter.setTickupTime(this.configManager.totalDuration);var o=0;return n&&n>0&&(o=n),this.counter.countUp(o,t,function(){i.emit(r.WinBoxViewEvents.WIN_BOX_COUNT_UP_COMPLETE),i.tickupSoundEnd()}),this.winBoxesVO=e,this.playNextLevel(this.winBoxesVO.shift()),new Promise(function(t){i.onCompleteCallback=t})},e.prototype.skip=function(){var t=this;this.stopLevelSound(),this.playSkipSound(),this.counter.skip(),clearTimeout(this.nextLevelTimeout),clearTimeout(this.tickupSoundTime);for(var e=new r.PromiseResolver,n=0,i=this.winAnimators;n<i.length;n++){var o=i[n];e.add(o.skip())}return e.onComplete(this.onCompleted.bind(this)),new Promise(function(e){t.slotModel.isAmountAnimating=!1,t.onCompleteCallback=e})},e.prototype.destroy=function(){this.configManager=null,this.soundsManager=null,this.ambientSoundManager=null,null!=this.winBoxLabel&&(this.winBoxLabel.destroy(),this.winBoxLabel=null),null!=this.counter&&(this.counter.destroy(),this.counter=null),this.winBoxesVO=null,this.onCompleteCallback=null,this.nextLevelTimeout=null,this.tickupSoundTime=null,this.winAnimators=null,this.soundId=null,this.animationName=null,t.prototype.destroy.call(this)},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.playNextLevel=function(t){var e=this;this.emit(r.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,t.id);for(var n=0,i=this.winAnimators;n<i.length;n++){i[n].playStart(t)}this.winBoxesVO.length>0?this.nextLevelTimeout=setTimeout(function(){e.playNextLevel(e.winBoxesVO.shift())},1e3*t.duration):this.nextLevelTimeout=setTimeout(function(){for(var t=new r.PromiseResolver,n=0,i=e.winAnimators;n<i.length;n++){var o=i[n];t.add(o.playExit())}t.onComplete(e.onCompleted.bind(e)),e.emit(r.WinBoxViewEvents.WIN_BOX_LAST_LEVEL_COMPLETED)},1e3*t.duration+t.exitDelay)},e.prototype.onCompleted=function(){this.model.isCountUp=!0,this.stopLevelSound(),this.onCompleteCallback()},e.prototype.tickupSoundStart=function(){var t=this;this.needToPlayTikupSound()&&(this.tickupSoundTime=setTimeout(function(){return t.soundsManager.playSound(r.WinBoxConstants.sounds.winTickupLoopSoundId,-1)},200))},e.prototype.tickupSoundEnd=function(){this.needToPlayTikupSound()&&(clearTimeout(this.tickupSoundTime),this.soundsManager.stopSound(r.WinBoxConstants.sounds.winTickupLoopSoundId),this.soundsManager.playSound(r.WinBoxConstants.sounds.winTickupEndSoundId))},e.prototype.playSkipSound=function(){this.counter.isCompleted||this.needToPlayTikupSound()||this.soundsManager.playSound(r.WinBoxConstants.sounds.winBoxSkip),this.soundsManager.stopSound(r.WinBoxConstants.sounds.winTickupLoopSoundId),this.soundsManager.stopSound(r.WinBoxConstants.sounds.winTickupEndSoundId)},e.prototype.stopLevelSound=function(){this.resetAmbientSound(),this.soundsManager.stopSound(this.soundId)},e.prototype.lowerAmbientSound=function(){this.ambientSoundManager.setCurrentSoundVolume(.3)},e.prototype.resetAmbientSound=function(){this.ambientSoundManager.unMuteCurrentSound(),this.ambientSoundManager.setCurrentSoundVolume(1)},e.prototype.needToPlayTikupSound=function(){return this.level<=this.minlevelForTikupSound},e.prototype.calculateClockFaceParameters=function(){var t,e,n,i,o;for(this.winBoxLabelClockFaceHasDot=!1,t=0;t<this.stakesModel.stakes.length;t++)if(this.stakesModel.stakes[t]%1!=0){this.winBoxLabelClockFaceHasDot=!0;break}for(e=10*(this.stakesModel.stakeMax-this.stakesModel.stakeMax%1),n=(""+e).replace(/./g,"0").replace(/00/g,"00,").split("").reverse().join(""),","===n.charAt(0)&&(n=n.substr(1,1)),this.winBoxLabelClockFaceHasDot&&(n+=".00"),this.counter.hasDot=this.winBoxLabelClockFaceHasDot,this.winBoxLabelClockFace.text=this.moneyFormatter.getFormattedCurrencySign()+n,i=this.winBoxLabelClockFace.fontStyleMark2;this.winBoxLabelClockFace.textWidth>=this.winBoxLabelClockFace.width;)i.fontSize--,this.winBoxLabelClockFace.fontStyle=i,this.winBoxLabelClockFace.text=this.winBoxLabelClockFace.text;for(this.winBoxLabel.fontStyle=i,this.winBoxLabel.visible=!0,this.clearWinBoxLabel(),o=this.moneyFormatter.formatNumber(0,{showCurrency:!0}),this.winBoxLabelCurrency.text=/\D*/.exec(o)[0].replace(/ /g,""),i=this.winBoxLabelCurrency.fontStyleMark2;this.winBoxLabelCurrency.textWidth>=this.winBoxLabelCurrency.width;)i.fontSize--,this.winBoxLabelCurrency.fontStyle=i,this.winBoxLabelCurrency.text=this.winBoxLabelCurrency.text;this.winBoxLabelCurrency.x=this.winBoxLabelClockFace.x+this.winBoxLabelClockFace.width-this.winBoxLabelClockFace.textWidth-this.winBoxLabelCurrency.width-10},e}(o.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=n(5),l=PIXI.Point,c=function(t){function e(e){var i=t.call(this,e)||this;return i.mainScreen=n.i(o.inject)(a.MainScreenView),i.dispatcher=n.i(o.inject)(o.EventDispatcher),i.targetPosRegularWin=new l(560,340),i.targetScaleFactor=1.5,i.slotModel=n.i(o.inject)(u.r),i}return i.a(e,t),e.prototype.playStart=function(t){this.winBoxVO=t},e.prototype.playExit=function(){var t=this;switch(this.winBoxVO.id){case u.e.WIN_LEVEL_0:return this.slotModel.isAmountAnimating=!1,Promise.resolve();default:return new Promise(function(e){t.slotModel.isAmountAnimating=!1,t.playFinishAnimation(e)})}},e.prototype.skip=function(){return this.hideBgAnimated(),this.clearResizeListener(),t.prototype.skip.call(this)},e.prototype.handleResize=function(){var t=this;switch(this.winBoxVO.id){case u.e.WIN_LEVEL_2:this.removeTweens(),clearTimeout(this.resizeDelayTimeout),this.resizeDelayTimeout=setTimeout(function(){t.updateOffsetAndScale(t.targetPosRegularWin)},0);break;default:clearTimeout(this.resizeDelayTimeout),this.removeTweens()}},e.prototype.removeTweens=function(){for(var t=0;t<this.tweens.length;t++)this.tweens[t].kill();this.tweens.length=0},e.prototype.playFinishAnimation=function(e){this.clearResizeListener(),t.prototype.playFinishAnimation.call(this,e)},e.prototype.addResizeListener=function(){this.dispatcher.addListener(r.B.SCENE_RESIZED,this.handleResize,this)},e.prototype.clearResizeListener=function(){clearTimeout(this.resizeDelayTimeout),this.dispatcher.removeListener(r.B.SCENE_RESIZED,this.handleResize,this)},e.prototype.updateOffsetAndScale=function(t){this.yOffset=-(this.getFinalPosition(t).y-this.view.pivot.y),this.scaleFactor=this.getScaleFactor()},e.prototype.getScaleFactor=function(){var t=this.targetScaleFactor*(this.mainScreen.worldTransform.a/this.view.parent.worldTransform.a);return Math.max(1,t)},e.prototype.getFinalPosition=function(t){var e=this.mainScreen.toGlobal(t);return this.view.parent.toLocal(e)},e.prototype.showBgAnimated=function(){},e.prototype.hideBgAnimated=function(){},e.prototype.onCompleteFinishAnimation=function(){t.prototype.onCompleteFinishAnimation.call(this),this.hideBgAnimated()},e}(s.WinBoxTweenAnimator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(3),r=n(5),a=n(1),s=function(t){function e(){var e=t.call(this)||this;return e.slotModelCHSkip=n.i(a.inject)(r.d),e.minlevelForTikupSound=40,e}return i.a(e,t),e.prototype.setupInfoLabel=function(){this.winBoxInfoLabel.addMessage("message0",o.WinBoxMessageTypes.CLICK_TO_SPIN),this.winBoxInfoLabel.addMessage("message1",o.WinBoxMessageTypes.GOOD_LUCK)},e.prototype.addWinAnimators=function(){this.winAnimators.push(new r._7(this))},e.prototype.tickupSoundStart=function(){var t=this;this.isFreeGamesStateActive()?this.soundsManager.playSound(o.WinBoxConstants.sounds.freespinTickupLoopSoundId,-1,!1,!1):this.needToPlayTikupSound()&&(this.tickupSoundTime=setTimeout(function(){t.soundsManager.playSound(o.WinBoxConstants.sounds.winTickupLoopSoundId,-1),t.slotModelCHSkip.skipStartAnimation=r.e.count},r.e.tickupDelay))},e.prototype.tickupSoundEnd=function(){clearTimeout(this.tickupSoundTime),t.prototype.tickupSoundEnd.call(this)},e.prototype.destroy=function(){this.tickupSoundTime=null,t.prototype.destroy.call(this)},e.prototype.skip=function(){var t=this;this.stopLevelSound(),this.playSkipSound(),this.counter.skip(),clearTimeout(this.nextLevelTimeout),clearTimeout(this.tickupSoundTime);for(var e=new o.PromiseResolver,n=0,i=this.winAnimators;n<i.length;n++){var r=i[n];e.add(r.skip())}return e.onComplete(this.onCompleted.bind(this)),new Promise(function(e){t.onCompleteCallback=e})},e}(o.WinBoxViewMobile)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(2),r=n(5),a=n(3),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(a.WinCappingAction).to(r.c)},e}(o.WinCappingModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(3),r=n(1),a=n(5),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotModelCH=n.i(r.inject)(a.d),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){var i=e.moneyFormatter.formatNumber(e.slotModelCH.winCappingAmount),r=o.MessageFactoryMark2.createMessage(["winCappingMessage"],[{amount:i}]);e.dispatcher.dispatch(o.PopupEvent.SHOW_POPUP,{title:e.contentManager.i18n("winCappingTitle"),message:r.texts[0]}),e.dispatcher.addListener(o.PopupEvent.POPUP_HIDDEN,function(){e.dispatcher.removeListeners(o.PopupEvent.POPUP_HIDDEN,e),n(t)},e),e.slotModelCH.isWinCappingTriggered=!1})},e}(o.WinCappingAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.BackgroundManager).to(r.k)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.getTapeWithFramePart=function(t){var e=[];return e.push.apply(e,this.getPrevCells(t).concat(this.getNextCellsSgk(t+this.frame.slice().length))),e},e.prototype.getNextCellsSgk=function(t){for(var e=[],n=this.nextIndex(this.leftIndex);t;)e.push(this.tape[n]),n=this.nextIndex(n),t--;return e},e}(o.ValidatedTapeMark2)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(5),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPreloaderName="",e}return i.a(e,t),e.prototype.addName=function(t){t.indexOf(r.l.backgroundPreloading)>=0?this.isPreloaderName=t:this.normalName=this.normalName||t},e.prototype.setPreloaderBackground=function(t){void 0===t&&(t=!1),this.scenesManager.changeBackground(r.l.backgroundPreloading)},e.prototype.setCurrentBackground=function(){this.scenesManager.changeBackground(r.l.backgroundMainGame)},e}(o.BackgroundManager)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={backgroundMainGame:"background_Main.jpg",backgroundPreloading:"background_Preloader.jpg"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(4),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){switch(t.id){case r.s.autoPlayStopButtonID:case r.s.spinButtonID:case r.t.playButtonID:case r.t.playButtonTextID:return new r.q;case r.s.autoPlayStartButtonID:return new r.u;default:return new o.A}},e}(o.E)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(4),r=n(5),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.changeStateSgk=function(t){this.changeState(t,!0)},e.prototype.stateChangedHandler=function(){t.prototype.stateChangedHandler.call(this),this.emit(r.p.changeButtonStateEvent,this.state)},e}(o.A)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={changeButtonStateEvent:"CHANGE_BUTTON_STATE",symbolMaskYPostion:78,symbolMaskHeight:310,showPayoutHighLight:"SHOW_PAYOUT_HIGH_LIGHT",hidePayoutHighLight:"HIDE_PAYOUT_HIGH_LIGHT"}},,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.promiseReject=null,this.actionInfoReadyToPrepare=!0}return t.prototype.isTerminable=function(){return!0},t.prototype.releaseActionInfoInternal=function(t){return this.actionInfoReadyToPrepare?t:(this.actionInfoReadyToPrepare=!0,this.releaseActionInfo(t))},t.prototype.prepareActionInfoInternal=function(t){return this.actionInfoReadyToPrepare?(this.actionInfoReadyToPrepare=!1,this.prepareActionInfo(t)):t},t.prototype.run=function(t){var e=this;return t.lastActionName=this.getActionName(),this.lastActionInfo=t,this.isTerminated=!1,this.promiseReject=null,this.isResolved=!1,new Promise(function(n,i){e.log(e.getActionName());var o=function(t){n(e.releaseActionInfoInternal(t))};if(e.guard(t)){e.onExecute(e.prepareActionInfoInternal(t)).then(function(t){e.isResolved=!0,o(t)}),e.promiseReject=i}else o(t)})},t.prototype.guard=function(t){return!0},t.prototype.prepareActionInfo=function(t){return t},t.prototype.releaseActionInfo=function(t){return t},t.prototype.onExecute=function(t){return Promise.resolve(t)},t.prototype.onTerminate=function(t){return Promise.resolve(t)},t.prototype.terminate=function(){return this.lastActionInfo.isTerminating=!0,!this.isTerminated&&!this.isResolved&&(this.isTerminated=!0,this.lastActionInfo=this.releaseActionInfoInternal(this.lastActionInfo),this.promiseReject&&this.isTerminable())?(this.promiseReject(this.lastActionInfo),this.onTerminate(this.lastActionInfo)):null},t.prototype.getActionName=function(){return this.constructor.name},t.prototype.log=function(t){},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){this.actionsMap=new r,this.onError=function(t){},this.onFinish=function(t){return t},this.isAsyncStarted=!1}return t.prototype.addAction=function(t){return this.actionsMap.add(t),this},t.prototype.startAsync=function(t){var e=this;if(this.isAsyncStarted)throw Error("the ActionManager startAsync is not finished yet.");this.isAsyncStarted=!0;var n=this.onFinish;return new Promise(function(i){e.onFinish=function(t){i(t),e.isAsyncStarted=!1,n(t),e.onFinish=n},e.start(t)})},t.prototype.start=function(t){this.actionsMap.isEmpty()||(this.onStart&&this.onStart(t),this.currentActionStatus=this.actionsMap.getFirst(),this.runNextAction(t))},t.prototype.terminate=function(){this.terminateAction()},t.prototype.terminateAction=function(){var e=this;if(this.currentActionStatus){var n=this.currentActionStatus,i=n.action;if(t.isActionCanTerminate(n)){n.isTerminating=!0;var o=i.terminate();o&&o.then(function(t){n.isTerminated=!0,e.tryToRunNextAction(n,t)})}}},t.prototype.getCurrentAction=function(){return this.currentActionStatus?this.currentActionStatus.action:null},t.prototype.runNextAction=function(e){var n=this;if(this.currentActionStatus){var i=this.currentActionStatus,o=i.action;if(t.isActionCanRun(i)){i.isRunning=!0;var r=o.run(e);this.onChange&&this.onChange(e),r.then(function(t){i.isResolved=!0,n.tryToRunNextAction(i,t)},function(t){if(!t.isTerminating)throw t})}}},t.prototype.tryToRunNextAction=function(t,e){t.next?(this.currentActionStatus=t.next,this.runNextAction(e)):this.completed(e)},t.prototype.completed=function(t){this.currentActionStatus=null,this.actionsMap.resetActions(),this.onFinish&&this.onFinish(t)},t.isActionCanTerminate=function(t){return t.isRunning&&!t.isResolved&&!t.isTerminating&&!t.isTerminated},t.isActionCanRun=function(t){return!(t.isRunning||t.isResolved||t.isTerminating||t.isTerminated)},t}(),r=function(){function t(){this.actions=new i.Dictionary,this.defaultActionStatus={isRunning:!1,isResolved:!1,isTerminating:!1,isTerminated:!1}}return t.prototype.resetActions=function(){var t=this;this.actions.forEach(function(e){Object.assign(e,t.defaultActionStatus)})},t.prototype.add=function(t){var e={action:t,isRunning:!1,isResolved:!1,isTerminating:!1,isTerminated:!1};this.actions.add(t,e),this.first?(this.last.next=e,this.last=e):(this.first=e,this.last=e)},t.prototype.getFirst=function(){return this.first},t.prototype.isEmpty=function(){return!this.first},t}()},function(t,e,n){"use strict";var i=n(1);!function(){function t(t){void 0===t&&(t=null);var e=this;this.length=0,this.promiseReject=null,this.actionInfoReadyToPrepare=!0,this.resolvedItems=[],t.forEach(function(t){t instanceof Function?e[e.length++]=n.i(i.inject)(t):e[e.length++]=t})}t.prototype.isTerminable=function(){return!0},t.prototype.releaseActionInfoInternal=function(t){return this.actionInfoReadyToPrepare?t:(this.actionInfoReadyToPrepare=!0,this.releaseActionInfo(t))},t.prototype.prepareActionInfoInternal=function(t){return this.actionInfoReadyToPrepare?(this.actionInfoReadyToPrepare=!1,this.prepareActionInfo(t)):t},t.prototype.run=function(t){var e=this;return this.isTerminating?Promise.resolve(t):(t.lastActionName=this.getActionName(),this.resolvedItems.length=0,this.lastActionInfo=t,this.isTerminated=!1,new Promise(function(n,i){var o=function(){n(e.releaseActionInfoInternal(t))};if(e.guard(t)){var r=e.map(function(n){return n.run(e.prepareActionInfoInternal(t)).then(function(t){return e.markPromiseAsResolved(t,n)},function(e){if(!t.isTerminating)throw t})},e);Promise.all(r).then(o,function(){if(!t.isTerminating)throw t}),e.promiseReject=i}else o()}))},t.prototype.markPromiseAsResolved=function(t,e){var n=this;return new Promise(function(i){n.resolvedItems.push(e),i(t)})},t.prototype.guard=function(t){return!0},t.prototype.prepareActionInfo=function(t){return t},t.prototype.releaseActionInfo=function(t){return t},t.prototype.onExecute=function(t){return Promise.resolve(t)},t.prototype.onTerminate=function(t){return Promise.resolve(t)},t.prototype.terminate=function(){var t=this;return this.isTerminating||this.isTerminated?null:(this.isTerminating=!0,this.lastActionInfo.isTerminating=!0,this.lastActionInfo=this.releaseActionInfoInternal(this.lastActionInfo),this.isTerminable()?(null!==this.promiseReject&&this.promiseReject(this.lastActionInfo),Promise.all(this.map(function(e){if(-1===t.resolvedItems.indexOf(e))try{e.terminate()}catch(n){e.onTerminate(t.lastActionInfo)}return Promise.resolve(t.lastActionInfo)},this)).then(function(){return t.isTerminating=!1,t.isTerminated=!0,t.onTerminate(t.lastActionInfo)},function(e){if(t.isTerminating=!1,t.isTerminated=!0,!e.isTerminating)throw e})):void 0)},t.prototype.getActionName=function(){return this.constructor.name},t.prototype.map=function(t,e){for(var n=[],i=0;i<this.length;i++)n.push(t.call(e,this[i],i,this));return n}}()},function(t,e,n){"use strict";var i=n(1);!function(){function t(t){void 0===t&&(t=null);var e=this;this.length=0,this.promiseReject=null,this.actionInfoReadyToPrepare=!0,this.manager=new i.ActionManager,t.forEach(function(t){t instanceof Function?e[e.length++]=n.i(i.inject)(t):e[e.length++]=t}),this.forEach(function(t){e.manager.addAction(t)},this)}t.prototype.isTerminable=function(){return!0},t.prototype.releaseActionInfoInternal=function(t){return this.actionInfoReadyToPrepare?t:(this.actionInfoReadyToPrepare=!0,this.releaseActionInfo(t))},t.prototype.prepareActionInfoInternal=function(t){return this.actionInfoReadyToPrepare?(this.actionInfoReadyToPrepare=!1,this.prepareActionInfo(t)):t},t.prototype.run=function(t){var e=this;return t.lastActionName=this.getActionName(),this.lastActionInfo=t,this.isTerminated=!1,new Promise(function(n,i){e.currentResolver=n;var o=function(){e.currentResolver(e.releaseActionInfoInternal(t))};e.guard(t)?(e.manager.startAsync(e.prepareActionInfoInternal(t)).then(function(){o()}),e.promiseReject=i):o()})},t.prototype.guard=function(t){return!0},t.prototype.prepareActionInfo=function(t){return t},t.prototype.releaseActionInfo=function(t){return t},t.prototype.onExecute=function(t){return Promise.resolve(t)},t.prototype.onTerminate=function(t){return Promise.resolve(t)},t.prototype.terminate=function(){var t=this;return this.isTerminated?null:(this.isTerminated=!0,this.lastActionInfo.isTerminating=!0,this.lastActionInfo=this.releaseActionInfoInternal(this.lastActionInfo),this.isTerminable()?(this.promiseReject(this.lastActionInfo),new Promise(function(e){t.currentResolver=e,t.manager.terminate()})):void 0)},t.prototype.getActionName=function(){return this.constructor.name},t.prototype.forEach=function(t,e){for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)}}()},function(t,e,n){"use strict";var i=n(0),o=n(8);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.a(e,t)}(o.a)},function(t,e){},function(t,e,n){"use strict";var i=n(0),o=n(11);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.a(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),e.prototype.type=function(){return 3},e.prototype.dataLoadCallback=function(){this._data=this.rawData}}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){var e=this;this._isActivated=!1,this.modules=[],this.kernel=new i.Kernel,this.viewProvider=new i.ViewProvider(this.kernel),this.mediatorProvider=new i.MediatorProvider(this.kernel),this.modelProvider=new i.ModelProvider(this.kernel),t.getInstance=function(){return e},this.kernel.bind(i.EventDispatcher).asSingleton()}return t.prototype.activate=function(){if(this.isActivated())throw Error("You cant reactivate the context");this._isActivated=!0,this.kernel.activate(),this.modules.forEach(function(t){t.onActivation()}),this.modules=null},t.prototype.isActivated=function(){return this._isActivated},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(e,n,i){var o=t.call(this)||this;return o.event=e,o.listener=n,o.scope=i,o}return i.a(e,t),e}(o.Mapping)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(e,n){var i=t.call(this)||this;return i.instanceBindedConstructor=e,i.kernel=n,i.args=[],i.instance=null,i.isSingleton=!1,i.instanceResultConstructor=null,i.isViewMapping=!1,i.isModelMapping=!1,i._isForceCreation=!1,i}return i.a(e,t),e.prototype.asKernel=function(){return this.kernel},e.prototype.isView=function(){return this.isViewMapping},e.prototype.asView=function(){return this.isViewMapping=!0,this.viewInjectionMappingCollection||(this.viewInjectionMappingCollection=new o.ViewInjectionMappingCollection(this)),this.viewInjectionMappingCollection},e.prototype.asModel=function(){return this.isModelMapping=!0,this.modelInjectionMapping||(this.modelInjectionMapping=new o.ModelInjectionMapping(this)),this.modelInjectionMapping},e.prototype.getInstance=function(){return!this.isView()&&(!this.instance&&this.isSingleton&&(this.instance=this.createInstance()),this.isSingleton)?this.instance:this.createInstance()},e.prototype.createInstance=function(){var t=this.getConstructor();return new(t.bind.apply(t,[void 0].concat(this.args)))},e.prototype.getConstructor=function(){return this.instanceResultConstructor||this.instanceBindedConstructor},e.prototype.hasInstance=function(){return this.instance&&this.isSingleton},e.prototype.destroyInstance=function(){this.instance&&(this.instance.destroy(),this.instance=null)},e.prototype.asSingleton=function(){return this.isSingleton=!0,this},e.prototype.withParameters=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Array.prototype.push.apply(this.args,t),this},e.prototype.to=function(t){if(!t)throw Error("There is an undefined constructor you are trying bind to.");return this.instanceResultConstructor=t,this.instance=null,this},e.prototype.isForceCreation=function(){return this._isForceCreation},e.prototype.forceCreation=function(){return this._isForceCreation=!0,this},e}(o.Mapping)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){this.mappingsMap=new i.Map,this._isActivated=!1}return t.prototype.bind=function(t){var e=this.getBinding(t);return e||(e=new i.InjectionMapping(t,this),this.mappingsMap.add(e)),e},t.prototype.get=function(t,e){var n=this.getBinding(t);if(!n)throw Error("There is no any binding for "+t+" please bind the class before inject()");return n.isView()?e?n.asView().getViewInstanceForMediator(e.constructor):n.asView().getViewInstance():n.getInstance()},t.prototype.getAllViewsBindings=function(){return this.mappingsMap.getByFilter({isViewMapping:!0}).toArray()},t.prototype.getAllMediatorsBindings=function(){for(var t=this.getAllViewsBindings(),e=[],n=0,i=t;n<i.length;n++)for(var o=i[n],r=o.asView(),a=0,s=r.getAllMediatorMappings();a<s.length;a++){var u=s[a];if(u){for(var l=!1,c=0,d=e;c<d.length;c++){var p=d[c];if(p.injection===u){p.viewInjections=p.viewInjections||[],p.viewInjections.push(u),l=!0;break}}l||e.push({injection:u,viewInjections:[o]})}}return e},t.prototype.getAllModelsBindings=function(){return this.mappingsMap.getByFilter({isModelMapping:!0}).toArray()},t.prototype.getBinding=function(t){if(!t)throw Error("you are trying to get undefined constructor");return this.mappingsMap.getByFilter({instanceResultConstructor:t}).first()||this.mappingsMap.getByFilter({instanceBindedConstructor:t}).first()},t.prototype.activate=function(){this._isActivated=!0,this.mappingsMap.getAll().toArray().forEach(function(t){t.isForceCreation()&&t.getInstance()})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e){var n=e.asCollection().asBinding().asKernel().getBinding(t);n||(n=e.asCollection().asBinding().asKernel().bind(t)),this.mediatorBinding=n}return t.prototype.getMediatorConstructor=function(){return this.mediatorBinding.getConstructor()},t.prototype.withParameters=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(n=this.mediatorBinding).withParameters.apply(n,t),this;var n},t.prototype.toMediator=function(t){return this.mediatorBinding.to(t),this},t.prototype.getMapping=function(){return this.mediatorBinding},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(t){this.kernel=t,this.viewMediatorCounter=[],this.originalViewMediatorCounter=[],this.viewToMediatorMap=new i.Dictionary}return t.prototype.prepareCounter=function(){for(var t=0,e=this.allMediatorBinding;t<e.length;t++){var n=e[t];this.viewMediatorCounter.push(n.viewInjections.length),this.originalViewMediatorCounter.push(n.viewInjections.length)}},t.prototype.createMediator=function(t,e){this.allMediatorBinding||(this.allMediatorBinding=this.kernel.getAllMediatorsBindings(),this.prepareCounter());var n=this.findMediatorIndex(this.kernel.getBinding(t));if(n>=0){if(!this.viewToMediatorMap.get(e)){var i=this.allMediatorBinding[n].injection.getInstance();i.setMediatorView(e),this.viewToMediatorMap.add(e,i)}this.viewMediatorCounter[n]>0&&this.viewMediatorCounter[n]--}},t.prototype.destroyMediator=function(t,e){var n=this.findMediatorIndex(this.kernel.getBinding(t));n>=0&&this.viewMediatorCounter[n]<this.originalViewMediatorCounter[n]&&this.viewMediatorCounter[n]++;var i=this.viewToMediatorMap.get(e);i&&(i.destroy(),this.viewToMediatorMap.remove(e))},t.prototype.findMediatorIndex=function(t){for(var e=this.allMediatorBinding,n=e.length,i=0;i<n;i++)for(var o=0,r=e[i].viewInjections;o<r.length;o++){var a=r[o];if(a===t)return i}return-1},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this._isServerModel=!1,this.injectionMapping=t}return t.prototype.serverModel=function(){return this._isServerModel=!0,this.injectionMapping.asSingleton(),this},t.prototype.isServerModel=function(){return this._isServerModel},t.prototype.asBinding=function(){return this.injectionMapping},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this.kernel=t}return t.prototype.getServerModels=function(){return this.allModelsBindings||(this.allModelsBindings=this.kernel.getAllModelsBindings()),this.allModelsBindings.filter(function(t){return t.asModel().isServerModel()}).map(function(t){return t.getInstance()})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(t,e){this.viewInjectionCollectionMapping=t,this.viewId=e,this.instances=[],e&&(this.isSingleton=!0)}return t.prototype.asSingleton=function(t){return void 0===t&&(t=!0),this.isSingleton=t,this},t.prototype.getViewId=function(){return this.viewId},t.prototype.getViewInstance=function(){if(this.isSingleton)return this.instances[0]||this.instances.push(this.asCollection().asBinding().createInstance()),this.instances[0];var t=this.asCollection().asBinding().createInstance();return this.instances.push(t),t},t.prototype.destroyViewInstance=function(t){var e=this.instances.indexOf(t);-1!==e&&this.instances.splice(e,1)},t.prototype.bindMediator=function(t){return this.mediatorMapping||(this.mediatorMapping=new i.MediatorInjectionMapping(t,this)),this.mediatorMapping},t.prototype.getMediatorMapping=function(){return this.mediatorMapping},t.prototype.asCollection=function(){return this.viewInjectionCollectionMapping},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(t){this.injectionMapping=t,this.viewIds=[],this.viewInjectionMappings=[],this.isWithoutId=void 0}return t.prototype.getViewBinding=function(t){return this.isWithoutId||!t?this.viewInjectionMappings[0]:this.hasId(t)?this.viewInjectionMappings[this.getIndexOfViewInjection(t)]:null},t.prototype.hasId=function(t){return-1!==this.viewIds.indexOf(t)},t.prototype.getViewIds=function(){return this.viewIds},t.prototype.getIndexOfViewInjection=function(t){return this.viewIds.indexOf(t)},t.prototype.withoutId=function(){if(!1===this.isWithoutId)throw Error("You have already mapped this View with Id");return this.isWithoutId=!0,this.viewInjectionMappings[0]||this.viewInjectionMappings.push(new i.ViewInjectionMapping(this)),this.viewInjectionMappings[0]},t.prototype.withId=function(t){if(this.isWithoutId)throw Error("You have already mapped this View WITHOUT Id.");if(this.isWithoutId=!1,!this.hasId(t)){var e=new i.ViewInjectionMapping(this,t);return this.viewIds.push(t),this.viewInjectionMappings.push(e),e}return this.getViewBinding(t)},t.prototype.asBinding=function(){return this.injectionMapping},t.prototype.getAllMediatorMappings=function(){var t=[];if(this.isWithoutId)return[this.getViewBinding().getMediatorMapping().getMapping()];for(var e=0,n=this.getViewIds();e<n.length;e++){var i=n[e],o=this.getViewBinding(i).getMediatorMapping();if(o){for(var r=o.getMapping(),a=!1,s=0,u=t;s<u.length;s++){if(u[s]===r){a=!0;break}}a||t.push(r)}}return t},t.prototype.destroyViewInstance=function(t){var e=this.getViewBinding(t.id);e&&e.destroyViewInstance(t)},t.prototype.getViewInstance=function(t){var e=this.isWithoutId||!t?0:this.getIndexOfViewInjection(t);if(-1!==e&&this.viewInjectionMappings[e])return this.viewInjectionMappings[e].getViewInstance();throw Error("TBD")},t.prototype.getViewInstanceForMediator=function(t){var e=this.findViewMappingForMediator(t);if(e)return this.getViewInstance(e.getViewId());throw Error("You didn't map your mediator to the view")},t.prototype.findViewMappingForMediator=function(t){for(var e=0,n=this.viewInjectionMappings;e<n.length;e++){var i=n[e],o=i.getMediatorMapping();if(o&&o.getMediatorConstructor()===t)return i}return null},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(t){this.kernel=t}return t.prototype.initBuildLayout=function(t){this.buildLayoutCallback||(this.buildLayoutCallback=t)},t.prototype.getView=function(t){this.allViewBindings||(this.allViewBindings=this.kernel.getAllViewsBindings());for(var e=this.allViewBindings,n=0,i=e;n<i.length;n++){var o=i[n];if(o.asView().hasId(t))return o.asView().getViewInstance(t)}return null},t.prototype.destroyView=function(t){this.allViewBindings||(this.allViewBindings=this.kernel.getAllViewsBindings());for(var e=this.allViewBindings,n=0,i=e;n<i.length;n++){i[n].asView().destroyViewInstance(t)}},t.prototype.getViewComponent=function(t){if(this.contentManager||(this.contentManager=this.kernel.get(i.ContentManager)),this.allViewBindings||(this.allViewBindings=this.kernel.getAllViewsBindings()),!this.buildLayoutCallback)throw Error("LayoutManager is not set");return this.buildLayoutCallback(t)},t.prototype.viewComponentExists=function(t){return!!this.contentManager.getLibraryComponent(t)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.density="xhdpi",this.config=null,this.dictionary=null}return t.prototype.setConfig=function(t){this.config=t},t.prototype.setLanguage=function(t){this.lang=t},t.prototype.setDictionary=function(t){this.dictionary=t},t.prototype.getLanguage=function(){return this.lang||"en"},t.prototype.getConfigPart=function(t){var e=this.config;return e&&e[t]},t.prototype.i18n=function(t){return this.hasI18n(t)?this.dictionary[t]:t},t.prototype.hasI18n=function(t){return this.dictionary&&t in this.dictionary},t.prototype.getLibraryComponent=function(t){var e=this.getFirstExistingLibraryComponent([t+"_desktop_"+this.lang,t+"_desktop",t+"_"+this.lang,t]);return e&&e.id!==t&&(e=Object.assign({},e),e.id=t),e},t.prototype.getFirstExistingLibraryComponent=function(t){for(var e=this.getConfigPart("library"),n=0;n<t.length;n++)if(e[t[n]])return e[t[n]]},t.prototype.setScreenDensity=function(t){this.density=t},t.prototype.getScreenDensity=function(){return this.density},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(41),o=n(42),r=n(8),a=function(){function t(){var t=this;this.dispatcher=n.i(i.a)(r.a);var e,a,s={hidden:"visibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange",webkitHidden:"webkitvisibilitychange"};for(var u in s)if(s.hasOwnProperty(u)&&u in document){e=u,a=s[u];break}document.addEventListener(a,function(){t.dispatcher.dispatch(o.a.VISIBILITY_CHANGED,!!document[e])})}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){var t=this;this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.disableLock=new i.Lock,addEventListener("keydown",function(e){return t.onKeyDown(e)}),addEventListener("keyup",function(e){return t.onKeyUp(e)})}return t.prototype.onKeyDown=function(t){this.disableLock.isLocked||32===t.keyCode&&this.dispatcher.dispatch(i.KeyboardEvent.SPACEBAR)},t.prototype.onKeyUp=function(t){this.disableLock.isLocked||32===t.keyCode&&this.dispatcher.dispatch(i.KeyboardEvent.SPACEBAR_UP)},t.prototype.addDisableLock=function(t){this.disableLock.add(t),this.dispatcher.dispatch(this.disableLock.isLocked?i.KeyboardEvent.LOCKED:i.KeyboardEvent.UNLOCKED)},t.prototype.removeDisableLock=function(t){this.disableLock.remove(t),this.dispatcher.dispatch(this.disableLock.isLocked?i.KeyboardEvent.LOCKED:i.KeyboardEvent.UNLOCKED)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(45),r=function(){function t(){var t=this;this.contentManager=n.i(i.inject)(i.ContentManager),this.loader=n.i(i.inject)(i.ApplicationAssetsLoader),this.isLazyAssetsLoaded=!1,this.onPreloaderAssetsLoaded=new Promise(function(e,n){t.loader.addListener(i.AssetLoadingQueueEvent.PRELOADER_ASSETS_LOADED,e).once(),t.loader.addListener(i.AssetLoadingQueueEvent.PRELOADER_ASSETS_ERROR,n).once()}),this.onInitialAssetsLoaded=new Promise(function(e,n){t.loader.addListener(i.AssetLoadingQueueEvent.INITIAL_ASSETS_LOADED,e).once(),t.loader.addListener(i.AssetLoadingQueueEvent.INITIAL_ASSETS_ERROR,n).once()}),this.onLazyAssetsLoaded=new Promise(function(e){return t.loader.addListener(i.AssetLoadingQueueEvent.LAZY_ASSETS_LOADED,function(n){t.isLazyAssetsLoaded=!0,e(n)}).once()})}return t.prototype.loadHtml=function(t){return fetch(t).then(function(t){return t.ok?t.text():Promise.reject(t.statusText)})},t.prototype.loadJson=function(t){return this.jsonLoader(t)},t.prototype.loadFonts=function(t){return new Promise(function(e){Promise.all(t.map(function(t){return new FontFaceObserver(t.family,t).load()})).then(e).catch(function(t){e()})})},t.prototype.loadConfig=function(t){var e=this;return this.loadJson(t).then(function(t){return e.contentManager.setConfig(t),e.loader.addGameBuilderResources(t),Promise.resolve()})},t.prototype.loadLocalization=function(t){var e=this,n="config/i18n/"+t+"/i18n.json";return this.loadJson(n).then(function(t){return e.contentManager.setDictionary(t),Promise.resolve()})},t.prototype.loadPreloadAssets=function(){return this.loader.preloadFileSet.load(),this.onPreloaderAssetsLoaded},t.prototype.cancelPreloadAssets=function(){this.loader.preloadFileSet.cancel()},t.prototype.getPreloadErrors=function(){return this.loader.preloadFileSet.loadErrors},t.prototype.addAssetsToInitial=function(t){var e=Array.isArray(t)?t:[t];this.loader.addResourcesToInitial(e)},t.prototype.loadInitialAssets=function(t){return this.loader.initialFileSet.addListener(i.LibraryAssetEvent.LOAD_PROGRESS_EVENT,function(e){if(t){var n=100*e.data.loadProgress;n>0&&t(n)}}),this.loader.initialFileSet.load(),this.onInitialAssetsLoaded},t.prototype.cancelInitialAssets=function(){this.loader.initialFileSet.cancel()},t.prototype.getInitialErrors=function(){return this.loader.initialFileSet.loadErrors},t.prototype.checkIfResourceExist=function(t){return!!this.loader.getAssetById(t)||!!this.loader.getGroupById(t)},t.prototype.onCompleteResourceLoad=function(t,e){var n=this;void 0===e&&(e=this),this.onResourceLoad={callback:t,scope:e},this.loader.addListener(i.SBResourceEvent.LOADED,function(t){n.onResourceLoad.callback.call(n.onResourceLoad.scope,t)})},t.prototype.onCompleteSingleResourceLoad=function(t,e){var n=this.loader.getAssetById(t);if(n)return void n.addListener(i.SBResourceEvent.LOADED,e);var r=this.loader.getGroupById(t);r&&r.addListener(o.a.LOADED,e)},t.prototype.loadLazyAssets=function(){return this.loader.lazyFileSet.load(),this.onLazyAssetsLoaded},t.prototype.isResourcesLoaded=function(t){for(var e=Array.isArray(t)?t:[t],n=0,i=e;n<i.length;n++){var o=i[n];if(!this.loader.getIsResourceLoaded(o))return!1}return!0},t.prototype.loadImmediately=function(t){var e=Array.isArray(t)?t:[t];return this.loader.loadResources(e)},t.prototype.jsonLoader=function(t){return new Promise(function(e,n){fetch(t).then(function(t){200!==t.status?n(t):t.json().then(e).catch(n)}).catch(n)})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={STATE_CHANGE:"STATE_CHANGE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SPACEBAR:"KeyboardEvent.spacebar",SPACEBAR_UP:"KeyboardEvent.spacebarUp",LOCKED:"KeyboardEvent.LOCKED",UNLOCKED:"KeyboardEvent.UNLOCKED"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={RENDER:"RENDER",RESIZE:"RESIZE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher)}return t.prototype.destroy=function(){},t.prototype.setMediatorView=function(t){this.mediatorView=t},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher)}return t.prototype.destroy=function(){},t.prototype.getId=function(){return"You should provide id of your class."},t.getChangeEvent=function(t){return"model:"+t+"-changed"},t.prototype.changeState=function(){this.dispatcher.dispatch(t.getChangeEvent(this.getId()),this)},t}()},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(0),o=n(8),r=n(44),a=n(276),s=n(37),u=n(10),l=n(14),c=function(t){function e(){var e=t.call(this)||this;return e.preloadFileSet=new s.a({name:"preload",maxSimultaneousDownloads:1}),e.preloadFileSet.addListener(u.a.LOAD_ERROR_EVENT,e.onPreloadError,e),e.preloadFileSet.addListener(u.a.LOAD_COMPLETE_EVENT,e.onPreloadComplete,e),e.initialFileSet=new s.a({name:"initial",maxSimultaneousDownloads:1}),e.initialFileSet.addListener(u.a.LOAD_ERROR_EVENT,e.onInitialError,e),e.initialFileSet.addListener(u.a.LOAD_COMPLETE_EVENT,e.onInitialComplete,e),e.lazyFileSet=new s.a({name:"lazy",maxSimultaneousDownloads:1}),e.lazyFileSet.addListener(u.a.LOAD_ERROR_EVENT,e.onLazyError,e),e.lazyFileSet.addListener(u.a.LOAD_COMPLETE_EVENT,e.onLazyComplete,e),e}return i.a(e,t),e.prototype.addGameBuilderResources=function(t){var e=this,n=new a.a;n.parse(t),this.resources={},this.groups=n.getGroups(),n.getResources().forEach(function(t){switch(e.resources[t.id]=t,t.addListener(l.a.LOADED,e.onResourceLoad,e),t.loadDelayPriority){case 0:e.preloadFileSet.addAsset(t.loader);break;case 1:e.initialFileSet.addAsset(t.loader);break;case 2:e.lazyFileSet.addAsset(t.loader)}})},e.prototype.getIsResourceLoaded=function(t){var e=this.groups[t];if(e){for(var n=0,i=0,o=e.resources;i<o.length;i++){n+=o[i].loader.isLoaded?1:0}return n===e.resources.length}var r=this.resources[t];return!!r&&r.loader.isLoaded},e.prototype.addResourcesToInitial=function(t){for(var e=0,n=t;e<n.length;e++)for(var i=n[e],o=this.getLoadersOfResource(i),r=0,a=o;r<a.length;r++){var s=a[r];this.initialFileSet.addAsset(s)}},e.prototype.loadResources=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var o=i[n];this.getLoadersOfResource(o).forEach(function(t){t.isLoaded||(e.push(new Promise(function(e,n){var i=function(t){e()},o=function(t){n()};t.addListener(u.a.LOAD_COMPLETE_EVENT,i).once(),t.addListener(u.a.LOAD_ERROR_EVENT,o).once()})),t.load())})}return Promise.all(e)},e.prototype.getLoadersOfResource=function(t){var e=[],n=this.groups[t];if(n)for(var i=0,o=n.resources;i<o.length;i++){var r=o[i];e.push(r.loader)}var a=this.resources[t];return a&&e.push(a.loader),e},e.prototype.getAssetById=function(t){return this.resources[t]},e.prototype.getGroupById=function(t){return this.groups[t]},e.prototype.onResourceLoad=function(t){this.dispatch(l.a.LOADED,t)},e.prototype.onPreloadError=function(t){t.data;this.dispatch(r.a.PRELOADER_ASSETS_ERROR)},e.prototype.onPreloadComplete=function(t){this.dispatch(r.a.PRELOADER_ASSETS_LOADED)},e.prototype.onInitialError=function(t){t.data;this.dispatch(r.a.INITIAL_ASSETS_ERROR)},e.prototype.onInitialComplete=function(t){this.dispatch(r.a.INITIAL_ASSETS_LOADED)},e.prototype.onLazyError=function(t){t.data;this.dispatch(r.a.LAZY_ASSETS_ERROR)},e.prototype.onLazyComplete=function(t){this.dispatch(r.a.LAZY_ASSETS_LOADED)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.cache={}}return t.prototype.add=function(t,e){this.cache[t],this.cache[t]=e},t.prototype.get=function(t){return this.cache[t]},t.prototype.remove=function(t){this.cache[t]=null,delete this.cache[t]},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(43),o=n(46),r=n(1),a=n(48),s=n(47),u=function(){function t(){this.loadTypeToPriority={preload:0,initial:1,lazy:2},this.loaderProvider=n.i(r.inject)(o.a),this.loaders={},this.resources=[],this.groups={};var t=n.i(r.inject)(r.ContentManager);this.locale=t.getLanguage(),this.density=t.getScreenDensity(),this.soundExt="ogg"}return t.prototype.getResources=function(){return this.resources},t.prototype.getGroups=function(){return this.groups},t.prototype.parse=function(t){var e=this,n=function(t,n,i,o){var r=n.call(e,t,i,o);e.resources.push(r),e.parseResourceGroups(t,r)};t.resources.forEach(function(t){t.url=e.getFullUrl(t.url);var i=e.getLoadType(t);n(t,e.createLibraryAsset,e.loadTypeToPriority[i],e.loaders)})},t.prototype.getLoadType=function(t){for(var e=0;e<t.groups.length;e++){var n=t.groups[e],o=n.groupName;if(i.a[o.toLocaleUpperCase()]){var r=n.groupName;return t.groups.splice(e,1),r}}return null},t.prototype.parseResourceGroups=function(t,e){if(t.groups&&t.groups.length>0)for(var n=0,i=t.groups;n<i.length;n++){var o=i[n],r=o.groupName;this.groups[r]||(this.groups[r]=new s.a(r)),this.groups[r].addResource(e)}},t.prototype.createLibraryAsset=function(t,e,n){var i,o=t.url;switch(t.resourceType){case"atlas":i=this.loaderProvider.getSpriteSheetLoader();break;case"json":i=this.loaderProvider.getJsonLoader();break;case"spine":i=this.loaderProvider.getSpineLoader();break;case"texture":i=this.loaderProvider.getImageLoader();break;case"bitmap_font":i=this.loaderProvider.getBitmapFontLoader();break;case"sound":i=this.loaderProvider.getSoundLoader(),o=this.getSoundUrl(t.url);var r=n[o];r&&r.registerId(t.name);break;case"file":case"unknown":i=".json"===t.url.slice(-5)?this.loaderProvider.getJsonLoader():this.loaderProvider.getFileLoader();break;default:throw Error("Unknown resource type: "+t.resourceType)}var s=n[o];return s||(s=new i(o,t.name),n[o]=s),new a.a(t.name,e,s)},t.prototype.getFullUrl=function(t){return t.replace("{density}",this.density).replace("{locale}",this.locale)},t.prototype.getSoundUrl=function(t){return t.replace("{type}",this.soundExt)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this.context=t,this.addInjection(t.kernel)}return t.prototype.isModuleActivated=function(t){return!this.context.modules.every(function(e){return e.constructor!==t})},t.prototype.addInjection=function(t){},t.prototype.onActivation=function(){},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){this.map={}}return t.prototype.get=function(t){var e=i.UniqueUtils.getObjectUniqueId(t);return this.map[e]},t.prototype.add=function(t,e){var n=i.UniqueUtils.getObjectUniqueId(t);this.map[n]=e},t.prototype.remove=function(t){var e=i.UniqueUtils.getObjectUniqueId(t);delete this.map[e]},t.prototype.forEach=function(t){for(var e,n=Object.keys(this.map),i=n.length,o=0;o<i;o++)e=n[o],t(this.map[e])},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0),this.isCorrect=t,this.topIndex=e,this.bottomIndex=n}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){void 0===t&&(t=[]),this.list=t}return t.prototype.add=function(t){return this.list.push(t),this},t.prototype.remove=function(t){var e=this.list;return e.splice(e.indexOf(t),1),this},t.prototype.first=function(){return this.list.shift()},t.prototype.removeAll=function(t){return this.where(t,!0)},t.prototype.where=function(e,n){return new t(this.filter(e,n))},t.prototype.hasAny=function(t){return void 0===t&&(t=null),this.where(t).getCount()>0},t.prototype.has=function(t){return this.list.indexOf(t)>=0},t.prototype.getCount=function(){return this.list.length},t.prototype.toArray=function(){var t=[];return this.list.forEach(function(e){t.push(e)}),t},t.prototype.filter=function(t,e){void 0===e&&(e=!1);for(var n=this.list,i=n.length,o=[];i--;){var r=n[i];this.shouldBeAdded(r,t)!==e&&o.push(r)}return o},t.prototype.shouldBeAdded=function(t,e){for(var n in e)if(e.hasOwnProperty(n)&&t.hasOwnProperty(n)){var i="number"==typeof e[n]||"string"==typeof e[n];if((e[n]||i)&&e[n]!==t[n])return!1}return!0},t.prototype.each=function(t){for(var e=this.list,n=e.length;n--;){t(e[n],n,this)}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.lockers=[]}return t.prototype.add=function(t){-1===this.lockers.indexOf(t)&&this.lockers.push(t)},t.prototype.remove=function(t){var e=this.lockers.indexOf(t);-1!==e&&this.lockers.splice(e,1)},t.prototype.reset=function(){this.lockers=[]},Object.defineProperty(t.prototype,"isLocked",{get:function(){return this.lockers.length>0},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){this.list=new i.List}return t.prototype.getAll=function(){return this.list.where(null)},t.prototype.getByFilter=function(t){return this.list.where(t)},t.prototype.hasByFilter=function(t){return this.list.hasAny(t)},t.prototype.add=function(t){return this.has(t)||this.list.add(t),t},t.prototype.remove=function(t){return this.list=this.list.remove(t),t},t.prototype.first=function(){return this.list.first()},t.prototype.removeByFilter=function(t){var e=this.list.getCount();return this.list=this.list.removeAll(t),e-this.list.getCount()},t.prototype.countByFilter=function(t){return this.list.where(t).getCount()},t.prototype.has=function(t){return this.list.has(t)},t.prototype.count=function(){return this.list.getCount()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.guards=[],this.executeOnce=!1}return t.prototype.isOnce=function(){return this.executeOnce},t.prototype.once=function(){return this.executeOnce=!0,this},t.prototype.withGuards=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Array.prototype.push.apply(this.guards,t),this},t.prototype.executionAllowedByGuards=function(t){for(var e=0,n=this.guards;e<n.length;e++){if(!(0,n[e])(t))return!1}return!0},t.prototype.createFilter=function(e){if(!e)return{};for(var n={},i=t.extractAllProperties(this),o=0,r=i;o<r.length;o++){var a=r[o];a in e&&typeof this[a]==typeof e[a]&&(n[a]=e[a])}return n},t.extractAllProperties=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&"guards"!==n&&"executeOnce"!==n&&e.push(n);return e},t}()},function(t,e,n){"use strict";!function(){function t(t,e,n){this.tape=t,this.frameSize=e,this.nextFrame=[],this.currentFrame=[],this.oldFrame=[],this.currentTapeIndex=0,n&&this.setFrame(n)}t.prototype.setFrame=function(t){this.currentFrame.length?this.nextFrame=t:this.currentFrame=t},t.prototype.getFrame=function(){return this.currentFrame},t.prototype.getTape=function(){return this.tape},t.prototype.goNext=function(){var t,e=this.currentFrame.pop();this.nextFrame.length?(t=this.nextFrame.pop(),this.oldFrame.push(e)):(this.oldFrame.length&&(this.oldFrame=[]),this.currentTapeIndex=(this.currentTapeIndex-1+this.getLength())%this.getLength(),t=this.tape[this.currentTapeIndex]),this.currentFrame.unshift(t)},t.prototype.goToFrame=function(t){this.nextFrame=t.slice()},t.prototype.getLength=function(){return this.tape.length},t.prototype.getTapeWithFramePart=function(t){var e=[];return e.push.apply(e,this.getPrevCells(t).concat(this.getFrame(),this.getNextCells(t))),e},t.prototype.getNextCells=function(t){var e=[],n=this.currentTapeIndex,i=t-this.oldFrame.length;for(e.push.apply(e,this.oldFrame.slice());i;)e.push(this.tape[n]),n=(n+1)%this.getLength(),i--;return e},t.prototype.getPrevCells=function(t){for(var e=[],n=(this.currentTapeIndex-1+this.getLength())%this.getLength(),i=t-this.nextFrame.length;i;)e.unshift(this.tape[n]),n=(n-1+this.getLength())%this.getLength(),i--;return e.push.apply(e,this.nextFrame.slice()),e}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(t,e,n,i){void 0===i&&(i=!0),this.tape=t,this.frameSize=e,this.isNormalDirection=i,this.frame=[],this.leftIndex=0,this.rightIndex=0,this.dirtyBottomIndexes=[],this.dirtyTopIndexes=[],this.additionalFrameSymbolsCount=0,n?this.setFrame(n):this.setFrame(t.slice(0,e))}return t.prototype.setFrame=function(t){var e=this.validateFrame(t);e&&(this.leftIndex=this.prevIndex(e.topIndex),this.rightIndex=this.nextIndex(e.bottomIndex),this.frame=t)},t.prototype.getFrame=function(){return this.frame.slice()},t.prototype.getTape=function(){return this.tape},t.prototype.getLength=function(){return this.tape.length},t.prototype.correctIndexes=function(){if(this.isNormalDirection){this.leftIndex=this.prevIndex(this.leftIndex);var t=this.prevIndex(this.rightIndex),e=this.dirtyBottomIndexes;e.length&&(1===e.length?t=e.pop():e.pop()),this.rightIndex=t}else{this.rightIndex=this.nextIndex(this.rightIndex);var n=this.nextIndex(this.leftIndex),e=this.dirtyBottomIndexes;e.length&&(1===e.length?n=e.pop():e.pop()),this.leftIndex=n}},t.prototype.goNext=function(){this.isNormalDirection?(this.frame.pop(),this.frame.unshift(this.tape[this.leftIndex])):(this.frame.shift(),this.frame.push(this.tape[this.rightIndex])),this.correctIndexes()},t.prototype.goToFrame=function(t){var e=this.validateFrame(t);if(!e.isCorrect)throw Error("the requested frame does not exist");this.isNormalDirection?(this.leftIndex=this.correctTapeIndex(e.bottomIndex+this.additionalFrameSymbolsCount),this.dirtyBottomIndexes=[],this.prepareDirtyIndexesStack(this.dirtyBottomIndexes,this.leftIndex,this.rightIndex)):(this.rightIndex=this.correctTapeIndex(e.topIndex-this.additionalFrameSymbolsCount),this.dirtyTopIndexes=[],this.prepareDirtyIndexesStack(this.dirtyTopIndexes,this.rightIndex,this.leftIndex))},t.prototype.prepareDirtyIndexesStack=function(t,e,n){e=this.isNormalDirection?this.nextIndex(e):this.prevIndex(e),t.push(e);for(var i=0;i<this.frameSize-1;i++)n=this.isNormalDirection?this.nextIndex(n):this.prevIndex(n),t.push(n)},t.prototype.validateFrame=function(t){var e=0,n=0,o=t.length,r=this.tape,a=this.getLength();if(o!==this.frameSize)return new i.FrameValidation(!1);var s=0,u=0,l=!1;do{if(r[s]===t[u]){if(0===u&&(e=s),++u===o){n=s,l=!0;break}}else{e=0,n=0;var c=s-u;c<0&&(c=a+c),s=c,u=0}s=(s+1)%a}while(0!==u||0!==s);return new i.FrameValidation(l,e,n)},t.prototype.getTapeWithFramePart=function(t){var e=[];return e.push.apply(e,this.getPrevCells(t).concat(this.getFrame(),this.getNextCells(t))),e},t.prototype.nextIndex=function(t){return t===this.tape.length-1?0:t+1},t.prototype.prevIndex=function(t){return 0===t?this.tape.length-1:t-1},t.prototype.correctTapeIndex=function(t){return t<0&&(t=this.tape.length-t),t%this.tape.length},t.prototype.getNextCells=function(t){for(var e=[],n=this.rightIndex;t;)e.push(this.tape[n]),n=this.nextIndex(n),t--;return e},t.prototype.getPrevCells=function(t){for(var e=[],n=this.leftIndex;t;)e.unshift(this.tape[n]),n=this.prevIndex(n),t--;return e},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={CELL_HEIGHT:"ch",CELL_WIDTH:"cw",SPIN_SETTINGS:"ss",REELS:"c",REEL_HEIGHT:"r",LINES:"l"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SOUND_LOADED:"SOUND_LOADED",MUTE:"MUTE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(50),o=createjs.PlayPropsConfig,r=function(){function t(t){this.id=t,this.offset=0,this.pan=0,this._volume=1,this.loaded=!1,this.instance=createjs.Sound.createInstance(t)}return t.prototype.play=function(t,e){var n=this;void 0===t&&(t=0),void 0===e&&(e=!1),this.isPlaying()&&this.stop(),this.loopsCount=t;var i=this.getSoundConfig();e?i.loop=t:0!==t&&this.instance.on("complete",function(){return n.onSoundCompleted()}),this.instance.play(i)},t.prototype.playInstance=function(t,e){return void 0===t&&(t=1),new i.a(this.id,this.getSoundConfig(),t,e)},t.prototype.onSoundCompleted=function(){0!==this.loopsCount&&(this.loopsCount>0&&this.loopsCount--,this.instance.play(this.getSoundConfig()))},t.prototype.getSoundConfig=function(){return o.create({volume:this._volume,pan:this.pan,offset:this.offset,startTime:this.startOffset})},t.prototype.isPlaying=function(){return this.instance&&this.instance.playState===createjs.Sound.PLAY_SUCCEEDED},t.prototype.stop=function(){this.instance.stop()},t.prototype.mute=function(){this.instance.muted=!0},t.prototype.unMute=function(){this.instance.muted=!1},t.prototype.pause=function(){this.instance.paused=!0},t.prototype.resume=function(){this.instance.paused=!1},Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.instance.volume=t},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.removeItem=function(e,n,i){void 0===i&&(i=t.REMOVE_COUNT_ALL);var o;i===t.REMOVE_COUNT_ALL&&(i=Number.MAX_VALUE);for(var r=0,a=e.indexOf(n);-1!==a&&r<i;)e.splice(a,1),a=e.indexOf(n,a),r++,o=!0;return o},t.removeItemsFromArray=function(e,n){for(var i,o=0;o<n.length;o++)i=n[o],t.removeItem(e,i)},t.getRandomItem=function(e,n){var i;if(e&&e.length>0){n&&(e=e.concat(),t.removeItemsFromArray(e,n));i=e[Math.floor(Math.random()*e.length)]}return i},t.removeDuplicates=function(e){return e.filter(t.removeDuplicatesFilter)},t.removeDuplicatesFilter=function(t,e,n){return 0===e||-1===n.lastIndexOf(t,e-1)},t.REMOVE_COUNT_ALL=-1,t}()},function(t,e,n){"use strict";!function(){function t(){}t.convertMsToSeconds=function(t){return t/1e3}}()},function(t,e,n){"use strict";!function(){function t(){}t.mapObjectToGlobalId=function(t,e,n){for(var i=n+"_"+e,o=0;window[i]&&window[i]!==t;)i=n+"_"+e+"_"+o++;t.windowId=i,window[i]=t}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.transpose=function(t){for(var e=[],n=t.length,i=0;i<n;i++)for(var o=0;o<t[i].length;o++)e[o]||(e[o]=[]),e[o][i]=t[i][o];return e},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.isObject=function(t){return t===Object(t)},t.mergeObjects=function(e,n){for(var i in e)e.hasOwnProperty(i)&&t.copyParam(e,n,i)},t.copyParam=function(e,n,i){Array.isArray(e[i])?(n[i]||(n[i]=[]),t.mergeObjects(e[i],n[i])):t.isObject(e[i])?(n[i]||(n[i]={}),t.mergeObjects(e[i],n[i])):n[i]=e[i]},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.substituteByList=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return t.substitute(e,n)},t.substitute=function(t,e){return t.replace(/\{([^}]*)}/gi,function(t,n){return e[n]})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.to=function(t,e,n){return new Promise(function(i){TweenLite.to(t,e,Object.assign({},n,{onComplete:i}))})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={OVERRIDE_NONE:"none",LAG_SMOOTHING_DEFAULT_THRESHOLD:500,LAG_SMOOTHING_DEFAULT_ADJUSTED_LAG:33}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.getObjectUniqueId=function(e){return e.hasOwnProperty(t.UNIQUE_ID_PROP_NAME)||(t.prevGlobalUniqueId=t.globalUniqueId,t.globalUniqueId++,t.globalUniqueId===t.prevGlobalUniqueId&&(t.globalUniqueId=0),e[t.UNIQUE_ID_PROP_NAME]=""+t.globalUniqueId),e[t.UNIQUE_ID_PROP_NAME]},t.UNIQUE_ID_PROP_NAME="skywindTechUniqueId",t.globalUniqueId=0,t.prevGlobalUniqueId=0,t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){}return t.checkShortMode=function(e){var n=-1;do{if(e%1e3!=0){e/1e3>1&&e%10==0&&n++;break}e/=1e3,n++}while(n<t.shortModeSuffix.length);return n},t.checkDecimals=function(e,n){var i=e.toFixed(t.config.decimalPartDigitsCount),o=parseFloat(i),r=2===n||0===n&&o!==Math.floor(o),a=r?i:e.toFixed(0);return"."!==t.config.decimalPartSeparatorCharacter&&(a=a.replace(".",t.config.decimalPartSeparatorCharacter)),t.config.realPartSeparationDigitsCount>0&&(a=a.replace(t.groupRegexp,"$1"+t.config.realPartSeparatorCharacter)),a},t.getFormattedCurrencySign=function(){var e=t.currencySymbol;return t.config.appendCurrencyToLeft?e+this.addSeparator(e):this.addSeparator(e)+e},t.formatNumber=function(e,n){var i=0,o=t.currencySymbol,r=t.config.showCurrency,a=t.config.shortMode;n&&("decimalPartAppendType"in n&&(i=n.decimalPartAppendType),"showCurrency"in n&&(r=n.showCurrency),"shortMode"in n&&(a=n.shortMode));var s="";if(a){for(var u=t.checkShortMode(e),l=-1;l<u;l++)e/=1e3;u>=0&&(s=t.shortModeSuffix[u])}var c=t.checkDecimals(e,i);return r&&o?t.config.appendCurrencyToLeft?this.getFormattedCurrencySign()+c+s:s+c+this.getFormattedCurrencySign():o&&o.length>1&&t.config.appendCurrencyToLeft?" "+c+s:c},t.addSeparator=function(t){return t.length>1?" ":""},t.formatNumberAutoDecimalsForTickup=function(e,n,i,o,r){return r||(r={}),r.decimalPartAppendType=t.getDecimalPartAppendingTypeForTickup(e,n,i,o),t.formatNumber(e,r)},t.getDecimalPartAppendingTypeForTickup=function(e,n,i,o){if(e===n)return 0;var r=parseFloat(e.toFixed(t.config.decimalPartDigitsCount)),a=parseFloat(n.toFixed(t.config.decimalPartDigitsCount)),s=parseFloat(i.toFixed(t.config.decimalPartDigitsCount)),u=parseFloat(o.toFixed(t.config.decimalPartDigitsCount));return r===a?0:a!==Math.floor(a)||s!==Math.floor(s)||u!==Math.floor(u)?2:1},t.config=new i.MoneyFormatterConfig,t.currencySymbol="",t.shortModeSuffix=["K","M","B"],t.groupRegexp=RegExp("(\\d)(?=(\\d{"+t.config.realPartSeparationDigitsCount+"})+(?!\\d))","g"),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.showCurrency=!0,this.decimalPartSeparatorCharacter=".",this.decimalPartDigitsCount=2,this.realPartSeparatorCharacter=",",this.realPartSeparationDigitsCount=3,this.appendCurrencyToLeft=!0,this.shortMode=!1}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.getRandom=function(t,e,n){var i=t+Math.random()*(e-t);if(n)switch(n){case 1:i=Math.floor(i);break;case 2:i=Math.round(i);break;case 3:i=Math.ceil(i)}return i},t.convertToDecimal=function(t){return"string"==typeof t?parseInt(t,16):t},t.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.setTimeout=function(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var r=this.getId();return this.timers[r]=TweenLite.delayedCall(e/1e3,t,i,n),r},t.clearTimeout=function(t){this.clearById(t)},t.setInterval=function(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var r=this.getId(),a=TweenLite.delayedCall(e/1e3,function(){t.apply(n,i),a.restart(!0,!0)});return this.timers[r]=a,r},t.clearInterval=function(t){this.clearById(t)},t.clearById=function(t){var e=this.timers[t];e&&(e.kill(),delete this.timers[t])},t.getId=function(){return this.maxInteger=this.maxInteger||Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,this.lastId>=this.maxInteger&&(this.lastId=0),this.lastId++},t.timers={},t.lastId=0,t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(2),o=n(4),r=n(1),a=function(){function t(t){this.context=t,this.initialize()}return t.prototype.initialize=function(){var t=this;this.addModule(new o.r(this.context)).addModule(new o.s(this.context));var e=n.i(r.inject)(o.i);e.setContextProvider(),r.Context.getInstance().viewProvider.initBuildLayout(e.createFromLibrary.bind(e)),this.loadSlotSettings(this.context).then(function(){t.addModules(t.context),t.createEmulation(),t.addCanvas(t.context.api.device),t.addGraphicsDebugTool(),t.start()})},t.prototype.getListCss=function(){return["css/"+this.context.slotSettings.language+"/desktop.css"]},t.prototype.createCssLink=function(t){var e=document.createElement("link");return e.rel="stylesheet",e.href=t,e},t.prototype.loadCss=function(){var t=this,e=document.createDocumentFragment();this.getListCss().forEach(function(n){return e.appendChild(t.createCssLink(n))}),document.head.appendChild(e)},t.prototype.addCanvas=function(t){var e=t.getScreenResolution(),i=n.i(r.inject)(o.b);e.height-=this.context.api.getBottomMargin()||0,i.create(e.width,e.height),document.body.appendChild(i.getCanvasElement())},t.prototype.addGraphicsDebugTool=function(){},t.prototype.start=function(){this.context.activate(),this.gameManager=n.i(r.inject)(i.GameFlowManager),this.gameManager.startGame()},t.prototype.loadConfigFiles=function(t){var e=t.slotSettings,i=n.i(r.inject)(r.LoadManager),o=i.loadJson(e.slotSettingsFile).then(function(t){return new Promise(function(n){return i.loadJson(e.productionServerFile).then(function(e){t.SERVER_URL=e.url,n(t)})})}).then(function(t){return e.slotSettingsData=t}),a=[o];return Promise.all(a)},t.prototype.loadSlotSettings=function(t){var e=this,n=t.slotSettings;return this.loadConfigFiles(t).then(function(){t.api.setupGameParameters(n.slotSettingsData,n.predefinedCombinationData),t.slotSettings.language=t.api.getLocale(),e.loadCss(),t.setSlotParameters(n.slotParameters)})},t.prototype.addModule=function(t){return this.context.modules.push(t),this},t.prototype.addModules=function(t){this.addModule(new i.ContextModule(t)).addModule(new i.APIModule(t)).addModule(new i.MoneyFormatterModule(t)).addModule(new i.WinCappingModule(t)).addModule(new i.RegulationsModule(t)).addModule(new i.SwipeModule(t)).addModule(new i.ServerModule(t)).addModule(new i.UIModule(t)).addModule(new i.GameFlowModule(t)).addModule(new i.GameStartModule(t)).addModule(new i.GameRunModule(t)).addModule(new i.SymbolsModule(t)).addModule(new i.AutoPlayModeModule(t)).addModule(new i.WinModule(t)).addModule(new i.BaseModelsModule(t)).addModule(new i.RewardsModule(t)).addModule(new i.PayTableModule(t)).addModule(new i.MainScreenModule(t)).addModule(new i.SoundsModule(t)).addModule(new i.WrapperModule(t)).addModule(new i.InfoBarModule(t)).addModule(new i.UtilsModule(t)).addModule(new i.ManagersModule(t))},t.prototype.createEmulation=function(){},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.activate=function(t,e){window.launchGame=function(n){new e(new t(n))}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(e){var n=t.call(this)||this;return n.slotSettings=n.createSettings(),n.setWrapperApi(e),n.prepare(),n}return i.a(e,t),e.prototype.createSettings=function(){return new a.SlotInitSettings},e.prototype.prepare=function(){this.addInjections(this.kernel)},e.prototype.addInjections=function(t){t.bind(r.i).asSingleton(),t.bind(o.ContentManager).asSingleton(),t.bind(r.h).asSingleton(),t.bind(r.b).withParameters(this.api.device.isWebGLSupport,this.api.device.getParams).asSingleton().forceCreation(),t.bind(r.a).asSingleton().forceCreation(),t.bind(a.BackgroundManager).asSingleton(),t.bind(o.SoundManager).asSingleton(),t.bind(o.LoadManager).asSingleton(),t.bind(o.JsonCache).asSingleton(),t.bind(o.KeyboardEventManager).asSingleton().forceCreation(),t.bind(o.DOMManager).asSingleton().forceCreation()},e.prototype.setWrapperApi=function(t){this.api=t,this.api.onChangeSoundsVolume(function(t){n.i(o.inject)(o.SoundManager).setSoundsVolume(t)}),this.api.setButtonClickedSoundCallBack(function(){n.i(o.inject)(o.SoundManager).playSound(a.GenericSounds.BUTTON_CLICK)})},e.prototype.setSlotParameters=function(t){this.slotParameters=t},e.prototype.updateViewBalance=function(t){void 0===t&&(t=this.api.getBalance());var e=n.i(o.inject)(a.MoneyFormatterUtils).formatNumber(t,{decimalPartAppendType:2});this.api.updateViewBalance(t,e)},e}(o.Context)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={GAME_LOADED:"GAME_LOADED",GAME_LOADING:"GAME_LOADING",PLAY_CLICK:"PLAY_CLICK",ACTIVATE_SPIN:"ACTIVATE_SPIN",REELS_SPIN_STARTED:"REELS_SPIN_STARTED",REELS_SPIN_STOPPED:"REELS_SPIN_STOPPED",COLLAPSING_STOPPED:"COLLAPSING_STOPPED",CLICK_SCREEN:"CLICK_SCREEN",HIDE_REEL_SYMBOLS:"HIDE_REEL_SYMBOLS",SHOW_REEL_SYMBOLS:"SHOW_REEL_SYMBOLS",REELS_CLICK:"REELS_CLICK",ANYWHERE_CLICK:"ANYWHERE_CLICK",REELS_SWIPE:"REELS_SWIPE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.dataFile="./game-meta-desktop.json",this.language="",this.slotSettingsFile="./settings.json",this.productionServerFile="config/server.json",this.emulationDataFile="",this.predefinedCombinationDataFile="",this.slotParametersFile="",this.slotParameters={},this.fonts=[]}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(e){var i=t.call(this,e)||this;return n.i(o.inject)(r.APIModel).api=e.api,i}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(r.APIModel).asSingleton().forceCreation()},e}(r.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.AutoPlayModeModel).asSingleton().asModel()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={AUTO_PLAY_MODE_CHANGE:"AUTO_PLAY_MODE_CHANGE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this._autoSpinAllowed=!1,this._autoModeWinAnimationsAllowed=!1,this._autoSpinBlocked=!1,this._autoModeWinAnimationsBlocked=!1,this.activatorsMap=new i.Dictionary}return Object.defineProperty(t.prototype,"autoSpinAllowed",{get:function(){return this._autoSpinAllowed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoModeWinAnimationsAllowed",{get:function(){return this._autoModeWinAnimationsAllowed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSpinBlocked",{get:function(){return this._autoSpinBlocked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoModeWinAnimationsBlocked",{get:function(){return this._autoModeWinAnimationsBlocked},enumerable:!0,configurable:!0}),t.prototype.changeBy=function(t,e,n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1),this.activatorsMap.get(t)||this.activatorsMap.add(t,{activator:t});var r=this.activatorsMap.get(t);r.allowAutoSpin=e,r.allowAutoModeWinAnimations=n,r.blockAutoSpin=i,r.blockAutoModeWinAnimations=o,this.commitData()},t.prototype.commitData=function(){var t=!1,e=!1,n=!1,i=!1;this.activatorsMap.forEach(function(o){o.allowAutoSpin&&(t=!0),o.allowAutoModeWinAnimations&&(e=!0),o.blockAutoSpin&&(n=!0),o.blockAutoModeWinAnimations&&(i=!0)});var r=!1;t===this._autoSpinAllowed&&e===this._autoModeWinAnimationsAllowed&&n===this._autoSpinBlocked&&i===this._autoModeWinAnimationsBlocked||(r=!0),this._autoSpinAllowed=t,this._autoModeWinAnimationsAllowed=e,this._autoSpinBlocked=n,this._autoModeWinAnimationsBlocked=i,r&&this.dispatcher.dispatch(o.AutoPlayModeEvent.AUTO_PLAY_MODE_CHANGE)},t.prototype.checkIfAutoSpinActive=function(){return this.autoSpinAllowed&&!this.autoSpinBlocked},t.prototype.checkIfAutoWinModeActive=function(){return this.autoModeWinAnimationsAllowed&&!this.autoModeWinAnimationsBlocked},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.SlotModel).withParameters(this.context.slotParameters,this.context.slotSettings).asSingleton().forceCreation().asModel().serverModel(),t.bind(o.GameDataParserJson).asSingleton(),t.bind(o.GameDataModel).asSingleton().forceCreation().asModel().serverModel(),t.bind(o.UserModel).withParameters().asSingleton(),t.bind(o.SlotViewModel).asSingleton(),t.bind(o.TurboModeModel).asSingleton(),t.bind(o.WinBoxModel).asSingleton(),t.bind(o.FeaturesModel).asSingleton().forceCreation().asModel(),t.bind(o.StakesModel).asSingleton().forceCreation().asModel().serverModel(),t.bind(o.FeaturesManager).asSingleton().forceCreation()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i,o,r){void 0===i&&(i=!1),void 0===o&&(o=null),void 0===r&&(r=!1),this.symbolIndex=t,this.reelIndex=e,this.lineIndex=n,this.isWinning=i,this.winningLines=o,this.isScatterSymbol=r}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(4),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.position=new r.e,e}return i.a(e,t),e}(o.BaseRewardVO)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={RIGHT_TO_LEFT:"RIGHT_TO_LEFT",LEFT_TO_RIGHT:"LEFT_TO_RIGHT"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e}(o.BaseRewardVO)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e){this.lineIndex=t,this.winning=e}return t.sortLines=function(t,e){var n=function(t){var n=e.slotState.getWinningLineSymbols(t),i=0;return n.forEach(function(t){t.symbolIndex>i&&(i=t.symbolIndex)}),i};t.sort(function(t,e){var i=n(t.lineIndex),o=n(e.lineIndex);return t.winning<e.winning||i<o||t.lineIndex>e.lineIndex?1:t.winning>e.winning||i>o||t.lineIndex<e.lineIndex?-1:0})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e){this.id=t,this.payouts=e}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.positions=[],e}return i.a(e,t),e}(o.BaseRewardVO)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e}(o.BaseRewardVO)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e){this.index=t,this.lineIndices=e}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SPINNING_CHANGE:"SPINNING_CHANGE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={STAKES_CHANGE:"STAKES_CHANGE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={TURBO_MODE_CHANGE:"TURBO_MODE_CHANGE",TURBO_MODE_CAN_BE_ACTIVE_CHANGE:"TURBO_MODE_CAN_BE_ACTIVE_CHANGE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={TICKUP_STARTED:"TICKUP_STARTED",TICKUP_ENDED:"TICKUP_ENDED"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){var t=this;this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.featuresModel=n.i(i.inject)(o.FeaturesModel),this.dispatcher.addListener(o.Event.REELS_SPIN_STARTED,function(){t.featuresModel.isFeatureJustWon=!1,t.featuresModel.isFeatureJustEnd=!1,t.featuresModel.isFeatureJustReTriggered=!1,t.featuresModel.isFeatureJustRestored=!1})}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(e){var n=t.call(this)||this;return n.slotConfig=e,n.reels=[],n.startReelSetId="",n.stopReelSetId="",n._isSpinning=!1,n.spinsCount=0,n.payToPlayLock=new o.Lock,n.slotConfig&&n.slotConfig.paylinesCount&&(n.paylinesCount=n.slotConfig.paylinesCount),n}return i.a(e,t),e.prototype.getSlotConfig=function(){return this.slotConfig},e.prototype.parseResponse=function(t){var n=this;t.lines&&t.lines.length>0&&(this.paylinesCount=t.lines.length),t.sets&&(this.reelSets=t.sets),this.multiplier=e.DEFUALT_MULTIPLIER,t.state&&(this.multiplier=t.state.multiplier||e.DEFUALT_MULTIPLIER);var i=t.reels,a=t.events;if(t.previousResult&&(t.previousResult.reels&&(i=t.previousResult.reels),t.previousResult.events&&(a=t.previousResult.events)),i&&(this.initializeStopReels(i.set,i.view),this.stopReelsPositions=i.positions.concat(),this.startReelSetId=this.stopReelSetId,this.startReelsSymbols=[],o.ObjectUtils.mergeObjects(this.stopReelsSymbols,this.startReelsSymbols),this.startReelsPositions=this.stopReelsPositions.concat()),a)for(var s=0,u=a;s<u.length;s++){var l=u[s];if(l.reels){var c=l.reels;this.startReelSetId=c.set,this.startReelsSymbols=o.MatrixUtils.transpose(c.view),this.startReelsSymbols.forEach(function(t,e){n.startReelsSymbols[e]=t.filter(r.ReelUtils.filterReelSymbols)}),i||this.initializeStopReels(c.set,c.view)}}},e.prototype.initializeStopReels=function(t,e){var n=this;this.stopReelSetId=t,this.stopReelsSymbols=o.MatrixUtils.transpose(e),this.stopReelsSymbols.forEach(function(t,e){n.stopReelsSymbols[e]=t.filter(r.ReelUtils.filterReelSymbols)})},Object.defineProperty(e.prototype,"isSpinning",{get:function(){return this._isSpinning},set:function(t){t!==this.isSpinning&&(this._isSpinning=t,this.dispatcher.dispatch(r.SlotModelEvent.SPINNING_CHANGE))},enumerable:!0,configurable:!0}),e.prototype.addPayToPlayLock=function(t){this.payToPlayLock.add(t)},e.prototype.removePayToPlayLock=function(t){this.payToPlayLock.remove(t)},e.prototype.getIsPayToPlayLocked=function(){return this.payToPlayLock.isLocked},e.DEFUALT_MULTIPLIER=1,e}(o.BaseModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){void 0===t&&(t=[]),this.symbolStates=t}return t.prototype.getWinningSymbolAt=function(t,e){for(var n,i,o=this.symbolStates.length,r=0;r<o;r++)if(i=this.symbolStates[r],i.reelIndex===t&&i.lineIndex===e){n=i;break}return n},t.prototype.getWinningLineSymbols=function(t){return this.symbolStates.filter(function(e){return t||0===t?e.winningLines&&-1!==e.winningLines.indexOf(t):e.winningLines&&e.winningLines.length>0})},t.prototype.getWinningScatterSymbols=function(){var t=[];return this.symbolStates.forEach(function(e){e.isScatterSymbol&&t.push(e)}),t},t.prototype.getAllWinningSymbols=function(){return this.symbolStates.filter(function(t){return t.isWinning})},t.prototype.getAllSymbols=function(){return this.symbolStates.slice(0)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(4),a=function(t){function e(){var e=t.call(this)||this;e.positions=[],e.contentManager=n.i(o.inject)(o.ContentManager);for(var i=e.contentManager.getConfigPart("reels"),a=i[o.ReelsSettings.REELS],s=i[o.ReelsSettings.CELL_HEIGHT],u=a.length,l=0;l<u;l++){for(var c=[],d=a[l][o.ReelsSettings.REEL_HEIGHT],p=0;p<d;p++)c.push(new r.e(a[l].x,a[l].y+s*p));e.positions.push(c)}return e}return i.a(e,t),e.prototype.getPosition=function(t){return this.positions[t.x][t.y]},e}(o.BaseModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.blockLock=new i.Lock}return Object.defineProperty(t.prototype,"isActive",{get:function(){return!this.blockLock.isLocked&&this._canBeActive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBlocked",{get:function(){return this.blockLock.isLocked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canBeActive",{get:function(){return this._canBeActive},set:function(t){t!==this.canBeActive&&(this._canBeActive=t,this.dispatcher.dispatch(o.TurboModeModelEvent.TURBO_MODE_CAN_BE_ACTIVE_CHANGE),this.updateState())},enumerable:!0,configurable:!0}),t.prototype.block=function(t){this.blockLock.add(t),this.updateState()},t.prototype.unblock=function(t){this.blockLock.remove(t),this.updateState()},t.prototype.updateState=function(){this.isActive!==this.prevIsActive&&(this.prevIsActive=this.isActive,this.dispatcher.dispatch(o.TurboModeModelEvent.TURBO_MODE_CHANGE))},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r={EUR:"EUR",GBP:"GBP",USD:"USD",AUD:"AUD",CAD:"CAD",NZD:"NZD",NOK:"NOK",SEK:"SEK",ZAR:"ZAR",INR:"INR",RUB:"RUB",CHF:"CHF",HRK:"HRK",HUF:"HUF",GEL:"GEL",UAH:"UAH",RON:"RON",BRL:"BRL",MYR:"MYR",CNY:"CNY",JPY:"JPY",KRW:"KRW",IDR:"IDR",VND:"VND",THB:"THB"},a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.getId=function(){return"userModel"},e.prototype.parseBalance=function(t){var e=!1;this.balance!==t.amount&&(this.balance=t.amount,e=!0),this.realBalance!==t.real.amount&&(this.realBalance=t.real.amount,e=!0),this.bonusBalance!==t.bonus.amount&&(this.bonusBalance=t.bonus.amount,e=!0),this.currency!==t.currency&&(this.currency=t.currency,this.currencySign=r[this.currency],e=!0),e&&this.changeState()},e.prototype.getCurrencySign=function(){return this.currencySign?this.currencySign:this.currency},e.prototype.setBalance=function(t,e,n,i){this.balance=t,this.realBalance=e,this.bonusBalance=n,this.currency=i},e.prototype.hasEnoughBalance=function(t){return this.balance>=t},e}(o.BaseModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this._isTickupActive=!1}return t.prototype.getIsTickupActive=function(){return this._isTickupActive},t.prototype.setIsTickupActive=function(t){t!==this._isTickupActive&&(this._isTickupActive=t,t?this.dispatcher.dispatch(o.WinBoxModelEvent.TICKUP_STARTED):this.dispatcher.dispatch(o.WinBoxModelEvent.TICKUP_ENDED))},t.prototype.getIsTickupStarted=function(){return this._isTickupStarted},t.prototype.setIsTickupStarted=function(t){t!==this._isTickupStarted&&(this._isTickupStarted=t)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(e,i,a,s,u,l,c,d){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===s&&(s=null),void 0===u&&(u=0),void 0===l&&(l=[]),void 0===c&&(c=0),void 0===d&&(d=!1);var p=t.call(this)||this;return p.initialized=e,p.spinRequestInProgress=i,p.winningLinesConfig=a,p.slotState=s,p.totalWinning=u,p.lineWinnings=l,p.scatterWinning=c,p.isFullLineWon=d,p.slotModel=n.i(o.inject)(r.SlotModel),p.payouts=[],p.dataParser=n.i(o.inject)(r.GameDataParserJson),p.slotState=new r.SlotStateVO,p}return i.a(e,t),e.prototype.parseResponse=function(t){switch(this.dataParser.setData(t.tempSourceResponse),t.requestName){case r.ServerRequestType.INIT:if(this.handleInitResponse(t.tempSourceResponse.result),t.previousResult){var e=Object.assign({},t);e.requestName=t.previousResult.request,e.previousResult=null,e.tempSourceResponse.result=t.previousResult,this.parseResponse(e)}break;case r.ServerRequestType.SPIN:this.handleSpinInput(t.tempSourceResponse.result);break;case r.ServerRequestType.BONUS_SELECTION:this.handleBonusSelection(t.tempSourceResponse.result)}},e.prototype.handleInitResponse=function(t){this.initialized=!0,this.updateWinningLinesConfig(),this.dataParser.prepareWinSymbolsData(),this.updateSlotState(),this.updateLocation(),this.updatePayoutsData()},e.prototype.handleSpinInput=function(t){this.spinRequestInProgress=!1,this.dataParser.prepareWinSymbolsData(),this.updateSlotState(),this.updateRewardData(),this.updateLocation()},e.prototype.handleBonusSelection=function(t){this.spinRequestInProgress=!1,this.updateSlotState(),this.updateLocation()},e.prototype.getLineById=function(t){return this.winningLinesConfig[t].lineIndices},e.prototype.updateSlotState=function(){this.slotState=new r.SlotStateVO(this.dataParser.parseSlotState())},e.prototype.updateWinningLinesConfig=function(){this.winningLinesConfig=this.dataParser.parseWinningLinesConfig(),this.winningLinesConfig&&0!==this.winningLinesConfig.length||this.slotModel.getSlotConfig().paylinesCount>0&&(this.winningLinesConfig=r.LineUtils.calculateAllWaysLineConfigs(this.slotModel.getSlotConfig().reelsCount,this.slotModel.getSlotConfig().linesCount)),this.dataParser.lineConfigs=this.winningLinesConfig},e.prototype.updateRewardData=function(){var t=this.dataParser.parseRewardData();this.totalWinning=t.totalWinning,this.lineWinnings=t.lines,this.scatterWinning=t.scatterWinning,this.isFullLineWon=!1;var e=this.dataParser.getRewards(r.ServerRewardType.LINE);if(e&&e.length>0)for(var n=e.length,i=0;i<n;i++)if(e[i].paytable[1]+1>=this.slotModel.getSlotConfig().reelsCount){this.isFullLineWon=!0;break}},e.prototype.updateLocation=function(){var t=this.dataParser.parseCurrentLocationId();t&&(this.locationId=t)},e.prototype.updatePayoutsData=function(){this.payouts=this.dataParser.parsePayoutData()},e.prototype.hasScatterWinnings=function(){return this.scatterWinning>0&&this.slotState.getWinningScatterSymbols().length>0},e}(o.BaseModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clientResponse=null,e}return i.a(e,t),e.prototype.setData=function(t){this.clientResponse=t},e.prototype.parseSlotState=function(){var t,e=[],n=this.clientResponse.result,i=this.clientResponse.result;if(n&&n.slot&&n.slot.reels?t=n.slot.reels:i&&i.reels&&(t=i.reels),t)for(var o=void 0,a=void 0,s=t.view.length,u=0;u<s;u++)for(var l=void 0,c=t.view[u].length,d=0;d<c;d++){var p=t.view[u][d];(p||0===p)&&(l=!1,o=this.winSymbolsMap.getSymbolData(d,u),o&&(o.winningLines&&o.winningLines.length>0||o.isScatterSymbol)&&(l=!0),a=new r.FinalSymbolStateVO(t.view[u][d],d,u,l,o?o.winningLines.concat():[],!!o&&o.isScatterSymbol),e.push(a))}return e},e.prototype.parseWinningLinesConfig=function(){var t=[],e=this.clientResponse.result;if(e&&e.slot&&e.slot.lines)for(var n=e.slot.lines.length,i=0;i<n;i++){for(var o=e.slot.lines[i].concat(),a=o.length,s=0;s<a;s++)o[s]=o[s];t.push(new r.WinningLineConfigVO(i,o))}return t},e.prototype.parseRewardData=function(){var t,e,n=[],i=0;if(this.clientResponse){var o=this.clientResponse.result;if(o&&o.rewards){e=o.totalWin;var a=void 0,s=void 0,u=this.getRewards(r.ServerRewardType.LINE),l=void 0;for(a=u.length,s=0;s<a;s++)l=u[s],t=new r.LineWinningDataVO(l.lineId,l.payout),n.push(t);var c=this.getRewards(r.ServerRewardType.SCATTER);for(a=c.length,s=0;s<a;s++)i+=c[s].payout}}return{lines:n,totalWinning:e,scatterWinning:i}},e.prototype.parseCurrentLocationId=function(){var t,n=this.clientResponse.result,i=this.clientResponse.result;if(n&&n.slot&&(t=n.slot.reels),t||i&&i.reels&&(t=i.reels),!t)for(var o=this.getEvents(e.FREE_SPINS_EVENT_TYPES),r=void 0,a=o.length,s=0;s<a;s++)r=o[s],r.reels&&r.reels.set&&(t=r.reels);var u=e.LOCATION_MAIN;return t&&(u=t.set),u},e.prototype.getRewards=function(t){return this.rewardDataByType[t]||(this.rewardDataByType[t]=[]),this.rewardDataByType[t]},e.prototype.prepareWinSymbolsData=function(){this.rewardDataByType={},this.winSymbolsMap=new u;var t,e=this.clientResponse.result.rewards;if(e&&e.length>0)for(var n=e.length,i=0;i<n;i++)t=e[i],t.reward===r.ServerRewardType.LINE?this.processLineReward(t):t.reward===r.ServerRewardType.SCATTER?this.processScatterReward(t):t.reward===r.ServerRewardType.WAYS&&this.processWaysReward(t)},e.prototype.processWaysReward=function(t){for(var e=t.wayIds.length,n=t.payout/e,i=0;i<e;i++){var o={reward:r.ServerRewardType.LINE,lineId:t.wayIds[i],direction:t.direction,multiplier:t.wayMultiplier,payout:n,paytable:t.paytable};this.processLineReward(o)}this.getRewards(t.reward).push(t)},e.prototype.processLineReward=function(t){for(var e,n=t.lineId,i=this.lineConfigs[n],o=t.paytable[1],a=r.LineUtils.getLineSymbolPositions(i,o+1,t.direction),s=a.length,u=0;u<s;u++)e=this.winSymbolsMap.getSymbolData(a[u].x,a[u].y),e.winningLines.push(n);this.getRewards(t.reward).push(t)},e.prototype.processScatterReward=function(t){for(var e,n=t.positions.length,i=0;i<n;i++){var o=t.positions[i];e=this.winSymbolsMap.getSymbolData(o[1],o[0]),e.isScatterSymbol=!0}this.getRewards(t.reward).push(t)},e.prototype.getEvents=function(t){var e=[],n=this.clientResponse.result;if(n&&n.events)for(var i=void 0,o=n.events.length,r=0;r<o;r++)i=n.events[r],-1!==t.indexOf(i.id)&&e.push(i);return e},e.prototype.parsePayoutData=function(){var t=[],e=this.clientResponse.result;if(e)for(var n=void 0,i=e.slot.paytable.stake.payouts.length,a=0;a<i;a++){for(var s=[],u=void 0,l=void 0,c=e.slot.paytable.stake.payouts[a].length,d=0;d<c;d++){if(l=e.slot.paytable.stake.payouts[a][d],o.NumberUtils.isNumber(l))u={payout:l};else{var p=l;u={payout:p.payout,triggerFreeGames:p.triggerFreeSpins,retriggerFreeGames:p.retriggerFreeSpins,triggerBonus:p.triggerBonus}}s.push(u)}n=new r.PayoutVO(""+a,s),t.push(n)}return t},e.FREE_SPINS_EVENT_TYPES=[r.ServerEventType.FREE_SPINS_START,r.ServerEventType.FREE_SPINS_ADDED,r.ServerEventType.FREE_SPINS_END],e.LOCATION_MAIN="main",e}(o.BaseModel),s=function(){function t(){this.winningLines=[]}return t}(),u=function(){function t(){this.map=[]}return t.prototype.getSymbolData=function(t,e,n){return void 0===n&&(n=!0),!this.map[t]&&n&&(this.map[t]=[]),!this.map[t][e]&&n&&(this.map[t][e]=new s),this.map[t]&&this.map[t][e]?this.map[t][e]:null},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(2),o=n(4),r=function(){function t(){}return t.getLineSymbolPositions=function(t,e,n){for(var r,a=[],s=0;s<e;s++)r=s,n===i.LineRewardDirectionType.RIGHT_TO_LEFT&&(r=t.lineIndices.length-s-1),a.push(new o.e(r,t.lineIndices[r]));return a},t.calculateAllWaysLineConfigs=function(e,n){for(var i=[],o=Math.pow(n,e),r=0;r<o;r++)i.push(t.calculateAllWaysSingleLineConfig(r,e,n));return i},t.calculateAllWaysSingleLineConfig=function(t,e,n){for(var o,r=[],a=t,s=0;s<e;s++)o=Math.floor(a%n),r.push(o),a=Math.floor(a/n);return new i.WinningLineConfigVO(t,r)},t.convertSymbolPositionsToWayId=function(t,e){return e.reduce(function(e,n){return e+Math.pow(t,n.x)*n.y},0)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.stakes=[],this.stakeDefault=0,this.stakeMax=0,this.stakeMin=0,this.coins=[],this.coinsDefault=0,this.ante=0,this.totalBetMultiplier=1}return t.prototype.parseResponse=function(t){var e;if(t.settings&&(this.stakes=t.settings.stakeAll.concat(),this.stakeMin=t.settings.stakeMin,this.stakeMax=t.settings.stakeMax,this.stakeDefault=t.settings.stakeDef,e=this.stakes.indexOf(this.stakeDefault),-1!==e&&(this.currentStakeIndex=e),this.coins=t.settings.coins.concat(),this.coinsDefault=t.settings.defaultCoin,-1!==(e=this.coins.indexOf(this.coinsDefault))&&(this.currentCoinIndex=e)),t.linesDefinition&&(this.totalBetMultiplier=t.linesDefinition.fixedMultiplierForTotalBet,this.totalBetMultiplier<=0&&(this.totalBetMultiplier=1)),t.stake){var n=void 0;e=this.stakes.indexOf(t.stake.bet),-1===e&&(e=0),e!==this.currentStakeIndex&&(this.currentStakeIndex=e,n=!0),e=this.coins.indexOf(t.stake.coin),-1===e&&(e=0),e!==this.currentCoinIndex&&(this.currentCoinIndex=e,n=!0),n&&this.dispatcher.dispatch(o.StakesModelEvent.STAKES_CHANGE)}},Object.defineProperty(t.prototype,"currentStakeValue",{get:function(){return this.stakes[this.currentStakeIndex]},enumerable:!0,configurable:!0}),t.prototype.decreaseStake=function(){this.currentStakeIndex--,this.currentStakeIndex<0&&(this.currentStakeIndex=0),this.dispatcher.dispatch(o.StakesModelEvent.STAKES_CHANGE)},t.prototype.increaseStake=function(){this.currentStakeIndex++,this.currentStakeIndex>=this.stakes.length&&(this.currentStakeIndex=this.stakes.length-1),this.dispatcher.dispatch(o.StakesModelEvent.STAKES_CHANGE)},Object.defineProperty(t.prototype,"currentCoinsValue",{get:function(){return this.coins[this.currentCoinIndex]},enumerable:!0,configurable:!0}),t.prototype.decreaseCoins=function(){this.currentCoinIndex--,this.currentCoinIndex<0&&(this.currentCoinIndex=0),this.dispatcher.dispatch(o.StakesModelEvent.STAKES_CHANGE)},t.prototype.increaseCoins=function(){this.currentCoinIndex++,this.currentCoinIndex>=this.coins.length&&(this.currentCoinIndex=this.coins.length-1),this.dispatcher.dispatch(o.StakesModelEvent.STAKES_CHANGE)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.filterReelSymbols=function(t){return!!t||0===t},t}()},function(t,e,n){"use strict";var i=n(0),o=n(2);!function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.BetHelper).to(o.MultiplierBetHelper)}}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.BetHelper).to(o.RegularBetHelper)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.stakesModel=n.i(i.inject)(o.StakesModel)}return t.prototype.getTotalBet=function(){return this.getTotalBetForStake(this.stakesModel.currentStakeValue)},t.prototype.getTotalBetForStake=function(t){return t*this.stakesModel.currentCoinsValue*this.getBetMultiplier()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.getBetMultiplier=function(){return this.stakesModel.totalBetMultiplier},e}(o.BetHelper)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotModel=n.i(o.inject)(r.SlotModel),e}return i.a(e,t),e.prototype.getBetMultiplier=function(){return this.slotModel.paylinesCount},e}(r.BetHelper)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={PAYTABLE:"paytable"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(e){var i=t.call(this,e)||this;return n.i(o.inject)(r.ContextModel).context=e,i}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(r.ContextModel).asSingleton().forceCreation()},e}(r.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_FIVE_OF_A_KIND:"SHOW_FIVE_OF_A_KIND",HIDE_FIVE_OF_A_KIND:"HIDE_FIVE_OF_A_KIND",FIVE_OF_A_KIND_ANIMATION_COMPLETE:"FIVE_OF_A_KIND_ANIMATION_COMPLETE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.GameFlowManager).asSingleton(),t.bind(o.StartGameAction).withParameters(this.context.api,this.context.slotSettings).asSingleton(),t.bind(o.ShowGameSceneAction).withParameters(this.context).asSingleton(),t.bind(o.PrepareGameAction).asSingleton(),t.bind(o.LazyPrepareGameAction).asSingleton(),t.bind(o.RunGameAction).asSingleton(),t.bind(o.RestoreGameAction).asSingleton(),t.bind(o.ReelsPlayAction).asSingleton(),t.bind(o.WinningPlayAction).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scenesManager=n.i(o.inject)(r.a),e.renderManager=n.i(o.inject)(r.b),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.prepare().then(function(){n(t)})})},e.prototype.prepare=function(){var t=this.scenesManager.createScene(a.GameRunModuleConstant.layouts.gameScene);return this.renderManager.uploadAsset(t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolManager=n.i(o.inject)(a.SymbolManager),e.slotViewModel=n.i(o.inject)(a.SlotViewModel),e.scenesManager=n.i(o.inject)(r.a),e.renderManager=n.i(o.inject)(r.b),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(i){e.prepare().then(function(){n.i(o.inject)(a.InitAllReelsAction).run(t).then(function(){e.slotViewModel.isReadyForRender=!0,i(t)})})})},e.prototype.prepare=function(){return this.symbolManager.prepareSymbols()},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(t){throw Error("You should provide a reel module to make your slot work.")},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(t){return Promise.resolve(t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.contentManager=n.i(o.inject)(o.ContentManager),e.slotModel=n.i(o.inject)(r.SlotModel),e}return i.a(e,t),e.prototype.createActionManager=function(){var t=this;this.actionManager=new o.ActionManager,this.actionManager.onFinish=function(e){t.start(e)}},e.prototype.addActions=function(){this.actionManager.addAction(n.i(o.inject)(r.ReelsPlayAction)).addAction(n.i(o.inject)(r.WinningPlayAction))},e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(t){var e=this;return new Promise(function(){e.start(t),e.dispatcher.dispatch(r.InfoBarEvent.SHOW_MESSAGE,r.MessageFactory.createMessage("welcomeMessage",{count:e.slotModel.paylinesCount}))})},e.prototype.start=function(t){this.createActionManager(),this.addActions(),this.actionManager.start(t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(e){var i=t.call(this)||this;return i.ctx=e,i.dispatcher=n.i(o.inject)(o.EventDispatcher),i.scenesManager=n.i(o.inject)(r.a),i.ambientSoundsManage=n.i(o.inject)(a.AmbientSoundsManager),i.backgroundManager=n.i(o.inject)(a.BackgroundManager),i}return i.a(e,t),e.prototype.onExecute=function(t){var e=a.GameRunModuleConstant.layouts.gameScene;return this.ambientSoundsManage.setActiveSound(a.AmbientSoundType.MAIN),this.scenesManager.goToScene(e),this.backgroundManager.setCurrentBackground(),this.ctx.api.showMenu(),this.dispatcher.dispatch(a.BalanceManagerEventType.UPDATE_VIEW_BALANCE),new Promise(function(e){e(t)})},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(e){return t.prototype.onExecute.call(this,e)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(t){return Promise.resolve(t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=t.call(this)||this;return e.actionManager=new o.ActionManager,e.actionManager.addAction(n.i(o.inject)(r.StartGameAction)).addAction(n.i(o.inject)(r.RegulationsAction)).addAction(n.i(o.inject)(r.ShowGameSceneAction)).addAction(n.i(o.inject)(r.RestoreGameAction)).addAction(n.i(o.inject)(r.RunGameAction)),e}return i.a(e,t),e.prototype.startGame=function(){this.actionManager.start({isSuccess:!0,isTerminating:!1})},e}(o.BaseModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjection.call(this,e),e.bind(o.GameRunScene).withParameters(this.context.api).asView().withId(o.GameRunModuleConstant.layouts.gameScene).bindMediator(o.GameRunMediator).withParameters(this.context.api)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{gameScene:"gameSceneDesktop"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_PAYTABLE:"SHOW_PAYTABLE",HIDE_PAYTABLE:"HIDE_PAYTABLE",PAYTABLE_SHOWN:"PAYTABLE_SHOWN",PAYTABLE_HIDDEN:"PAYTABLE_HIDDEN"}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(e){var i=t.call(this)||this;return i.api=e,i.view=n.i(o.inject)(a.GameRunScene,i),i.eventDispatcher=n.i(o.inject)(o.EventDispatcher),i.renderManager=n.i(o.inject)(r.b),i.slotViewModel=n.i(o.inject)(a.SlotViewModel),i.dispatcher.addListener(a.GameRunEvents.SHOW_PAYTABLE,i.onShowPaytable,i),i.dispatcher.addListener(a.GameRunEvents.HIDE_PAYTABLE,i.onHidePaytable,i),i.renderManager.getCanvasElement().addEventListener(e.device.event.click,function(t){return i.eventDispatcher.dispatch(a.Event.CLICK_SCREEN,t)},!1),i}return i.a(e,t),e.prototype.destroy=function(){this.dispatcher.removeListeners(a.GameRunEvents.SHOW_PAYTABLE,this),this.dispatcher.removeListeners(a.GameRunEvents.HIDE_PAYTABLE,this),t.prototype.destroy.call(this)},e.prototype.onShowPaytable=function(){this.slotViewModel.isPaytableOpen=!0,this.view.showPaytable()},e.prototype.onHidePaytable=function(){this.slotViewModel.isPaytableOpen=!1,this.api.showMenu(),this.view.hidePaytable()},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(e){var i=t.call(this)||this;return i.api=e,i.arrangeBottomBarAfterResize=!0,i.contentManager=n.i(o.inject)(o.ContentManager),i.loadManager=n.i(o.inject)(o.LoadManager),i.payTableModel=n.i(o.inject)(a.PayTableModel),i.scenesManager=n.i(o.inject)(r.a),i.alpha=.01,i}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this);this.popupContainers.setContainer(this.innerLazyContainerPlaceholder||this.lazyContainerPlaceholder,r.f.INNER),this.popupContainers.setContainer(this.paytableLazyContainerPlaceholder||this.lazyContainerPlaceholder,a.PopupContainerId.PAYTABLE),this.popupContainers.setContainer(this.lazyContainerPlaceholder,r.f.OUTER),this.popupContainers.setContainer(this.lazyContainerPlaceholder,r.f.DEFAULT),TweenLite.to(this,2,{alpha:1})},e.prototype.activate=function(){t.prototype.activate.call(this)},e.prototype.showPaytable=function(){if(!this.paytableView)return void this.loadAssets();this.payTableModel.payTableOpened||(this.payTableModel.payTableOpened=!0,this.paytableView.changePaytableVisibility(!0),this.bottomBar.show&&this.bottomBar.show(!1),this.mainView.hide(),this.dispatcher.dispatch(a.GameRunEvents.PAYTABLE_SHOWN),this.resizePaytable())},e.prototype.hidePaytable=function(){this.payTableModel.payTableOpened&&(this.payTableModel.payTableOpened=!1,this.paytableView.changePaytableVisibility(!1),this.bottomBar.show&&this.bottomBar.show(!0),this.mainView.show(),this.dispatcher.dispatch(a.GameRunEvents.PAYTABLE_HIDDEN))},e.prototype.loadAssets=function(){var t=this,e=this.api.showLoadingPopup();this.loadManager.loadImmediately(a.ResourceId.PAYTABLE).then(function(){t.api.hidePopup(e),t.paytableView||(t.paytableView=n.i(o.getViewComponent)(a.PayTableModuleConstant.layouts.payTable),t.scenesManager.addPopup(a.PayTableModuleConstant.layouts.payTable,t.paytableView,a.PopupContainerId.PAYTABLE)),t.loadingEndChangeUI(),t.showPaytable()}),this.loadingStartChangeUI()},e.prototype.loadingStartChangeUI=function(){this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,{spin:{enabled:!1},bets:!1,info:!1,auto:!1,turbo:!1})},e.prototype.loadingEndChangeUI=function(){this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,{spin:{enabled:!0},bets:!0,info:!0,auto:!0,turbo:!0})},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n)},e.prototype.resizePaytable=function(){this.paytableView&&this.paytableView.visible&&this.paytableView.onResize(this.canvasWidth,this.canvasHeight,this.api.device.isLandscape)},e.prototype.getBottomBarGap=function(){return this.bottomBar.getMinArea().height*this.bottomBar.scale.y},e}(r.n)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e);var n=o.GameStartModuleConstant.layouts;e.bind(o.StartGameAction).withParameters(this.context.api,this.context.slotSettings).to(o.DefaultShowStartGameAction),e.bind(o.StartScene).withParameters(this.context.api.device).asView().withId(n.startScene).bindMediator(o.StartMediator),e.bind(o.LoaderBar).asView().withId(n.loaderBar),e.bind(o.PlayBtn).asView().withId(n.playBtn),e.bind(o.ReelsManager).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(e,i){var s=t.call(this)||this;return s.api=e,s.slotSettings=i,s.scenesManager=n.i(o.inject)(r.a),s.renderManager=n.i(o.inject)(r.b),s.contentManager=n.i(o.inject)(o.ContentManager),s.dispatcher=n.i(o.inject)(o.EventDispatcher),s.serverService=n.i(o.inject)(a.ServerService),s.symbolManager=n.i(o.inject)(a.SymbolManager),s.reelsManager=n.i(o.inject)(a.ReelsManager),s.loadManager=n.i(o.inject)(o.LoadManager),s.backgroundManager=n.i(o.inject)(a.BackgroundManager),s.moneyFormatterUtils=n.i(o.inject)(a.MoneyFormatterUtils),s}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return this.initGame(),this.loadGameData(this.slotSettings).then(function(){return e.startLoadAssets()}).then(function(){return e.preloadAssets()}).catch(function(t){e.loadManager.cancelPreloadAssets(),e.api.showLoadErrorPopup();var n="Could not load preload assets: \n "+e.loadManager.getPreloadErrors().join("\n");throw t?t+"\n"+n:n}).then(function(){return e.createAndRunStartScene()}).then(function(){return e.afterRunStartScene()}).then(function(){return e.serverService.init()}).then(function(n){return e.updateBalance(t,n)}).then(function(){return e.initialAssets(t)}).catch(function(t){e.loadManager.cancelInitialAssets(),e.api.showLoadErrorPopup();var n="Could not load initial assets: \n "+e.loadManager.getInitialErrors().join("\n");throw t?t+"\n"+n:n}).then(function(){return e.lazyAssets()}).catch(function(t){}),new Promise(function(n){e.dispatcher.addListener(a.Event.PLAY_CLICK,function(){return n(t)}).once()})},e.prototype.isTerminable=function(){return!1},e.prototype.initGame=function(){var t=this;this.api.onResize(function(e){var n=e.width,i=e.height;i-=t.api.getBottomMargin()||0,t.renderManager.resize(n,i)}),this.contentManager.setScreenDensity(this.api.device.screenDensity),this.contentManager.setLanguage(this.api.getLocale()),this.renderManager.addRenderForceLock(this)},e.prototype.loadGameData=function(t){return Promise.all([this.loadManager.loadConfig(t.dataFile),this.loadManager.loadLocalization(t.language),this.loadManager.loadFonts(t.fonts)])},e.prototype.startLoadAssets=function(){this.loadManager.onCompleteResourceLoad(this.onCompleteResourceLoad,this)},e.prototype.preloadAssets=function(){return this.loadManager.loadPreloadAssets()},e.prototype.createAndRunStartScene=function(){this.scenesManager.createScene("startScene"),this.scenesManager.goToScene("startScene"),this.backgroundManager.setCurrentBackground(),this.api.removeSplash()},e.prototype.afterRunStartScene=function(){this.reelsManager.parse(),this.symbolManager.parse(),this.api.activateReelsConfigPanel(this.reelsManager)},e.prototype.getInitialResourcesIds=function(){return[]},e.prototype.updateBalance=function(t,e){var i=this,r=n.i(o.inject)(a.UserModel),s=function(t){r.parseBalance(t),i.moneyFormatterUtils.currencySymbol=r.getCurrencySign(),o.MoneyFormatterUtils.currencySymbol=r.getCurrencySign()};this.api.addBalanceUpdateCallback(s,!0)},e.prototype.initialAssets=function(t){var e=this,i=this.getInitialResourcesIds();return this.loadManager.addAssetsToInitial(i),this.loadManager.loadInitialAssets(function(t){return e.dispatcher.dispatch(a.Event.GAME_LOADING,t)}).then(function(){return n.i(o.inject)(a.PrepareGameAction).run(t)}).then(function(){e.dispatcher.dispatch(a.Event.GAME_LOADED),e.renderManager.removeRenderForceLock(e),setTimeout(function(){return n.i(o.inject)(a.LazyPrepareGameAction).run(t)},0)})},e.prototype.lazyAssets=function(){return this.loadManager.loadLazyAssets()},e.prototype.isBackgroundResource=function(t){return t.url&&t.url.indexOf("backgrounds")>-1},e.prototype.onCompleteResourceLoad=function(t){this.applyBackground(t)},e.prototype.applyBackground=function(t){this.isBackgroundResource(t.loader)&&this.backgroundManager.addName(t.id)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{startScene:"startScene",loaderBar:"loaderBar",playBtn:"playBtn"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.StartScene,e),e.dispatcher.addListener(r.Event.GAME_LOADING,e.view.updateProgress,e.view),e.dispatcher.addListener(r.Event.GAME_LOADED,e.view.onLoadComplete,e.view),e.view.on(e.view.getPlayButtonEventName(),function(){return e.dispatcher.dispatch(r.Event.PLAY_CLICK)}),e}return i.a(e,t),e.prototype.destroy=function(){this.dispatcher.removeListeners(r.Event.GAME_LOADING,this.view),this.dispatcher.removeListeners(r.Event.GAME_LOADED,this.view),this.view.removeAllListeners(this.view.getPlayButtonEventName()),t.prototype.destroy.call(this)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var i,o=n(2),r=n(1),a=function(){function t(){this.state=i.Regular,this.reelsConfigs=[],this.slotSpinConfigs={},this.contentManager=n.i(r.inject)(r.ContentManager)}return t.prototype.setState=function(t){this.state=t},t.prototype.getState=function(){return this.state},t.prototype.getReelsCount=function(){return this.reelsConfigs.length},t.prototype.setReelsConfigs=function(t){this.reelsConfigs=t},t.prototype.getReelConfig=function(t){if(t>=0&&t<this.getReelsCount())return this.reelsConfigs[t];throw Error("out of range Exception")},t.prototype.setSpinConfigs=function(t){this.slotSpinConfigs=t},t.prototype.getSpinConfig=function(){return this.slotSpinConfigs[this.state]},t.prototype.getSpinConfigByMode=function(t){return this.slotSpinConfigs[t]},t.prototype.parse=function(){for(var t=this.contentManager.getConfigPart("reels"),e=t[r.ReelsSettings.REELS],n=[],a=0,s=e;a<s.length;a++){var u=s[a];n.push(new o.ReelVO(t[r.ReelsSettings.CELL_WIDTH],t[r.ReelsSettings.CELL_HEIGHT],u[r.ReelsSettings.REEL_HEIGHT],u.x,u.y))}var l=t[r.ReelsSettings.SPIN_SETTINGS],c={};c[i.Regular]=o.SpinConfigVO.parse(l.regular),c[i.Auto]=o.SpinConfigVO.parse(l.autospins),c[i.Free]=o.SpinConfigVO.parse(l.freespins),c[i.Turbo]=o.SpinConfigVO.parse(l.turbo),this.setReelsConfigs(n),this.setSpinConfigs(c)},t}();!function(t){t[t.Regular=0]="Regular",t[t.Auto=1]="Auto",t[t.Free=2]="Free",t[t.Turbo=3]="Turbo"}(i||(i={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i,o){this.symbolWidth=t,this.symbolHeight=e,this.rows=n,this.x=i,this.y=o}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.spinTime=300,this.spinSpeed=2400,this.symbolDelay=0}return t.parse=function(e){var n=new t;return n.spinTime=e.t,n.spinSpeed=e.s,n.startAnimation=new o(e.sgt,e.set,e.setp.name.split(".")[1],e.setp.name.split(".")[0],e.setp.amp||0,e.setp.per||0,e.setp.os||0),n.stopAnimation=new o(e.stgt,e.stet,e.stetp.name.split(".")[1],e.stetp.name.split(".")[0],e.stetp.amp||0,e.stetp.per||0,e.stetp.os||0),n.manualStopAnimation=new o(e.mstgt,e.mstet,e.mstetp.name.split(".")[1],e.mstetp.name.split(".")[0],e.mstetp.amp||0,e.mstetp.per||0,e.mstetp.os||0),n},t}(),o=function(){function t(t,e,n,i,o,r,a,s){void 0===s&&(s=null);var u=this;this.delay=t,this.time=e,this.easeName=n,this.easeType=i,this.easeAmplitude=o,this.easePeriod=r,this.easeOvershoot=a,this.easeFunc=s,this.easeFunc=function(){var t=[],e=u.easeType;switch(e){case"Back":t=[u.easeOvershoot];break;case"Elastic":t=[u.easeAmplitude,u.easePeriod]}var n=Ease.map[u.easeType+"."+u.easeName];return n.config&&(n=n.config.apply(n,t)),n}}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressValue=0,e.barMask=new o.o,e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.startMaskPosition=this.bar.x-this.bar.width,this.barMask.position.set(this.startMaskPosition,this.bar.y),this.addChild(this.barMask),this.barMask.clear(),this.barMask.beginFill(16777215,1),this.barMask.drawRect(0,0,this.bar.width,this.bar.height),this.bar.mask=this.barMask},e.prototype.onLoadComplete=function(){TweenLite.killTweensOf(this)},e.prototype.formatLabel=function(t){return Math.ceil(t)+"%"},e.prototype.setText=function(t){this.percentLabel&&(this.percentLabel.text=this.formatLabel(t))},e.prototype.updateProgress=function(t){this.currentTween&&this.currentTween.kill(),this.currentTween=TweenLite.to(this,.5,{progress:t})},Object.defineProperty(e.prototype,"progress",{get:function(){return this.progressValue},set:function(t){this.progressValue=t,this.barMask.x=this.startMaskPosition+Math.floor(t*(this.bar.x-this.startMaskPosition)/100),this.setText(t)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){TweenLite.killTweensOf(this),t.prototype.destroy.call(this)},e}(o.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.getButton=function(){return this.button},e}(o.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(e){var i=t.call(this)||this;return i.device=e,i.soundsManager=n.i(o.inject)(o.SoundManager),i.isSoundUnlocked=!1,i.introSoundStarted=!1,i}return i.a(e,t),e.prototype.getPlayButtonEventName=function(){return"play_btn_clicked"},e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.internalResize(),this.playLoadingSound()},e.prototype.updateProgress=function(t){this.loaderBar.updateProgress(t)},e.prototype.onLoadComplete=function(){this.loaderBar&&(this.loaderBar.visible=!1),this.playBtn.visible=!0,this.playBtn.getButton().once(this.device.event.click,this.onClickPlayButton,this)},e.prototype.playLoadingSound=function(){("ios"!==this.device.deviceOS||this.isSoundUnlocked&&!this.introSoundStarted)&&this.checkAndStartAmbientSound()},e.prototype.onClickPlayButton=function(){this.dispatcher.removeListeners(o.SoundManagerEvent.SOUND_LOADED,this),this.soundsManager.playSound(a.GenericSounds.BUTTON_CLICK),this.emit(this.getPlayButtonEventName())},e.prototype.checkAndStartAmbientSound=function(){var t=this,e=a.SlotSoundsModuleConstants.abstractIds.loadingScreen;this.soundsManager.isSoundAvailable(e)?this.playAmbientSound():this.dispatcher.addListener(o.SoundManagerEvent.SOUND_LOADED,function(n){e===n&&t.playAmbientSound()},this)},e.prototype.playAmbientSound=function(){this.introSoundStarted||(this.introSoundStarted=!0,this.soundsManager.playSound(a.SlotSoundsModuleConstants.abstractIds.loadingScreen,-1))},e.prototype.unlockSound=function(){this.isSoundUnlocked=!0,this.soundsManager&&this.checkAndStartAmbientSound()},e.prototype.destroy=function(){this.soundsManager.stopSound(a.SlotSoundsModuleConstants.abstractIds.loadingScreen),this.resizeArea=null,t.prototype.destroy.call(this)},e}(r.n)},function(t,e,n){"use strict";var i=n(0),o=n(2);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.HeaderView).asView().withId(o.HeaderModuleConstant.layouts.mainScreenHeader).bindMediator(o.HeaderMediator)}}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{mainScreenHeader:"header"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_LOGO_HEADER:"SHOW_LOGO_HEADER",HIDE_LOGO_HEADER:"HIDE_LOGO_HEADER"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.HeaderView),e.addListeners(),e}return i.a(e,t),e.prototype.addListeners=function(){this.dispatcher.addListener(r.HeaderEvents.SHOW_LOGO_HEADER,this.activate,this),this.dispatcher.addListener(r.HeaderEvents.HIDE_LOGO_HEADER,this.deactivate,this)},e.prototype.removeListeners=function(){this.dispatcher.removeListeners(r.HeaderEvents.SHOW_LOGO_HEADER,this),this.dispatcher.removeListeners(r.HeaderEvents.HIDE_LOGO_HEADER,this)},e.prototype.activate=function(){this.view.enableLogo(!0)},e.prototype.deactivate=function(){this.view.enableLogo(!1)},e.prototype.destroy=function(){this.removeListeners(),t.prototype.destroy.call(this)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.enableLogo=function(t){TweenLite.killTweensOf(this),TweenLite.to(this.headerLogo,.35,{alpha:t?1:0,ease:Linear.easeOut})},e}(o.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.HelpLauncherView).asView().withId(o.HelpLauncherConstants.layouts.helpLauncher).bindMediator(o.HelpLauncherMediator)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{helpLauncher:"helpLauncher"},pathToHelpTemplate:"./help/{locale}/help_{platform}.html",pathToVersion:"./version.json"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_HELP:"showHelp"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=t.call(this)||this;return e.contextModel=n.i(o.inject)(r.ContextModel),e.regulationsModel=n.i(o.inject)(r.RegulationsModel),e.view=n.i(o.inject)(r.HelpLauncherView,e),e.view.on(r.HelpLauncherEvents.SHOW_HELP,e.onShowHelp,e),e}return i.a(e,t),e.prototype.destroy=function(){this.view.off(r.HelpLauncherEvents.SHOW_HELP,this.onShowHelp,this),t.prototype.destroy.call(this)},e.prototype.onShowHelp=function(){var t=this,e=this.contextModel.context.api,i=e.showLoadingPopup(),a=n.i(o.inject)(o.LoadManager);a.loadJson(r.HelpLauncherConstants.pathToVersion).then(function(n){a.loadHtml(t.getPathByPaltformAndRegulation(r.HelpLauncherConstants.pathToHelpTemplate)).then(function(o){e.hidePopup(i);var r=t.getHelpConfig(n);e.showContentWindow(o,r||{})},function(t){e.hidePopup(i),e.showPopup({title:"Error",message:t,btnTitle:"Ok",isBtnRefresh:!0,preventHideOnClick:!0})})})},e.prototype.getHelpConfig=function(t){return{autoPlayUntilFeatureEnabled:this.regulationsModel.regulationsConfig.autoPlayUntilFeatureEnabled,showRTP:this.regulationsModel.regulationsConfig.showRTP,rulesDateStamped:this.regulationsModel.regulationsConfig.rulesDateStamped,buildNumber:t.buildNumber,date:t.date}},e.prototype.getPathByPaltformAndRegulation=function(t){return t.replace("{platform}","desktop").replace("{locale}",this.contextModel.context.api.getLocale())},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contextModel=n.i(o.inject)(a.ContextModel),e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.eventName=this.contextModel.context.api.device.event,this.initButton(),this.positionElements(),this.addListeners()},e.prototype.initButton=function(){this.showHelp.alpha=0},e.prototype.positionElements=function(){var t=this.additionalInfo.width+this.pressHere.width,e=Math.round((this.sizeArea.width-t)/2);this.additionalInfo.position.x=e,this.pressHere.position.x=e+this.additionalInfo.width,this.showHelp.position.x=this.pressHere.position.x,this.showHelp.position.y=this.pressHere.position.y,this.showHelp.width=this.pressHere.width,this.showHelp.height=this.pressHere.height},e.prototype.addListeners=function(){this.showHelp.on(this.eventName.click,this.onShowHelp,this)},e.prototype.removeListeners=function(){this.showHelp.off(this.eventName.click,this.onShowHelp,this)},e.prototype.onShowHelp=function(){this.emit(a.HelpLauncherEvents.SHOW_HELP)},e.prototype.onRemoved=function(){this.removeListeners(),t.prototype.onRemoved.call(this)},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjection.call(this,e),e.bind(o.InfoBarView).asView().withId(o.InfoBarModuleConstant.layouts.infoBar).bindMediator(o.InfoBarMediator),e.bind(o.TargetedTextsParser).asSingleton(),e.bind(o.InfoBarToggleManager).asSingleton().forceCreation()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{infoBar:"infoBar",infoLabelName:"InfoLabel"},targetDefaultId:"default"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){}return t.createMessage=function(t,e,r,a){var s=n.i(i.inject)(i.ContentManager),u=n.i(i.inject)(o.TargetedTextsParser),l={};e&&(l=e);var c=s.i18n(t);if("object"==typeof c){c=Object.assign({},c);for(var d=u.getTargetedTexts(c),p=void 0,h=0;h<d.length;h++)p=d[h].text,c[d[h].target]=i.StringUtils.substitute(p,l)}else c=i.StringUtils.substitute(c,l);return{text:c,localeId:t,preventUpdateTimeout:r,forceUpdate:a}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.prototype.getTargetedTexts=function(t){var e;switch(typeof t){case"object":e=this.getTargetedTextsFromJSON(t);break;case"string":e=[this.createEmptyTargetedText(""+t)];break;default:e=[]}return e},t.prototype.createEmptyTargetedText=function(t){return void 0===t&&(t=""),{target:"",text:t}},t.prototype.getTargetedTextsFromJSON=function(t){var e,n=[];for(var i in t)t.hasOwnProperty(i)&&(e=this.createEmptyTargetedText(),e.target=""+i,e.text=""+t[i],n.push(e));return n},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.messageToIdMap={}}return t.prototype.startMessageToggle=function(t,e,n){var i=this,o=this.messageToIdMap[t];if(o&&o.isActive)return void this.stopMessageToggle(o.id);var r={id:t,messages:e,isActive:!0,toggleIndex:-1};this.messageToIdMap[r.id]=r,this.toggleMessage(r.id),r.toggleInterval=setInterval(function(){return i.toggleMessage(r.id)},n)},t.prototype.stopMessageToggle=function(t){var e=this.messageToIdMap[t];e&&e.isActive&&(this.messageToIdMap[e.id]=null,e.isActive=!1,clearInterval(e.toggleInterval))},t.prototype.toggleMessage=function(t){var e=this.messageToIdMap[t];if(e){e.toggleIndex++;var n=e.toggleIndex%e.messages.length,i=e.messages[n];this.dispatcher.dispatch(o.InfoBarEvent.SHOW_MESSAGE,i)}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotModel=n.i(o.inject)(r.SlotModel),e.userModel=n.i(o.inject)(r.UserModel),e.targetedTextsParser=n.i(o.inject)(r.TargetedTextsParser),e.contentManager=n.i(o.inject)(o.ContentManager),e.labelConfigs={},e}return i.a(e,t),e.prototype.setMediatorView=function(e){t.prototype.setMediatorView.call(this,e),this.dispatcher.addListener(r.InfoBarEvent.SHOW_MESSAGE,this.onShowMessage,this)},e.prototype.onShowMessage=function(t){for(var e=this.targetedTextsParser.getTargetedTexts(t.text),n=e.length,i=0;i<n;i++)this.processText(e[i],t)},e.prototype.processText=function(t,e){var n,i,o,a=t.target,s=this.mediatorView.getTargetLabelByKey(a+r.InfoBarModuleConstant.layouts.infoLabelName);s||(s=this.mediatorView.infoLabel,a=r.InfoBarModuleConstant.targetDefaultId),o=this.labelConfigs[a],i=!1,e.forceUpdate?i=!0:o?Date.now()>=o.changeAvailableFrom&&(i=!0):i=!0,i&&(s.text=t.text,n={changeAvailableFrom:Date.now()},e.preventUpdateTimeout&&(n.changeAvailableFrom+=e.preventUpdateTimeout),this.labelConfigs[a]=n)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.getTargetLabelByKey=function(t){return this[t]},e}(o.g)},function(t,e,n){"use strict";var i=n(0),o=n(2);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.JackpotManager).asSingleton().forceCreation(),t.bind(o.JackpotModel).asSingleton().forceCreation().asModel().serverModel()}}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.regulationsModel=n.i(i.inject)(o.RegulationsModel),this.init()}return t.prototype.init=function(){this.regulationsModel.jackpotLimitEnabled=!0},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.isJustWon=!1}return t.prototype.parseResponse=function(t){},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.MainScreenView).asView().withId(o.MainScreenModuleConstant.layouts.mainScreen).bindMediator(o.MainScreenMediator).withParameters(this.context.slotParameters,this.context.api.device)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{mainScreen:"mainView"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={CHANGE_REELS_BACKGROUND:"CHANGE_REELS_BACKGROUND",SHOW_OVERLAY:"SHOW_OVERLAY",HIDE_OVERLAY:"HIDE_OVERLAY",REELS_CLICK:"MainScreenEvents.REELS_CLICK"}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(e,i){var s=t.call(this)||this;return s.slotParameters=e,s.device=i,s.view=n.i(o.inject)(a.MainScreenView,s),s.renderManager=n.i(o.inject)(r.b),s.MIN_SWIPE_DISTANCE=20,s.MIN_SWIPE_TIME=1e3,s.addListeners(),s}return i.a(e,t),e.prototype.addListeners=function(){var t=this;this.dispatcher.addListener(a.MainScreenEvents.SHOW_OVERLAY,this.onShowOverlay,this),this.dispatcher.addListener(a.MainScreenEvents.HIDE_OVERLAY,this.onHideOverlay,this),this.addListenerShowOverlayForFOAK(),this.dispatcher.addListener(a.MainScreenEvents.CHANGE_REELS_BACKGROUND,function(e){return t.view.changeBackground(e)}),this.view.reelBorderImage.addListener(this.device.event.click,this.onReelsClick.bind(this),!1)},e.prototype.removeListeners=function(){},e.prototype.onShowOverlay=function(){this.view.showOverlay()},e.prototype.onHideOverlay=function(){this.view.showOverlay(!1)},e.prototype.addReelsSwipeListener=function(){var t=this.device.event;this.view.reelBorderImage.interactive=!0,this.view.reelBorderImage.addListener(t.down,this.onReelsTouchDown.bind(this),!1),this.view.reelBorderImage.addListener(t.up,this.onTouchUp.bind(this),!1),this.view.reelBorderImage.addListener(t.outside,this.onTouchUp.bind(this),!1)},e.prototype.onReelsTouchDown=function(t){var e=t.data;this.touchStartTime=(new Date).getTime(),this.touchStartPoint=e.getLocalPosition(this.view.parent)},e.prototype.onTouchUp=function(t){var e=t.data;if(this.touchStartPoint){this.touchEndPoint=e.getLocalPosition(this.view.parent);if(Math.abs(this.touchStartPoint.y-this.touchEndPoint.y)>this.MIN_SWIPE_DISTANCE&&this.touchEndPoint.y>this.touchStartPoint.y){Date.now()-this.touchStartTime<this.MIN_SWIPE_TIME&&this.dispatcher.dispatch(a.Event.REELS_SWIPE)}}this.touchStartPoint=null,this.touchEndPoint=null},e.prototype.onReelsClick=function(){this.dispatcher.dispatch(a.MainScreenEvents.REELS_CLICK)},e.prototype.addListenerShowOverlayForFOAK=function(){var t=this;this.dispatcher.addListener(a.FiveOfKindEvents.SHOW_FIVE_OF_A_KIND,function(){t.slotParameters.fiveOfAKindOverlayCustomId?t.view.showOverlay(!0,t.slotParameters.fiveOfAKindOverlayCustomId):t.view.showOverlay(!0)},this)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(4),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textureProvider=n.i(o.inject)(r.h),e}return i.a(e,t),e.prototype.getReelsBounds=function(){return this.reelBorderImage.getBounds()},e.prototype.changeBackground=function(t){this.reelsViewBg&&(t?(this.originalTexture||(this.originalTexture=this.reelsViewBg.texture),this.updateReelsBackground(this.textureProvider.getTexture(t))):this.updateReelsBackground(this.originalTexture))},e.prototype.updateReelsBackground=function(t){if(this.reelsViewBg instanceof r.j)return void(this.reelsViewBg.texture=t);var e=this.reelsViewBg.position,n=this.reelsViewBg.width,i=this.reelsViewBg.height,o=this.getChildIndex(this.reelsViewBg);this.reelsViewBg.destroy(),t.baseTexture.mipmap=!1,this.reelsViewBg=new r.p,this.reelsViewBg.texture=t,this.reelsViewBg.width=n,this.reelsViewBg.height=i,this.reelsViewBg.position=e,this.addChildAt(this.reelsViewBg,o)},e.prototype.hide=function(){this.visible=!1},e.prototype.show=function(){this.visible=!0},e.prototype.showOverlay=function(t,e){void 0===t&&(t=!0);var n=this[e]||this.slotOverlay;TweenLite.killTweensOf(n),TweenLite.to(n,.5,{alpha:t?1:0})},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(t){this.ctx=t,this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.dispatcher.addListener(o.BalanceManagerEventType.UPDATE_VIEW_BALANCE,this.onUpdateViewBalance,this)}return t.prototype.onUpdateViewBalance=function(t){t||0===t?this.ctx.updateViewBalance(t):this.ctx.updateViewBalance()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){return t.call(this,e)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.BalanceManager).withParameters(this.context).asSingleton().forceCreation()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={UPDATE_VIEW_BALANCE:"UPDATE_VIEW_BALANCE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.MoneyFormatterUtils).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(2),o=function(){function t(){this.config=new i.MoneyFormatterConfig,this.currencySymbol="",this.shortModeSuffix=["K","M","B"],this.groupRegexp=RegExp("(\\d)(?=(\\d{"+this.config.realPartSeparationDigitsCount+"})+(?!\\d))","g")}return t.prototype.checkShortMode=function(t){var e=-1;do{if(t%1e3!=0){t/1e3>1&&t%10==0&&e++;break}t/=1e3,e++}while(e<this.shortModeSuffix.length);return e},t.prototype.checkDecimals=function(t,e){var n=t.toFixed(this.config.decimalPartDigitsCount),i=parseFloat(n),o=2===e||0===e&&i!==Math.floor(i),r=o?n:t.toFixed(0);return"."!==this.config.decimalPartSeparatorCharacter&&(r=r.replace(".",this.config.decimalPartSeparatorCharacter)),this.config.realPartSeparationDigitsCount>0&&(r=r.replace(this.groupRegexp,"$1"+this.config.realPartSeparatorCharacter)),r},t.prototype.getFormattedCurrencySign=function(){var t=this.currencySymbol;return this.config.appendCurrencyToLeft?t+this.addSeparator(t):this.addSeparator(t)+t},t.prototype.formatNumber=function(t,e){var n=0,i=this.currencySymbol,o=this.config.showCurrency,r=this.config.shortMode;e&&("decimalPartAppendType"in e&&(n=e.decimalPartAppendType),"showCurrency"in e&&(o=e.showCurrency),"shortMode"in e&&(r=e.shortMode));var a="";if(r){for(var s=this.checkShortMode(t),u=-1;u<s;u++)t/=1e3;s>=0&&(a=this.shortModeSuffix[s])}var l=this.checkDecimals(t,n);return o&&i?this.config.appendCurrencyToLeft?this.getFormattedCurrencySign()+l+a:a+l+this.getFormattedCurrencySign():i&&i.length>1&&this.config.appendCurrencyToLeft?" "+l+a:l},t.prototype.addSeparator=function(t){return t.length>1?" ":""},t.prototype.formatNumberAutoDecimalsForTickup=function(t,e,n,i,o){return o||(o={}),o.decimalPartAppendType=this.getDecimalPartAppendingTypeForTickup(t,e,n,i),this.formatNumber(t,o)},t.prototype.getDecimalPartAppendingTypeForTickup=function(t,e,n,i){if(this.config.tickupDecimalsAsLineBet){var o=1;return-1!==this.formatNumber(i).indexOf(this.config.decimalPartSeparatorCharacter)&&(o=2),o}var r=parseFloat(t.toFixed(this.config.decimalPartDigitsCount)),a=parseFloat(e.toFixed(this.config.decimalPartDigitsCount)),s=parseFloat(n.toFixed(this.config.decimalPartDigitsCount)),u=parseFloat(i.toFixed(this.config.decimalPartDigitsCount));return r===a?0:a!==Math.floor(a)||s!==Math.floor(s)||u!==Math.floor(u)?2:1},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.showCurrency=!0,this.decimalPartSeparatorCharacter=".",this.decimalPartDigitsCount=2,this.realPartSeparatorCharacter=",",this.realPartSeparationDigitsCount=3,this.appendCurrencyToLeft=!0,this.shortMode=!1,this.tickupDecimalsAsLineBet=!1}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjection.call(this,e),e.bind(o.PayTableView).withParameters(this.context.api).asView().withId(o.PayTableModuleConstant.layouts.payTable).bindMediator(o.PayTableMediator),e.bind(o.PaytableUIView).asView().withId(o.PayTableModuleConstant.layouts.payTableUI).asSingleton(!1).bindMediator(o.PaytableUIMediator),e.bind(o.PayTableModel).asSingleton(),e.bind(o.PayTableManager).asSingleton().forceCreation()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{payTable:"paytableScreen",payTableUI:"paytableUI"},sounds:{PAYTABLE_CANCEL:"PAYTABLE_CANCEL",PAYTABLE_FORWARD:"PAYTABLE_FORWARD",PAYTABLE_BACK:"PAYTABLE_BACK"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_PAYTABLE_ANIMATION_CHANGE:"PayTableModelEvents.SHOW_PAYTABLE_ANIMATION_CHANGE",PAYTABLE_VISIBILITY_CHANGE:"PayTableModelEvents.PAYTABLE_VISIBILITY_CHANGE",PAGE_INDEX_CHANGE:"PayTableModelEvents.PAGE_INDEX_CHANGE",PAGES_COUNT_CHANGE:"PayTableModelEvents.PAGES_COUNT_CHANGE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={OPEN:"PaytableEvents.OPEN",CLOSE:"PaytableEvents.CLOSE",PAGE_CHANGE_START:"PaytableEvents.PAGE_CHANGE_START",PAGE_CHANGE_END:"PaytableEvents.PAGE_CHANGE_END",PAGE_ANIMATION_REQUEST:"PaytableEvents.PAGE_ANIMATION_REQUEST",HIDE_ALL_PAYTABLE_ANIMATIONS:"PaytableEvents.HIDE_ALL_PAYTABLE_ANIMATIONS",SHOW_PAYTABLE_SYMBOL_ANIMATION:"PaytableEvents.SHOW_PAYTABLE_SYMBOL_ANIMATION",SHOW_PAYTABLE_PAYOUT_ANIMATION:"PaytableEvents.SHOW_PAYTABLE_PAYOUT_ANIMATION",TRIGGER_PREV_PAGE:"PaytableEvents.TRIGGER_PREV_PAGE",TRIGGER_NEXT_PAGE:"PaytableEvents.TRIGGER_NEXT_PAGE",TRIGGER_CLOSE:"PaytableEvents.TRIGGER_CLOSE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.payTableModel=n.i(i.inject)(o.PayTableModel),this.rewardsModel=n.i(i.inject)(o.RewardsModel),this.symbolManager=n.i(i.inject)(o.SymbolManager),this.autoPlayModeModel=n.i(i.inject)(o.AutoPlayModeModel),this.winUtils=n.i(i.inject)(o.WinUtils),this.dispatcher.addListener(o.PaytableEvents.PAGE_ANIMATION_REQUEST,this.showAnimation,this),this.dispatcher.addListener(o.PayTableModelEvents.SHOW_PAYTABLE_ANIMATION_CHANGE,this.onShowPaytableAnimationChange,this),this.dispatcher.addListener(o.PayTableModelEvents.PAYTABLE_VISIBILITY_CHANGE,this.onPaytableVisibilityChange,this)}return t.prototype.onShowPaytableAnimationChange=function(){this.payTableModel.showPayTableAnimation||this.dispatcher.dispatch(o.PaytableEvents.HIDE_ALL_PAYTABLE_ANIMATIONS)},t.prototype.onPaytableVisibilityChange=function(){this.payTableModel.payTableOpened?this.autoPlayModeModel.changeBy(this,!1,!1,!0):this.autoPlayModeModel.changeBy(this,!1,!1,!1)},t.prototype.showAnimation=function(){if(this.payTableModel.showPayTableAnimation)for(var t=this.rewardsModel.getPayRewards(),e=0,n=t;e<n.length;e++){var i=n[e],o=this.getHighlightData(i);this.showHighlight(o)}},t.prototype.getHighlightData=function(t){for(var e=this.winUtils.getWinSymbolsByReward(t),n=this.symbolManager.getWildSymbolsIds(),i=e[0].symbolIndex,o=0;o<e.length;o++)if(-1===n.indexOf(""+e[o].symbolIndex)){i=e[o].symbolIndex;break}return{payoutId:t.payoutId,symbolId:i,symbolsCount:t.payoutSymbolsCount}},t.prototype.showHighlight=function(t){this.dispatcher.dispatch(o.PaytableEvents.SHOW_PAYTABLE_SYMBOL_ANIMATION,{symbolId:t.symbolId,count:t.symbolsCount}),this.dispatcher.dispatch(o.PaytableEvents.SHOW_PAYTABLE_PAYOUT_ANIMATION,{payoutId:t.payoutId,count:t.symbolsCount})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.PayTableView,e),e.view.on(e.view.getCloseEvent(),function(){e.dispatcher.dispatch(r.GameRunEvents.HIDE_PAYTABLE)}),e.dispatcher.addListener(r.PaytableEvents.TRIGGER_NEXT_PAGE,e.onTriggerNextBtn,e),e.dispatcher.addListener(r.PaytableEvents.TRIGGER_PREV_PAGE,e.onTriggerPrevBtn,e),e.dispatcher.addListener(r.PaytableEvents.TRIGGER_CLOSE,e.onTriggerCloseBtn,e),e}return i.a(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.removeAllListeners(this.view.getCloseEvent()),this.view.removeAllListeners(r.PaytableEvents.PAGE_CHANGE_END),this.dispatcher.removeListeners(r.PaytableEvents.TRIGGER_NEXT_PAGE,this),this.dispatcher.removeListeners(r.PaytableEvents.TRIGGER_PREV_PAGE,this),this.dispatcher.removeListeners(r.PaytableEvents.TRIGGER_CLOSE,this)},e.prototype.onTriggerNextBtn=function(){this.view.onForwardClick()},e.prototype.onTriggerPrevBtn=function(){this.view.onBackClick()},e.prototype.onTriggerCloseBtn=function(){this.view.onCancelClick()},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.paytableModel=n.i(o.inject)(r.PayTableModel),e.contextModel=n.i(o.inject)(r.ContextModel),e}return i.a(e,t),e.prototype.setMediatorView=function(e){t.prototype.setMediatorView.call(this,e),this.dispatcher.addListener(r.PayTableModelEvents.PAYTABLE_VISIBILITY_CHANGE,this.onPaytableVisibilityChange,this),this.dispatcher.addListener(r.PayTableModelEvents.PAGE_INDEX_CHANGE,this.onPaytablePageIndexChange,this),this.mediatorView.prevBtn.on(this.contextModel.context.api.device.event.click,this.onPrev,this),this.mediatorView.nextBtn.on(this.contextModel.context.api.device.event.click,this.onNext,this),this.mediatorView.closeBtn.on(this.contextModel.context.api.device.event.click,this.onClose,this),this.commitData()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.dispatcher.removeListeners(r.PayTableModelEvents.PAYTABLE_VISIBILITY_CHANGE,this),this.dispatcher.removeListeners(r.PayTableModelEvents.PAGE_INDEX_CHANGE,this);var e=this.contextModel.context.api.device.event.click;this.mediatorView.prevBtn.removeAllListeners(e),this.mediatorView.nextBtn.removeAllListeners(e),this.mediatorView.closeBtn.removeAllListeners(e)},e.prototype.onPaytableVisibilityChange=function(){this.mediatorView.closeBtn.setDefaultState(),this.commitData()},e.prototype.onPaytablePageIndexChange=function(){this.commitData()},e.prototype.onPrev=function(){this.dispatcher.dispatch(r.PaytableEvents.TRIGGER_PREV_PAGE)},e.prototype.onNext=function(){this.dispatcher.dispatch(r.PaytableEvents.TRIGGER_NEXT_PAGE)},e.prototype.onClose=function(){this.dispatcher.dispatch(r.PaytableEvents.TRIGGER_CLOSE)},e.prototype.commitData=function(){this.mediatorView.visible=this.paytableModel.payTableOpened,this.mediatorView.prevBtn&&(this.contextModel.context.slotParameters.paytableLoopPages?this.mediatorView.prevBtn.enabled=!0:this.mediatorView.prevBtn.enabled=0!==this.paytableModel.pageIndex),this.mediatorView.nextBtn&&(this.contextModel.context.slotParameters.paytableLoopPages?this.mediatorView.nextBtn.enabled=!0:this.mediatorView.nextBtn.enabled=this.paytableModel.pageIndex!==this.paytableModel.pagesCount-1)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this._showPayTableAnimation=!0,this.prevPageIndex=0,this._pageIndex=0,this._pagesCount=0}return Object.defineProperty(t.prototype,"showPayTableAnimation",{get:function(){return this._showPayTableAnimation},set:function(t){t!==this._showPayTableAnimation&&(this._showPayTableAnimation=t,this.dispatcher.dispatch(o.PayTableModelEvents.SHOW_PAYTABLE_ANIMATION_CHANGE))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"payTableOpened",{get:function(){return this._payTableOpened},set:function(t){this._payTableOpened=t,this.dispatcher.dispatch(o.PayTableModelEvents.PAYTABLE_VISIBILITY_CHANGE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(t){t!==this._pageIndex&&(this.prevPageIndex=this._pageIndex,this._pageIndex=t,this.dispatcher.dispatch(o.PayTableModelEvents.PAGE_INDEX_CHANGE))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pagesCount",{get:function(){return this._pagesCount},set:function(t){t!==this._pagesCount&&(this._pagesCount=t,this.dispatcher.dispatch(o.PayTableModelEvents.PAGES_COUNT_CHANGE))},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(e){var n=t.call(this)||this;return n.api=e,n.hasInit=!1,n._enabled=!0,n}return i.a(e,t),e.prototype.onAdded=function(){var e=this;if(t.prototype.onAdded.call(this),!this.hasInit){var n=this.api.device.event.click;this.button.on(n,function(t){return e.emit(n,t)}),this.hasInit=!0}},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.button.enabled=t,this.alpha=t?1:.5},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.button.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.button.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.button.height},enumerable:!0,configurable:!0}),e}(o.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(e){var i=t.call(this)||this;return i.api=e,i.soundManager=n.i(o.inject)(o.SoundManager),i.ambientSoundsManager=n.i(o.inject)(a.AmbientSoundsManager),i.paytableModel=n.i(o.inject)(a.PayTableModel),i.contextModel=n.i(o.inject)(a.ContextModel),i.pageButtons=[],i.pageViewIds=[],i._selectedPageIndex=0,i.changeAmbientSound=!0,i.eventName=i.api.device.event,i}return i.a(e,t),e.prototype.onAdded=function(){this.setInitialState(),this.startListeners(),this.setPage(0),t.prototype.onAdded.call(this)},e.prototype.setInitialState=function(){for(var t=1;this["ptCheck"+t];)this.pageViewIds.push("payTablePage_"+t),this.pageButtons.push(this["ptCheck"+t++]);this.paytableModel.pagesCount=this.pageButtons.length},e.prototype.startListeners=function(){var t=this;this.paytableCancelButton&&this.paytableCancelButton.on(this.eventName.click,this.onCancelClick,this),this.paytableBackButton&&this.paytableBackButton.on(this.eventName.click,this.onBackClick,this),this.paytableForwardButton&&this.paytableForwardButton.on(this.eventName.click,this.onForwardClick,this);for(var e=this,n=0;n<this.paytableModel.pagesCount;n++)!function(n){e.pageButtons[n].on(r.q.SELECTED_STATE_CHANGED,function(e){e&&n!==t.selectedPageIndex&&t.setPage(n)})}(n)},e.prototype.changePaytableVisibility=function(t){this.visible=t;var e={useNativeLoop:!1,continueMainAmbient:!0};t?(this.changeAmbientSound&&this.ambientSoundsManager.setActiveSound(a.AmbientSoundType.PAYTABLE,e),this.setPage(this.selectedPageIndex),this.emit(a.PaytableEvents.OPEN)):(this.changeAmbientSound&&this.ambientSoundsManager.setActiveSound(a.AmbientSoundType.MAIN,e),this.ptPageContainer.removeChildren(),this.emit(a.PaytableEvents.CLOSE))},e.prototype.setPage=function(t){this.emit(a.PaytableEvents.PAGE_CHANGE_START,this.selectedPageIndex),this.pageButtons[this.selectedPageIndex].interactive=!0,this.pageButtons[t].interactive=!1,this.selectedPageIndex=t,this.ptPageContainer.removeChildren(),this.ptPageContainer.addChild(this.getPage(this.selectedPageIndex)),this.setNavigationButtonsStates(),this.emit(a.PaytableEvents.PAGE_CHANGE_END,t)},e.prototype.getPage=function(t){return n.i(o.getViewComponent)(this.pageViewIds[t])},e.prototype.setNavigationButtonsStates=function(){this.paytableBackButton&&(this.contextModel.context.slotParameters.paytableLoopPages?this.paytableBackButton.enabled=!0:this.paytableBackButton.enabled=0!==this.selectedPageIndex),this.paytableForwardButton&&(this.contextModel.context.slotParameters.paytableLoopPages?this.paytableForwardButton.enabled=!0:this.paytableForwardButton.enabled=this.selectedPageIndex!==this.paytableModel.pagesCount-1),this.switchBullet(this.selectedPageIndex)},e.prototype.switchBullet=function(t){this.pageButtons.length&&this.pageButtons.forEach(function(e,n){return e.selected=n===t})},e.prototype.getCloseEvent=function(){return"hide_paytable"},e.prototype.onResize=function(t,e,n){},e.prototype.onCancelClick=function(){this.paytableCancelButtonClickSound(),this.emit(this.getCloseEvent())},e.prototype.onBackClick=function(){this.paytableBackButtonClickSound();var t=this.selectedPageIndex-1;this.contextModel.context.slotParameters.paytableLoopPages&&t<0&&(t=this.paytableModel.pagesCount-1),this.setPage(t)},e.prototype.onForwardClick=function(){this.paytableForwardButtonClickSound();var t=this.selectedPageIndex+1;this.contextModel.context.slotParameters.paytableLoopPages&&t>=this.paytableModel.pagesCount&&(t=0),this.setPage(t)},e.prototype.paytableCancelButtonClickSound=function(){this.soundManager.playSound(a.PayTableModuleConstant.sounds.PAYTABLE_CANCEL)},e.prototype.paytableBackButtonClickSound=function(){this.soundManager.playSound(a.PayTableModuleConstant.sounds.PAYTABLE_BACK)},e.prototype.paytableForwardButtonClickSound=function(){this.soundManager.playSound(a.PayTableModuleConstant.sounds.PAYTABLE_FORWARD)},Object.defineProperty(e.prototype,"selectedPageIndex",{get:function(){return this._selectedPageIndex},set:function(t){t!==this._selectedPageIndex&&(this._selectedPageIndex=t,this.paytableModel.pageIndex=this._selectedPageIndex)},enumerable:!0,configurable:!0}),e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(e){var n=t.call(this,e)||this;return n.api=e,n.scrollSpeed=.5,n.buttonsToBaseSizeMap=new o.Dictionary,n.buttonsToBasePivotMap=new o.Dictionary,n}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.clipMask=this.createMask(),this.clipMask.position.set(this.pagesArea.x,this.pagesArea.y),this.addChild(this.clipMask),this.ptPageContainer.mask=this.clipMask,this.ptSlideContainer.mask=this.clipMask},e.prototype.setInitialState=function(){var e=this;t.prototype.setInitialState.call(this),this.buttonSet=[this.paytableBackButton,this.paytableCancelButton,this.paytableForwardButton],this.buttonSet.forEach(function(t){e.buttonsToBaseSizeMap.add(t,new r.e(t.width,t.height)),e.buttonsToBasePivotMap.add(t,new r.e(t.pivot.x,t.pivot.y))}),this.start_x=this.pagesArea.x,this.ptPageContainer.interactive=this.ptPageContainer.interactiveChildren=!0;for(var n=0;n<this.paytableModel.pagesCount;n++)this.pageButtons[n].interactive=!1;this.ptPageContainer.addChild(this.getPage(0))},e.prototype.startListeners=function(){t.prototype.startListeners.call(this),this.ptPageContainer.on(this.eventName.down,this.onDragStart,this),this.ptPageContainer.on(this.eventName.move,this.onDrag,this),this.ptPageContainer.on(this.eventName.up,this.onDragEnd,this),this.ptPageContainer.on(this.eventName.outside,this.onDragEnd,this)},e.prototype.createMask=function(){var t=new r.o;return t.beginFill(16777215),t.drawRect(0,0,this.pagesArea.width,this.pagesArea.height),t.endFill(),t},e.prototype.changePaytableVisibility=function(e){t.prototype.changePaytableVisibility.call(this,e),e||this.ptSlideContainer.removeChildren(),this.drag_enabled=this.visible,this.buttonSet.forEach(function(t){return t.visible=e})},e.prototype.setPage=function(t){if(this.emit(a.PaytableEvents.PAGE_CHANGE_START,this.selectedPageIndex),this.selectedPageIndex===t)return this.ptPageContainer.addChild(this.getPage(this.selectedPageIndex)),this.ptSlideContainer.x=this.ptPageContainer.x=this.pagesArea.x,this.setNavigationButtonsStates(),void this.emit(a.PaytableEvents.PAGE_CHANGE_END,this.selectedPageIndex);var e=t<this.selectedPageIndex;this.selectedPageIndex=t,this.ptSlideContainer.removeChildren(),t<0?this.ptSlideContainer.addChild(this.getPage(0)):t>=this.paytableModel.pagesCount?this.ptSlideContainer.addChild(this.getPage(this.paytableModel.pagesCount-1)):this.ptSlideContainer.addChild(this.getPage(t)),this.ptSlideContainer.x=e?this.pagesArea.x-this.pagesArea.width:this.pagesArea.x+this.pagesArea.width,this.paytableBackButton.enabled=!1,this.paytableForwardButton.enabled=!1,this.autoScroll(e)},e.prototype.onDragStart=function(t){this.drag_enabled&&(this.drag_started=!0,this.drag_x=t.data.global.x,this.emit(a.PaytableEvents.PAGE_CHANGE_START,this.selectedPageIndex))},e.prototype.onDrag=function(t){if(this.drag_enabled&&this.drag_started){var e=this.pagesArea.width,n=this.pagesArea.x,i=t.data.global.x-this.drag_x;if(0!==(i/=this.worldTransform.a)){if(i>0){if(0===this.selectedPageIndex)return;this.ptPageContainer.x>=n&&this.ptSlideContainer.x>=this.ptPageContainer.x&&(this.ptSlideContainer.removeChildren(),this.ptSlideContainer.addChild(this.getPage(this.selectedPageIndex-1)),this.ptSlideContainer.x=this.ptPageContainer.x-e)}else{if(this.selectedPageIndex===this.paytableModel.pagesCount-1)return;this.ptPageContainer.x<=n&&this.ptSlideContainer.x<=this.ptPageContainer.x&&(this.ptSlideContainer.removeChildren(),this.ptSlideContainer.addChild(this.getPage(this.selectedPageIndex+1)),this.ptSlideContainer.x=this.ptPageContainer.x+e)}this.ptPageContainer.x=this.clipMask.x+i,this.ptSlideContainer.x=this.ptSlideContainer.x<this.ptPageContainer.x?this.ptPageContainer.x-e:this.ptPageContainer.x+e}}},e.prototype.onDragEnd=function(){if(this.drag_started=!1,this.drag_enabled){var t=this.pagesArea.width,e=this.ptPageContainer.x-this.clipMask.x,n=Math.abs(e),i=n/t*this.scrollSpeed,o=e>t/2||e<0&&e>t/-2,r=n>t/2;r&&(this.selectedPageIndex+=o?-1:1),0!==e&&this.autoScroll(o,i,r)}},e.prototype.autoScroll=function(t,e,n){var i=this;void 0===e&&(e=this.scrollSpeed),void 0===n&&(n=!0);var r=t?this.pagesArea.x+this.pagesArea.width:this.pagesArea.x-this.pagesArea.width;this.drag_enabled=!1,TweenLite.killTweensOf(this.ptPageContainer),TweenLite.killTweensOf(this.ptSlideContainer),Promise.all([o.Tween.to(this.ptPageContainer,e,{x:n?r:this.pagesArea.x}),o.Tween.to(this.ptSlideContainer,e,{x:n?this.pagesArea.x:r})]).then(function(){n&&(i.ptSlideContainer.children.length&&(i.ptPageContainer.removeChildren(),i.ptPageContainer.addChild(i.ptSlideContainer.getChildAt(0))),i.ptPageContainer.x=i.ptSlideContainer.x,i.setNavigationButtonsStates()),i.drag_enabled=!0,i.emit(a.PaytableEvents.PAGE_CHANGE_END,i.selectedPageIndex)})},e.prototype.onResize=function(e,n,i){var o=this;t.prototype.onResize.call(this,e,n,i),this.updateTransform();var a=1/this.worldTransform.a;this.buttonSet.forEach(function(t){t.width=o.buttonsToBaseSizeMap.get(t).x*a,t.height=o.buttonsToBaseSizeMap.get(t).y*a,t.pivot.x=Math.floor(o.buttonsToBasePivotMap.get(t).x*a),t.pivot.y=Math.floor(o.buttonsToBasePivotMap.get(t).y*a),t.updateTransform()});var s,u=i?10:25,l=i?n/2:.75*n;s=this.paytableBackButton.parent.toLocal(new r.e(u,l)),s.x+=this.paytableBackButton.width/2,this.paytableBackButton.position.set(Math.floor(s.x),Math.floor(s.y)),s=this.paytableForwardButton.parent.toLocal(new r.e(e-u,l)),s.x-=this.paytableBackButton.width/2,this.paytableForwardButton.position.set(Math.floor(s.x),Math.floor(s.y));var c=i?n-10:l;s=this.paytableCancelButton.parent.toLocal(new r.e(e/2,c)),i&&(s.y-=this.paytableCancelButton.height/2),this.paytableCancelButton.position.set(Math.floor(s.x),Math.floor(s.y)),this.onDragEnd()},e}(a.PayTableView)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e}(o.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.ReelsAreaView).asView().withId(o.ReelsModuleConstant.layouts.reelsView).bindMediator(o.ReelsMediator),t.bind(o.TapeCreator).asSingleton(),t.bind(o.InitAllReelsAction).asSingleton(),t.bind(o.RestoreInitAllReelsAction).asSingleton(),t.bind(o.SingleReelModel)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(1),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reelSetId="",e.slotModel=n.i(r.inject)(o.SlotModel),e.dispatcher=n.i(r.inject)(r.EventDispatcher),e.reelsManager=n.i(r.inject)(o.ReelsManager),e}return i.a(e,t),e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(e){if(this.isReelsInitialized()||this.fillInitialReels(this.slotModel.getSlotConfig().reelsCount),this.updatePositionsData(),this.getIsDirtyReelSet()){this.reelSetId=this.getReelSetId();var n=this.createTapes(this.slotModel.reelSets[this.reelSetId]),i=this.getReelsSymbols();this.configureTapes(n,i.concat()),this.setTapes(n)}return t.prototype.onExecute.call(this,e)},e.prototype.getIsDirtyReelSet=function(){return this.reelSetId!==this.getReelSetId()},e.prototype.getReelSetId=function(){return this.slotModel.startReelSetId},e.prototype.getReelsSymbols=function(){return this.slotModel.startReelsSymbols},e.prototype.configureTapes=function(t,e){for(var n=this.slotModel.reels.length,i=0;i<n;i++)t[i].setFrame(e[i].concat()),this.slotModel.reels[i].startSymbols=e[i].concat()},e.prototype.createTapes=function(t){for(var e,i=[],a=n.i(r.inject)(o.TapeCreator),s=t.reels.length,u=0;u<s;u++)e=this.reelsManager.getReelConfig(u),i.push(a.createTape(t.reels[u],e.rows));return i},e.prototype.setTapes=function(t){for(var e=0;e<this.slotModel.reels.length;e++)this.slotModel.reels[e].setTape(t[e]);this.dispatcher.dispatch(o.ReelsEvents.DRAW_REELS,this.slotModel.reels)},e.prototype.updatePositionsData=function(){for(var t=this.slotModel.reels.length,e=0;e<t;e++)this.slotModel.reels[e].stopPosition=this.slotModel.stopReelsPositions[e],this.slotModel.reels[e].startPosition=this.slotModel.startReelsPositions[e]},e.prototype.fillInitialReels=function(t){for(var e=0;e<t;e++){var i=n.i(r.inject)(o.SingleReelModel);i.reelIndex=e,i.spinConfig=this.reelsManager.getSpinConfig(),this.slotModel.reels.push(i)}},e.prototype.isReelsInitialized=function(){return this.slotModel.reels.length>0},e}(r.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.getReelSetId=function(){return this.slotModel.stopReelSetId},e.prototype.getReelsSymbols=function(){return this.slotModel.stopReelsSymbols},e}(o.InitAllReelsAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={sounds:{},layouts:{reelsView:"reelsView"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={DRAW_REELS:"DRAW_REELS"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={STATE_CHANGE:"SingleReelModelEvent.STATE_CHANGE",IS_MANUAL_STOP_CHANGE:"SingleReelModelEvent.IS_MANUAL_STOP_CHANGE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.ReelsAreaView,e),e.slotViewModel=n.i(o.inject)(r.SlotViewModel),e.init(),e}return i.a(e,t),e.prototype.init=function(){var t=n.i(o.inject)(r.ReelsManager),e=n.i(o.inject)(r.SlotModel);this.view.setModel(t,e),this.slotViewModel.isReadyForRender?this.view.renderReels(e.reels):this.dispatcher.addListener(r.ReelsEvents.DRAW_REELS,this.onDrawReels,this).once(),this.addListeners()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeListeners()},e.prototype.addListeners=function(){this.dispatcher.addListener(r.Event.SHOW_REEL_SYMBOLS,this.onShowSymbols,this),this.dispatcher.addListener(r.Event.HIDE_REEL_SYMBOLS,this.onHideSymbols,this)},e.prototype.removeListeners=function(){this.dispatcher.removeListeners(r.ReelsEvents.DRAW_REELS,this),this.dispatcher.removeListeners(r.Event.SHOW_REEL_SYMBOLS,this),this.dispatcher.removeListeners(r.Event.HIDE_REEL_SYMBOLS,this)},e.prototype.onDrawReels=function(t){this.view.renderReels(t)},e.prototype.onShowSymbols=function(t){this.view.showSymbols(t)},e.prototype.onHideSymbols=function(t){this.view.hideSymbols(t)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this._state=0,this.currentStop=null,this.isManualStop=!1,this.frozen=!1,this.stopPosition=0,this.startPosition=0}return t.prototype.init=function(){1===this.state&&(this.state=0)},t.prototype.setTape=function(t){this.tape=t,this.init()},t.prototype.getTape=function(){return this.tape},t.prototype.isStoppedManually=function(){return this.isManualStop},t.prototype.setSpinConfig=function(t){1!==this.state&&0!==this.state||(this.spinConfig=t)},t.prototype.getState=function(){return this.state},t.prototype.getFrame=function(t){return this.tape.getTapeWithFramePart(t).map(function(t){return""+t})},t.prototype.goNext=function(){this.tape.goNext()},t.prototype.stopTape=function(){4===this.state&&(this.tape.goNext(),this.tape.goToFrame(this.currentStop.stopFrame))},t.prototype.start=function(){var t=this;return 1===this.state||0===this.state?(this.state=2,this.changeIsManualStop(!1),new Promise(function(e){t.startAnimationPromiseResolve=e})):Promise.reject(!1)},t.prototype.spin=function(){2===this.state&&(this.startAnimationPromiseResolve(!0),this.state=3)},t.prototype.forceStop=function(t){var e=this;return void 0===t&&(t=!0),this.changeIsManualStop(t),4!==this.state&&1!==this.state&&(this.forceStopPromise=new Promise(function(t){e.stop(),e.stopAnimationPromiseResolve=t})),this.forceStopPromise},t.prototype.stop=function(){3===this.state&&(this.state=4)},t.prototype.stopOn=function(t,e){this.currentStop=new a(t,e)},t.prototype.initialCompleted=function(){0===this.state&&(this.state=1)},t.prototype.executeOnStop=function(){this.state=1,this.currentStop&&(this.currentStop.applyStop(),this.stopAnimationPromiseResolve(!0),this.currentStop=null)},Object.defineProperty(t.prototype,"tapeLength",{get:function(){return this.tape.getLength()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){t!==this._state&&(this._state=t,this.dispatcher.dispatch(o.SingleReelModelEvent.STATE_CHANGE,this.reelIndex))},enumerable:!0,configurable:!0}),t.prototype.changeIsManualStop=function(t){t!==this.isManualStop&&(this.isManualStop=t,this.dispatcher.dispatch(o.SingleReelModelEvent.IS_MANUAL_STOP_CHANGE,this.reelIndex))},t}(),a=function(){function t(t,e){this.stopFrame=t,this.stopCallback=e,this.isActive=!0,this.timeReceivedStamp=Date.now()}return t.prototype.applyStop=function(){this.stopCallback&&this.stopCallback()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){}return t.prototype.createTape=function(t,e){var r=new o.ValidatedTape(t,e),a=n.i(i.inject)(o.SlotModel);return r.additionalFrameSymbolsCount=a.getSlotConfig().additionalReelFrameSymbols?a.getSlotConfig().additionalReelFrameSymbols:0,r},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(4),r=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reelViews=[],e}return i.a(e,t),e.prototype.setModel=function(t,e){this.reelsModel=t,this.slotModel=e},e.prototype.renderReels=function(e){t.prototype.render.call(this);for(var n,i,o=this.reelsModel.getReelsCount(),r=0;r<o;r++)n=this.reelsModel.getReelConfig(r),i=this.createReelView(n,e[r]),this.addChild(i),this.requestAnimation(i),this.reelViews.push(i);this.setReelsMask()},e.prototype.setReelsMask=function(){var t=new o.o;t.isMask=!0,t.interactive=!1,t.lineStyle(0),t.beginFill(0,1);for(var e,n=this.reelsModel.getReelsCount(),i=0;i<n;i++)e=this.reelsModel.getReelConfig(i),t.drawRect(e.x,e.y,e.symbolWidth,e.rows*e.symbolHeight);this.addChild(t),this.mask=t},e.prototype.createReelView=function(t,e){return new r.SingleReelView(t,e)},e.prototype.hideSymbols=function(t){for(var e,n,i=t.length,o=0;o<i;o++)e=t[o],(n=this.reelViews[e.x])&&n.hideSymbol(e.y)},e.prototype.showSymbols=function(t){for(var e,n,i=t.length,o=0;o<i;o++)e=t[o],(n=this.reelViews[e.x])&&n.showSymbol(e.y)},e.prototype.showAllSymbols=function(){for(var t=this.reelsModel.getReelsCount(),e=0;e<t;e++)this.reelViews[e].showAllSymbols()},e}(o.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(e,i){var r=t.call(this)||this;return r.reelVO=e,r.reelModel=i,r.id=null,r.additionalSymbolsCount=0,r.topSymbolOffset=0,r.topReelOffset=0,r.currentFrame=null,r.renderedTime=0,r.symbolCellHeight=0,r.previousState=null,r.fms=1e3/60,r.currentSpeed=0,r.BLURRED_SYMBOLS_SPEED=1500,r.lastStopCallback=null,r.symbolManager=n.i(o.inject)(a.SymbolManager),r.symbolViewDataList=[],r.linesToHide=[],r.symbolCellHeight=e.symbolHeight,r.topReelOffset=e.y,r.topSymbolOffset=0,r.x=e.x,r.y=e.y,r}return i.a(e,t),e.prototype.getAdditionalSymbolsCount=function(){this.reelModel.getState();return 10},e.prototype.getSymbol=function(t){var e=this.symbolManager.getSymbolView(t);return{symbolView:e,displayObject:this.currentSpeed>this.BLURRED_SYMBOLS_SPEED?e.getBlurredStatic():e.getStatic()}},e.prototype.shouldPaintNextSymbol=function(){if(this.symbolCellHeight-this.topSymbolOffset<=0){for(;this.topSymbolOffset>=this.symbolCellHeight;)this.topSymbolOffset=this.topSymbolOffset-this.symbolCellHeight,this.reelModel.goNext();return!0}return!1},e.prototype.drawContainer=function(t){var e=this;void 0===t&&(t=0),this.additionalSymbolsCount=this.getAdditionalSymbolsCount(),this.currentFrame=this.reelModel.getFrame(this.additionalSymbolsCount),this.removeChildren();for(var n=this.symbolViewDataList.length,i=0;i<n;i++)this.symbolViewDataList[i]&&this.symbolManager.releaseSymbolView(this.symbolViewDataList[i].symbolView);this.symbolViewDataList=[];for(var o,r=-this.symbolCellHeight*(this.additionalSymbolsCount-t)+this.topSymbolOffset,a=[],s=0;s<this.currentFrame.length;s++)o=this.getSymbol(this.currentFrame[s]),o.displayObject.position.y+=r,a.push(o),this.symbolViewDataList[s+t]=o,r+=this.symbolCellHeight;var u=a.concat();u.sort(function(t,n){var i=0,o=0,r=e.symbolManager.getSymbolModel(t.symbolView.id).slotSymbolConfig;r&&r.zIndex&&(o=r.zIndex);var s=0,u=e.symbolManager.getSymbolModel(n.symbolView.id).slotSymbolConfig;if(u&&u.zIndex&&(s=u.zIndex),o!==s)o>s?i=-1:o<s&&(i=1);else{var l=a.indexOf(t),c=a.indexOf(n);l>c?i=-1:l<c&&(i=1)}return i}),u.reverse(),n=u.length;for(var i=0;i<n;i++)this.addChild(u[i].displayObject);this.commitVisibleData()},e.prototype.drawSpin=function(t,n){if(n){for(var i=Math.floor(e.inSeconds(t)*n),o=0,r=this.children;o<r.length;o++){r[o].position.y+=i}this.topSymbolOffset+=i}},e.prototype.draw=function(t){var e=t-this.renderedTime;if(e>this.fms){var n=this.reelModel.getState();if(this.previousState!==n)switch(n){case 1:break;case 2:this.drawStartingAnimation();break;case 4:var i=this.reelModel,o=i.isStoppedManually()?i.spinConfig.manualStopAnimation:i.spinConfig.stopAnimation;this.drawStoppingAnimation(o)}this.shouldPaintNextSymbol()&&this.drawContainer(),3===n&&this.drawSpin(e,this.currentSpeed),0===n&&(this.drawContainer(),this.reelModel.initialCompleted()),this.renderedTime=t,this.previousState=n}},e.prototype.onAdded=function(){},e.prototype.onRemoved=function(){},e.prototype.drawStartingAnimation=function(){var t=this,n=this.reelModel.spinConfig,i=this.reelModel.spinConfig.startAnimation;TweenLite.killTweensOf(this),TweenLite.to(this,e.inSeconds(i.time),{ease:i.easeFunc(),currentSpeed:n.spinSpeed,onComplete:function(){return t.reelModel.spin()}})},e.prototype.drawStoppingContainer=function(){this.y-=this.symbolCellHeight*(this.reelVO.rows+1)+this.topReelOffset-this.topSymbolOffset,this.topSymbolOffset=0,this.currentSpeed=0,this.reelModel.stopTape(),this.drawContainer(this.reelVO.rows)},e.prototype.drawStoppingAnimation=function(t){var n=this;this.drawStoppingContainer(),this.lastStopCallback=null,TweenLite.killTweensOf(this),TweenLite.to(this,e.inSeconds(t.time),{ease:t.easeFunc(),y:this.topReelOffset-this.topSymbolOffset,onComplete:function(){n.reelModel.executeOnStop();for(var t=n.reelVO.rows,e=0;e<t;e++)n.reelModel.goNext()}})},e.prototype.hideSymbol=function(t){-1===this.linesToHide.indexOf(t)&&(this.linesToHide.push(t),this.commitVisibleData())},e.prototype.showSymbol=function(t){var e=this.linesToHide.indexOf(t);-1!==e&&(this.linesToHide.splice(e,1),this.commitVisibleData())},e.prototype.showAllSymbols=function(){this.linesToHide=[],this.commitVisibleData()},e.prototype.commitVisibleData=function(){for(var t,e,n=this.symbolViewDataList.length,i=0;i<n;i++)(t=this.symbolViewDataList[i])&&(e=i-this.additionalSymbolsCount,-1!==this.linesToHide.indexOf(e)?(t.symbolView.setVisible(!1),t.displayObject.alpha=0):(t.symbolView.setVisible(!0),t.displayObject.alpha=1))},e.prototype.render=function(){},e.inSeconds=function(t){return t/1e3},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.RegulationsModel).asSingleton().forceCreation().asModel().serverModel(),e.bind(o.RegulationsAction).asSingleton(),e.bind(o.RegulationsManager).asSingleton().forceCreation()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onExecute=function(e){return t.prototype.onExecute.call(this,e)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={defaultRegulationConfig:{autoPlayLimitEnabled:!1,autoPlayLossLimitEnabled:!1,autoPlaySingleWinLimitEnabled:!1,autoPlayUntilFeatureEnabled:!0,noAdaptiveProbability:!0,rulesDateStamped:!1,stopAutoPlayOnJP:!1,showClockOnMobile:!1,showRTP:!1,autoPlayLossLimitDefaultValue:500,autoPlaySingleWinLimitDefaultValue:1e3}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_AUTO_PLAY_SETTINGS_POPUP:"RegulationsEvent.SHOW_AUTO_PLAY_SETTINGS_POPUP",SHOW_AUTO_PLAY_INFO_POPUP:"RegulationsEvent.SHOW_AUTO_PLAY_INFO_POPUP",AUTO_PLAY_SETTINGS_OK:"RegulationsEvent.AUTO_PLAY_SETTINGS_OK",AUTO_PLAY_INFO_OK:"RegulationsEvent.AUTO_PLAY_INFO_OK",AUTO_PLAY_INFO_CANCEL:"RegulationsEvent.AUTO_PLAY_INFO_CANCEL"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.regulationsModel=n.i(i.inject)(o.RegulationsModel),this.contextModel=n.i(i.inject)(o.ContextModel),this.betHelper=n.i(i.inject)(o.BetHelper),this.userModel=n.i(i.inject)(o.UserModel),this.dispatcher.addListener(o.RegulationsEvent.SHOW_AUTO_PLAY_SETTINGS_POPUP,this.onShowAutoPlaySettingsPopup,this),this.dispatcher.addListener(o.RegulationsEvent.SHOW_AUTO_PLAY_INFO_POPUP,this.onShowAutoInfoPopup,this)}return t.prototype.destroy=function(){this.dispatcher.removeListeners(o.RegulationsEvent.SHOW_AUTO_PLAY_SETTINGS_POPUP,this),this.dispatcher.removeListeners(o.RegulationsEvent.SHOW_AUTO_PLAY_INFO_POPUP,this)},t.prototype.autoPlayInfoPopupOkCallback=function(){this.dispatcher.dispatch(o.RegulationsEvent.AUTO_PLAY_INFO_OK),this.setSpinButtonRotation(!0)},t.prototype.onShowAutoPlaySettingsPopup=function(){var t=this,e={cbOk:function(e){return t.autoPlayLimitPopupOkCallback(e)},cbCancel:function(){return t.autoPlayLimitPopupClosedCallback()},totalBet:this.betHelper.getTotalBet(),autoPlayLossLimitDefaultValue:this.regulationsModel.regulationsConfig.autoPlayLossLimitDefaultValue,currencySign:this.userModel.getCurrencySign(),autoPlaySingleWinLimitDefaultValue:this.regulationsModel.regulationsConfig.autoPlaySingleWinLimitDefaultValue,jackpot:this.regulationsModel.jackpotLimitEnabled};this.setSpinButtonRotation(!1),this.contextModel.context.api.showLimitPopup(e)},t.prototype.onShowAutoInfoPopup=function(t){var e=this,n={text:t,cbOk:function(){return e.autoPlayInfoPopupOkCallback()}};this.contextModel.context.api.showLimitInfoPopup(n),this.setSpinButtonRotation(!1)},t.prototype.autoPlayLimitPopupOkCallback=function(t){this.regulationsModel.lossLimit=parseInt(t.overallLossLimit,10),this.regulationsModel.singleWinLimit=parseInt(t.singleWinLimit,10),this.regulationsModel.userBalanceWhenAutoPlayStarted=this.contextModel.context.api.getBalance(),this.dispatcher.dispatch(o.RegulationsEvent.AUTO_PLAY_SETTINGS_OK),this.setSpinButtonRotation(!0)},t.prototype.autoPlayLimitPopupClosedCallback=function(){this.dispatcher.dispatch(o.RegulationsEvent.AUTO_PLAY_INFO_CANCEL),this.setSpinButtonRotation(!0)},t.prototype.setSpinButtonRotation=function(t){var e={spin:{rotate:t}};this.dispatcher.dispatch(o.UIEvent.CHANGE_UI,e)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this._startSpinAfterPopup=!1,this.contextModel=n.i(i.inject)(o.ContextModel),this.limitPopupBlockManager=new i.Lock,this.jackpotLimitEnabled=!1,this.setDefaultRegulations()}return t.prototype.parseResponse=function(t){t.jrsdSettings&&(this._regulationsConfig=t.jrsdSettings,this.applyURLParams())},t.prototype.setDefaultRegulations=function(){this._regulationsConfig=o.RegulationsConstant.defaultRegulationConfig,this.applyURLParams()},t.prototype.applyURLParams=function(){},Object.defineProperty(t.prototype,"regulationsConfig",{get:function(){return this._regulationsConfig},enumerable:!0,configurable:!0}),t.prototype.addLimitPopupBlock=function(t){this.limitPopupBlockManager.add(t)},t.prototype.removeLimitPopupBlock=function(t){this.limitPopupBlockManager.remove(t)},Object.defineProperty(t.prototype,"isLimitPopupBlocked",{get:function(){return this.limitPopupBlockManager.isLocked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startSpinAfterPopup",{get:function(){return this._startSpinAfterPopup},set:function(t){this._startSpinAfterPopup=t},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.RewardsModel).asSingleton().forceCreation().asModel().serverModel()},e.prototype.onActivation=function(){t.prototype.onActivation.call(this);var e=n.i(r.inject)(o.RewardsModel);e.addRewardParser(new o.LineRewardParser),e.addRewardParser(new o.ScatterRewardParser),n.i(r.inject)(o.ContextModel).context.slotParameters.allWays&&e.addRewardParser(new o.WaysRewardParser)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.rewards=[],this.parsers=[]}return t.prototype.parseResponse=function(t){if(this.rewards=[],t.rewards)for(var e=void 0,n=t.rewards.length,i=0;i<n;i++){e=t.rewards[i];for(var o=this.parsers.length,r=0;r<o&&!this.parsers[r].parse(e,this.rewards);r++);}},t.prototype.getPayRewards=function(t){return this.rewards.filter(function(e){var n=!1;return e.value>0&&(t&&-1===t.indexOf(e.type)||(n=!0)),n})},t.prototype.addRewardParser=function(t){this.parsers.push(t)},t}()},function(t,e,n){"use strict";var i=n(2);!function(){function t(){}t.prototype.parse=function(t,e){var n;if(t.reward===i.ServerRewardType.INSTANT_CASH){var o=new i.InstantCashRewardVO;o.position.x=t.position[1],o.position.y=t.position[0],o.type=t.reward,o.value=t.payout,t.paytable&&(o.payoutId=t.paytable[0],o.payoutSymbolsCount=t.paytable[1]+1),e.push(o),n=!0}return n}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(2),o=function(){function t(){}return t.prototype.parse=function(t,e){var n;if(t.reward===i.ServerRewardType.LINE){var o=new i.LineRewardVO;o.lineId=t.lineId,o.direction=t.direction,o.type=t.reward,o.value=t.payout,t.paytable&&(o.payoutId=t.paytable[0],o.payoutSymbolsCount=t.paytable[1]+1),e.push(o),n=!0}return n},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(4),o=n(2),r=function(){function t(){}return t.prototype.parse=function(t,e){var n;if(t.reward===o.ServerRewardType.SCATTER){var r=new o.ScatterRewardVO;t.positions.forEach(function(t){r.positions.push(new i.e(t[1],t[0]))}),r.type=t.reward,r.value=t.payout,t.paytable&&(r.payoutId=t.paytable[0],r.payoutSymbolsCount=t.paytable[1]+1),e.push(r),n=!0}return n},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(2),o=function(){function t(){this.lineRewardParser=new i.LineRewardParser}return t.prototype.parse=function(t,e){if(t.reward===i.ServerRewardType.WAYS){var n=t,o=new i.WaysRewardVO;o.type=t.reward,o.value=t.payout,o.wayIds=n.wayIds,o.direction=n.direction,o.symbolId=n.symbolId,t.paytable&&(o.payoutId=t.paytable[0],o.payoutSymbolsCount=t.paytable[1]+1),e.push(o);for(var r=n.wayIds.length,a=n.payout/r,s=0;s<r;s++){var u={reward:i.ServerRewardType.LINE,lineId:n.wayIds[s],direction:n.direction,multiplier:n.wayMultiplier,payout:a,paytable:t.paytable};this.lineRewardParser.parse(u,e)}}return!0},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.ServerService).withParameters(this.context.api).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={FREE_SPINS_START:"freeSpinsStart",FREE_SPINS_ADDED:"freeSpinsAdded",FREE_SPINS_END:"freeSpinsEnd",BONUS_SELECTION_START:"bonusSelectionStart",BONUS_SELECTION_END:"bonusSelectionEnd",MAX_WIN_REACHED:"maxWinReached"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={MAIN:"main",FREE_GAMES:"freeSpins"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={INIT:"init",SPIN:"spin",BONUS_SELECTION:"bonusSelection",JACKPOT_TICKER:"jp-ticker",JACKPOT_START_MINI_GAME:"start-mini-game",JACKPOT_PLAY_MINI_GAME:"play-mini-game"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={LINE:"line",WAYS:"ways",SCATTER:"scatter",INSTANT_CASH:"instantCash"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(t){this.api=t,this.serverModels=[],this.requestConfigsToIdMap={},this.serverModels=n.i(i.getServerModels)(),this.requestConfigsToIdMap[o.ServerRequestType.JACKPOT_TICKER]={preventAllModelsUpdate:!0}}return t.prototype.init=function(){var t=this;return new Promise(function(e){t.api.initServer().then(function(n){t.processResponse(n),e(t.lastResponse)})})},t.prototype.spin=function(t,e,n,i){var o=this;return void 0===i&&(i=!0),new Promise(function(r,a){o.api.spin(t,e,n).then(function(t){o.processResponse(t,i),r(o.lastResponse)},function(){a()})})},t.prototype.bonusSelect=function(t){var e=this;return new Promise(function(n,i){e.api.bonusSelection(t).then(function(t){e.processResponse(t),n(e.lastResponse)},function(){i()})})},t.prototype.jackpotTicker=function(){var t=this;return new Promise(function(e,n){t.api.getJackpotTicker().then(function(n){t.processResponse(n),e(t.lastResponse)},function(){n()})})},t.prototype.processResponse=function(t,e){void 0===e&&(e=!0),this.lastResponse=this.getResponseData(t),e&&this.updateModels()},t.prototype.getResponseData=function(t){var e={tempSourceResponse:t,requestName:t.result.request,balance:t.balance,gameSession:t.gameSession,jrsdSettings:t.jrsdSettings};t.result.previousResult&&(e.previousResult=t.result.previousResult);var n=t.result;e.name=n.name,e.gameId=n.gameId,e.settings=n.settings,n.slot&&(e.sets=n.slot.sets,e.reels=n.slot.reels,e.lines=n.slot.lines,e.paytable=n.slot.paytable,e.linesDefinition=n.slot.linesDefinition);var i=t.result;return i.reels&&(e.reels=i.reels),e.stake=i.stake,e.totalBet=i.totalBet,e.totalWin=i.totalWin,e.rewards=i.rewards,e.state=i.state,e.events=i.events,e.roundsInfo=i.roundsInfo,e.data=i.data,e},t.prototype.updateModels=function(){var t=this,e=this.requestConfigsToIdMap[this.lastResponse.requestName];this.serverModels.forEach(function(n){if(e&&e.preventAllModelsUpdate){if(n.getCustomRequestIds){var i=n.getCustomRequestIds();-1!==i.indexOf(t.lastResponse.requestName)&&t.updateSingleModel(n)}}else t.updateSingleModel(n)})},t.prototype.updateSingleModel=function(t){this.lastResponse&&t.parseResponse(this.lastResponse)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.getEvents=function(t,e){var n=[];return t&&(n=t.filter(function(t){return-1!==e.indexOf(t.id)})),n},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={BUTTON_CLICK:"GENERIC_BUTTON_CLICK"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.AmbientSoundsManager).asSingleton().forceCreation(),e.bind(o.SlotSoundsUtils).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={abstractIds:{spinStart:"spinStart",spinStop:"spinStop",regularWin:"regularWin",turboWin:"turboWin",loadingScreen:"LOADING_SCREEN"},sounds:{REEL_SPIN_MANUAL_STOP:"REEL_SPIN_MANUAL_STOP",SYMBOL_LANDING_SOUND_PATTERN:"SYMBOL_{symbolId}_LANDING",SYMBOL_LANDING_SOUND_PER_REEL_PATTERN:"SYMBOL_{symbolId}_LANDING_{reelIndex}",AMBIENT_SOUND_PATTERN:"AMBIENT_{type}",REGULAR_WIN_TURBO:"REGULAR_WIN_TURBO"},complexSounds:{spinStart:{default:"REEL_SPIN_START_{reelSet}",pattern:"REEL_SPIN_START_{reelSet}_{index}"},spinStop:{default:"REEL_SPIN_STOP",pattern:"REEL_SPIN_STOP_{index}"},regularWin:{default:"REGULAR_WIN_{reelSet}",pattern:"REGULAR_WIN_{reelSet}_{index}"}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={MAIN:"main",FREE_GAMES_INTRO:"freeGamesIntro",FREE_GAMES_MAIN:"freeGames",HELP:"help",PAYTABLE:"paytable",BONUS_INTRO:"bonusIntro",BONUS_MAIN:"bonusMain"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={MAIN:"main",FREE_GAMES:"freeGames"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(2),o=n(1),r=function(){function t(){var t=this;this.soundsManager=n.i(o.inject)(o.SoundManager),this.currentSoundId="",this.currentSoundType="",this.dispatcher=n.i(o.inject)(o.EventDispatcher),this.continueMainAmbient=!1,this.startVolume=0,this.endVolume=1,this.dispatcher.addListener(o.SoundManagerEvent.SOUND_LOADED,function(e){t.currentSoundId===e&&t.startCurrentSoundWithCheck()},this),this.dispatcher.addListener(o.DOMEventType.VISIBILITY_CHANGED,function(e){e||(t.stopCurrentSound(),t.setActiveSound(t.currentSoundType,{useNativeLoop:!0}))},this),n.i(o.inject)(o.LoadManager).onLazyAssetsLoaded.then(function(){t.startCurrentSoundWithCheck()}),this.initMainSoundId()}return t.prototype.initMainSoundId=function(){this.mainSoundId=o.StringUtils.substitute(i.SlotSoundsModuleConstants.sounds.AMBIENT_SOUND_PATTERN,{type:i.AmbientSoundType.MAIN})},t.prototype.setActiveSound=function(t,e){var n={continueMainAmbient:!1,useNativeLoop:!1};e&&("boolean"==typeof e?n.useNativeLoop=e:Object.assign(n,e)),this.continueMainAmbient=n.continueMainAmbient,this.currentSoundType=t;var r=o.StringUtils.substitute(i.SlotSoundsModuleConstants.sounds.AMBIENT_SOUND_PATTERN,{type:this.currentSoundType});r!==this.currentSoundId&&(this.stopCurrentSound(),this.currentSoundId=r,this.isCurrentSoundPlaying=!1,this.startCurrentSoundWithCheck(n.useNativeLoop))},t.prototype.startCurrentSoundWithCheck=function(t){void 0===t&&(t=!1),this.isCurrentSoundPlaying||this.soundsManager.isSoundAvailable(this.currentSoundId)&&(this.currentSoundId===this.mainSoundId&&this.continueMainAmbient?this.soundsManager.getSound(this.mainSoundId).resume():this.soundsManager.playSound(this.currentSoundId,-1,!1,t),this.isCurrentSoundPlaying=!0)},t.prototype.stopCurrentSound=function(){this.currentSoundId&&(this.currentSoundId===this.mainSoundId&&this.continueMainAmbient?this.soundsManager.getSound(this.mainSoundId).pause():this.soundsManager.stopSound(this.currentSoundId),this.currentSoundId="")},t.prototype.fadeIn=function(t){var e=this;return this.currentSoundId?new Promise(function(n){TweenLite.to(e,t,{startVolume:e.endVolume,ease:Linear.easeNone,overwrite:o.TweenConstants.OVERRIDE_NONE,onStart:function(){e.unMuteCurrentSound()},onUpdate:function(){return e.setCurrentSoundVolume(e.startVolume)},onComplete:function(){e.startVolume=0,n()}})}):Promise.resolve()},t.prototype.fadeOut=function(t){var e=this;return this.currentSoundId?new Promise(function(n){TweenLite.to(e,t,{endVolume:e.startVolume,ease:Linear.easeNone,overwrite:o.TweenConstants.OVERRIDE_NONE,onStart:function(){},onUpdate:function(){return e.setCurrentSoundVolume(e.endVolume)},onComplete:function(){e.muteCurrentSound(),e.endVolume=1,n()}})}):Promise.resolve()},t.prototype.muteCurrentSound=function(){this.currentSoundId&&this.soundsManager.muteSound(this.currentSoundId)},t.prototype.unMuteCurrentSound=function(){this.currentSoundId&&this.soundsManager.unMuteSound(this.currentSoundId)},t.prototype.setCurrentSoundVolume=function(t){this.currentSoundId&&this.soundsManager.setSoundVolume(this.currentSoundId,t)},t.prototype.getCurrentSoundType=function(){return this.currentSoundType},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.abstractSoundsData={}}return t.prototype.getSpinStopSound=function(t,e,n){var r;if(n)r=o.SlotSoundsModuleConstants.sounds.REEL_SPIN_MANUAL_STOP;else{var a=o.SlotSoundsModuleConstants.complexSounds[o.SlotSoundsModuleConstants.abstractIds.spinStop];a.pattern&&(r=i.StringUtils.substitute(a.pattern,{index:""+e})),t.isSoundAvailable(r)||(r=a.default)}return r},t.prototype.getSpinAndSymbolsStopSound=function(t,e,n,r){var a,s={},u=!0;if(n.length>e)for(var l=n[e],c=void 0,d=l.length,p=0;p<d;p++){c=""+l[p];var h=this.getReelsWithSymbolCount(l[p],e,n);a=i.StringUtils.substitute(o.SlotSoundsModuleConstants.sounds.SYMBOL_LANDING_SOUND_PER_REEL_PATTERN,{symbolId:c,reelIndex:h}),t.isSoundAvailable(a)||(a=i.StringUtils.substitute(o.SlotSoundsModuleConstants.sounds.SYMBOL_LANDING_SOUND_PATTERN,{symbolId:c})),t.isSoundAvailable(a)&&(u=!1,s.soundId=a)}return u&&(s.soundId=this.getSpinStopSound(t,e,r),s.isReelStopSound=!0),s},t.prototype.getReelsWithSymbolCount=function(t,e,n){for(var i=0,o=0;o<e;o++)for(var r=n[o],a=r.length,s=0;s<a;s++)if(r[s]===t){i++;break}return i},t.prototype.getLastPlayedSound=function(t){return this.getAbstractSoundData(t).lastSoundId},t.prototype.getToggleSoundId=function(t,e){var n="",r=o.SlotSoundsModuleConstants.complexSounds[t.abstractSoundId];if(r){var a=this.getAbstractSoundData(t.abstractSoundId);a.index||(a.index=0),r.pattern&&(n=i.StringUtils.substitute(r.pattern,{reelSet:t.reelSet,index:""+a.index}),e.isSoundAvailable(n)||(a.index=0,n=i.StringUtils.substitute(r.pattern,{reelSet:t.reelSet,index:""+a.index}))),e.isSoundAvailable(n)?a.index++:n=i.StringUtils.substitute(r.default,{reelSet:t.reelSet,index:""+a.index}),a.lastSoundId=n}return n},t.prototype.getAbstractSoundData=function(t){return this.abstractSoundsData[t]||(this.abstractSoundsData[t]={index:0,lastSoundId:""}),this.abstractSoundsData[t]},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(4),o=n(1),r=n(51),a=function(){function t(){this.renderManager=n.i(o.inject)(i.b),this.contextModel=n.i(o.inject)(r.a),this.device=this.contextModel.context.api.device,this.isIos="ios"===this.device.deviceOS,this.isIos&&this.addListeners()}return t.prototype.addListeners=function(){var t=this;this.renderManager.getCanvasElement().addEventListener(this.device.event.down,function(e){t.point=new i.e(e.changedTouches[0].screenX,e.changedTouches[0].screenY)}),this.renderManager.getCanvasElement().addEventListener(this.device.event.move,function(e){new i.e(e.changedTouches[0].screenX,e.changedTouches[0].screenY).y>=t.point.y?e.preventDefault():(t.point.x=e.changedTouches[0].screenX,t.point.y=e.changedTouches[0].screenY)})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.SwipeManager).asSingleton().forceCreation()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.SymbolView),e.bind(o.AnimationClip),e.bind(o.SymbolsCache),e.bind(o.SymbolsFactory),e.bind(o.SymbolManager).asSingleton().withParameters(this.context.slotParameters.symbols),e.bind(o.SymbolConfigModel).asSingleton(),e.bind(o.SymbolAnimationsView).asView().withId(o.SymbolsModuleConstant.layouts.winAnimationsView).bindMediator(o.SymbolAnimationsMediator)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{winAnimationsView:"animationsView"},animationType:{byFrame:"ByFrame",libraryItem:"LibraryItem"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(12),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.play=function(){return this.displayObject.playMovie()},e.prototype.pause=function(){this.displayObject.stop()},e.prototype.resume=function(){this.displayObject.play()},e.prototype.stop=function(){this.displayObject.gotoAndStop(0)},e.prototype.setLoop=function(t){this.displayObject.infiniteLoop=t},e.prototype.setLoopsCount=function(t){this.displayObject.setLoops(t)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(12),r=function(t){function e(e){var n=t.call(this,e)||this;return n.loop=!1,n.loopsCount=0,n.loopIndex=0,n.displayObject.state.addListener(n),n}return i.a(e,t),e.prototype.destroy=function(){this.displayObject.state.removeListener(this),this.animationCompleteResolve=null,t.prototype.destroy.call(this)},e.prototype.play=function(){var t=this;return new Promise(function(e){t.loopIndex=0,t.animationCompleteResolve=e,t.displayObject.play()})},e.prototype.pause=function(){this.displayObject.paused=!0},e.prototype.resume=function(){this.displayObject.paused=!1},e.prototype.stop=function(){this.displayObject.rewindTimeline(),this.displayObject.stop()},e.prototype.setLoop=function(t){this.loop=t,this.displayObject.loop=!1},e.prototype.setLoopsCount=function(t){this.loopsCount=t},e.prototype.complete=function(t){var e=!1;this.loopsCount>0?(this.loopIndex++,this.loopIndex>=this.loopsCount&&this.animationCompleteResolve?this.animationCompleteResolve():e=!0):this.animationCompleteResolve&&this.animationCompleteResolve(),(e||this.loop)&&this.displayObject.rewindTimeline()},e.prototype.start=function(t){},e.prototype.interrupt=function(t){},e.prototype.end=function(t){},e.prototype.dispose=function(t){},e.prototype.event=function(t,e){},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(12),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.play=function(){return Promise.resolve()},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.stop=function(){},e.prototype.setLoop=function(t){},e.prototype.setLoopsCount=function(t){},e.prototype.destroy=function(){},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(4),r=n(2),a=function(){function t(){this.textureProvider=n.i(i.inject)(o.h),this.layoutManager=n.i(i.inject)(o.i)}return t.prototype.createSymbol=function(t){var e=t.movieInfo;switch(e.type){case r.SymbolsModuleConstant.animationType.byFrame:return 1===e.sources.length?this.createStaticClip(e):this.createMovieClip(e);case r.SymbolsModuleConstant.animationType.libraryItem:return this.createLibrarySymbol(e);default:return null}},t.prototype.createStaticClip=function(t){var e=new o.j(this.textureProvider.getTexture(t.sources[0]));return e.width=t.width,e.height=t.height,new r.StaticSymbol(e)},t.prototype.createMovieClip=function(t){var e=this,n=new o.k(t.sources.map(function(t){return e.textureProvider.getTexture(t)}));return n.width=t.width,n.height=t.height,n.animationSpeed=t.fps/60,new r.MovieClipSymbol(n)},t.prototype.createLibrarySymbol=function(t){var e=this.layoutManager.createFromLibrary(t.id);return e instanceof o.l?new r.SpineSymbol(e):e instanceof o.k?new r.MovieClipSymbol(e):e instanceof o.d?new r.TimelineSymbol(e):null},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(12),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loop=!1,e.loopsCount=0,e.loopIndex=0,e}return i.a(e,t),e.prototype.destroy=function(){this.animationCompleteResolve=null,t.prototype.destroy.call(this)},e.prototype.play=function(){var t=this;return new Promise(function(e){t.loopIndex=0,t.animationCompleteResolve=e,t.playInternal()})},e.prototype.onCompleteInternal=function(){var t=!1;this.loopsCount>0?(this.loopIndex++,this.loopIndex>=this.loopsCount&&this.animationCompleteResolve?this.animationCompleteResolve():t=!0):this.animationCompleteResolve&&this.animationCompleteResolve(),(t||this.loop)&&this.playInternal()},e.prototype.playInternal=function(){this.displayObject.timeline.playSingle("start",this.onCompleteInternal.bind(this))},e.prototype.pause=function(){this.displayObject.timeline.stop()},e.prototype.resume=function(){this.displayObject.timeline.play()},e.prototype.stop=function(){this.displayObject.timeline.gotoAndStop(0)},e.prototype.setLoop=function(t){this.loop=t},e.prototype.setLoopsCount=function(t){this.loopsCount=t},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={POST_ANIMATION_STARTED:"POST_ANIMATION_STARTED"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_SYMBOL_ANIMATION:"SHOW_SYMBOL_ANIMATION",SHOW_SYMBOL_ANIMATION_COMPLETE:"SHOW_SYMBOL_ANIMATION_COMPLETE",HIDE_SYMBOL_ANIMATION:"HIDE_SYMBOL_ANIMATION",HIDE_ALL_SYMBOL_ANIMATIONS:"HIDE_ALL_SYMBOL_ANIMATIONS",HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE:"HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE",PAUSE_ALL_SYMBOL_ANIMATIONS:"PAUSE_ALL_SYMBOL_ANIMATIONS",PAUSE_ALL_SYMBOL_ANIMATIONS_COMPLETE:"PAUSE_ALL_SYMBOL_ANIMATIONS_COMPLETE",RESUME_ALL_SYMBOL_ANIMATIONS:"RESUME_ALL_SYMBOL_ANIMATIONS",RESUME_ALL_SYMBOL_ANIMATIONS_COMPLETE:"RESUME_ALL_SYMBOL_ANIMATIONS_COMPLETE",SKIP_ALL_SYMBOL_ANIMATIONS:"SKIP_ALL_SYMBOL_ANIMATIONS"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(2),o=n(1),r=n(4),a=function(){function t(t){this.symbolConfigs=t,this.models={},this.views={},this.wildSymbolIds=[],this.contentManager=n.i(o.inject)(o.ContentManager),this.renderManager=n.i(o.inject)(r.b),this.symbolConfigs||(this.symbolConfigs={})}return t.prototype.releaseSymbolView=function(t){return t.setVisible(!0),this.pushSymbolView(t.id,t)},t.prototype.getSymbolView=function(t){return this.popSymbolView(t)},t.prototype.createSymbolView=function(t){if(!this.models[t])throw Error("there is no symbol with id ==="+t);return this.symbolViewFactory(t)},t.prototype.symbolViewFactory=function(t){var e=n.i(o.inject)(i.SymbolView);return e.prepare(t,this.models[t]),e},t.prototype.popSymbolView=function(t){var e=this.views[t];return e&&e.length?e.pop():this.createSymbolView(t)},t.prototype.pushSymbolView=function(t,e){this.views[t]||(this.views[t]=[]),this.views[t].push(e)},t.prototype.parse=function(){var t=this.contentManager.getConfigPart("symbols");for(var e in t)if(t.hasOwnProperty(e)){var n=t[e],o=i.SymbolModel.parse(n,this.symbolConfigs[e]);this.models[e]=o,o.slotSymbolConfig.isWild&&this.wildSymbolIds.push(e)}},t.prototype.getSymbolModel=function(t){return this.models[t]},t.prototype.prepareSymbols=function(){var t=this,e=[],n=this;for(var i in this.models)!function(i){if(n.models.hasOwnProperty(i)){var o=n.getSymbolView(i),r=o.getStatic(),a=o.getBlurredStatic();e.push(Promise.all([n.renderManager.uploadAsset(r),n.renderManager.uploadAsset(a)]).then(function(){return t.releaseSymbolView(o)}))}}(i);return Promise.all(e)},t.prototype.getWildSymbolsIds=function(){return this.wildSymbolIds},t.decorateWithView=function(t,e){return t.symbolView=e,t},t.getView=function(t){return t.symbolView?t.symbolView:null},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.SymbolAnimationsView,e),e.dispatcher.addListener(r.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION,e.onShowSymbolAnimation,e),e.dispatcher.addListener(r.SymbolAnimationEvents.HIDE_SYMBOL_ANIMATION,e.onHideSymbolAnimations,e),e.dispatcher.addListener(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS,e.onHideAllSymbolAnimations,e),e.dispatcher.addListener(r.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS,e.onPauseAllSymbolAnimations,e),e.dispatcher.addListener(r.SymbolAnimationEvents.RESUME_ALL_SYMBOL_ANIMATIONS,e.onResumeAllSymbolAnimations,e),e.dispatcher.addListener(r.SymbolAnimationEvents.SKIP_ALL_SYMBOL_ANIMATIONS,e.onSkipAllSymbolAnimations,e),e}return i.a(e,t),e.prototype.destroy=function(){this.dispatcher.removeListeners(r.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION,this),this.dispatcher.removeListeners(r.SymbolAnimationEvents.HIDE_SYMBOL_ANIMATION,this),this.dispatcher.removeListeners(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS,this),this.dispatcher.removeListeners(r.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS,this),this.dispatcher.removeListeners(r.SymbolAnimationEvents.RESUME_ALL_SYMBOL_ANIMATIONS,this),this.dispatcher.removeListeners(r.SymbolAnimationEvents.SKIP_ALL_SYMBOL_ANIMATIONS,this)},e.prototype.onShowSymbolAnimation=function(t){var e=this.view.playSymbolAnimation(t);this.dispatcher.dispatch(r.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION_COMPLETE,e)},e.prototype.onHideSymbolAnimations=function(t){this.view.removeSymbolAnimations(t.reelIndex,t.lineIndex)},e.prototype.onHideAllSymbolAnimations=function(t){var e=this.view.removeAllSymbolAnimations(t);this.dispatcher.dispatch(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE,e)},e.prototype.onPauseAllSymbolAnimations=function(){var t=this.view.pauseAllSymbolAnimations();this.dispatcher.dispatch(r.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS_COMPLETE,t)},e.prototype.onResumeAllSymbolAnimations=function(){var t=this.view.resumeAllSymbolAnimations();this.dispatcher.dispatch(r.SymbolAnimationEvents.RESUME_ALL_SYMBOL_ANIMATIONS_COMPLETE,t)},e.prototype.onSkipAllSymbolAnimations=function(){this.view.skipAllSymbolAnimations()},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={WINNING:"",LANDING:"landing",STATIC:"static",TURBO:"turbo"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i,o,r,a){void 0===o&&(o=!1),void 0===r&&(r=!0),void 0===a&&(a=!0),this.symbolId=t,this.reelIndex=e,this.lineIndex=n,this.animationType=i,this.loop=o,this.allowRemoveWithAllSymbols=r,this.allowChangesByOtherAnimations=a}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.prototype.getAnimationKeys=function(t,e){var n="symbol_"+t;return[e?n+"_"+e:n]},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i){this.staticInfo=t,this.blurredInfo=e,this.animationInfo=n,this.slotSymbolConfig=i,this.slotSymbolConfig||(this.slotSymbolConfig={})}return t.prototype.hasAnimation=function(){return!0},t.prototype.hasStaticSource=function(){return!!this.staticInfo.source},t.prototype.getStaticInfo=function(){return this.staticInfo},t.prototype.getBlurredInfo=function(){return this.blurredInfo||this.staticInfo},t.prototype.getMovieClipInfo=function(t){return this.animationInfo[t]},t.parse=function(e,n){return new t(new o(e.ss,e.ssW,e.ssH,e.ssOX,e.ssOY),new o(e.bs,e.bsW,e.bsH,e.bsOX,e.bsOY),this.parseAnimations(e.a),n)},t.parseAnimations=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e[n]=r.parse(i)}return e},t}(),o=function(){function t(t,e,n,i,o){this.source=t,this.width=e,this.height=n,this.offsetX=i,this.offsetY=o}return t}(),r=function(){function t(t,e,n,i,o,r,a,s,u){this.width=t,this.height=e,this.offsetX=n,this.offsetY=i,this.loops=o,this.fps=r,this.sources=a,this.type=s,this.id=u}return t.parse=function(e){return new t(e.w,e.h,e.oX,e.oY,e.ls,e.f,e.s,e.t,e.hasOwnProperty("id")?e.id:"")},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.symbols={}}return t.prototype.hasSymbol=function(t){return!!this.symbols[t]},t.prototype.putSymbol=function(t,e){this.symbols[t]=new o(e)},t.prototype.getSymbol=function(t){return this.symbols[t].symbol},t.prototype.getIsSymbolInvalid=function(t){return this.symbols[t].invalid},t.prototype.purgeSymbol=function(t){var e=this.symbols[t].symbol;return delete this.symbols[t],e},t.prototype.invalidateSymbol=function(t){this.symbols[t].invalid=!0},t.prototype.invalidate=function(){for(var t=0,e=Object.keys(this.symbols);t<e.length;t++){var n=e[t];this.symbols[n].invalid=!0}},t}(),o=function(){function t(t){this.symbol=t,this.invalid=!1}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.clips=[],e}return i.a(e,t),e.prototype.skip=function(){},e.prototype.destroy=function(){TweenLite.killTweensOf(this);for(var e=0,n=this.children;e<n.length;e++){n[e].parent=null}this.clips=null,t.prototype.destroy.call(this)},e.prototype.prepareAnimations=function(t,e){this.animationType=e},e.prototype.setLoop=function(t){this.clips.forEach(function(e){e.setLoop(t)})},e.prototype.add=function(t,e){void 0===e&&(e=this.children.length),this.clips.push(t),this.addChildAt(t.target,e)},Object.defineProperty(e.prototype,"paused",{get:function(){return this.isPaused},enumerable:!0,configurable:!0}),e.prototype.play=function(){var t=this;return new Promise(function(e){t.isPaused=!1,t.getPreAnimationPromise().then(function(){return t.getAnimationPromise()}).then(function(){t.dispatcher.dispatch(a.AnimationClipEvent.POST_ANIMATION_STARTED),t.getPostAnimationPromise().then(e)})})},e.prototype.pause=function(){this.isPaused=!0,this.clips.forEach(function(t){t.pause()})},e.prototype.resume=function(){this.isPaused&&(this.isPaused=!1,this.clips.forEach(function(t){t.resume()}))},e.prototype.getPreAnimationPromise=function(){return Promise.resolve()},e.prototype.getAnimationPromise=function(){var t=[];return this.clips.forEach(function(e){t.push(e.play())}),Promise.all(t)},e.prototype.getPostAnimationPromise=function(){return Promise.resolve()},e}(r.m)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(){var e=t.call(this)||this;e.symbolPositionsModel=n.i(o.inject)(a.SymbolPositionsModel),e.contentManager=n.i(o.inject)(o.ContentManager),e.symbolManager=n.i(o.inject)(a.SymbolManager),e.symbolAnimationsDataList=[],e.animationContainer=new r.d;var i=e.contentManager.getConfigPart("reels");return e.symbolWidth=i[o.ReelsSettings.CELL_WIDTH],e.symbolHeight=i[o.ReelsSettings.CELL_HEIGHT],e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.addChild(this.animationContainer)},e.prototype.playSymbolAnimation=function(t){var e=this.getAnimationForPosition(t.reelIndex,t.lineIndex),n=!0;e&&!e.data.allowChangesByOtherAnimations&&(n=!1);var i=!1;if(e||(i=!0,e=this.createSymbolAnimation(t)),n){var o=this.getSymbolPosition(e);e.displayObject.position.set(o.x,o.y),e.displayObject.setLoop(t.loop)}return i&&this.addSymbolViewData(e),this.playAnimation(e)},e.prototype.getSymbolPosition=function(t){return this.symbolPositionsModel.getPosition(new r.e(t.data.reelIndex,t.data.lineIndex))},e.prototype.playAnimation=function(t){return t.displayObject.play()},e.prototype.removeAllSymbolAnimations=function(t){for(var e,n=[],i=[],o=this.symbolAnimationsDataList.length,a=0;a<o;a++)e=this.symbolAnimationsDataList[a],t||e.data.allowRemoveWithAllSymbols?(this.removeSingleAnimation(e),n.push(new r.e(e.data.reelIndex,e.data.lineIndex))):i.push(e);return this.symbolAnimationsDataList=i,n},e.prototype.removeSymbolAnimations=function(t,e){for(var n,i=0;i<this.symbolAnimationsDataList.length;i++)n=this.symbolAnimationsDataList[i],n.data.reelIndex===t&&n.data.lineIndex===e&&(this.removeSingleAnimation(n),this.symbolAnimationsDataList.splice(i,1),i--)},e.prototype.pauseAllSymbolAnimations=function(){for(var t,e=[],n=this.symbolAnimationsDataList.length,i=0;i<n;i++)t=this.symbolAnimationsDataList[i],t.displayObject.paused||(t.displayObject.pause(),t.displayObject.visible=!1,e.push(new r.e(t.data.reelIndex,t.data.lineIndex)));return e},e.prototype.resumeAllSymbolAnimations=function(){for(var t,e=[],n=this.symbolAnimationsDataList.length,i=0;i<n;i++)t=this.symbolAnimationsDataList[i],t.displayObject.paused&&(t.displayObject.resume(),t.displayObject.visible=!0,e.push(new r.e(t.data.reelIndex,t.data.lineIndex)));return e},e.prototype.skipAllSymbolAnimations=function(){for(var t,e=this.symbolAnimationsDataList.length,n=0;n<e;n++)t=this.symbolAnimationsDataList[n],t.displayObject.skip()},e.prototype.getAnimationForPosition=function(t,e){for(var n,i,o=0;o<this.symbolAnimationsDataList.length;o++)i=this.symbolAnimationsDataList[o],i.data.reelIndex===t&&i.data.lineIndex===e&&(n=i);return n},e.prototype.removeSingleAnimation=function(t){t.displayObject.parent&&(t.displayObject.pause(),t.displayObject.parent.removeChild(t.displayObject)),this.symbolManager.releaseSymbolView(t.symbolView),t.displayObject=null},e.prototype.createSymbolAnimation=function(t){var e=this.symbolManager.getSymbolView(t.symbolId);return{data:t,displayObject:e.getMovieClip(t.animationType),symbolView:e}},e.prototype.addSymbolViewData=function(t){this.symbolAnimationsDataList.push(t),this.animationContainer.addChild(t.displayObject)},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(4),r=n(2),a=function(){function t(){this.contentManager=n.i(i.inject)(i.ContentManager),this.textureProvider=n.i(i.inject)(o.h),this.symbolsConfig=n.i(i.inject)(r.SymbolConfigModel),this.symbolsCache=n.i(i.inject)(r.SymbolsCache),this.symbolsFactory=n.i(i.inject)(r.SymbolsFactory),this.isLazyLoaded=!1,this.symbolInitHooks=[],this._isHidden=!1}return t.prototype.prepare=function(t,e){var o=this;this.id=t,this.model=e,this.registerSymbolInitHook(this.movieDefaultSettings,this);var a=n.i(i.inject)(i.LoadManager);a.checkIfResourceExist(r.ResourceId.SYMBOL_ANIMATIONS)?a.isResourcesLoaded(r.ResourceId.SYMBOL_ANIMATIONS)?this.onResourcesLoadingComplete():a.onCompleteSingleResourceLoad(r.ResourceId.SYMBOL_ANIMATIONS,function(){o.onResourcesLoadingComplete()}):a.isLazyAssetsLoaded?this.onResourcesLoadingComplete():a.onLazyAssetsLoaded.then(function(){o.onResourcesLoadingComplete()})},t.prototype.registerSymbolInitHook=function(t,e){this.symbolInitHooks.push(t.bind(e))},t.prototype.onResourcesLoadingComplete=function(){this.isLazyLoaded=!0,this.symbolsCache.invalidate()},t.prototype.getStaticPosition=function(){return new o.e(this.staticSprite.position.x,this.staticSprite.position.y)},t.prototype.isHidden=function(){return this._isHidden},t.prototype.setVisible=function(t){this._isHidden=!t},t.prototype.getSprite=function(t){return new o.j(this.textureProvider.getTexture(t))},t.prototype.getStatic=function(t){void 0===t&&(t=!0);var e=this.model.getStaticInfo();return this.staticSprite||(this.staticSprite=this.createSprite(e)),t&&this.defaultOffsets(this.staticSprite,e),this.staticSprite},t.prototype.getBlurredStatic=function(){var t=this.model.getBlurredInfo();return this.blurredSprite||(this.blurredSprite=this.createSprite(t)),this.defaultOffsets(this.blurredSprite,t),this.blurredSprite},t.prototype.getClipByKey=function(t,e){var n=this.correctMovieInfoInLazyMode(this.model.getMovieClipInfo(t));this.symbolsCache.hasSymbol(t)&&this.symbolsCache.getIsSymbolInvalid(t)&&this.symbolsCache.purgeSymbol(t).destroy();var i;if(this.symbolsCache.hasSymbol(t))i=this.symbolsCache.getSymbol(t);else{var o={symbolId:this.id,animationKey:t,animationType:e,movieInfo:n};i=this.symbolsFactory.createSymbol(o),this.symbolsCache.putSymbol(t,i)}return this.symbolInitHooks.forEach(function(t){t(i,n)}),i},t.prototype.correctMovieInfoInLazyMode=function(t){var e=Object.assign({},t);if(t.type===r.SymbolsModuleConstant.animationType.byFrame){if(!this.isLazyLoaded&&t.sources&&this.model.hasStaticSource()||!this.model.hasAnimation()){var n=this.model.getStaticInfo();e.sources=t.sources?t.sources.map(function(t){return n.source}):[n.source],e.offsetX=n.offsetX,e.offsetY=n.offsetY,e.type=r.SymbolsModuleConstant.animationType.byFrame}}else if(!(t.type!==r.SymbolsModuleConstant.animationType.libraryItem||this.isLazyLoaded&&this.model.hasAnimation())){var i=this.model.getStaticInfo();e.sources=[i.source],e.offsetX=i.offsetX,e.offsetY=i.offsetY,e.type=r.SymbolsModuleConstant.animationType.byFrame}return e},t.prototype.getMovieClip=function(t){var e=this,o=this.symbolsConfig.getAnimationKeys(this.id,t),a=n.i(i.inject)(r.AnimationClip);return a.prepareAnimations(this.id,t),o.forEach(function(n){return a.add(e.getClipByKey(n,t))}),a},t.prototype.createSprite=function(t){var e=this.getSprite(t.source);return e.height=t.height,e.width=t.width,e},t.prototype.defaultOffsets=function(t,e){t.position.set(e.offsetX,e.offsetY)},t.prototype.movieDefaultSettings=function(t,e){t.target.position.set(e.offsetX,e.offsetY),t.target.alpha=1,t.setLoopsCount(e.loops),t.stop()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.UIModel).asSingleton().forceCreation()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={CHANGE_UI:"CHANGE_UI"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={UI_STATE_CHANGE:"UI_STATE_CHANGE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){var t=this;this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.state={},this.dispatcher.addListener(o.UIEvent.CHANGE_UI,function(e){i.ObjectUtils.mergeObjects(e,t.state),t.dispatcher.dispatch(o.UIModelEvent.UI_STATE_CHANGE)})}return t.prototype.setState=function(t){this.state=t,this.dispatcher.dispatch(o.UIModelEvent.UI_STATE_CHANGE)},t.prototype.getState=function(){return this.state},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(2),o=function(){function t(){}return t.prototype.fadeInFadeOutImage=function(t,e,n){void 0===n&&(n=i.UtilsConstants.fadeAnimationDuration),this._fadeDuration=n,e?(t.visible=!0,this.createFadeTween(t)):this._fadeTween&&(TweenLite.set(t,{alpha:0}),TweenLite.killTweensOf(t),this._fadeTween=null,t.visible=!1)},t.prototype.createFadeTween=function(t){var e=this;this._fadeTween=TweenLite.to(t,this._fadeDuration,{alpha:t.alpha?0:1,ease:Linear.easeIn,onComplete:function(){return e.createFadeTween(t)}})},t}()},function(t,e,n){"use strict";!function(){function t(){}t.getScaledSize=function(t){var e=t;return e.resizeArea?{width:e.resizeArea.width*t.scale.x,height:e.resizeArea.height*t.scale.y}:{width:t.width,height:t.height}}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.AnimationUtils)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={fadeAnimationDuration:1}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(53),r=n(2),a=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.a).asSingleton()},e}(r.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.WinCappingModel).asSingleton().forceCreation().asModel().serverModel(),e.bind(o.WinCappingAction).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winCappingModel=n.i(o.inject)(r.WinCappingModel),e.contextModel=n.i(o.inject)(r.ContextModel),e.contentManager=n.i(o.inject)(o.ContentManager),e.moneyFormatterUtils=n.i(o.inject)(r.MoneyFormatterUtils),e}return i.a(e,t),e.prototype.guard=function(t){return this.winCappingModel.maxWinReached},e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(e){return this.contextModel.context.api.showPopup({title:this.contentManager.i18n("winCappingCongratulations"),message:o.StringUtils.substitute(this.contentManager.i18n("winCappingYouWon"),{value:this.moneyFormatterUtils.formatNumber(this.winCappingModel.maxWinAmount)})}),this.winCappingModel.reset(),t.prototype.onExecute.call(this,e)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.parseResponse=function(t){var e;if(e=t.previousResult?t.previousResult.events:t.events,this.maxWinReached=!1,this.maxWinAmount=0,e)for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o&&o.id===r.ServerEventType.MAX_WIN_REACHED){var a=o;this.maxWinAmount=a.amount,this.maxWinReached=!0;break}}},e.prototype.destroy=function(){this.reset(),t.prototype.destroy.call(this)},e.prototype.reset=function(){this.maxWinReached=!1,this.maxWinAmount=0},e}(o.BaseModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.WrapperManager).asSingleton().forceCreation()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(4),r=n(2),a=function(){function t(){var t=this;this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.contextModel=n.i(i.inject)(r.ContextModel),this.uiModel=n.i(i.inject)(r.UIModel),this.scenesManager=n.i(i.inject)(o.a),this.renderManager=n.i(i.inject)(o.b),this.keyboardManager=n.i(i.inject)(i.KeyboardEventManager),this.contextModel.context.api.onPopupsStateUpdated(function(){return t.commitData()}),this.contextModel.context.api.onPopupsStateUpdated&&this.contextModel.context.api.onPopupsStateUpdated(function(e){return t.onPopupsStateUpdated(e)}),this.dispatcher.addListener(r.UIModelEvent.UI_STATE_CHANGE,this.commitData,this),this.commitData()}return t.prototype.commitData=function(){this.contextModel.context.api.isPopupOpened()?this.keyboardManager.addDisableLock(this):this.keyboardManager.removeDisableLock(this),!1===this.uiModel.getState().wrapperMainMenu?this.contextModel.context.api.disableMenu():this.contextModel.context.api.enableMenu()},t.prototype.onPopupsStateUpdated=function(t){this.scenesManager.currentScene.interactiveChildren=!t,t||this.renderManager.render(!0)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(4),r=function(){function t(){this.scenesManager=n.i(i.inject)(o.a),this.normalName="",this.freeSpinsName=""}return t.prototype.addName=function(t){t.indexOf("backgroundFreeSpins")>=0?this.freeSpinsName=t:this.normalName=this.normalName||t},t.prototype.setCurrentBackground=function(t){void 0===t&&(t=!1),this.scenesManager.changeBackground(t?this.freeSpinsName:this.normalName)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0),this.isCorrect=t,this.topIndex=e,this.bottomIndex=n}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={BONUS:"bonus_group",FREE_SPINS:"free_spins_group",PAYTABLE:"paytable_group",SYMBOL_ANIMATIONS:"symbol_animaitons_group",FIVE_OF_A_KIND:"5oak_group",BIGWIN:"bigwin_group"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n.addInjectionWithLayout(e.kernel),n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){},e}(o.ApplicationModule)},function(t,e,n){"use strict";!function(){function t(t,e,n){this.tape=t,this.frameSize=e,this.nextFrame=[],this.currentFrame=[],this.oldFrame=[],this.currentTapeIndex=0,n&&this.setFrame(n)}t.prototype.setFrame=function(t){this.currentFrame.length?this.nextFrame=t:this.currentFrame=t},t.prototype.getFrame=function(){return this.currentFrame},t.prototype.getTape=function(){return this.tape},t.prototype.goNext=function(){var t,e=this.currentFrame.pop();this.nextFrame.length?(t=this.nextFrame.pop(),this.oldFrame.push(e)):(this.oldFrame.length&&(this.oldFrame=[]),this.currentTapeIndex=(this.currentTapeIndex-1+this.getLength())%this.getLength(),t=this.tape[this.currentTapeIndex]),this.currentFrame.unshift(t)},t.prototype.goToFrame=function(t){this.nextFrame=t.slice()},t.prototype.getLength=function(){return this.tape.length},t.prototype.getTapeWithFramePart=function(t){var e=[];return e.push.apply(e,this.getPrevCells(t).concat(this.getFrame(),this.getNextCells(t))),e},t.prototype.getNextCells=function(t){var e=[],n=this.currentTapeIndex,i=t-this.oldFrame.length;for(e.push.apply(e,this.oldFrame.slice());i;)e.push(this.tape[n]),n=(n+1)%this.getLength(),i--;return e},t.prototype.getPrevCells=function(t){for(var e=[],n=(this.currentTapeIndex-1+this.getLength())%this.getLength(),i=t-this.nextFrame.length;i;)e.unshift(this.tape[n]),n=(n-1+this.getLength())%this.getLength(),i--;return e.push.apply(e,this.nextFrame.slice()),e}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(2),o=function(){function t(t,e,n,i){void 0===i&&(i=!0),this.tape=t,this.frameSize=e,this.isNormalDirection=i,this.frame=[],this.leftIndex=0,this.rightIndex=0,this.dirtyBottomIndexes=[],this.dirtyTopIndexes=[],this.additionalFrameSymbolsCount=0,n?this.setFrame(n):this.setFrame(t.slice(0,e))}return t.prototype.setFrame=function(t){var e=this.validateFrame(t);e&&(this.leftIndex=this.prevIndex(e.topIndex),this.rightIndex=this.nextIndex(e.bottomIndex),this.frame=t)},t.prototype.getFrame=function(){return this.frame.slice()},t.prototype.getTape=function(){return this.tape},t.prototype.getLength=function(){return this.tape.length},t.prototype.correctIndexes=function(){if(this.isNormalDirection){this.leftIndex=this.prevIndex(this.leftIndex);var t=this.prevIndex(this.rightIndex),e=this.dirtyBottomIndexes;e.length&&(1===e.length?t=e.pop():e.pop()),this.rightIndex=t}else{this.rightIndex=this.nextIndex(this.rightIndex);var n=this.nextIndex(this.leftIndex),e=this.dirtyBottomIndexes;e.length&&(1===e.length?n=e.pop():e.pop()),this.leftIndex=n}},t.prototype.goNext=function(){this.isNormalDirection?(this.frame.pop(),this.frame.unshift(this.tape[this.leftIndex])):(this.frame.shift(),this.frame.push(this.tape[this.rightIndex])),this.correctIndexes()},t.prototype.goToFrame=function(t){var e=this.validateFrame(t);if(!e.isCorrect)throw Error("the requested frame does not exist");this.isNormalDirection?(this.leftIndex=this.correctTapeIndex(e.bottomIndex+this.additionalFrameSymbolsCount),this.dirtyBottomIndexes=[],this.prepareDirtyIndexesStack(this.dirtyBottomIndexes,this.leftIndex,this.rightIndex)):(this.rightIndex=this.correctTapeIndex(e.topIndex-this.additionalFrameSymbolsCount),this.dirtyTopIndexes=[],this.prepareDirtyIndexesStack(this.dirtyTopIndexes,this.rightIndex,this.leftIndex))},t.prototype.prepareDirtyIndexesStack=function(t,e,n){e=this.isNormalDirection?this.nextIndex(e):this.prevIndex(e),t.push(e);for(var i=0;i<this.frameSize-1;i++)n=this.isNormalDirection?this.nextIndex(n):this.prevIndex(n),t.push(n)},t.prototype.validateFrame=function(t){var e=0,n=0,o=t.length,r=this.tape,a=this.getLength();if(o!==this.frameSize)return new i.FrameValidation(!1);var s=0,u=0,l=!1;do{if(r[s]===t[u]){if(0===u&&(e=s),++u===o){n=s,l=!0;break}}else{e=0,n=0;var c=s-u;c<0&&(c=a+c),s=c,u=0}s=(s+1)%a}while(0!==u||0!==s);return new i.FrameValidation(l,e,n)},t.prototype.getTapeWithFramePart=function(t){var e=[];return e.push.apply(e,this.getPrevCells(t).concat(this.getFrame(),this.getNextCells(t))),e},t.prototype.nextIndex=function(t){return t===this.tape.length-1?0:t+1},t.prototype.prevIndex=function(t){return 0===t?this.tape.length-1:t-1},t.prototype.correctTapeIndex=function(t){return t<0&&(t=this.tape.length-t),t%this.tape.length},t.prototype.getNextCells=function(t){for(var e=[],n=this.rightIndex;t;)e.push(this.tape[n]),n=this.nextIndex(n),t--;return e},t.prototype.getPrevCells=function(t){for(var e=[],n=this.leftIndex;t;)e.unshift(this.tape[n]),n=this.prevIndex(n),t--;return e},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.initialize=function(){var t=this;this.addModule(new r.r(this.context)).addModule(new s.RendererSupportModuleMark2(this.context));var e=n.i(o.inject)(r.i);e.setContextProvider(),o.Context.getInstance().viewProvider.initBuildLayout(e.createFromLibrary.bind(e)),this.loadSlotSettings(this.context).then(function(){t.addModules(t.context),t.createEmulation(),t.addCanvas(t.context.api.device),t.addGraphicsDebugTool(),t.start()})},e.prototype.addModules=function(e){u.a.instance.setProperty("locale",e.api.getLocale()),t.prototype.addModules.call(this,e)},e}(a.CommonExtensionLoader)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjections=function(e){t.prototype.addInjections.call(this,e),e.bind(r.i).to(s.LayoutManagerMark2).asSingleton().forceCreation(),e.bind(r.b).to(s.RenderManagerMark2),e.bind(o.KeyboardEventManager).to(s.KeyboardEventManagerMark2).asSingleton().forceCreation()},e}(a.EngineContext)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.terminate=function(){this.terminateActionMark2()},e.prototype.terminateActionMark2=function(){var t=this;if(this.currentActionStatus){var e=this.currentActionStatus,n=e.action;if(!o.ActionManager.isActionCanTerminate(e))return;e.isTerminating=!0;var i=n.terminate();i&&i.then(function(n){e.isTerminated=!0,e.next?(t.currentActionStatus=e.next,t.runNextAction(n)):t.completed(n)})}},e}(o.ActionManager)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(t){void 0===t&&(t=null);var e=this;this.length=0,this.promiseReject=null,this.actionInfoReadyToPrepare=!0,this.resolvedItems=[],t.forEach(function(t){t instanceof Function?e[e.length++]=n.i(i.inject)(t):e[e.length++]=t})}return t.prototype.isTerminable=function(){return!0},t.prototype.releaseActionInfoInternal=function(t){return this.actionInfoReadyToPrepare?t:(this.actionInfoReadyToPrepare=!0,this.releaseActionInfo(t))},t.prototype.prepareActionInfoInternal=function(t){return this.actionInfoReadyToPrepare?(this.actionInfoReadyToPrepare=!1,this.prepareActionInfo(t)):t},t.prototype.run=function(t){var e=this;return this.isTerminating?Promise.resolve(t):(t.lastActionName=this.getActionName(),this.resolvedItems.length=0,this.lastActionInfo=t,this.isTerminated=!1,new Promise(function(n,i){var o=function(t){n(e.releaseActionInfoInternal(t))};if(e.guard(t)){var r=e.map(function(n){return n.run(e.prepareActionInfoInternal(t)).then(function(t){return e.markPromiseAsResolved(t,n)},function(e){if(!t.isTerminating)throw t})},e);Promise.all(r).then(function(e){o(t)},function(e){if(!t.isTerminating)throw t}),e.promiseReject=i}else o(t)}))},t.prototype.markPromiseAsResolved=function(t,e){var n=this;return new Promise(function(i){n.resolvedItems.push(e),i(t)})},t.prototype.guard=function(t){return!0},t.prototype.prepareActionInfo=function(t){return t},t.prototype.releaseActionInfo=function(t){return t},t.prototype.onExecute=function(t){return Promise.resolve(t)},t.prototype.onTerminate=function(t){return Promise.resolve(t)},t.prototype.terminate=function(){var t=this;return this.isTerminating||this.isTerminated||(this.isTerminating=!0,this.lastActionInfo.isTerminating=!0,this.lastActionInfo=this.releaseActionInfoInternal(this.lastActionInfo),!this.isTerminable())?null:(null!==this.promiseReject&&this.promiseReject(this.lastActionInfo),Promise.all(this.map(function(e){var n;if(-1===t.resolvedItems.indexOf(e))try{n=e.terminate()}catch(i){n=e.onTerminate(t.lastActionInfo)}return n},this)).then(function(e){return t.isTerminating=!1,t.isTerminated=!0,t.onTerminate(t.lastActionInfo)},function(e){if(t.isTerminating=!1,t.isTerminated=!0,!e.isTerminating)throw e}))},t.prototype.getActionName=function(){return this.constructor.name},t.prototype.map=function(t,e){for(var n=[],i=0;i<this.length;i++)n.push(t.call(e,this[i],i,this));return n},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(3),r=function(){function t(t){void 0===t&&(t=null);var e=this;this.length=0,this.promiseReject=null,this.actionInfoReadyToPrepare=!0,this.manager=new o.ActionManagerMark2,t.forEach(function(t){t instanceof Function?e[e.length++]=n.i(i.inject)(t):e[e.length++]=t}),this.forEach(function(t){e.manager.addAction(t)},this)}return t.prototype.isTerminable=function(){return!0},t.prototype.releaseActionInfoInternal=function(t){return this.actionInfoReadyToPrepare?t:(this.actionInfoReadyToPrepare=!0,this.releaseActionInfo(t))},t.prototype.prepareActionInfoInternal=function(t){return this.actionInfoReadyToPrepare?(this.actionInfoReadyToPrepare=!1,this.prepareActionInfo(t)):t},t.prototype.run=function(t){var e=this;return t.lastActionName=this.getActionName(),this.lastActionInfo=t,this.isTerminated=!1,new Promise(function(n,i){e.currentResolver=n;var o=function(t){e.currentResolver(e.releaseActionInfoInternal(t))};e.guard(t)?(e.manager.startAsync(e.prepareActionInfoInternal(t)).then(function(t){o(t)}),e.promiseReject=i):o(t)})},t.prototype.guard=function(t){return!0},t.prototype.prepareActionInfo=function(t){return t},t.prototype.releaseActionInfo=function(t){return t},t.prototype.onExecute=function(t){return Promise.resolve(t)},t.prototype.onTerminate=function(t){return Promise.resolve(t)},t.prototype.terminate=function(){var t=this;return!this.isTerminated&&(this.isTerminated=!0,this.lastActionInfo.isTerminating=!0,this.lastActionInfo=this.releaseActionInfoInternal(this.lastActionInfo),this.isTerminable())?(this.promiseReject(this.lastActionInfo),new Promise(function(e){t.currentResolver=e,t.manager.terminate()})):null},t.prototype.getActionName=function(){return this.constructor.name},t.prototype.forEach=function(t,e){for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.context=n.i(o.inject)(r.ContextModel).context,e.init(),e}return i.a(e,t),e.prototype.init=function(){var t=this;this.onKeyDown=function(t){},this.onKeyUp=function(t){},addEventListener("keydown",function(e){return t.onKeyDownMark2(e)}),addEventListener("keyup",function(e){return t.onKeyUpMark2(e)}),this.addListenerToPopupStateUpdated()},e.prototype.onKeyDownMark2=function(t){this.hasPopup||32===t.keyCode&&this.dispatcher.dispatch(o.KeyboardEvent.SPACEBAR)},e.prototype.onKeyUpMark2=function(t){this.hasPopup||32===t.keyCode&&this.dispatcher.dispatch(o.KeyboardEvent.SPACEBAR_UP)},e.prototype.addListenerToPopupStateUpdated=function(){var t=this;this.dispatcher.addListener(a.PopupEvent.POPUP_SHOWN,function(){t.hasPopup=!0},this),this.dispatcher.addListener(a.PopupEvent.POPUP_HIDDEN,function(){t.hasPopup=!1},this)},e}(o.KeyboardEventManager)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventDispatcher=n.i(o.inject)(o.EventDispatcher),e.isIOSDevice=!1,e}return i.a(e,t),e.prototype.createRenderer=function(e,n,i){void 0===i&&(i={}),i.antialias=this.canUseAntialias;var o=t.prototype.createRenderer.call(this,e,n,i);return o},e.prototype.create=function(e,n){t.prototype.create.call(this,e,n),window.addEventListener("keydown",function(t){[32].indexOf(t.keyCode)>-1&&t.preventDefault()},!1),window.focus(),this.eventDispatcher.addListener(a.Event.CLICK_SCREEN,function(){window.focus()})},Object.defineProperty(e.prototype,"canUseAntialias",{get:function(){return!0},enumerable:!0,configurable:!0}),e}(r.b)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_REEL_ANTICIPATION:"SHOW_REEL_ANTICIPATION",HIDE_REEL_ANTICIPATION:"HIDE_REEL_ANTICIPATION"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(r.AnticipationUtils).asSingleton(),t.bind(r.AnticipationModel).asSingleton(),t.bind(r.StopSingleReelAction).to(r.StopSingleReelWithAnticipationAction),t.bind(r.AnticipationView).asView().withId(r.AnticipationModuleConstant.layouts.anticipationView).bindMediator(r.AnticipationMediator)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";var i=n(0),o=n(3);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.AnticipationView).to(o.MovieClipAnticipationView)}}(o.AnticipationModule)},function(t,e,n){"use strict";var i=n(0),o=n(3);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.AnticipationView).to(o.ParticlesAnticipationView)}}(o.AnticipationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{anticipationView:"anticipationView"},soundId:{mainAnticipation:"ANTICIPATION",turboAnticipation:"ANTICIPATION_TURBO"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.AnticipationView,e),e.init(),e}return i.a(e,t),e.prototype.init=function(){var t=this;this.dispatcher.addListener(r.AnticipationEvent.SHOW_REEL_ANTICIPATION,function(e){t.view.showAnticipation(e)},this),this.dispatcher.addListener(r.AnticipationEvent.HIDE_REEL_ANTICIPATION,function(e){t.view.hideAnticipation(e)},this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.dispatcher.removeListeners(r.AnticipationEvent.SHOW_REEL_ANTICIPATION,this),this.dispatcher.removeListeners(r.AnticipationEvent.HIDE_REEL_ANTICIPATION,this)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(54),a=n(2),s=function(t){function e(){var e=t.call(this)||this;return e.anticipationUtils=n.i(o.inject)(r.a),e._currentAnticipationIndex=0,e.anticipation=[],e.slotModel=n.i(o.inject)(a.SlotModel),e.anticipationConfig=n.i(o.inject)(a.ContextModel).context.slotParameters.anticipation,e.init(),e}return i.a(e,t),e.prototype.init=function(){this.anticipationConfig},e.prototype.getAnticipationDuration=function(t){var e=0;if(this.anticipationConfig&&this.anticipationConfig.animation){var n=1===this.getAnticipationCount();t?n&&this.anticipationConfig.animation.singleTurboTime?e=this.anticipationConfig.animation.singleTurboTime:this.anticipationConfig.animation.turboTime&&(e=this.anticipationConfig.animation.turboTime):e=n&&this.anticipationConfig.animation.singleTime?this.anticipationConfig.animation.singleTime:this.anticipationConfig.animation.time}return e},e.prototype.getAnticipationCount=function(){return this.anticipation.filter(function(t){if(t)return t}).length},e.prototype.calculateAnticipationOnReels=function(t,e){for(var n=0;n<this.slotModel.getSlotConfig().reelsCount;n++)this.anticipation[n]=this.anticipationUtils.checkIfAnticipationIsNeeded(n,t,e);this.symbolAnticipationStops=this.anticipationUtils.calculateSymbolAnticipationStops(t,e)},e.prototype.isSymbolAnticipationStopNeeded=function(t){return!this.symbolAnticipationStops[t]||this.symbolAnticipationStops[t]>this._currentAnticipationIndex},Object.defineProperty(e.prototype,"anticipations",{get:function(){return this.anticipation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentAnticipationIndex",{get:function(){return this._currentAnticipationIndex},set:function(t){this._currentAnticipationIndex=t},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.currentAnticipationIndex=0},e.prototype.isSymbolAnticipationSynced=function(){return this.anticipationConfig.animation.isSymbolAnticipationSynced},e}(o.BaseModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anticipationModel=n.i(o.inject)(s.AnticipationModel),e.reelsManager=n.i(o.inject)(a.ReelsManager),e.contentManager=n.i(o.inject)(o.ContentManager),e.turboModel=n.i(o.inject)(a.TurboModeModel),e.singleAnticipations=[],e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this);for(var e,n,i=this.reelsManager.getReelsCount(),o=0;o<i;o++)e=this.reelsManager.getReelConfig(o),n=this.createAnim(e),this.addChild(n),this.singleAnticipations.push(n),n.x=e.x,n.y=e.y},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=this.singleAnticipations.length,n=0;n<e;n++)this.singleAnticipations[n].destroy();this.singleAnticipations=[]},e.prototype.getBgTextureForReel=function(t){var n,i=o.StringUtils.substituteByList(e.BG_IMAGE_PER_REEL_ID,""+t);return n=PIXI.utils.TextureCache[i],n||(n=PIXI.utils.TextureCache[e.BG_IMAGE_ID]),n},e.prototype.showAnticipation=function(t){var e=this.singleAnticipations[t];if(e){var n=this.anticipationModel.getAnticipationDuration(this.turboModel.isActive);e.start(n)}},e.prototype.hideAnticipation=function(t){var e=this.singleAnticipations[t];e&&e.stop()},e.BG_IMAGE_ID="anticipation_bg.png",e.BG_IMAGE_PER_REEL_ID="anticipation_bg_{0}.png",e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onAdded=function(){var i=this,r=n.i(o.inject)(o.LoadManager);t.prototype.onAdded.call(this),r.onLazyAssetsLoaded.then(function(){var t;n.i(o.viewComponentExists)(e.MOVIE_ANIM_ID)&&(t=e.MOVIE_ANIM_ID);for(var r,a,s=i.singleAnticipations.length,u=0;u<s;u++)r=o.StringUtils.substitute(e.MOVIE_ANIM_PER_REEL_ID,{reelIndex:""+u}),n.i(o.viewComponentExists)(r)||(r=t),a=i.singleAnticipations[u],a.prepare(r)})},e.prototype.createAnim=function(t){return new r.SingleReelMovieClipAnticipationAnim},e.MOVIE_ANIM_ID="anticipationAnim",e.MOVIE_ANIM_PER_REEL_ID="anticipationAnim_{reelIndex}",e}(r.AnticipationView)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particlesConfig={},e}return i.a(e,t),e.prototype.onAdded=function(){var i=this;this.anticipationModel.anticipationConfig.animation.particlesConfig&&Object.assign(this.particlesConfig,this.anticipationModel.anticipationConfig.animation.particlesConfig),t.prototype.onAdded.call(this),n.i(o.inject)(o.LoadManager).onLazyAssetsLoaded.then(function(){var t,n,r=[],a=0;do{n=o.StringUtils.substituteByList(e.PARTICLE_IMAGE_ID_PATTERN,""+a),(t=PIXI.utils.TextureCache[n])&&(r.push(n),a++)}while(t);for(var s,u=i.singleAnticipations.length,l=0;l<u;l++)s=i.singleAnticipations[l],s.prepare(r,i.getBgTextureForReel(l))})},e.prototype.createAnim=function(t){return new r.SingleReelParticlesAnticipationAnim(new PIXI.Rectangle(0,0,t.symbolWidth,t.rows*t.symbolHeight),this.anticipationModel.anticipationConfig.animation.particlesConfig.loopsCount,this.particlesConfig)},e.PARTICLE_IMAGE_ID_PATTERN="anticipation_particle_{0}.png",e}(r.AnticipationView)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e}(PIXI.Container)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.prepare=function(t){var e=this;t&&(this.anim=n.i(o.getViewComponent)(t),this.anim&&(this.isPrepared||(this.isPrepared=!0,this.addChild(this.anim),this.anim.stop(),this.anim.position.y=1e4,this.hackTimeout=setTimeout(function(){return e.resetRenderHack()},100))))},e.prototype.destroy=function(){this.stop()},e.prototype.resetRenderHack=function(){clearTimeout(this.hackTimeout),this.hackComplete=!0,this.anim.position.y=0,this.anim.visible=!1,this.anim.alpha=0},e.prototype.start=function(t){this.isPrepared&&(this.hackComplete||this.resetRenderHack(),this.anim.gotoAndPlay(1),this.anim.visible=!0,TweenLite.killTweensOf(this.anim),TweenLite.to(this.anim,.5,{alpha:1,ease:Sine.easeOut}))},e.prototype.stop=function(){var t=this;this.isPrepared&&(TweenLite.killTweensOf(this.anim),TweenLite.to(this.anim,.2,{alpha:0,ease:Sine.easeOut,onComplete:function(){t.anim.stop(),t.anim.visible=!1}}))},e}(r.BaseSingleReelAnticipationAnim)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(1),a=function(t){function e(e,i,o){var a=t.call(this)||this;return a.animArea=e,a.loopsCount=i,a.particlesConfig=o,a.emitters=[],a.maxParticlesTimeDelta=30,a.animPos=0,a.lastUpdateTime=0,a.stopUpdateDelay=0,a.cachedPos=new PIXI.Point,a.isPrepared=!1,a.contentManager=n.i(r.inject)(r.ContentManager),a.init(),a}return i.a(e,t),e.prototype.init=function(){this.emittersCount=this.particlesConfig.emittersCount,this.emittersCount||(this.emittersCount=1),this.particlesConfig.lifetime&&(this.stopUpdateDelay=this.particlesConfig.lifetime.max||this.particlesConfig.lifetime.min||0);var t=2*(this.animArea.width+this.animArea.height);this.areaWidthCoef=this.animArea.width/t,this.areaHeightCoef=this.animArea.height/t,this.areaTopCoef=this.areaWidthCoef,this.areaRightCoef=this.areaTopCoef+this.areaHeightCoef,this.areaBottomCoef=this.areaRightCoef+this.areaWidthCoef,this.areaLeftCoef=this.areaBottomCoef+this.areaHeightCoef,this.alpha=0},e.prototype.destroy=function(){this.stopEmitters();for(var t=0;t<this.emittersCount;t++)this.emitters[t]&&this.emitters[t].emitter&&this.emitters[t].emitter.destroy();this.emitters=[]},e.prototype.prepare=function(t,e){if(!this.isPrepared){this.isPrepared=!0,this.textureIds=t.concat();for(var n,i=1/this.emittersCount,o=0;o<this.emittersCount;o++)n=new PIXI.particles.Emitter(this,this.textureIds,this.particlesConfig),this.emitters.push({emitter:n,positionShift:i*o});e&&(this.bgImage=new PIXI.Sprite(e),this.addChildAt(this.bgImage,0),this.bgImage.x=this.animArea.x+(this.animArea.width-this.bgImage.width)/2,this.bgImage.y=this.animArea.y+(this.animArea.height-this.bgImage.height)/2)}},e.prototype.start=function(t){var e=this;if(this.isPrepared&&!this.isPlaying){this.isPlaying=!0,this.animPos=0,this.lastUpdateTime=Date.now();for(var n=0;n<this.emittersCount;n++)this.emitters[n].emitter.emit=!0;TweenLite.to(this,t,{animPos:this.loopsCount,ease:this.particlesConfig.ease||Sine.easeIn,overwrite:r.TweenConstants.OVERRIDE_NONE,onUpdate:function(){return e.update()}}),TweenLite.to(this,.5,{alpha:1,ease:Sine.easeOut})}},e.prototype.stop=function(){var t=this;if(this.isPrepared&&this.isPlaying){this.isPlaying=!1;for(var e=0;e<this.emittersCount;e++)this.emitters[e].emitter.emit=!1;TweenLite.killTweensOf(this),TweenLite.to(this,this.stopUpdateDelay,{animPos:this.animPos+1,overwrite:r.TweenConstants.OVERRIDE_NONE,onUpdate:function(){return t.update()},onComplete:function(){return t.stopEmitters()}}),TweenLite.to(this,.2,{alpha:0,ease:Sine.easeOut})}},e.prototype.stopEmitters=function(){TweenLite.killTweensOf(this),this.animPos=0;for(var t=0;t<this.emittersCount;t++)this.emitters[t]&&this.emitters[t].emitter&&this.emitters[t].emitter.cleanup()},e.prototype.update=function(){var t=(Date.now()-this.lastUpdateTime)/1e3;t>this.maxParticlesTimeDelta&&(t=this.maxParticlesTimeDelta),this.lastUpdateTime=Date.now();for(var e,n,i=0;i<this.emittersCount;i++)n=this.emitters[i],e=this.getEmitPosition(n.positionShift),n.emitter.updateSpawnPos(e.x,e.y),n.emitter.update(t)},e.prototype.getEmitPosition=function(t){var e=(this.animPos+t)%1;return e<=this.areaTopCoef?(e/=this.areaWidthCoef,this.cachedPos.x=this.animArea.x+this.animArea.width*e,this.cachedPos.y=this.animArea.y):e<=this.areaRightCoef?(e-=this.areaTopCoef,e/=this.areaHeightCoef,this.cachedPos.x=this.animArea.x+this.animArea.width,this.cachedPos.y=this.animArea.y+this.animArea.height*e):e<=this.areaBottomCoef?(e-=this.areaRightCoef,e=1-e/this.areaWidthCoef,this.cachedPos.x=this.animArea.x+this.animArea.width*e,this.cachedPos.y=this.animArea.y+this.animArea.height):(e-=this.areaBottomCoef,e=1-e/this.areaHeightCoef,this.cachedPos.x=this.animArea.x,this.cachedPos.y=this.animArea.y+this.animArea.height*e),this.cachedPos},e}(o.BaseSingleReelAnticipationAnim)},function(t,e,n){"use strict";var i=n(0),o=n(2),r=n(3);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(r.AnticipationDimView).asView().withId("anticipationDim").bindMediator(r.AnticipationDimMediator)}}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.AnticipationDimView,e),e.curAnticipationIndex=0,e.init(),e}return i.a(e,t),e.prototype.init=function(){var t=this;this.dispatcher.addListener(r.AnticipationEvent.SHOW_REEL_ANTICIPATION,function(e){t.curAnticipationIndex=e;for(var n=0;n<e;n++)t.view.showDim(n)},this),this.dispatcher.addListener(r.AnticipationEvent.HIDE_REEL_ANTICIPATION,function(e){e>=t.curAnticipationIndex&&(t.curAnticipationIndex=0,t.view.hideAllDims())},this)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(4),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dimsCount=5,e}return i.a(e,t),e.prototype.showDim=function(t){var n=o.StringUtils.substituteByList(e.DIM_REEL_NAME_PATTERN,""+t),i=this[n];i&&(TweenLite.killTweensOf(i),TweenLite.to(i,.5,{alpha:1,ease:Sine.easeOut}))},e.prototype.hideDim=function(t){var n=o.StringUtils.substituteByList(e.DIM_REEL_NAME_PATTERN,""+t),i=this[n];i&&(TweenLite.killTweensOf(i),TweenLite.to(i,.2,{alpha:0,ease:Sine.easeOut}))},e.prototype.hideAllDims=function(){for(var t=0;t<this.dimsCount;t++)this.hideDim(t)},e.DIM_REEL_NAME_PATTERN="dim{0}",e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(r.AutoSpinsModel).asSingleton().forceCreation().asModel(),t.bind(r.AutoSpinsManager).asSingleton().forceCreation()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={AUTO_SPINS_STATE_CHANGE:"AUTO_SPINS_STATE_CHANGE",AUTO_SPINS_ACTIVATE:"AUTO_SPINS_ACTIVATE",AUTO_SPINS_DEACTIVATE:"AUTO_SPINS_DEACTIVATE",SHOW_CONTINUE_AUTO_PLAY_SLIDER:"SHOW_CONTINUE_AUTO_PLAY_SLIDER"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(2),r=n(3),a=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.autoSpinsModel=n.i(i.inject)(r.AutoSpinsModel),this.autoPlayModeModel=n.i(i.inject)(o.AutoPlayModeModel),this.slotModel=n.i(i.inject)(o.SlotModel),this.freeGamesModel=n.i(i.inject)(r.FreeGamesModel),this.gameDataModel=n.i(i.inject)(o.GameDataModel),this.init()}return t.prototype.init=function(){var t=this;this.dispatcher.addListener(r.AutoSpinsModelEvent.AUTO_SPINS_STATE_CHANGE,function(){t.autoSpinsModel.isActive?t.autoPlayModeModel.changeBy(t,!0,!0):t.autoPlayModeModel.changeBy(t,!1,!1)}),this.dispatcher.addListener(r.AutoSpinsModelEvent.AUTO_SPINS_ACTIVATE,function(){t.dispatcher.dispatch(o.InfoBarEvent.SHOW_MESSAGE,r.MessageFactoryMark2.createMessage(["autoPlayStarted"],null,null,2e3,!0))}),this.dispatcher.addListener(r.AutoSpinsModelEvent.AUTO_SPINS_DEACTIVATE,function(){return new Promise(function(e){t.deactivateMessagePromise=e})}),this.dispatcher.addListener(r.BottomBarEvent.STOP_AUTO_SPINS_CLICK,function(){if(!t.freeGamesModel.isFreeSpinsActive&&!t.gameDataModel.totalWinning){var e=r.MessageFactoryMark2.createMessage(["clickSpinToStart","playingLines"],[null,{count:t.slotModel.paylinesCount}],5e3);t.dispatcher.dispatch(o.InfoBarEvent.SHOW_MESSAGE,r.MessageFactoryMark2.createMessage(["autoPlayStopped"],null,null,2e3,!0,e))}}),this.dispatcher.addListener(o.Event.REELS_SPIN_STOPPED,function(){t.deactivateMessagePromise&&t.deactivateMessagePromise()},this),this.dispatcher.addListener(r.BottomBarEvent.STOP_AUTO_SPINS_CLICK,function(){return t.stopAutoSpinsWithCheck()})},t.prototype.showContinueAutoPlayHandler=function(){this.autoSpinsModel.autoPlayShowToRestart=!1},t.prototype.stopAutoSpinsWithFreeGamesCheck=function(t){0!==this.freeGamesModel.freeSpinsCount||this.freeGamesModel.isJustEnd||this.stopAutoSpinsWithCheck(t)},t.prototype.stopAutoSpinsWithCheck=function(t){if(this.autoSpinsModel.isActive&&(!t||!t.is_swipe)){this.autoSpinsModel.deactivate();var e={bets:!this.slotModel.isSpinning,info:!this.slotModel.isSpinning,auto:!this.slotModel.isSpinning,turbo:!this.slotModel.isSpinning};this.slotModel.isSpinning||this.dispatcher.dispatch(r.WinBoxEvents.TOGGLE_WIN_BOX_LABELS,[r.WinBoxMessageTypes.GOOD_LUCK,r.WinBoxMessageTypes.CLICK_TO_SPIN]),this.dispatcher.dispatch(o.UIEvent.CHANGE_UI,e)}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(3),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.decreaseLock=new i.Lock,this._autoPlayShowToRestart=!1,this._autoSpinsCount=0,this._isUntilFeature=!1,this._isJustStarted=!1}return t.prototype.dispatchUpdateEvent=function(){this.dispatcher.dispatch(o.AutoSpinsModelEvent.AUTO_SPINS_STATE_CHANGE)},t.prototype.activate=function(t,e){this._autoSpinsCount=t,this._isUntilFeature=e,this._isJustStarted=!0,this.dispatchUpdateEvent(),this.dispatcher.dispatch(o.AutoSpinsModelEvent.AUTO_SPINS_ACTIVATE)},t.prototype.deactivate=function(){this._autoSpinsCount=0,this._isUntilFeature=!1,this._isJustStarted=!1,this.dispatchUpdateEvent(),this.dispatcher.dispatch(o.AutoSpinsModelEvent.AUTO_SPINS_DEACTIVATE)},t.prototype.decrease=function(){this._isJustStarted=!1,this._autoPlayShowToRestart=!1,this.isUntilFeature||this.isBlocked||(this._autoSpinsCount--,this.autoSpinsCount<=0?(this.deactivate(),this._autoPlayShowToRestart=!0):this.dispatchUpdateEvent())},t.prototype.blockDecrease=function(t){this.decreaseLock.add(t),this.dispatchUpdateEvent()},t.prototype.unblockDecrease=function(t){this.decreaseLock.remove(t),this.dispatchUpdateEvent()},Object.defineProperty(t.prototype,"isActive",{get:function(){return this.isUntilFeature||this._autoSpinsCount>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBlocked",{get:function(){return this.decreaseLock.isLocked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoPlayShowToRestart",{get:function(){return this._autoPlayShowToRestart},set:function(t){this._autoPlayShowToRestart=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSpinsCount",{get:function(){return this._autoSpinsCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUntilFeature",{get:function(){return this._isUntilFeature},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isJustStarted",{get:function(){return this._isJustStarted},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";var i=n(0),o=n(2),r=n(3);!function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjection.call(this,e),e.bind(o.BackgroundManager).to(r.BackgroundManagerMark2)}}(o.GameRunModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={types:{NORMAL_GAME_BACKGROUND:"normalGameBackground"},transitions:{TRANSITION_NAME_SEPARATOR:"-",DEFAULT_TRANSITION_DURATION:.35}}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.scenesManagerMark2=n.i(o.inject)(a.ScenesManagerMark2),e.setBackgrounds(),e.setTransitions(),e}return i.a(e,t),e.prototype.changeBackground=function(t){void 0===t&&(t=null),null===t&&(t=this.normalBackgroundType);var e=this.getTransitionDuration(t),n=this.backgrounds[t];this.scenesManagerMark2.changeBackground(n,e),this.currentBackgroundType=t},e.prototype.setBackgrounds=function(){this.backgrounds={},this.backgrounds[this.normalBackgroundType]="background.jpg",this.currentBackgroundType=this.normalBackgroundType},e.prototype.setTransitions=function(){this.transitions={}},e.prototype.addTransition=function(t,e,n){this.transitions[t+this.transitionNameSeparator+e]=n},e.prototype.getTransitionDuration=function(t){var e=a.BackgroundModuleMark2Constants.transitions.DEFAULT_TRANSITION_DURATION,n=this.currentBackgroundType+this.transitionNameSeparator+t;return null!==this.transitions[n]&&(e=this.transitions[n]),e},Object.defineProperty(e.prototype,"transitionNameSeparator",{get:function(){return a.BackgroundModuleMark2Constants.transitions.TRANSITION_NAME_SEPARATOR},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normalBackgroundType",{get:function(){return a.BackgroundModuleMark2Constants.types.NORMAL_GAME_BACKGROUND},enumerable:!0,configurable:!0}),e}(r.BackgroundManager)},function(t,e,n){"use strict";var i=n(0),o=n(2),r=n(3);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.GameDataModel).to(r.GameDataModelMark2),t.bind(o.SlotModel).to(r.SlotModelMark2)}}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isWinCappingTriggered=!1,e.winCappingAmount=0,e}return i.a(e,t),e.prototype.getWinCappingAmount=function(){return this.winCappingAmount},e.prototype.parseResponse=function(e){var n=e.events;if(n)for(var i=0,o=n;i<o.length;i++){var r=o[i],a=""+r.id;if("maxWinReached"===a){this.isWinCappingTriggered=!0,this.winCappingAmount=r.amount;break}}t.prototype.parseResponse.call(this,e)},e}(o.SlotModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anticipationModel=n.i(o.inject)(a.AnticipationModel),e.currentWinSymbols=[],e}return i.a(e,t),e.prototype.updateRewardData=function(){t.prototype.updateRewardData.call(this),this.isFullLineWon||this.checkScattersFullLine()},e.prototype.handleSpinInput=function(e){t.prototype.handleSpinInput.call(this,e),this.anticipationModel.calculateAnticipationOnReels(this.slotModel.stopReelsSymbols,this.winningLinesConfig)},e.prototype.putCurrentWinSymbols=function(t){this.currentWinSymbols=t.splice(0,0)},e.prototype.clearCurrentWinSymbols=function(){this.currentWinSymbols.length=0},e.prototype.isCurrentWinSymbol=function(t,e){return this.currentWinSymbols.some(function(n){return n.reelIndex===t&&n.lineIndex===e})},e.prototype.checkScattersFullLine=function(){var t=this.dataParser.getRewards(r.ServerRewardType.SCATTER);if(t)for(var e=this.slotModel.getSlotConfig().reelsCount,n=0;n<t.length;n++){var i=t[n];if(i.positions.length>=e){for(var o=0,a=0;a<e;a++){var s=function(t){if(!i.positions.some(function(e){return e[1]===t}))return"break";o++}(a);if("break"===s)break}if(o===e){this.isFullLineWon=!0;break}}}},e}(r.GameDataModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjection.call(this,e),e.bind(r.BonusModel).asSingleton().forceCreation().asModel().serverModel(),e.bind(r.BonusManager).asSingleton().forceCreation(),e.bind(r.BonusIntroView).asView().withId(r.BonusModuleConstants.layouts.bonusIntro).bindMediator(r.BonusIntroMediator),e.bind(r.BonusView).asView().withId(r.BonusModuleConstants.layouts.bonus).bindMediator(r.BonusMediator),e.bind(r.BonusOutroView).asView().withId(r.BonusModuleConstants.layouts.bonusOutro).bindMediator(r.BonusOutroMediator),e.bind(r.BonusStartWinningAction).asSingleton(),e.bind(r.BonusPlayTriggerSoundWinningAction).asSingleton(),e.bind(r.BonusShowSymbolsWinningAction).asSingleton(),e.bind(r.BonusWaitCancellingWinningAction).asSingleton(),e.bind(r.BonusHideSymbolsWinningAction).asSingleton(),e.bind(r.BonusRestorationWinningAction).asSingleton(),e.bind(r.BonusIntroWinningAction).asSingleton(),e.bind(r.BonusPlayWinningAction).asSingleton(),e.bind(r.BonusOutroWinningAction).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bonusModel=n.i(o.inject)(a.BonusModel),e.gameDataModel=n.i(o.inject)(r.GameDataModel),e}return i.a(e,t),e.prototype.guard=function(){return this.bonusModel.isJustWon},e.prototype.findFeatureSymbols=function(){return a.BonusUtils.getBonusTriggerSymbols()},e}(a.BaseFeatureHideSymbolsWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.bonusModel=n.i(o.inject)(s.BonusModel),e.scenesManager=n.i(o.inject)(r.a),e.ambientSoundsManager=n.i(o.inject)(a.AmbientSoundsManager),e.soundsManager=n.i(o.inject)(o.SoundManager),e}return i.a(e,t),e.prototype.guard=function(){return this.bonusModel.isJustWon},e.prototype.internalExecute=function(){var t=this;this.lockUI(),this.addPopup(),this.playAmbientSound(),this.playSoundsOnOpened(),setTimeout(function(){t.dispatcher.addListener(a.Event.ANYWHERE_CLICK,t.hidePopup,t)},0),this.dispatcher.addListener(s.BonusEvents.SHOW_BONUS_GAME,this.internalTerminate,this)},e.prototype.lockUI=function(){var t={spin:this.getSpinBtnConfig(),bets:!1,info:!1,auto:!1,turbo:!1,anywhereClick:!0};this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,t)},e.prototype.addPopup=function(){this.scenesManager.createPopupByLayoutId(s.BonusModuleConstants.layouts.bonusIntro,r.f.INNER)},e.prototype.hidePopup=function(){this.dispatcher.dispatch(s.BonusEvents.HIDE_BONUS_INTRO)},e.prototype.getSpinBtnConfig=function(){return{enabled:!1,mode:s.SpinButtonState.SPIN,rotate:!1,glow:!1}},e.prototype.internalTerminate=function(){this.dispatcher.removeListener(s.BonusEvents.SHOW_BONUS_GAME,this.internalTerminate,this),this.dispatcher.removeListener(a.Event.ANYWHERE_CLICK,this.hidePopup,this),this.readyToFinish()},e.prototype.playAmbientSound=function(){this.ambientSoundsManager.setActiveSound(a.AmbientSoundType.BONUS_INTRO)},e.prototype.playSoundsOnOpened=function(){this.soundsManager.stopSound(s.BonusModuleConstants.winActions.triggerSoundId),this.soundsManager.playSound(s.BonusModuleConstants.winActions.introSoundId)},e}(s.BaseFeaturePopupWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.bonusModel=n.i(o.inject)(s.BonusModel),e.scenesManager=n.i(o.inject)(r.a),e.bonusManager=n.i(o.inject)(s.BonusManager),e.ambientSoundsManager=n.i(o.inject)(a.AmbientSoundsManager),e}return i.a(e,t),e.prototype.guard=function(){return this.bonusModel.isJustWon},e.prototype.internalExecute=function(){this.dispatcher.addListener(s.BonusEvents.BONUS_COMPLETE,this.internalTerminate,this),this.addPopup(),this.playSoundsOnOpened()},e.prototype.addPopup=function(){this.scenesManager.createPopupByLayoutId(s.BonusModuleConstants.layouts.bonusOutro,r.f.INNER)},e.prototype.playSoundsOnOpened=function(){this.ambientSoundsManager.setActiveSound(a.AmbientSoundType.MAIN)},e.prototype.internalTerminate=function(){this.dispatcher.removeListener(s.BonusEvents.BONUS_COMPLETE,this.internalTerminate,this),this.scenesManager.removePopupById(s.BonusModuleConstants.layouts.bonusOutro,!0),this.unlockUI(),this.readyToFinish()},e.prototype.unlockUI=function(){this.bonusManager.unlockUI();var t=this.getUnlockUIConfig();this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,t)},e.prototype.getUnlockUIConfig=function(){return{anywhereClick:!1,spin:{enabled:!0,rotate:!0},bets:!0,info:!0,auto:!0,turbo:!0,wrapperMainMenu:!0,wrapperGamesMenu:!0}},e}(s.BaseFeaturePopupWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bonusModel=n.i(o.inject)(r.BonusModel),e}return i.a(e,t),e.prototype.guard=function(){return this.bonusModel.isJustWon},e.prototype.getSoundId=function(){return r.BonusModuleConstants.winActions.triggerSoundId},e}(r.BaseFeaturePlayTriggerSoundWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bonusModel=n.i(o.inject)(s.BonusModel),e.scenesManager=n.i(o.inject)(r.a),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.ambientSoundsManager=n.i(o.inject)(a.AmbientSoundsManager),e.winManager=n.i(o.inject)(s.WinManager),e}return i.a(e,t),e.prototype.guard=function(){return this.bonusModel.isJustWon||this.bonusModel.isJustRestored},e.prototype.internalExecute=function(){this.mainActionInfo.isTerminating,this.addPopup(),this.playSoundsOnOpened(),this.dispatcher.addListener(s.BonusEvents.SHOW_BONUS_OUTRO,this.readyToFinish,this)},e.prototype.addPopup=function(){this.scenesManager.createPopupByLayoutId(s.BonusModuleConstants.layouts.bonus,r.f.INNER)},e.prototype.playSoundsOnOpened=function(){this.ambientSoundsManager.setActiveSound(a.AmbientSoundType.BONUS_MAIN)},e.prototype.internalTerminate=function(){this.readyToFinish()},e.prototype.readyToFinish=function(){this.dispatcher.removeListener(s.BonusEvents.SHOW_BONUS_OUTRO,this.readyToFinish,this),t.prototype.readyToFinish.call(this)},e}(s.BaseFeaturePopupWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.bonusModel=n.i(o.inject)(a.BonusModel),e}return i.a(e,t),e.prototype.guard=function(t){return this.bonusModel.isJustRestored},e.prototype.onExecute=function(e){return this.dispatcher.dispatch(r.InfoBarEvent.SHOW_YOU_WON_BONUS),e.shouldForceSpin=!0,t.prototype.onExecute.call(this,e)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bonusModel=n.i(o.inject)(r.BonusModel),e.winManager=n.i(o.inject)(r.WinManager),e}return i.a(e,t),e.prototype.guard=function(){return this.bonusModel.isJustWon},e.prototype.findFeatureSymbols=function(){return r.BonusUtils.getBonusTriggerSymbols()},e.prototype.onTerminate=function(e){return t.prototype.onTerminate.call(this,e)},e}(r.BaseFeatureShowSymbolsWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this,n.i(o.inject)(r.ContextModel).context.api)||this;return e.bonusModel=n.i(o.inject)(a.BonusModel),e.bonusManager=n.i(o.inject)(a.BonusManager),e.contentManager=n.i(o.inject)(o.ContentManager),e}return i.a(e,t),e.prototype.guard=function(){return this.bonusModel.isJustWon},e.prototype.onExecute=function(e){return this.dispatcher.dispatch(r.InfoBarEvent.SHOW_YOU_WON_BONUS),this.dispatcher.dispatch(r.InfoBarEvent.SHOW_MESSAGE,a.MessageFactoryMark2.createMessage(["youWonBonus"])),this.bonusManager.lockUI(),t.prototype.onExecute.call(this,e)},e.prototype.getResourceId=function(){return r.ResourceId.BONUS},e.prototype.getUIConfig=function(){var e=t.prototype.getUIConfig.call(this);return this.bonusModel.isJustWon||(e.spin||(e.spin={}),e.spin.mode=a.SpinButtonState.SPIN),e},e}(a.BaseFeatureStartWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bonusModel=n.i(o.inject)(r.BonusModel),e}return i.a(e,t),e.prototype.guard=function(t){return this.bonusModel.isJustWon&&!t.isTerminating},e.prototype.findFeatureSymbols=function(){return r.BonusUtils.getBonusTriggerSymbols()},e.prototype.getSoundId=function(){return r.BonusModuleConstants.winActions.startPendingSoundId},e}(r.BaseFeatureWaitCancellingWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{bonusIntro:"bonusIntro",bonus:"bonus",bonusOutro:"bonusOutro"},winActions:{triggerSoundId:"BONUS_TRIGGER_SOUND",introSoundId:"BONUS_INTRO_SOUND",startPendingSoundId:"BONUS_START_PENDING_SOUND"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={MODEL_STATE_CHANGE:"bonusModelStateChange",HIDE_BONUS_INTRO:"hideBonusIntro",SHOW_BONUS_GAME:"showBonusGame",SHOW_BONUS_OUTRO:"showBonusOutro",BONUS_COMPLETE:"bonusComplete",OPTIONS_CHANGE:"bonusOptionsChange",SELECTED_OPTIONS_CHANGE:"bonusSelectedOptionsChange",OPTION_CLICK:"bonusOptionClick"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(2),r=n(3),a=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.turboModeModel=n.i(i.inject)(o.TurboModeModel),this.autoSpinsModel=n.i(i.inject)(r.AutoSpinsModel),this.bonusModel=n.i(i.inject)(r.BonusModel),this.featuresModel=n.i(i.inject)(o.FeaturesModel),this.init()}return t.prototype.init=function(){var t=this;this.dispatcher.addListener(r.BonusEvents.MODEL_STATE_CHANGE,function(){t.bonusModel.isJustWon&&(t.featuresModel.isFeatureJustWon=!0)})},t.prototype.lockUI=function(){this.turboModeModel.block(this),this.autoSpinsModel.blockDecrease(this)},t.prototype.unlockUI=function(){this.turboModeModel.unblock(this),this.autoSpinsModel.unblockDecrease(this)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.BonusIntroView),e.attachEvents(),e}return i.a(e,t),e.prototype.attachEvents=function(){this.dispatcher.addListener(r.BonusEvents.HIDE_BONUS_INTRO,this.hideIntro,this)},e.prototype.detachEvents=function(){this.dispatcher.removeListener(r.BonusEvents.HIDE_BONUS_INTRO,this.hideIntro,this)},e.prototype.hideIntro=function(){this.view.hideDialog()},e.prototype.destroy=function(){this.detachEvents(),t.prototype.destroy.call(this)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(a.BonusView,e),e.serverService=n.i(o.inject)(r.ServerService),e.attachEvents(),e}return i.a(e,t),e.prototype.attachEvents=function(){this.view.once(a.BonusEvents.SHOW_BONUS_OUTRO,this.onShowBonusOutro,this),this.view.on(a.BonusEvents.OPTION_CLICK,this.onOptionClicked,this),this.dispatcher.addListener(a.BonusEvents.SELECTED_OPTIONS_CHANGE,this.onSelectedOptionChanged,this)},e.prototype.detachEvents=function(){this.view.off(a.BonusEvents.SHOW_BONUS_OUTRO,this.onShowBonusOutro,this),this.view.off(a.BonusEvents.OPTION_CLICK,this.onOptionClicked,this),this.dispatcher.removeListener(a.BonusEvents.SELECTED_OPTIONS_CHANGE,this.onSelectedOptionChanged,this)},e.prototype.onOptionClicked=function(){this.serverService.bonusSelect(0)},e.prototype.onShowBonusOutro=function(){this.dispatcher.dispatch(a.BonusEvents.SHOW_BONUS_OUTRO)},e.prototype.destroy=function(){this.detachEvents(),t.prototype.destroy.call(this)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.BonusOutroView),e.attachEvents(),e}return i.a(e,t),e.prototype.attachEvents=function(){},e.prototype.detachEvents=function(){},e.prototype.destroy=function(){this.detachEvents(),t.prototype.destroy.call(this)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(2),r=n(3),a=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.isJustWon=!1,this.isJustEnd=!1,this.isJustRestored=!1,this.numberOfSymbolsToTriggerBonus=3}return t.prototype.parseResponse=function(e){if(this.isJustWon=!1,this.isJustEnd=!1,this.isJustRestored=!1,e.state&&(this.isJustRestored=e.state.currentScene&&e.state.currentScene===t.BONUS_SCENE_ID,this.isJustRestored&&this.setSelectedIds([e.state.bonusSelectionID])),o.ServerUtils.getEvents(e.events,t.BONUS_EVENT_TYPES).length>0){var n=void 0,i=void 0,a=void 0;n=o.ServerUtils.getEvents(e.events,[o.ServerEventType.BONUS_SELECTION_START]),n.length>0&&(i=n[0],i.roundsInfo&&i.roundsInfo.rounds&&(this.isJustWon=!0,a=i.roundsInfo.rounds[i.roundsInfo.currentRoundId],this.setOptions(a.items))),n=o.ServerUtils.getEvents(e.events,[o.ServerEventType.BONUS_SELECTION_END]),n.length>0&&(this.isJustEnd=!0,i=n[0],i.roundsInfo&&i.roundsInfo.rounds&&(a=i.roundsInfo.rounds[i.roundsInfo.currentRoundId],this.setSelectedIds(a.selectedIds)))}this.dispatcher.dispatch(r.BonusEvents.MODEL_STATE_CHANGE)},t.prototype.setSelectedIds=function(t){this.selectedIds=t,this.dispatcher.dispatch(r.BonusEvents.SELECTED_OPTIONS_CHANGE)},t.prototype.setOptions=function(t){this.options=t,this.dispatcher.dispatch(r.BonusEvents.OPTIONS_CHANGE)},Object.defineProperty(t.prototype,"selectedItemsIds",{get:function(){return this.selectedIds.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this.options.slice()},enumerable:!0,configurable:!0}),t.BONUS_SCENE_ID="optionsSelector",t.BONUS_EVENT_TYPES=[o.ServerEventType.BONUS_SELECTION_START,o.ServerEventType.BONUS_SELECTION_END],t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(2),r=n(3),a=function(){function t(){}return t.getBonusTriggerSymbols=function(){var t=this.tryGetBonusTriggerSymbols();return 0===t.length&&(this.setBonusTriggerSymbols(),t=this.tryGetBonusTriggerSymbols()),t},t.tryGetBonusTriggerSymbols=function(){var t=n.i(i.inject)(o.SymbolManager);return n.i(i.inject)(o.GameDataModel).slotState.getAllWinningSymbols().filter(function(e){var n=t.getSymbolModel(""+e.symbolIndex);return e.isWinning&&n&&n.slotSymbolConfig.triggerBonus})},t.setBonusTriggerSymbols=function(){for(var t=n.i(i.inject)(o.GameDataModel),e=this.findBonusTriggerSymbols(),r=t.slotState.getAllSymbols(),a=0,s=e;a<s.length;a++)for(var u=s[a],l=0,c=r;l<c.length;l++){var d=c[l];if(u.reel===d.reelIndex&&u.row===d.lineIndex){d.isWinning=!0;break}}},t.findBonusTriggerSymbols=function(){for(var t=n.i(i.inject)(o.SlotModel),e=n.i(i.inject)(o.SymbolManager),r=[],a=0;a<t.reels.length;a++)for(var s=t.stopReelsSymbols[a],u=0;u<s.length;u++){var l=s[u],c=e.getSymbolModel(""+l);c.slotSymbolConfig.triggerBonus&&r.push({id:""+l,reel:a,row:u})}return r=this.filterBonusTriggerSymbols(r)},t.filterBonusTriggerSymbols=function(t){for(var e,n={},i=0,o=t;i<o.length;i++){var r=o[i];e=r.id,n.hasOwnProperty(e)||(n[e]=[]),n[e].push(r)}for(var a=null,s=0,u=Object.keys(n);s<u.length;s++){var l=u[s],c=this.tryTrimCombination(n[l]);if(this.bonusTriggerSymbolsCombinationIsValid(c)){if(null!==a)throw Error("More than 1 won symbols combination which trigger bonus!");a=c}}return a},t.tryTrimCombination=function(t){var e=n.i(i.inject)(o.SymbolManager),r=t[0].id,a=e.getSymbolModel(r),s=a.slotSymbolConfig,u=[],l=-1;return s.isConsecutiveScatter?(t.sort(function(t,e){return t.reel>e.reel?1:t.reel<e.reel?-1:0}),t.forEach(function(t){l>-1&&l!==t.reel-1&&(u.length=0),u.push(t),l=t.reel})):u=t.concat(),u},t.bonusTriggerSymbolsCombinationIsValid=function(t){var e=n.i(i.inject)(r.BonusModel);if(t.length<e.numberOfSymbolsToTriggerBonus)return!1;var a=n.i(i.inject)(o.SymbolManager),s=t[0].id;if(a.getSymbolModel(s).slotSymbolConfig.isConsecutiveScatter)for(var u=1;u<t.length;u++){var l=t[u],c=t[u-1];if(l.reel!==c.reel+1)return!1}return!0},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.scenesManager=n.i(o.inject)(r.a),e}return i.a(e,t),e.prototype.showBonusGame=function(){this.dispatcher.dispatch(a.BonusEvents.SHOW_BONUS_GAME)},e.prototype.removeDialog=function(){this.scenesManager.removePopupById(a.BonusModuleConstants.layouts.bonusIntro,!0)},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e}return i.a(e,t),e.prototype.bonusComplete=function(){this.dispatcher.dispatch(a.BonusEvents.BONUS_COMPLETE)},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.scenesManager=n.i(o.inject)(r.a),e}return i.a(e,t),e.prototype.showBonusOutro=function(){this.dispatcher.dispatch(a.BonusEvents.SHOW_BONUS_OUTRO)},e.prototype.removeDialog=function(){this.scenesManager.removePopupById(a.BonusModuleConstants.layouts.bonus,!0)},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){this.addDesktopInjections(t)},e.prototype.addDesktopInjections=function(t){t.bind(r.BottomBarDesktopView).asView().withId(r.BottomBarModuleConstant.layouts.bottomBar).bindMediator(r.BottomBarDesktopMediator)},e.prototype.addMobileInjections=function(t){var e={totalBetCont:r.BottomBarTotalBetContMobile,spinButton:r.SpinButtonMobileView,coinContLandscape:r.CoinContMobile,coinContPortrait:r.CoinContMobile,totalBetLandscapeCtrl:r.OptionsLandscapeMobileView,totalBetPortraitCtrl:r.OptionsPortraitMobileView,autoSpinsPortraitCtrl:r.AutoSpinsContainerPortraitMobileView,totalBetLandscape:r.TotalBetSwitcherMobileView,totalBetPortrait:r.TotalBetSwitcherMobileView,turboSwitchLandscape:r.TurboSwitcherMobileView,turboSwitchPortrait:r.TurboSwitcherMobileView,autoSpinsLandscapeCtrl:r.AutoSpinsContainerLandscapeMobileView,autoSpinsPortrait:r.AutoSpinsMobileView,autoSpinsLandscape:r.AutoSpinsMobileView};for(var n in e)e.hasOwnProperty(n)&&t.bind(e[n]).asView().withId(n);t.bind(r.BottomBarMobileView).asView().withId(r.BottomBarModuleConstant.layouts.bottomBar).bindMediator(r.BottomBarMobileMediator),t.bind(o.ButtonCtrl).withParameters(this.context.api).asView().withId("totalBetBtn"),t.bind(r.BottomBarBalanceContMobile).asView().withId("balanceCont").bindMediator(r.BottomBarMobileBalanceMediator)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i){this.amount=t,this.time=e,this.ignoreAnimation=n,this.startAmount=i}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={STOP_AUTO_SPINS_CLICK:"STOP_AUTO_SPINS_CLICK",READY_TO_SPIN:"READY_TO_SPIN",SPIN_CLICK:"SPIN_CLICK",STOP_CLICK:"STOP_CLICK",SKIP_CLICK:"SKIP_CLICK",ROTATE_UNTIL_FEATURE_ICON:"ROTATE_UNTIL_FEATURE_ICON"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={AUTO_SPINS_BTN_CLICK:"AUTO_SPINS_BTN_CLICK",AUTO_SPINS_ITEM_CLICK:"AUTO_SPINS_ITEM_CLICK",TURBO_BTN_CLICK:"TURBO_BTN_CLICK",REELS_CLICK:"REELS_CLICK",ANYWHERE_CLICK:"ANYWHERE_CLICK",SKIP_CLICK:"SKIP_CLICK"}},function(t,e,n){"use strict";!function(){function t(){}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.reelSpinSoundId="REEL_SPIN_START_main",e.turboModeModel=n.i(o.inject)(r.TurboModeModel),e.autoSpinsModel=n.i(o.inject)(a.AutoSpinsModel),e.soundManager=n.i(o.inject)(o.SoundManager),e.stakesModel=n.i(o.inject)(r.StakesModel),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.slotViewModel=n.i(o.inject)(r.SlotViewModel),e.betHelper=n.i(o.inject)(r.BetHelper),e.userModel=n.i(o.inject)(r.UserModel),e.bottomBar=n.i(o.inject)(a.BottomBarDesktopView,e),e.regulationsModel=n.i(o.inject)(r.RegulationsModel),e.init(),e}return i.a(e,t),e.prototype.init=function(){var t=this;this.dispatcher.addListener(r.StakesModelEvent.STAKES_CHANGE,function(){t.bottomBar.changeBet(t.betHelper.getTotalBet(),t.stakesModel.currentStakeValue,t.stakesModel.currentCoinsValue)}),this.dispatcher.addListener(a.AutoSpinsModelEvent.AUTO_SPINS_STATE_CHANGE,function(){t.bottomBar.setAutoSpinsData(t.autoSpinsModel.autoSpinsCount,t.autoSpinsModel.isUntilFeature,t.autoSpinsModel.isBlocked)}),this.dispatcher.addListener(r.TurboModeModelEvent.TURBO_MODE_CAN_BE_ACTIVE_CHANGE,function(){t.commitTurboData()}),this.dispatcher.addListener(r.TurboModeModelEvent.TURBO_MODE_CHANGE,function(){t.commitTurboData()}),this.dispatcher.addListener(r.UIEvent.CHANGE_UI,function(e){t.bottomBar.changeStateUI(e)}),this.dispatcher.addListener(r.Event.CLICK_SCREEN,function(e){t.bottomBar.onClickScreen(e)}),this.bottomBar.on(this.bottomBar.getStartSpinClickEvent(),function(){t.onSpinClicked()}),this.bottomBar.on(this.bottomBar.getStopButtonClickEvent(),function(){t.onStopClicked()}),this.bottomBar.on(this.bottomBar.getBetButtonClickEvent(),function(){t.sendInsufficientMessage(),t.dispatcher.dispatch(a.WinBoxEvents.TOGGLE_WIN_BOX_LABELS,[a.WinBoxMessageTypes.GOOD_LUCK,a.WinBoxMessageTypes.CLICK_TO_SPIN])}),this.bottomBar.on(a.BottomBarViewEvent.TURBO_BTN_CLICK,function(){t.turboModeModel.canBeActive=!t.turboModeModel.canBeActive}),this.bottomBar.on(a.BottomBarViewEvent.AUTO_SPINS_ITEM_CLICK,this.onAutoSpinsItemClick.bind(this)),this.bottomBar.on(a.BottomBarViewEvent.AUTO_SPINS_BTN_CLICK,function(){t.dispatcher.dispatch(a.BottomBarEvent.STOP_AUTO_SPINS_CLICK)}),this.bottomBar.on(a.BottomBarViewEvent.ANYWHERE_CLICK,function(){t.dispatcher.dispatch(r.Event.ANYWHERE_CLICK)}),this.bottomBar.on(a.BottomBarViewEvent.REELS_CLICK,function(){t.dispatcher.dispatch(r.Event.REELS_CLICK)}),this.bottomBar.on(a.BottomBarViewEvent.SKIP_CLICK,function(){t.onSkipClicked()}),this.bottomBar.changeBet(this.betHelper.getTotalBet(),this.stakesModel.currentStakeValue,this.stakesModel.currentCoinsValue)},e.prototype.commitTurboData=function(){this.bottomBar.setTurboData(this.turboModeModel.canBeActive,this.turboModeModel.isBlocked)},e.prototype.onSpaceBarCliked=function(){if(!this.slotViewModel.isPaytableOpen){this.bottomBar.isSpinButtonEnabled?this.onSpinClicked():this.bottomBar.isStopButtonEnabled?this.onStopClicked(!0):this.bottomBar.isSkipButtonEnabled&&this.onSkipClicked()}},e.prototype.onSkipClicked=function(){this.bottomBar.isSkipButtonEnabled&&this.dispatcher.dispatch(a.BottomBarEvent.SKIP_CLICK)},e.prototype.onStopClicked=function(t){void 0===t&&(t=!1),this.turboModeModel.isActive?this.soundManager.playSound(a.ButtonSounds.STOP_IN_TURBO_CLICKED):this.soundManager.playSound(a.ButtonSounds.STOP_CLICK),this.soundManager.stopSound(this.getReelSpinSoundId()),this.dispatcher.dispatch(a.BottomBarEvent.STOP_CLICK,{is_swipe:t})},e.prototype.onSpinClicked=function(){this.autoSpinsModel.autoPlayShowToRestart&&(this.autoSpinsModel.autoPlayShowToRestart=!1),(!this.autoSpinsModel.isActive&&!this.freeGamesModel.isFreeSpinsActive||this.bottomBar.isClickToStartVisible)&&this.soundManager.playSound(a.ButtonSounds.START_CLICK),this.dispatcher.dispatch(a.BottomBarEvent.SPIN_CLICK),this.readyToSpin()},e.prototype.onAutoSpinsItemClick=function(t){this.soundManager.playSound(a.ButtonSounds.GENERIC_BUTTON_CLICK),this.regulationsModel.regulationsConfig.autoPlayLimitEnabled||this.regulationsModel.regulationsConfig.autoPlayLossLimitEnabled||this.regulationsModel.regulationsConfig.autoPlaySingleWinLimitEnabled?(this.autoSpinItemConfigVO=t,this.dispatcher.dispatch(r.RegulationsEvent.SHOW_AUTO_PLAY_SETTINGS_POPUP),this.addAutoPlayPopupListeners()):(this.autoSpinsModel.activate(t.value,t.isUntilFeature),this.readyToSpin())},e.prototype.addAutoPlayPopupListeners=function(){this.dispatcher.addListener(r.RegulationsEvent.AUTO_PLAY_SETTINGS_OK,this.onAutoPlaySettingsOk,this)},e.prototype.removeAutoPlayPopupListeners=function(){this.dispatcher.removeListeners(r.RegulationsEvent.AUTO_PLAY_SETTINGS_OK,this)},e.prototype.onAutoPlaySettingsOk=function(){this.autoSpinsModel.isActive||(this.removeAutoPlayPopupListeners(),this.autoSpinsModel.activate(this.autoSpinItemConfigVO.value,this.autoSpinItemConfigVO.isUntilFeature),this.onSpinClicked())},e.prototype.readyToSpin=function(){this.dispatcher.dispatch(a.BottomBarEvent.READY_TO_SPIN)},e.prototype.sendInsufficientMessage=function(){},e.prototype.getReelSpinSoundId=function(){return this.reelSpinSoundId},e.prototype.destroy=function(){this.bottomBar.removeAllListeners(this.bottomBar.getStartSpinClickEvent()),this.bottomBar.removeAllListeners(this.bottomBar.getStopButtonClickEvent()),this.bottomBar.removeAllListeners(a.BottomBarViewEvent.ANYWHERE_CLICK),this.bottomBar.removeAllListeners(a.BottomBarViewEvent.REELS_CLICK),this.bottomBar.removeAllListeners(a.BottomBarViewEvent.AUTO_SPINS_ITEM_CLICK)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(a.BottomBarBalanceContMobile,e),e.moneyFormatter=n.i(o.inject)(r.MoneyFormatterUtils),e.api=n.i(o.inject)(r.ContextModel).context.api,e.init(),e}return i.a(e,t),e.prototype.init=function(){var t=this;this.api.addViewBalanceUpdateCallback(function(e){t.updateBalance(e)}),this.updateBalance(this.api.getViewBalance())},e.prototype.updateBalance=function(t){this.view.value.text=this.moneyFormatter.formatNumber(t,{decimalPartAppendType:2})},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bottomBar=n.i(o.inject)(a.BottomBarDesktopView,e),e}return i.a(e,t),e.prototype.init=function(){var e=this;t.prototype.init.call(this),this.dispatcher.addListener(a.BottomBarEvent.ROTATE_UNTIL_FEATURE_ICON,function(){e.bottomBar.rotateUntilFeatureIcon()}),this.bottomBar.on(this.bottomBar.getPaytableButtonClickEvent(),function(){e.dispatcher.dispatch(r.GameRunEvents.SHOW_PAYTABLE)}),this.dispatcher.addListener(o.KeyboardEvent.SPACEBAR,this.onSpaceBarCliked,this),this.dispatcher.addListener(a.FreeGamesEvent.TOTAL_WIN_INIT,function(){return e.dispatcher.removeListeners(o.KeyboardEvent.SPACEBAR,e)},this),this.dispatcher.addListener(a.FreeGamesEvent.TOTAL_WIN_COMPLETE,function(){return e.dispatcher.addListener(o.KeyboardEvent.SPACEBAR,e.onSpaceBarCliked,e)},this),this.dispatcher.addListener(a.BottomBarEvent.ROTATE_UNTIL_FEATURE_ICON,function(){return e.bottomBar.rotateUntilFeatureIcon()})},e.prototype.sendInsufficientMessage=function(){t.prototype.sendInsufficientMessage.call(this),this.userModel.hasEnoughBalance(this.betHelper.getTotalBet())||this.dispatcher.dispatch(r.InfoBarEvent.SHOW_MESSAGE,a.MessageFactoryMark2.createMessage(["insufficientInfoMessage"]))},e.prototype.destroy=function(){this.bottomBar.removeAllListeners(this.bottomBar.getPaytableButtonClickEvent()),t.prototype.destroy.call(this)},e}(a.BottomBarMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bottomBar=n.i(o.inject)(a.BottomBarMobileView,e),e}return i.a(e,t),e.prototype.init=function(){var e=this;t.prototype.init.call(this),this.dispatcher.addListener(r.Event.REELS_SWIPE,this.onSpaceBarCliked,this),this.dispatcher.addListener(a.FreeGamesEvent.FREE_GAMES_START,function(){e.bottomBar.showBet(!1)}),this.dispatcher.addListener(a.FreeGamesEvent.FREE_GAMES_END,function(){e.bottomBar.showBet(!0)}),this.dispatcher.addListener(a.FreeGamesEvent.FREE_GAMES_OUTRO_START,function(){e.bottomBar.showSpin(!1)}),this.dispatcher.addListener(a.FreeGamesEvent.FREE_GAMES_OUTRO_END,function(){e.bottomBar.showSpin(!0)}),this.dispatcher.addListener(a.AutoSpinsModelEvent.SHOW_CONTINUE_AUTO_PLAY_SLIDER,function(){e.autoSpinsModel.autoPlayShowToRestart&&(e.bottomBar.openAutoSpinsCtrlAfterFinish(),e.bottomBar.spinButton.autoSpinSetupMode(!0))})},e.prototype.onSpaceBarCliked=function(){this.freeGamesModel.isJustWon||t.prototype.onSpaceBarCliked.call(this)},e}(a.BottomBarMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotModel=n.i(o.inject)(a.SlotModel),e.userModel=n.i(o.inject)(a.UserModel),e.stakesModel=n.i(o.inject)(a.StakesModel),e.betHelper=n.i(o.inject)(a.BetHelper),e.soundManager=n.i(o.inject)(o.SoundManager),e.contentManager=n.i(o.inject)(o.ContentManager),e.betsEnabled=!0,e.totalBet=0,e.stake=0,e.coin=0,e.reelsClickEnabled=!1,e.anywhereClickEnabled=!1,e}return i.a(e,t),e.prototype.changeStateUI=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var i=e[n],o=t[i];"object"!=typeof o?this.changeContolState(i,o):this.changeContolState(i,o.enabled,o)}},e.prototype.changeContolState=function(t,e,n){t===s.BottomBarContol.ANYWHERE_CLICK?this.anywhereClickEnabled=e:t===s.BottomBarContol.REELS_CLICK&&(this.reelsClickEnabled=e)},e.prototype.getStartSpinClickEvent=function(){return"click_spin_event"},e.prototype.getStopButtonClickEvent=function(){return"click_stop_event"},e.prototype.getBetButtonClickEvent=function(){return"click_bet_event"},e.prototype.getPaytableButtonClickEvent=function(){return"click_paytable_event"},e.prototype.onClickScreen=function(t){},e.prototype.glowAnimation=function(t,e){t&&(this.isGlowActive=e,e?(t.visible=!0,this.shine(t)):this.glowTween&&(TweenLite.set(t,{alpha:0}),TweenLite.killTweensOf(t),this.glowTween=null,t.visible=!1))},e.prototype.shine=function(t){var e=this;this.glowTween=TweenLite.to(t,1,{alpha:t.alpha?0:1,ease:Linear.easeIn,onComplete:function(){return e.shine(t)}})},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.prototype.init=function(t,e){this.parent=t,this.contentManager=e,this.autoStartButton=this.parent.autoStartButton,this.autoStartButton.text=this.contentManager.i18n("autoSpinsBtn"),this.autoStartButton.visible=!0,this.autoStopButton=this.parent.autoStopButton,this.autoStopButton.text=this.contentManager.i18n("stopBtn"),this.autoStopButton.visible=!1,this.autoCounter=this.parent.autoCounter,this.autoCounter.visible=!1,this.autoCounterField=this.autoCounter.textField,this.autoCounterField.visible=!1,this.autoCounterRedBg=this.autoCounter.redBg,this.autoCounterRedBg.visible=!1,this.rotator=this.autoCounter.rotator,this.rotator.visible=!1},t.prototype.setAutoSpinsData=function(t,e,n){var i=t>0||e;return i?(this.autoCounter.visible=!0,e?(this.autoCounterRedBg.visible=!0,this.rotator.visible=!0,this.autoCounterField.visible=!1,this.rotateUntilFeatureIcon()):(this.autoCounterField.text=""+t,this.autoCounterRedBg.visible=!1,this.autoCounterField.visible=!0,this.rotator.visible=!1,this.resetRotator()),this.autoStartButton.visible=!1,this.autoStopButton.visible=!0):(this.autoCounter.visible=!1,this.autoCounterRedBg.visible=!1,this.autoCounterField.visible=!1,this.autoStartButton.visible=!0,this.autoStopButton.visible=!1,this.rotator.visible=!1,this.resetRotator()),i},t.prototype.enabled=function(t){this.autoStartButton.enabled=t,this.autoStopButton.enabled=t},t.prototype.startBtn=function(){return this.autoStartButton},t.prototype.stopBtn=function(){return this.autoStopButton},t.prototype.resetRotator=function(){TweenLite.killTweensOf(this.rotator),this.rotator.rotation=0},t.prototype.rotateUntilFeatureIcon=function(){TweenLite.killTweensOf(this.rotator),this.rotator.rotation=0,TweenLite.to(this.rotator,1,{rotation:2*-Math.PI})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(3),s=function(t){function e(e,i,r,a){var s=t.call(this)||this;return s.slotParams=e,s.parentContainer=i,s.menuButton=r,s.yStartPosition=a,s.contentManager=n.i(o.inject)(o.ContentManager),s.listContainer=new PIXI.Container,s.buttons=[],s.areaContainer=new PIXI.Graphics,s.isButtonHovered=!1,s.isListHovered=!1,s.menuDisabled=!1,s.init(),s}return i.a(e,t),e.prototype.init=function(){this.autoSpinsList=this.slotParams.autoSpinsOptions,this.xPosition=this.menuButton.position.x,this._currentListYPosition=this.yStartPosition,this.menuButtonYPosition=this.menuButton.position.y,this.menuButtonHeight=this.menuButton.height,this.listIndex=this.parentContainer.getChildIndex(this.menuButton),this.build(),this.addListeners()},e.prototype.onItemSelected=function(t){this.itemSelectedCallback=t},e.prototype.build=function(){var t=this;this.autoContainer=this.parentContainer.getChildByName(a.BottomBarModuleConstant.layouts.autoContainer),this.autoContainerSize=new PIXI.Rectangle(this.autoContainer.x,this.autoContainer.y,this.autoContainer.width,this.autoContainer.height),this.xPosition=this.autoContainerSize.x,this.yStartPosition=this.autoContainerSize.y+this.autoContainerSize.height,this.yEndPosition=this.autoContainerSize.y-2,this.listContainer.destroy(),this.listContainer=this.autoContainer;for(var e=this.autoSpinsList.length,n=this,i=0;i<e;i++)!function(e){var i=void 0;i=n.autoSpinsList[e].isUntilFeature?n.autoContainer.getChildByName(a.BottomBarModuleConstant.layouts.autoSpinsSelectButton.desktop.featureBtnId):n.autoContainer.getChildByName(a.BottomBarModuleConstant.layouts.autoSpinsSelectButton.desktop.id+n.autoSpinsList[e].label),i.on("click",function(){t.isListHovered=!1,t.hide(),t.setButtonsEnabled(!1),t.itemSelectedCallback(t.autoSpinsList[e])}),n.buttons.push(i)}(i);this.updateButtonsPositions(),this.listContainer.position.set(this.xPosition,this.yStartPosition),this.listMask=new PIXI.Graphics,this.parentContainer.addChild(this.listMask),this.listMask.position.set(this.xPosition,this.yEndPosition),this.listMask.width=this.autoContainerSize.width,this.listMask.height=this.autoContainerSize.height,this.listMask.beginFill(0,1),this.listMask.drawRect(0,0,this.autoContainerSize.width,this.autoContainerSize.height),this.listContainer.mask=this.listMask,this.areaContainer.position.set(this.xPosition,this.menuButtonYPosition),this.areaContainer.width=this.autoContainerSize.width,this.areaContainer.height=this.menuButtonHeight,this.parentContainer.addChildAt(this.areaContainer,0),this.areaContainer.beginFill(0,1),this.areaContainer.drawRect(0,0,this.autoContainerSize.width,this.menuButtonHeight),this.areaContainer.alpha=0},e.prototype.updateButtonsPositions=function(){for(var t=0;t<this.autoSpinsList.length;t++)if(this.autoSpinsList[t].isUntilFeature)return;for(var e=this.autoContainer.getChildByName("autoSpinsFeatureButton"),n=[e],t=0;t<this.autoSpinsList.length;t++)n.push(this.autoContainer.getChildByName(a.BottomBarModuleConstant.layouts.autoSpinsSelectButton.desktop.id+this.autoSpinsList[t].label));n.sort(function(t,e){return t.y>e.y?1:t.y<e.y?-1:0});var i,o=n.indexOf(e);if(o+1<n.length){i=n[o+1].y-e.y;for(var t=o+1;t<n.length;t++)n[t].y-=i}else{var r=n[o-1];i=e.getBounds().bottom-r.getBounds().bottom}this.yEndPosition+=i,this.autoContainerSize.height-=i,this.autoContainer.removeChild(e)},e.prototype.show=function(){!this.menuDisabled&&this.menuButton.interactive&&(this.setButtonsEnabled(!0),this.areaContainer.position.y=this.yEndPosition,this.areaContainer.height=this.menuButtonHeight+this.yStartPosition-this.yEndPosition+this.yStartPosition,TweenLite.to(this,a.BottomBarModuleConstant.timingForAutoSpinPanel.show,{currentListYPosition:this.yEndPosition}))},e.prototype.hide=function(){this.isButtonHovered||this.isListHovered||this.menuDisabled||(this.setButtonsEnabled(!1),this.areaContainer.position.y=this.menuButtonYPosition,this.areaContainer.height=this.menuButtonHeight,TweenLite.to(this,a.BottomBarModuleConstant.timingForAutoSpinPanel.hide,{currentListYPosition:this.yStartPosition}))},e.prototype.addListeners=function(){var t=this;this.areaContainer.interactive=!0,this.areaContainer.on("mouseover",function(){t.show()}),this.areaContainer.on("mouseout",function(){t.hide()}),this.listContainer.interactive=!0,this.listContainer.on("mouseover",function(){t.isListHovered=!0,t.show()}),this.listContainer.on("mouseout",function(){t.isListHovered=!1,t.hide()}),this.menuButton.on("mouseover",function(){t.isButtonHovered=!0,t.show()}),this.menuButton.on("mouseout",function(){t.isButtonHovered=!1,t.hide()})},Object.defineProperty(e.prototype,"currentListYPosition",{get:function(){return this._currentListYPosition},set:function(t){this.listContainer.position.y=t,this._currentListYPosition=t},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.isButtonHovered=!1,this.isListHovered=!1,this.hide()},e.prototype.setButtonsEnabled=function(t){for(var e=0,n=this.buttons;e<n.length;e++){n[e].enabled=t}},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconInterval=0,e.isIconRotation=!1,e.iconRotationFreq=s.BottomBarModuleConstant.iconRotationFreq,e.moneyFormatter=n.i(o.inject)(a.MoneyFormatterUtils),e.api=n.i(o.inject)(a.ContextModel).context.api,e.slotParameters=n.i(o.inject)(a.ContextModel).context.slotParameters,e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.deviceClickEventName=this.api.device.event.click,this.createAutoSpinsButton(),this.createAutoSpinsList(),this.startListeners(),this.setStartValues(),this.requestAnimation(this)},e.prototype.createAutoSpinsButton=function(){this.autoSpinsBtnView=new s.AutoSpinsBtnView,this.autoSpinsBtnView.init(this,this.contentManager)},e.prototype.createAutoSpinsList=function(){this.autoSpinsListView=new s.AutoSpinsListView(this.slotParameters,this,this.autoSpinsBtnView.startBtn(),this.bg.position.y)},e.prototype.rotateSpinIcon=function(){this.spinButton.enabled&&(this.spinIcon.rotation=0,TweenLite.to(this.spinIcon,1,{rotation:2*-Math.PI}))},e.prototype.changeContolState=function(e,n,i){t.prototype.changeContolState.call(this,e,n,i),e===s.BottomBarContol.TURBO?this.turboPlayButton.enabled=n:e===s.BottomBarContol.INFO?this.infoButton.enabled=n:e===s.BottomBarContol.AUTO?(this.autoSpinsBtnView.enabled(n),n||this.autoSpinsListView.reset()):e===s.BottomBarContol.BETS?(this.betsEnabled=n,this.commitBetsData()):e===s.BottomBarContol.SPIN&&this.changeSpinButtonState(i)},e.prototype.changeSpinButtonState=function(t){if(t.mode){var e=!1,n=!1,i=!1,o=!1,r=!1,a=!1,u=!1;switch(t.mode){case s.SpinButtonState.SPIN:e=!0,o=!0;break;case s.SpinButtonState.STOP:n=!0,i=!0;break;case s.SpinButtonState.CLICK_TO_START:e=!0,r=!0,this.clickToStartBlinkAnimation=s.BlinkingAnimationUtils.startBlinkingAnimation(this.spinButton);break;case s.SpinButtonState.SKIP:u=!0,a=!0}if(this.spinButton.visible=e,this.stopButton.visible=n,this.skipButton&&(this.skipButton.visible=a),this.spinIcon.visible=o,this.stopIcon.visible=i,this.clickToStartText.visible=r,this.skipIcon&&(this.skipIcon.visible=u),t.mode!==s.SpinButtonState.CLICK_TO_START&&this.spinButton.filters&&this.spinButton.filters.length>0){var l=this.spinButton.filters[0];TweenMax.killTweensOf(l.matrix),l.brightness(1,!1),this.spinButton.filters.splice(0,1)}}void 0!==t.glow&&this.glowAnimation(this.glowButtonImage,t.glow),void 0!==t.enabled&&this.enabledActiveSpinButton(t.enabled),void 0!==t.rotate?this.isIconRotation=t.rotate:this.isIconRotation=this.spinButton.enabled},e.prototype.enabledActiveSpinButton=function(t){(this.stopButton.visible?this.stopButton:this.spinButton).enabled=t,t||this.glowAnimation(this.glowButtonImage,!1)},Object.defineProperty(e.prototype,"isSpinButtonEnabled",{get:function(){return this.spinButton.visible&&this.spinButton.state!==r.z.DISABLED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStopButtonEnabled",{get:function(){return this.stopButton.visible&&this.stopButton.state!==r.z.DISABLED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSkipButtonEnabled",{get:function(){return this.skipButton&&this.skipButton.visible&&this.skipButton.state!==r.z.DISABLED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClickToStartVisible",{get:function(){return this.clickToStartText.visible},enumerable:!0,configurable:!0}),e.prototype.setStartValues=function(){this.infoButton.text=this.contentManager.i18n("infoBtn"),this.coinTitle&&(this.coinTitle.text=this.contentManager.i18n(s.BottomBarModuleConstant.locales.coinsTitle)),this.stakeTitle&&(this.stakeTitle.text=this.contentManager.i18n(s.BottomBarModuleConstant.locales.stakeTitle)),this.totalBetTitle&&(this.totalBetTitle.text=this.contentManager.i18n(s.BottomBarModuleConstant.locales.totalBetTitle)),this.isIconRotation=!0},e.prototype.startListeners=function(){var t=this;this.decreaseBet.on(this.deviceClickEventName,function(){t.stakesModel.decreaseStake(),t.startOnChangeBetDecreaseListenersSound(),t.emit(t.getBetButtonClickEvent())}),this.increaseBet.on(this.deviceClickEventName,function(){t.stakesModel.increaseStake(),t.startOnChangeBetIncreaseListenersSound(),t.emit(t.getBetButtonClickEvent())}),this.spinButton.on(this.deviceClickEventName,function(){t.emit(t.getStartSpinClickEvent())}),this.stopButton.on(this.deviceClickEventName,function(){t.emit(t.getStopButtonClickEvent())}),this.skipButton&&this.skipButton.on(this.deviceClickEventName,function(){t.emit(s.BottomBarViewEvent.SKIP_CLICK)}),this.infoButton.on(this.deviceClickEventName,function(){t.infoButtonOnClickSound(),t.emit(t.getPaytableButtonClickEvent())}),this.turboPlayButton.on(r.q.SELECTED_STATE_CHANGED,function(){t.turboButtonOnClickSound(),t.emit(s.BottomBarViewEvent.TURBO_BTN_CLICK)}),this.autoSpinsBtnView.stopBtn().on(this.deviceClickEventName,function(){t.autoButtonOffOnClickSound(),t.emit(s.BottomBarViewEvent.AUTO_SPINS_BTN_CLICK)}),this.autoSpinsListView.onItemSelected(function(e){t.autoButtonOnOnClickSound(),t.emit(s.BottomBarViewEvent.AUTO_SPINS_ITEM_CLICK,e)}),this.spinButton.on("mousedown",function(){t.spinIcon.visible&&(TweenMax.killTweensOf(t.spinIcon.scale),TweenLite.to(t.spinIcon.scale,.1,{x:.9,y:.9})),t.clickToStartText.visible&&(t.clickToStartBlinkAnimation.kill(),TweenMax.killTweensOf(t.clickToStartText),TweenMax.killTweensOf(t.spinButton),TweenLite.to(t.clickToStartText.scale,.1,{x:.9,y:.9}))}),this.spinButton.on("mouseout",function(){t.spinIcon.visible&&(TweenMax.killTweensOf(t.spinIcon.scale),TweenLite.to(t.spinIcon.scale,.1,{x:1,y:1})),t.clickToStartText.visible&&(TweenMax.killTweensOf(t.clickToStartText),TweenLite.to(t.clickToStartText.scale,.05,{x:1,y:1}),t.clickToStartBlinkAnimation.isActive()||(t.clickToStartBlinkAnimation=s.BlinkingAnimationUtils.startBlinkingAnimation(t.spinButton)))}),this.spinButton.on("mouseup",function(){t.spinIcon.visible&&(TweenMax.killTweensOf(t.spinIcon.scale),TweenLite.to(t.spinIcon.scale,.1,{x:1,y:1}))}),this.stopButton.on("mousedown",function(){TweenMax.killTweensOf(t.stopIcon),TweenLite.to(t.stopIcon.scale,.1,{x:.9,y:.9})}),this.stopButton.on("mouseout",function(){TweenMax.killTweensOf(t.stopIcon),TweenLite.to(t.stopIcon.scale,.1,{x:1,y:1})}),this.stopButton.on("mouseup",function(){TweenMax.killTweensOf(t.stopIcon),TweenLite.to(t.stopIcon.scale,.1,{x:1,y:1})})},e.prototype.changeBet=function(t,e,n){this.totalBet=t,this.stake=e,this.coin=n,this.commitBetsData()},e.prototype.commitBetsData=function(){this.totalbetLabel&&(this.totalbetLabel.text=this.moneyFormatter.formatNumber(this.totalBet,{decimalPartAppendType:0,showCurrency:!0})),this.stakeLabel&&(this.stakeLabel.text=this.moneyFormatter.formatNumber(this.stake,{showCurrency:!0})),this.coinLabel&&(this.coinLabel.text=this.moneyFormatter.formatNumber(this.coin,{showCurrency:!0}));var t=!1,e=!1;this.betsEnabled&&(t=this.stakesModel.currentStakeIndex>0,e=this.stakesModel.currentStakeIndex<this.stakesModel.stakes.length-1,this.userModel.hasEnoughBalance(this.betHelper.getTotalBet())||(e=!1)),this.increaseBet.enabled=e,this.decreaseBet.enabled=t},e.prototype.draw=function(e){t.prototype.draw.call(this,e),this.isIconRotation&&e>this.iconInterval&&(this.iconInterval=e+this.iconRotationFreq,this.rotateSpinIcon())},e.prototype.show=function(t){this.visible=t,this.infoButton.setDefaultState()},e.prototype.setAutoSpinsData=function(t,e,n){var i=this.autoSpinsBtnView.setAutoSpinsData(t,e,n);this.autoSpinsListView.menuDisabled=i},e.prototype.setTurboData=function(t,e){this.turboPlayButton.selected=t},e.prototype.onClickScreen=function(t){this.visible&&(this.anywhereClickEnabled&&this.emit(s.BottomBarViewEvent.ANYWHERE_CLICK),this.reelsClickEnabled)},e.prototype.rotateUntilFeatureIcon=function(){this.autoSpinsBtnView.rotateUntilFeatureIcon()},e.prototype.startOnChangeBetDecreaseListenersSound=function(){this.soundManager.playSound(s.ButtonSounds.STAKE_DECREASE_BUTTON_CLICK)},e.prototype.startOnChangeBetIncreaseListenersSound=function(){this.soundManager.playSound(s.ButtonSounds.STAKE_INCREASE_BUTTON_CLICK)},e.prototype.turboButtonOnClickSound=function(){this.turboPlayButton.selected?this.soundManager.playSound(s.ButtonSounds.TURBO_ENABLE_BUTTON_CLICK):this.soundManager.playSound(s.ButtonSounds.TURBO_DISABLE_BUTTON_CLICK)},e.prototype.infoButtonOnClickSound=function(){this.soundManager.playSound(s.ButtonSounds.INFO_BUTTON_CLICK)},e.prototype.autoButtonOnOnClickSound=function(){this.soundManager.playSound(s.ButtonSounds.AUTOPLAY_ENABLED_BUTTON_CLICK)},e.prototype.autoButtonOffOnClickSound=function(){this.soundManager.playSound(s.ButtonSounds.AUTOPLAY_DISABLED_BUTTON_CLICK)},e}(s.BottomBarBaseView)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.menuWidth=560},e.prototype.startListeners=function(e){t.prototype.startListeners.call(this,e),this.arrow.interactive=!1,this.autoSpinsLandscape.startListeners(e)},e.prototype.getAutoSpinsControl=function(){return this.autoSpinsLandscape},e.prototype.setStartPosition=function(t){this.x=this.baseStartPosition-t},e.prototype.openDone=function(){t.prototype.openDone.call(this),this.arrow.interactive=!0,this.autoSpinsLandscape.enableListeners(!0)},e.prototype.closeMenu=function(){this.arrow.interactive=!1,t.prototype.closeMenu.call(this)},e.prototype.closeDone=function(){t.prototype.closeDone.call(this),this.autoSpinsLandscape.enableListeners(!1)},e.prototype.show=function(e){t.prototype.show.call(this,e),this.autoSpinsLandscape.enableListeners(e)},e.prototype.setBasePosition=function(e){t.prototype.setBasePosition.call(this,e-this.menuWidth*this.scale.x)},e}(o.LandscapeMobileBaseMenuView)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(4),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.getAutoSpinsControl=function(){return this.autoSpinsPortrait},e.prototype.startListeners=function(t){this.autoSpinsPortrait.startListeners(t)},e.prototype.setVisibility=function(t){t||this.emit(r.LandscapeMobileBaseMenuView.MENU_CLOSED),this.autoSpinsPortrait.enableListeners(t),this.visible=t},e}(o.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(4),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEnabledListeners=!1,e.hasInit=!1,e.contentManager=n.i(o.inject)(o.ContentManager),e}return i.a(e,t),e.prototype.onAdded=function(){if(t.prototype.onAdded.call(this),!this.hasInit){this.hasInit=!0;var e=this.getWidth();this.transparentMask=new PIXI.Graphics,this.transparentMask.position.set(this.passive.position.x-e,this.passive.position.y),this.transparentMask.width=e,this.transparentMask.height=this.passive.height,this.addChildAt(this.transparentMask,0),this.transparentMask.clear(),this.transparentMask.beginFill(16777215),this.transparentMask.drawRect(0,0,e,this.passive.height),this.transparentMask.endFill(),this.passive.mask=this.transparentMask}},e.prototype.setConfigItems=function(t){this.configItems=t},e.prototype.startListeners=function(t){this.setSliderPosition(this.getWidth()),this.eventName=t},e.prototype.enableListeners=function(t){this.isEnabledListeners!==t&&(this.isEnabledListeners=t,this.slider.interactive=t,this.active.interactive=t,this.passive.interactive=t,t?(this.active.on(this.eventName.down,this.onMove,this),this.passive.on(this.eventName.down,this.onMove,this),this.slider.on(this.eventName.move,this.onMove,this),this.slider.on(this.eventName.up,this.onUp,this)):(this.active.removeAllListeners(this.eventName.down),this.passive.removeAllListeners(this.eventName.down),this.slider.removeAllListeners(this.eventName.move),this.slider.removeAllListeners(this.eventName.up)))},e.prototype.onMove=function(t){var e=new PIXI.Point(t.data.global.x,t.data.global.y),n=this.slider.toLocal(e),i=this.active.toLocal(e),o=this.slider.width,r=1.5*this.slider.height;i.x>=-o&&i.x<=this.active.width+o&&n.y>=-r&&n.y<=this.slider.height+r&&this.onDrag(t)},e.prototype.getSliderPosition=function(){return this.sliderCenterX},e.prototype.getSliderSelectedValue=function(){var t=this.configItems[this.currentSliderItemIndex];return t.sliderPosition=this.getSliderPosition(),t},e.prototype.getWidth=function(){return this.passive.width},e.prototype.setSliderPosition=function(t){var n=this.slider.width/2.5,i=this.getWidth()-n;if(this.sliderCenterX=t,this.sliderCenterX<n&&(this.sliderCenterX=n),this.sliderCenterX>i&&(this.sliderCenterX=i),this.transparentMask.x=this.sliderCenterX-this.transparentMask.width,this.currentSliderItemIndex=Math.round(this.sliderCenterX/(i/(this.configItems.length-1))),this.configItems[this.currentSliderItemIndex].isUntilFeature)this.title.text=this.contentManager.i18n(e.FEATURE_BTN_LOCALE_ID);else{var r=this.configItems[this.currentSliderItemIndex].label;this.contentManager.hasI18n(e.REGULAR_BTN_LOCALE_ID)&&(r=o.StringUtils.substitute(this.contentManager.i18n(e.REGULAR_BTN_LOCALE_ID),{count:this.configItems[this.currentSliderItemIndex].value})),this.title.text=r}},e.prototype.onDrag=function(t){this.setSliderPosition(this.slider.x+t.data.getLocalPosition(this.slider).x);var n=Object.assign({},this.getSliderSelectedValue());this.emit(e.CHANGE,n)},Object.defineProperty(e.prototype,"sliderCenterX",{get:function(){return this.slider.x+this.slider.width/2},set:function(t){this.slider.x=t-this.slider.width/2},enumerable:!0,configurable:!0}),e.prototype.onUp=function(){var t=this.slider.width/2.5,e=this.getWidth()-t;this.setSliderPosition(this.currentSliderItemIndex*(e/(this.configItems.length-1)))},e.CHANGE="CHANGE",e.REGULAR_BTN_LOCALE_ID="autoSpinsRegularBtn",e.FEATURE_BTN_LOCALE_ID="untilFeatureBtnMobile",e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentManager=n.i(o.inject)(o.ContentManager),e}return i.a(e,t),e.prototype.setStartValues=function(){this.balanceTitleMobile&&(this.balanceTitleMobile.text=this.contentManager.i18n(a.BottomBarModuleConstant.locales.balanceTitle))},Object.defineProperty(e.prototype,"width",{get:function(){return this.value.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.value.y+this.value.height},enumerable:!0,configurable:!0}),e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(s.FreeGamesModel),e.regulationsModel=n.i(o.inject)(a.RegulationsModel),e.isAutoSpinMode=!1,e.isAutoSpinsMenuOpened=!1,e.isTotalBetMenuOpened=!1,e.canShowTotalBet=!0,e.isTurboMode=!1,e.renderManager=n.i(o.inject)(r.b),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.moneyFormatter=n.i(o.inject)(a.MoneyFormatterUtils),e.api=n.i(o.inject)(a.ContextModel).context.api,e.slotParameters=n.i(o.inject)(a.ContextModel).context.slotParameters,e}return i.a(e,t),e.prototype.onAdded=function(){var e=this;t.prototype.onAdded.call(this),this.mapControls();var n=this.slotParameters.autoSpinsOptionsMobile?this.slotParameters.autoSpinsOptionsMobile:this.slotParameters.autoSpinsOptions;this.autoSpinPortrait.setConfigItems(n),this.autoSpinLandscape.setConfigItems(n),this.autoSpinPortrait.interactive=!0,this.autoSpinLandscape.interactive=!0,this.autoSpinsLandscapeCtrl.interactive=!0,this.autoSpinsPortraitCtrl.interactive=!0,this.totalBetLandscape.interactive=!0,this.totalBetPortrait.interactive=!0,this.totalBetLandscapeCtrl.interactive=!0,this.totalBetPortraitCtrl.interactive=!0,this.startListeners(),this.balanceCont.setStartValues(),this.totalBetCont.setStartValues(),this.mainView=this.parent.mainView,[this.totalBetLandscapeCtrl,this.totalBetPortraitCtrl,this.turboSwitchPortrait,this.autoSpinsLandscapeCtrl,this.autoSpinsPortraitCtrl,this.spinButton,this.totalBetBtn].forEach(function(t){return e.parent.addChild(t)}),this.baseSpinPivotX=this.spinButton.pivot.x,this.freeGamesModel.isFreeSpinsActive&&this.onReconnectInFreeGames()},e.prototype.openAutoSpinsCtrlAfterFinish=function(){this.onAutoSpin()},e.prototype.mapControls=function(){this.turboSwitchLandscape=this.totalBetLandscapeCtrl.getTurboSwitchControl(),this.totalBetPortrait=this.totalBetPortraitCtrl.getTotalBetControl(),this.totalBetLandscape=this.totalBetLandscapeCtrl.getTotalBetControl(),this.autoSpinPortrait=this.autoSpinsPortraitCtrl.getAutoSpinsControl(),this.autoSpinLandscape=this.autoSpinsLandscapeCtrl.getAutoSpinsControl()},e.prototype.onReconnectInFreeGames=function(){this.isLandscape=this.api.device.isLandscape,this.freeGamesModel.isJustEnd?this.canShowTotalBet=!0:this.canShowTotalBet=!1,this.showBet(this.canShowTotalBet)},e.prototype.showBet=function(t){this.canShowTotalBet=t,t?this.isLandscape?this.totalBetLandscapeCtrl.visible=!0:(this.totalBetPortraitCtrl.visible=this.isTotalBetMenuOpened,this.turboSwitchPortrait.visible=!0,this.totalBetBtn.visible=!0):(this.totalBetPortraitCtrl.visible=!1,this.totalBetLandscapeCtrl.visible=!1,this.turboSwitchPortrait.visible=!1,this.totalBetBtn.visible=!1)},e.prototype.showSpin=function(t){this.spinButton.visible=t},e.prototype.onRotate=function(t,e){var n=this.getMinArea(),i=this.isLandscape;this.viewPortWidth=t,this.viewPortHeight=e;var o=Math.min(t/n.width,.8);this.scale.set(o);var r=(t-this.width)/2,a=e-n.height*o;this.position.set(r,a),this.visible&&(this.canShowTotalBet&&(this.totalBetLandscapeCtrl.visible=i,this.turboSwitchPortrait.visible=!i,this.totalBetBtn.visible=!i,this.autoSpinsLandscapeCtrl.visible=i),i&&(this.spinButton.getAutoIconState()||(this.autoSpinsLandscapeCtrl.visible=!1)),this.portraitMinArea.visible=!i,this.setBalacePositions(n,r,t),this.spinButton.scale.set(o))},e.prototype.updatePositions=function(){var t=this.getMinArea(),e=Math.min(this.renderManager.canvasWidth/t.width,.8);this.isLandscape?(this.changeLandscapePositions(this.renderManager.canvasWidth,e),this.landscape()):(this.changePortraitPositions(this.renderManager.canvasWidth,this.renderManager.canvasHeight,e),this.portrait())},e.prototype.setBalacePositions=function(t,e,n){var i=this.scale.x,o=this.isLandscape?20:30,r=t.y+t.height-this.balanceCont.height-o;this.totalBetCont.y=r,this.balanceCont.y=r,this.balanceCont.x=(20-e)/i,this.totalBetCont.x=(n-e-20)/i-this.totalBetCont.width,this.bottomBarDivider&&(this.bottomBarDivider.width=(n-40)/i,this.bottomBarDivider.x=(20-e)/i)},e.prototype.changeLandscapePositions=function(t,e){var n=this.mainView.getReelsBounds(),i=n.y+n.height/2;this.spinButton.position.set(t,i),this.totalBetLandscapeCtrl.setScale(e),this.totalBetLandscapeCtrl.setBasePosition(0),this.autoSpinsLandscapeCtrl.setScale(e),this.autoSpinsLandscapeCtrl.setBasePosition(t),this.totalBetLandscapeCtrl.y=i,this.autoSpinsLandscapeCtrl.y=i},e.prototype.changePortraitPositions=function(t,e,n){var i=20*n,o=t/2,r=this.toGlobal(new PIXI.Point),a=r.y-130*this.scale.y;this.spinButton.position.set(o,a),this.turboSwitchPortrait.position.set(t-i,a),this.totalBetBtn.position.set(i,a),this.totalBetPortraitCtrl.position.set(o,e/2),this.autoSpinsPortraitCtrl.position.set(o,this.autoSpinsPortraitCtrl.y=e/2),this.turboSwitchPortrait.scale.set(n),this.autoSpinsPortraitCtrl.scale.set(n),this.totalBetBtn.scale.set(n),this.totalBetPortraitCtrl.scale.set(n)},e.prototype.landscape=function(){var t;this.spinButton.pivot.x=2*this.baseSpinPivotX,this.isAutoSpinsMenuOpened?(t=!1,this.closeAutoPlay(!1,t),t=!0,this.openAutoPlay(!1,t)):this.isTotalBetMenuOpened&&(t=!1,this.closeTotalBet(!1,t),t=!0,this.openTotalBet(!1,t)),this.turboSwitchLandscape.switchMode(this.isTurboMode)},e.prototype.portrait=function(){var t;this.spinButton.pivot.x=this.baseSpinPivotX,this.isAutoSpinsMenuOpened?(t=!0,this.closeAutoPlay(!1,t),t=!1,this.openAutoPlay(!1,t)):this.isTotalBetMenuOpened&&(t=!0,this.closeTotalBet(!1,t),t=!1,this.openTotalBet(!1,t)),this.turboSwitchPortrait.switchMode(this.isTurboMode)},e.prototype.startListeners=function(){var t=this.api.device.event;this.spinButton.startListeners(t),this.totalBetLandscapeCtrl.startListeners(t),this.autoSpinsLandscapeCtrl.startListeners(t),this.autoSpinsPortraitCtrl.startListeners(t),this.totalBetPortraitCtrl.startListeners(t),this.spinButton.on(s.SpinButtonMobileView.SPIN,this.onSpin,this),this.spinButton.on(s.SpinButtonMobileView.AUTO_SPIN,this.onAutoSpin,this),this.spinButton.on(s.SpinButtonMobileView.STOP,this.onStop,this),this.spinButton&&this.spinButton.on(s.SpinButtonMobileView.SKIP,this.onSkip,this),this.totalBetPortrait.on(s.TotalBetSwitcherMobileView.CHANGE,this.onChangeBet,this),this.totalBetBtn.on(t.click,this.onTotalBetBtnClick,this),this.turboSwitchPortrait.on(t.click,this.onTurboClick,this),this.turboSwitchLandscape.on(t.click,this.onTurboClick,this),this.totalBetLandscape.on(s.TotalBetSwitcherMobileView.CHANGE,this.onChangeBet,this),this.totalBetLandscapeCtrl.on(s.LandscapeMobileBaseMenuView.ARROW_TOGGLED,this.onTotalBetBtnClick,this),this.autoSpinsLandscapeCtrl.on(s.LandscapeMobileBaseMenuView.ARROW_TOGGLED,this.onAutoSpin,this),this.autoSpinLandscape.on(s.AutoSpinsMobileView.CHANGE,this.onChangeAutoSpins,this),this.autoSpinPortrait.on(s.AutoSpinsMobileView.CHANGE,this.onChangeAutoSpins,this),this.dispatcher.addListener(r.B.SCENE_RESIZED,this.updatePositions,this),this.dispatcher.addListener(a.GameRunEvents.PAYTABLE_SHOWN,this.notifyPaytableShown,this)},e.prototype.notifyPaytableShown=function(){this.isAutoSpinsMenuOpened&&this.closeAutoPlay(this.isLandscape,this.isLandscape),this.isTotalBetMenuOpened&&this.closeTotalBet(this.isLandscape,this.isLandscape)},e.prototype.changeContolState=function(e,n,i){t.prototype.changeContolState.call(this,e,n,i),e===s.BottomBarContol.TURBO?(this.turboSwitchPortrait.enabled(n),this.turboSwitchLandscape.enabled(n)):e===s.BottomBarContol.AUTO?this.spinButton.autoPlay(n):e===s.BottomBarContol.BETS?(this.totalBetBtn.enabled=n,this.totalBetLandscapeCtrl.enabled(n),this.betsEnabled=n,this.commitBetsData(),this.syncTotalBetControls()):e===s.BottomBarContol.SPIN&&this.changeSpinButtonState(i)},e.prototype.changeSpinButtonState=function(t){if(t.mode){var e=!1,n=!1,i=!1,o=!1,r=!1,a=!1,u=!1,l=!1;switch(t.mode){case s.SpinButtonState.SPIN:e=!0,o=!this.isAutoSpinMode,i=this.isAutoSpinMode;break;case s.SpinButtonState.STOP:n=!0,i=!0;break;case s.SpinButtonState.CLICK_TO_START:e=!0,r=!0;break;case s.SpinButtonState.SKIP:a=!0,u=!0}i&&(l=this.isAutoSpinMode),this.spinButton.spinBtn.visible=e,this.spinButton.stopBtn.visible=n,this.spinButton.skipBtn&&(this.spinButton.skipBtn.visible=a),this.spinButton.showSkipIcon(u),this.spinButton.showSpinIcon(o),this.spinButton.showStopIcon(i),this.spinButton.showClickToStart(r),this.spinButton.showAutoSpinsCounter(l),a?this.spinButton.showCircleText(!1,!1):this.spinButton.showCircleText(!r&&!i&&!t.glow)}void 0!==t.glow&&this.glowAnimation(this.spinButton.getAnimationGlow(),t.glow),void 0!==t.rotate&&(this.spinButton.isIconRotation=t.rotate),void 0!==t.enabled&&this.spinButton.changeEnabled(t.enabled)},e.prototype.commitBetsData=function(){this.totalBetCont&&(this.totalBetCont.value.text=this.getFormattedTotalBet(this.totalBet)),this.totalBetLandscapeCtrl.getTotalBetControl().enabled(this.betsEnabled),this.totalBetPortraitCtrl.getTotalBetControl().enabled(this.betsEnabled)},e.prototype.onTurboClick=function(){this.emit(s.BottomBarViewEvent.TURBO_BTN_CLICK),this.turboButtonOnClickSound()},e.prototype.onStop=function(t){t&&this.api.enableMenu(),this.emit(this.getStopButtonClickEvent())},e.prototype.onSkip=function(){this.emit(s.BottomBarViewEvent.SKIP_CLICK)},e.prototype.onChangeBet=function(t){t?this.stakesModel.increaseStake():this.stakesModel.decreaseStake(),this.onChangeBetSound(t)},e.prototype.onChangeAutoSpins=function(t){this.selectedAutoSpinItem=t},e.prototype.onSpin=function(){this.isTotalBetMenuOpened&&this.closeTotalBet(this.isLandscape,this.isLandscape),this.isAutoSpinsMenuOpened?(this.onAutoSpin(),this.regulationsModel.regulationsConfig.autoPlayLossLimitEnabled||this.regulationsModel.regulationsConfig.autoPlaySingleWinLimitEnabled||(this.spinButton.autoSpinSetupMode(!1),this.spinButton.autoSpinMode(!0)),this.isAutoSpinMode=!0,this.selectedAutoSpinItem&&this.emit(s.BottomBarViewEvent.AUTO_SPINS_ITEM_CLICK,this.selectedAutoSpinItem)):this.emit(this.getStartSpinClickEvent())},e.prototype.changeBet=function(t,e,n){this.totalBet=t;var i=this.getFormattedTotalBet(t);this.totalBetCont.value.text=i;var o=this.stakesModel.currentStakeIndex>0,r=this.stakesModel.currentStakeIndex<this.stakesModel.stakes.length-1;this.isCanIncreaseBet()||(r=!1),(this.isLandscape?this.totalBetLandscapeCtrl.getTotalBetControl():this.totalBetPortraitCtrl.getTotalBetControl()).setState(i,r,o);var a=this.isLandscape?this.totalBetLandscapeCtrl.getCoinCont():this.totalBetPortraitCtrl.getCoinCont();if(a){var s=this.moneyFormatter.formatNumber(this.stakesModel.currentStakeValue,{showCurrency:!0});a.setValue(s)}},e.prototype.getFormattedTotalBet=function(t){return this.moneyFormatter.formatNumber(t,{decimalPartAppendType:0,showCurrency:!0})},e.prototype.setAutoSpinsData=function(t,e,n){if(!n&&(t>0||e)){var i=""+t;e&&(i=""),this.spinButton.setCounterText(i),this.spinButton.autoSpinMode(!0),this.isAutoSpinMode=!0,this.isLandscape&&(this.totalBetLandscapeCtrl.visible=!1)}else this.isAutoSpinMode=!1,this.spinButton.autoSpinMode(!1),this.isLandscape&&(this.totalBetLandscapeCtrl.visible=!0)},e.prototype.setTurboData=function(t,e){this.isTurboMode=t,(this.isLandscape?this.turboSwitchLandscape:this.turboSwitchPortrait).switchMode(this.isTurboMode),this.spinButton.turboMode(this.isTurboMode&&!e)},e.prototype.onAutoSpin=function(){this.isTotalBetMenuOpened&&this.closeTotalBet(this.isLandscape,this.isLandscape),this.isAutoSpinsMenuOpened?this.closeAutoPlay(this.isLandscape,this.isLandscape):this.openAutoPlay(this.isLandscape,this.isLandscape),this.soundManager.playSound(s.ButtonSounds.GENERIC_BUTTON_CLICK)},e.prototype.onTotalBetBtnClick=function(){this.isAutoSpinsMenuOpened&&this.closeAutoPlay(this.isLandscape,this.isLandscape),this.isTotalBetMenuOpened?this.closeTotalBet(this.isLandscape,this.isLandscape):this.openTotalBet(this.isLandscape,this.isLandscape),this.soundManager.playSound(s.ButtonSounds.GENERIC_BUTTON_CLICK)},e.prototype.syncAutoSpinControls=function(){this.selectedAutoSpinItem?(this.autoSpinPortrait.setSliderPosition(this.selectedAutoSpinItem.sliderPosition),this.autoSpinLandscape.setSliderPosition(this.selectedAutoSpinItem.sliderPosition)):this.selectedAutoSpinItem=this.autoSpinPortrait.getSliderSelectedValue()},e.prototype.openTotalBet=function(t,e){e?t?this.totalBetLandscapeCtrl.openMenu():this.totalBetLandscapeCtrl.show(!0):this.totalBetPortraitCtrl.setVisibility(!0),this.isTotalBetMenuOpened=!0,this.syncTotalBetControls()},e.prototype.closeTotalBet=function(t,e){e?t?this.totalBetLandscapeCtrl.closeMenu():this.totalBetLandscapeCtrl.show(!1):this.totalBetPortraitCtrl.setVisibility(!1),this.isTotalBetMenuOpened=!1},e.prototype.syncTotalBetControls=function(){this.changeBet(this.betHelper.getTotalBet(),this.stakesModel.currentStakeValue,this.stakesModel.currentCoinsValue)},e.prototype.openAutoPlay=function(t,e){e?t?(this.autoSpinsLandscapeCtrl.visible=!0,this.autoSpinsLandscapeCtrl.openMenu()):this.autoSpinsLandscapeCtrl.show(!0):this.autoSpinsPortraitCtrl.setVisibility(!0),this.isAutoSpinsMenuOpened=!0,this.spinButton.autoSpinSetupMode(this.isAutoSpinsMenuOpened),this.syncAutoSpinControls()},e.prototype.closeAutoPlay=function(t,e){e?t?this.autoSpinsLandscapeCtrl.closeMenu():this.autoSpinsLandscapeCtrl.show(!1):this.autoSpinsPortraitCtrl.setVisibility(!1),this.isAutoSpinsMenuOpened=!1,this.spinButton.autoSpinSetupMode(this.isAutoSpinsMenuOpened)},e.prototype.closeActivePanels=function(){this.isLandscape&&(this.totalBetLandscapeCtrl.closeMenu(),this.autoSpinsLandscapeCtrl.closeMenu())},e.prototype.onClickScreen=function(t){if(this.visible){this.anywhereClickEnabled&&this.emit(s.BottomBarViewEvent.ANYWHERE_CLICK);for(var e=t.changedTouches[0],n=[this.totalBetLandscapeCtrl,this.totalBetPortraitCtrl,this.autoSpinsLandscapeCtrl,this.autoSpinsPortraitCtrl,this.spinButton,this.totalBetBtn],i=!1,o=0;o<n.length;o++)if(n[o].visible&&n[o].getBounds().contains(e.clientX,e.clientY)){i=!0;break}var r=!1;if(i||(this.isAutoSpinsMenuOpened&&(this.soundManager.playSound(s.ButtonSounds.GENERIC_BUTTON_CLICK),this.closeAutoPlay(this.isLandscape,this.isLandscape),r=!0),this.isTotalBetMenuOpened&&(this.closeTotalBet(this.isLandscape,this.isLandscape),r=!0)),!r){var a=this.parent.children.filter(function(t){return"mainView"===t.id})[0],u=a.children.filter(function(t){return"resizeArea"===t.id})[0];this.reelsClickEnabled&&u.getBounds().contains(e.clientX,e.clientY)&&this.emit(s.BottomBarViewEvent.REELS_CLICK)}}},e.prototype.clickToStart=function(t){this.spinButton.freeSpinsMode(t)},e.prototype.show=function(t){this.visible=t,this.turboSwitchPortrait.visible=t,t?(this.totalBetLandscapeCtrl.visible=!0,this.autoSpinsLandscapeCtrl.visible=this.isLandscape,this.isLandscape||(this.totalBetPortraitCtrl.visible=this.isTotalBetMenuOpened,this.autoSpinsPortraitCtrl.visible=this.isAutoSpinsMenuOpened),this.updatePositions()):(this.totalBetPortraitCtrl.visible=!1,this.autoSpinsPortraitCtrl.visible=!1,this.autoSpinsLandscapeCtrl.visible=!1,this.totalBetLandscapeCtrl.visible=!1),this.spinButton.visible=t,this.totalBetBtn.visible=t,t&&this.onRotate(this.viewPortWidth,this.viewPortHeight)},Object.defineProperty(e.prototype,"isSpinButtonEnabled",{get:function(){return this.spinButton.spinBtn.visible&&this.spinButton.spinBtn.state!==r.z.DISABLED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStopButtonEnabled",{get:function(){return this.spinButton.stopBtn.visible&&this.spinButton.stopBtn.state!==r.z.DISABLED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSkipButtonEnabled",{get:function(){return this.spinButton.skipBtn&&this.spinButton.skipBtn.visible&&this.spinButton.skipBtn.state!==r.z.DISABLED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClickToStartVisible",{get:function(){return this.spinButton.isClickToStartVisible},enumerable:!0,configurable:!0}),e.prototype.getMinArea=function(){var t=this.isLandscape?this.landscapeMinArea:this.portraitMinArea;return this.isLandscape||t.visible||(t.visible=!0),t},e.prototype.turboButtonOnClickSound=function(){this.isTurboMode?this.soundManager.playSound(s.ButtonSounds.TURBO_ENABLE_BUTTON_CLICK):this.soundManager.playSound(s.ButtonSounds.TURBO_DISABLE_BUTTON_CLICK)},e.prototype.onChangeBetSound=function(t){t?this.soundManager.playSound(s.ButtonSounds.STAKE_INCREASE_BUTTON_CLICK):this.soundManager.playSound(s.ButtonSounds.STAKE_DECREASE_BUTTON_CLICK)},e.prototype.isCanIncreaseBet=function(){return this.userModel.hasEnoughBalance(this.betHelper.getTotalBet())},e.prototype.updateViewAfterAutoPlayLimitPopupCloseOk=function(){this.spinButton.autoSpinSetupMode(!1),this.spinButton.autoSpinMode(!0)},e}(s.BottomBarBaseView)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentManager=n.i(o.inject)(o.ContentManager),e}return i.a(e,t),e.prototype.setStartValues=function(){this.totalBetTitleMobile&&(this.totalBetTitleMobile.text=this.contentManager.i18n(a.BottomBarModuleConstant.locales.totalBetTitle))},Object.defineProperty(e.prototype,"width",{get:function(){return this.value.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.value.y+this.value.height},enumerable:!0,configurable:!0}),e}(r.d)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i._diameter=n.diameter||i.width||100,i._startAngle=n.startAngle||0,i._textInside=void 0===n.textInside||n.textInside,i._inwardFacing=void 0===n.inwardFacing||n.inwardFacing,i}return i.a(e,t),Object.defineProperty(e.prototype,"diameter",{get:function(){return this._diameter},set:function(t){this._diameter=t,this.updateText()},enumerable:!0,configurable:!0}),e.prototype.updateText=function(e){if(this.localStyleID!==this._style.styleID&&(this.dirty=!0),this.dirty||!e){"|"===this.text[0]?(this.originalText=this.text,this.textArray=this.text.split("|").slice(1),this.text=this.textArray.join("")):this.originalText&&"|"===this.originalText[0]?(this.textArray=this.originalText.split("|").slice(1),this.text=this.textArray.join("")):this.textArray=this.text.split(""),t.prototype.updateText.call(this,e),this.fontSize=this.style.fontSize+"pt",this.clockwise=this.style.align===o.C.RIGHT?1:-1,this._startAngle=this._startAngle*(Math.PI/180);var n=new PIXI.Text(this.text,{fontFamily:this.style.fontFamily,fontSize:this.fontSize});if(this.textHeight=n.height,this.textWidth=n.width,n.destroy(!0),this.lineLength=Math.PI*(this._diameter-2*this.textHeight),this.textWidth>this.lineLength){var i=this.textWidth+3;this.style.fontSize=Math.floor(this.style.fontSize*this.lineLength/i),this.fontSize=this.style.fontSize+"pt",this.textHeight=this.textHeight*this.lineLength/this.textWidth}this._textInside||(this._diameter+=2*this.textHeight),this.canvas.width=this._diameter*this.resolution,this.canvas.height=this._diameter*this.resolution,this.context.scale(this.resolution,this.resolution),this.context.fillStyle=this.style.fill,this.context.font=this.fontSize+" "+this.style.fontFamily,this.reverseText(),this.positionText(),this.positionLetter(),this.updateTexture()}},e.prototype.reverseText=function(){([o.C.LEFT,o.C.CENTER].indexOf(this.style.align)>-1&&this._inwardFacing||this.style.align===o.C.RIGHT&&!this._inwardFacing)&&this.textArray.reverse()},e.prototype.positionText=function(){var t=this._diameter/2,e=this.textArray.length;this.context.translate(t,t),this._startAngle+=Math.PI*(this._inwardFacing?0:1),this.context.textBaseline=this.style.textBaseline,this.context.textAlign=o.C.CENTER,this.charWidth=Array(e);for(var n=0;n<e;n++)this.charWidth[n]=this.context.measureText(this.textArray[n]).width;if(this.style.align===o.C.CENTER)for(var i=this.textArray.length,n=0;n<i;n++)this._startAngle+=(this.charWidth[n]+(n===i-1?0:this.style.letterSpacing))/(t-this.textHeight)/2*-this.clockwise;this.context.rotate(this._startAngle)},e.prototype.positionLetter=function(){for(var t=this._diameter/2,e=this._inwardFacing?1:-1,n=this.textArray.length,i=0;i<n;i++){var o=this.textArray[i],r=this.charWidth[i];this.context.rotate(r/2/(t-this.textHeight)*this.clockwise),this.context.fillText(o,0,e*(0-t+this.textHeight/2)),this.context.rotate((r/2+this.style.letterSpacing)/(t-this.textHeight)*this.clockwise)}},e}(PIXI.Text)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(55),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentManager=n.i(o.inject)(o.ContentManager),e}return i.a(e,t),e.prototype.setStartValues=function(){this.coinTitleMobile&&(this.coinTitleMobile.text=this.contentManager.i18n(a.b.locales.coinsTitle))},e.prototype.setValue=function(t){this.value.text=t},e}(r.d)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.baseStartPosition=0,e.isEnabled=!0,e.menuAnimationTime=.5,e.menuVisibleWidth=0,e.menuWidth=0,e.isMenuOpening=!1,e.isMenuClosing=!1,e.isMenuVisible=!1,e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.menuWidth=Math.abs(this.children[0].width)},e.prototype.startListeners=function(t){this.deviceClickEventName=t.click,this.arrow.interactive=!0,this.arrow.hitArea=new PIXI.Circle(this.arrow.pivot.x,this.arrow.pivot.y,40),this.arrow.on(t.click,this.toggle,this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.arrow.removeAllListeners(this.deviceClickEventName)},e.prototype.setStartPosition=function(t){this.x=this.baseStartPosition-t},e.prototype.toggle=function(t){t.currentTarget===t.target&&this.isEnabled&&this.emit(e.ARROW_TOGGLED)},e.prototype.enabled=function(t){this.alpha=t?1:.7,this.isEnabled=t},e.prototype.openMenu=function(){var t=this;!this.isMenuVisible&&this.isEnabled&&(this.isMenuOpening=!0,TweenLite.to(this,this.menuAnimationTime,{percentOpen:0,arrowRotation:180,ease:Sine.easeOut,onComplete:function(){return t.openDone()}}),this.emit(e.MENU_OPENED))},e.prototype.openDone=function(){this.isMenuOpening=!1,this.isMenuVisible=!0},e.prototype.closeMenu=function(){var t=this;(this.isMenuOpening||this.isMenuVisible||this.isMenuClosing)&&(this.isMenuOpening=!1,this.isMenuClosing=!0,TweenLite.killTweensOf(this),TweenLite.to(this,this.menuAnimationTime,{percentOpen:1,arrowRotation:0,ease:Sine.easeOut,onComplete:function(){return t.closeDone()}}),this.emit(e.MENU_CLOSED))},e.prototype.closeDone=function(){this.isMenuClosing=!1,this.isMenuVisible=!1},e.prototype.hideMenu=function(){this.emit(e.MENU_CLOSED),TweenLite.killTweensOf(this),this.percentOpen=1,this.arrowRotation=0;var t=this.menuVisibleWidth-this.menuWidth*this.scale.x;this.setStartPosition(t),this.closeDone()},e.prototype.showMenu=function(){this.emit(e.MENU_OPENED),TweenLite.killTweensOf(this),this.percentOpen=0,this.arrowRotation=180,this.setStartPosition(0),this.openDone()},e.prototype.show=function(t){t?this.showMenu():this.hideMenu()},e.prototype.setBasePosition=function(t){this.baseStartPosition=t,this.show(this.getShowState())},e.prototype.setScale=function(t){this.scale.set(t),this.show(this.getShowState())},e.prototype.getShowState=function(){return!!this.isMenuOpening||!this.isMenuClosing&&this.isMenuVisible},e.prototype.updateTranslation=function(){var t=(this.menuWidth*this.scale.x-this.menuVisibleWidth)*this.percentOpen*-1;this.setStartPosition(t),this.arrow.rotation=this.arrowRotation/180*Math.PI},Object.defineProperty(e.prototype,"percentOpen",{get:function(){return this._percentOpen},set:function(t){this._percentOpen=t,this.updateTranslation()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arrowRotation",{get:function(){return this._arrowRotation},set:function(t){this._arrowRotation=t,this.updateTranslation()},enumerable:!0,configurable:!0}),e.MENU_OPENED="MENU_OPENED",e.MENU_CLOSED="MENU_CLOSED",e.ARROW_TOGGLED="ARROW_TOGGLED",e}(o.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.coinContLandscape&&this.coinContLandscape.setStartValues()},e.prototype.getCoinCont=function(){return this.coinContLandscape},e.prototype.getTotalBetControl=function(){return this.totalBetLandscape},e.prototype.getTurboSwitchControl=function(){return this.turboSwitchLandscape},e.prototype.setStartPosition=function(t){this.x=this.baseStartPosition+t},e.prototype.startListeners=function(e){t.prototype.startListeners.call(this,e),this.totalBetLandscape.startListeners(e)},e.prototype.enabled=function(e){t.prototype.enabled.call(this,e),this.totalBetLandscape.enabled(e),this.turboSwitchLandscape.enabled(e)},e.prototype.setBasePosition=function(e){return this.menuVisibleWidth=70*this.scale.x,t.prototype.setBasePosition.call(this,e)},e}(o.LandscapeMobileBaseMenuView)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.coinContPortrait&&this.coinContPortrait.setStartValues()},e.prototype.getTotalBetControl=function(){return this.totalBetPortrait},e.prototype.getCoinCont=function(){return this.coinContPortrait},e.prototype.startListeners=function(t){this.totalBetPortrait.startListeners(t)},e.prototype.setVisibility=function(t){this.visible=t},e}(o.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(568),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.autoPlayModeEnabled=!0,e.iconInterval=0,e.hasInit=!1,e.isIconRotation=!1,e.iconRotationFreq=5e3,e.longPressTime=1300,e.touchTap=!1,e.isTurboMode=!1,e.isAutospinsMode=!1,e.scaleAmount=1,e.contentManager=n.i(o.inject)(o.ContentManager),e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.hasInit||(this.isIconRotation=!0,this.isIconRotation=!0,this.currentSpinIcon=this.spinIcon,this.initCircleText(),this.requestAnimation(this),this.hasInit=!0)},e.prototype.initCircleText=function(){var t=this.getChildIndex(this.circleText),e=this.circleText.style;e.align=this.circleText.hAlign,e.textBaseline="middle",e.padding=0;var n=new a.a("",e);Object.assign(n,{position:this.circleText.position,pivot:this.circleText.pivot,scale:this.circleText.scale,width:this.circleText.width,height:this.circleText.height,diameter:Math.min(this.circleText.width,this.circleText.height)}),this.removeChild(this.circleText),this.circleText.destroy(),this.circleText=n,this.addChildAt(n,t),this.setCircleText()},e.prototype.setCircleText=function(t){void 0===t&&(t="spinButtonNormal"),this.circleText.text=this.contentManager.i18n(t)},e.prototype.autoPlay=function(t){this.autoPlayModeEnabled=t,this.showCircleText(t)},e.prototype.draw=function(e){t.prototype.draw.call(this,e),this.isIconRotation&&e>this.iconInterval&&(this.iconInterval=e+this.iconRotationFreq,this.rotateSpinIcon())},e.prototype.getSpinButton=function(){return this.spinBtn},e.prototype.getStopButton=function(){return this.stopBtn},e.prototype.getAnimationGlow=function(){return this.yellowEffect},e.prototype.setActiveGlow=function(t){var e=[this.yellowGlow,this.greenGlow,this.blueGlow,this.redGlow];t||(t=this.isAutospinsMode?this.redGlow:this.isTurboMode?this.blueGlow:this.yellowGlow),e.forEach(function(e){return e.visible=e===t})},e.prototype.turboMode=function(t){this.isTurboMode=t,this.currentSpinIcon=t?this.turboSpinIcon:this.spinIcon,this.spinIcon.visible=!t,this.turboSpinIcon.visible=t,this.setActiveGlow()},e.prototype.autoSpinSetupMode=function(t){this.showSpinIcon(!t),this.showAutoPlayIcon(t),t?this.setCircleText("spinButtonStartAutoPlay"):this.setCircleText()},e.prototype.freeSpinsMode=function(t){this.showClickToStart(t),this.circleText.visible=!t,(this.isTurboMode?this.turboSpinIcon:this.spinIcon).visible=!t},e.prototype.showSkipIcon=function(t,e){t?this.isTurboMode?this.turboSkipIcon&&(this.turboSkipIcon.visible=!0):this.skipIcon&&(this.skipIcon.visible=!0):(this.skipIcon&&(this.skipIcon.visible=!1),this.turboSkipIcon&&(this.turboSkipIcon.visible=!1))},e.prototype.showAutoPlayIcon=function(t){t&&(this.currentSpinIcon.visible=!1,this.stopIcon.visible=!1),this.autoPlayIcon.visible=t},e.prototype.showSpinIcon=function(t){this.currentSpinIcon.visible=t,t&&(this.stopIcon.visible=!1,this.autoPlayIcon.visible=!1)},e.prototype.showStopIcon=function(t){this.stopIcon.visible=t,t&&(this.currentSpinIcon.visible=!1,this.autoPlayIcon.visible=!1)},e.prototype.getAutoIconState=function(){return this.autoPlayIcon.visible},e.prototype.getActiveGlow=function(){return this.isAutospinsMode?this.redGlow:this.isTurboMode&&!this.autoPlayModeEnabled?this.blueGlow:this.yellowGlow},e.prototype.showGlow=function(t){this.getActiveGlow().visible=t},e.prototype.showClickToStart=function(t){this.clickToStartText.visible=t,t?this.setActiveGlow(this.greenGlow):this.setActiveGlow()},e.prototype.showCircleText=function(t,e){void 0===e&&(e=!0);var n=t;e&&this.isAutospinsMode&&(n=!0),this.autoPlayModeEnabled&&!this.clickToStartText.visible||(n=!1),this.circleText.visible=n},e.prototype.autoSpinMode=function(t){this.isAutospinsMode=t,this.autoSpinSetupMode(!1),this.showSpinIcon(!t),this.showStopIcon(t),this.setActiveGlow(),t?this.setCircleText("spinButtonStopAutoPlay"):this.setCircleText(),this.commitAutoSpinsCounterData()},e.prototype.setCounterText=function(t){this.counterText.text=t},e.prototype.showAutoSpinsCounter=function(t){this.autoSpinsCounterVisible=t,this.commitAutoSpinsCounterData()},e.prototype.commitAutoSpinsCounterData=function(){var t=this.autoSpinsCounterVisible&&this.isAutospinsMode;this.counterText.visible=t,t&&this.counterText.arrange()},e.prototype.startListeners=function(t){this.stopBtn.on(t.down,this.onStopDown,this),this.stopBtn.on(t.up,this.onStopUp,this),this.stopBtn.on("touchendoutside",this.onStopUp,this),this.spinBtn.on(t.down,this.onSpinDown,this),this.spinBtn.on(t.up,this.onSpinUp,this),this.spinBtn.on("touchendoutside",this.onSpinUp,this),this.skipBtn&&this.skipBtn.on(t.down,this.onSkipDown,this)},e.prototype.rotateSpinIcon=function(){this.currentSpinIcon.rotation=0,TweenLite.to(this.currentSpinIcon,1,{rotation:2*-Math.PI})},e.prototype.onSpinDown=function(t){var n=this;if(t.currentTarget===t.target){if(this.isAutospinsMode)return void this.emit(e.STOP,!0);t.data.originalEvent.preventDefault(),this.buttonPressed(),this.touchTap=!0,this.autoPlayModeEnabled&&(this.touchTimeout=setTimeout(function(){return n.onSpinLongPress()},this.longPressTime))}},e.prototype.onSpinLongPress=function(){this.touchTap=!1,this.emit(e.AUTO_SPIN),this.touchTimeout=null},e.prototype.onSpinUp=function(){this.buttonRelease(),this.touchTap&&(this.emit(e.SPIN),clearTimeout(this.touchTimeout),this.touchTap=!1,this.touchTimeout=null)},e.prototype.onStopDown=function(){this.buttonPressed(),this.emit(e.STOP,!1)},e.prototype.onStopUp=function(){this.buttonRelease()},e.prototype.onSkipDown=function(){var t=this;this.emit(e.SKIP),this.buttonPressed().then(function(){t.buttonRelease()})},e.prototype.buttonPressed=function(){return o.Tween.to(this,.15,{buttonScaleAmount:.9,ease:Bounce.easeOut})},e.prototype.buttonRelease=function(){TweenLite.to(this,.1,{buttonScaleAmount:1,ease:Bounce.easeOut})},Object.defineProperty(e.prototype,"buttonScaleAmount",{get:function(){return this.scaleAmount},set:function(t){this.scaleAmount=t,this.children.forEach(function(e){return e.scale.set(t)})},enumerable:!0,configurable:!0}),e.prototype.changeEnabled=function(t){(this.stopBtn.visible?this.stopBtn:this.spinBtn).enabled=t,t?this.alpha=1:(this.alpha=.5,this.buttonRelease())},Object.defineProperty(e.prototype,"isClickToStartVisible",{get:function(){return this.clickToStartText.visible},enumerable:!0,configurable:!0}),e.SPIN="SPIN",e.AUTO_SPIN="AUTO_SPIN",e.STOP="STOP",e.SKIP="SKIP",e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(4),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEnabled=!0,e.contentManager=n.i(o.inject)(o.ContentManager),e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.init()},e.prototype.init=function(){this.setTitle(this.contentManager.i18n("totalBetTitle"))},e.prototype.enabled=function(t){this.isEnabled=t,this.plusBtn.enabled=t,this.minusBtn.enabled=t},e.prototype.changeButtonState=function(t,e){e&&!t.enabled&&(t.enabled=!0),e||(t.enabled=!1)},e.prototype.setState=function(t,e,n){this.counter.text=t,this.changeButtonState(this.plusBtn,e),this.changeButtonState(this.minusBtn,n)},e.prototype.setTitle=function(t){this.title.text=t},e.prototype.startListeners=function(t){var n=this;this.plusBtn.on(t.click,function(){return n.emit(e.CHANGE,!0)}),this.minusBtn.on(t.click,function(){return n.emit(e.CHANGE,!1)})},e.CHANGE="CHANGE",e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(4),a=function(t){function e(){var e=t.call(this)||this;return e.isSwitchOn=!1,e.contentManager=n.i(o.inject)(o.ContentManager),e.init(),e}return i.a(e,t),e.prototype.init=function(){this.interactive=!0},e.prototype.enabled=function(t){this.interactive=t,this.alpha=t?1:.5},e.prototype.switchMode=function(t){this.bgon.visible=t,this.bgoff.visible=!t,this.trigger.x=t?this.bgon.width-this.trigger.width:0,this.isSwitchOn=t},e.prototype.isOn=function(){return this.isSwitchOn},e.prototype.setTitle=function(t){this.title.text=t},e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.setTitle(this.contentManager.i18n("turboBtn"))},e}(r.g)},function(t,e,n){"use strict";var i=n(0),o=(n(1),n(4),n(2));n(3),function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n.setCustomButton(),n}i.a(e,t),e.prototype.setCustomButton=function(){}}(o.SlotApplicationModule)},function(t,e,n){"use strict";!function(){function t(){}t.setRoundHitArea=function(e,n,i,o){var r=n||0,a=i||0,s=o||e.width/2,u=new PIXI.Circle(s+r,s+a,s);if(e.hitArea=u,t.showHitArea){var l=new PIXI.Graphics;l.alpha=this.visibleHitAreaAlpha,l.beginFill(t.visibleHitAreaColor),l.drawCircle(u.x,u.y,u.radius),e.addChild(l)}},t.setRectHitArea=function(e,n,i,o,r,a){var s=n||0,u=i||0,l=o||e.width,c=r||e.height,d=a||0,p=new PIXI.RoundedRectangle(s,u,l,c,d);if(e.hitArea=p,t.showHitArea){var h=new PIXI.Graphics;h.alpha=t.visibleHitAreaAlpha,h.beginFill(t.visibleHitAreaColor),h.drawRoundedRect(p.x,p.y,p.width,p.height,p.radius),e.addChild(h)}},t.showHitArea=!1,t.visibleHitAreaAlpha=.5,t.visibleHitAreaColor=16711680}()},function(t,e,n){"use strict";var i=n(0),o=n(4),r=n(1),a=PIXI.Point;!function(t){function e(e){var i=t.call(this,e)||this;return i.interactionManager=n.i(r.inject)(o.i).getLayoutsContext().getRenderer().plugins.interaction,i}i.a(e,t),e.prototype.stateChangedHandler=function(){t.prototype.stateChangedHandler.call(this),this.emit(r.ButtonEvent.STATE_CHANGE)},e.prototype.mouseIsOver=function(){var t=!1,e=new a(this.interactionManager.mouse.global.x,this.interactionManager.mouse.global.y),n=this.toLocal(e);return null!==this.hitArea&&this.hitArea.contains(n.x,n.y)&&(t=!0),t},e.prototype.updateVisualState=function(){var t=void 0;t=this._enabled?this.isDown&&this.mouseIsOver()?o.z.DOWN:this.isOver&&this.mouseIsOver()?o.z.OVER:o.z.NORMAL:o.z.DISABLED,this.changeState(t)},Object.defineProperty(e.prototype,"enabled",{set:function(t){this._enabled!==t&&(this._enabled=t,this.enabledStateChangedHandler())},enumerable:!0,configurable:!0})}(o.A)},function(t,e,n){"use strict";var i=n(0),o=n(2),r=n(3);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(r.FiveOfAKindView).asSingleton().asView().withId(r.FiveOfAKindModuleConstant.layouts.fiveOfAKind).asSingleton().bindMediator(r.FiveOfAKindMediator)}}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{fiveOfAKind:"fiveOfAKind"},view:{finishStarsCount:30,bgStarsCount:100,lettersGap:10,lettersPadding:100,lettersStartPositionShift:50,lettersGlowScale:2,showTime:2e3},sounds:{FIVE_OF_A_KIND:"FIVE_OF_A_KIND"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(a.FiveOfAKindView,e),e.init(),e}return i.a(e,t),e.prototype.init=function(){var t=this;this.view.on(this.view.getOnCompleteEvent(),function(){t.dispatcher.dispatch(r.FiveOfKindEvents.FIVE_OF_A_KIND_ANIMATION_COMPLETE)})},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.removeAllListeners(this.view.getOnCompleteEvent())},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundManager=n.i(o.inject)(o.SoundManager),e}return i.a(e,t),e.prototype.onAdded=function(){var e=this;t.prototype.onAdded.call(this),this.closeTimeout=setTimeout(function(){return e.close()},a.FiveOfAKindModuleConstant.view.showTime),this.soundManager.playSound(a.FiveOfAKindModuleConstant.sounds.FIVE_OF_A_KIND)},e.prototype.onRemoved=function(){this.emit(this.getOnCompleteEvent()),t.prototype.onRemoved.call(this)},e.prototype.getOnCompleteEvent=function(){return"on_animation_complete"},e.prototype.close=function(){this.emit(this.getOnCompleteEvent())},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(r.FreeGamesModel).asSingleton().forceCreation().asModel().serverModel(),t.bind(r.FreeGamesManager).asSingleton().forceCreation(),t.bind(r.FreeGamesIntroPopup).asView().withId(r.FreeGamesModuleConstants.layouts.freeGamesIntro).bindMediator(r.IntroScreenMediator),t.bind(r.FreeGamesMorePopup).asView().withId(r.FreeGamesModuleConstants.layouts.freeGamesMore).bindMediator(r.MoreScreenMediator),t.bind(r.TotalWinView).asView().withId(r.FreeGamesModuleConstants.layouts.freeGamesTotalWin).bindMediator(r.TotalWinMediator),t.bind(r.FreeGamesCounterView).asView().withId(r.FreeGamesModuleConstants.layouts.freeGamesCounter).bindMediator(r.FreeGamesCounterMediator),t.bind(r.FreeGamesFeatureShowSymbolsWinningAction).asSingleton(),t.bind(r.FreeGamesFeatureHideSymbolsWinningAction).asSingleton(),t.bind(r.FreeGamesFeatureStartWinningAction).asSingleton(),t.bind(r.FreeGamesFeatureWaitCancellingWinningAction).asSingleton(),t.bind(r.FreeGamesFeatureIntroPopupWinningAction).asSingleton(),t.bind(r.FreeGamesFeatureMorePopupWinningAction).asSingleton(),t.bind(r.FreeGamesFeatureOutroPopupWinningAction).asSingleton(),t.bind(r.FreeGamesFeaturePlayTriggerSoundWinningAction).asSingleton(),t.bind(r.FreeGamesFeaturePrepareToStartWinningAction).asSingleton(),t.bind(r.FreeGamesFeatureRestorationWinningAction).asSingleton(),t.bind(r.FreeGamesFeatureInfoMessageWinningAction).asSingleton(),t.bind(r.FreeGamesNoWinDelayWiningAction).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.gameDataModel=n.i(o.inject)(r.GameDataModel),e.symbolsManager=n.i(o.inject)(r.SymbolManager),e}return i.a(e,t),e.prototype.findFeatureSymbols=function(){var t=[];return(this.freeGamesModel.isJustWon||this.freeGamesModel.isJustWonMore)&&(t=a.FreeGamesUtils.getFreeGamesTriggerSymbols(this.symbolsManager,this.gameDataModel.slotState.getAllWinningSymbols())),t},e}(a.BaseFeatureHideSymbolsWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.contentManager=n.i(o.inject)(o.ContentManager),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.rewardsModel=n.i(o.inject)(r.RewardsModel),e.moneyFormatter=n.i(o.inject)(r.MoneyFormatterUtils),e}return i.a(e,t),e.prototype.guard=function(t){return this.freeGamesModel.isJustWon||this.freeGamesModel.isJustWonMore},e.prototype.onExecute=function(t){var e,n=this.rewardsModel.getPayRewards([r.ServerRewardType.SCATTER]),i=n.pop();return this.freeGamesModel.isJustWon&&i&&i.value>0?e=a.MessageFactoryMark2.createMessage(["winScattersStartFreeGames"],[{scattersCount:i.payoutSymbolsCount,value:this.moneyFormatter.formatNumber(i.value)}]):this.freeGamesModel.isJustWon?e=a.MessageFactoryMark2.createMessage(["youWinFreeSpins"]):this.freeGamesModel.isJustWonMore&&(e=a.MessageFactoryMark2.createMessage(["youWinMoreFreeSpins"],[{count:this.freeGamesModel.freeSpinsMoreCount}])),this.dispatcher.dispatch(r.InfoBarEvent.SHOW_MESSAGE,e),Promise.resolve(t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(s.FreeGamesModel),e.scenesManager=n.i(o.inject)(r.a),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.ambientSoundsManager=n.i(o.inject)(a.AmbientSoundsManager),e.soundsManager=n.i(o.inject)(o.SoundManager),e.winManager=n.i(o.inject)(s.WinManager),e}return i.a(e,t),e.prototype.guard=function(){return this.freeGamesModel.isJustWon},e.prototype.internalExecute=function(){this.dispatcher.dispatch(s.FreeGamesEvent.FREE_GAMES_START),this.playAmbientSound(),this.playSoundsOnOpened(),this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,this.getUIConfig()),this.popupId=s.FreeGamesModuleConstants.layouts.freeGamesIntro,this.scenesManager.createPopupByLayoutId(this.popupId,r.f.INNER),this.setHidePopupOnTimeout(),this.dispatcher.dispatch(a.InfoBarEvent.SHOW_MESSAGE,s.MessageFactoryMark2.createMessage([""]))},e.prototype.playAmbientSound=function(){this.ambientSoundsManager.setActiveSound(a.AmbientSoundType.FREE_GAMES_INTRO)},e.prototype.playSoundsOnOpened=function(){this.soundsManager.stopSound(s.FreeGamesModuleConstants.winActions.triggerSoundId),this.soundsManager.playSound(s.FreeGamesModuleConstants.winActions.introSoundId)},e.prototype.internalTerminate=function(){this.readyToFinish()},e.prototype.hidePopupOnTimeout=function(){this.readyToFinish()},e.prototype.readyToFinish=function(){this.soundsManager.stopSound(s.FreeGamesModuleConstants.winActions.introSoundId),clearTimeout(this.hidePopupTimeout),this.scenesManager.removePopupById(this.popupId,!0),t.prototype.readyToFinish.call(this)},e.prototype.getUIConfig=function(){return{spin:{enabled:!0,mode:s.SpinButtonState.SPIN,glow:!0,rotate:!0}}},e.prototype.setHidePopupOnTimeout=function(){var t=this;this.hidePopupTimeout=setTimeout(function(){return t.hidePopupOnTimeout()},1e3*s.FreeGamesModuleConstants.introPopup.autoCloseDelay)},e}(s.BaseFeaturePopupWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(s.FreeGamesModel),e.scenesManager=n.i(o.inject)(r.a),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.soundsManager=n.i(o.inject)(o.SoundManager),e}return i.a(e,t),e.prototype.guard=function(){return this.freeGamesModel.isJustWonMore},e.prototype.internalExecute=function(){var t=this;this.soundsManager.playSound(s.FreeGamesModuleConstants.winActions.moreSoundId),this.wasPopupHidden=!1;var e=this.getUIConfigForInternalExecute();this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,e),this.popupId=s.FreeGamesModuleConstants.layouts.freeGamesMore,this.scenesManager.createPopupByLayoutId(this.popupId,r.f.INNER),this.hidePopupTimeout=setTimeout(function(){return t.hidePopup()},1e3*this.getAutoCloseDelay())},e.prototype.internalTerminate=function(){this.hidePopup()},e.prototype.hidePopup=function(){var t=this;if(!this.wasPopupHidden){this.wasPopupHidden=!0,clearTimeout(this.hidePopupTimeout),this.removePopupFromScene();var e={spin:{enabled:!1,mode:s.SpinButtonState.SPIN,glow:!1,rotate:!1}};this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,e),this.dispatcher.addListener(s.FreeGamesEvent.COUNTER_CHANGE_ANIM_COMPLETE,function(){return t.readyToFinish()},this),this.dispatcher.dispatch(s.FreeGamesEvent.COUNTER_INCREASE_VISIBLE_AMOUNT)}},e.prototype.readyToFinish=function(){this.soundsManager.stopSound(s.FreeGamesModuleConstants.winActions.moreSoundId);var e={spin:{enabled:!0,mode:s.SpinButtonState.SPIN,glow:!1,rotate:!1}};this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,e),this.dispatcher.removeListeners(s.FreeGamesEvent.COUNTER_CHANGE_ANIM_COMPLETE,this),t.prototype.readyToFinish.call(this)},e.prototype.getUIConfigForInternalExecute=function(){return{spin:{enabled:!0,mode:s.SpinButtonState.SPIN,glow:!0,rotate:!0}}},e.prototype.getAutoCloseDelay=function(){return s.FreeGamesModuleConstants.morePopup.autoCloseDelay},e.prototype.removePopupFromScene=function(){this.scenesManager.removePopupById(this.popupId,!0)},e}(s.BaseFeaturePopupWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(s.FreeGamesModel),e.autoSpinsModel=n.i(o.inject)(s.AutoSpinsModel),e.freeGamesManager=n.i(o.inject)(s.FreeGamesManager),e.scenesManager=n.i(o.inject)(r.a),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.soundsManager=n.i(o.inject)(o.SoundManager),e.ambientSoundsManage=n.i(o.inject)(a.AmbientSoundsManager),e.backgroundManager=n.i(o.inject)(a.BackgroundManager),e}return i.a(e,t),e.prototype.guard=function(){return this.freeGamesModel.isJustEnd},e.prototype.internalExecute=function(){var t=this;if(!this.freeGamesModel.freeSpinsTotalWin)return void this.skipPopup();var e=this.getUIConfigOnExecute();this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,e),this.ambientSoundsManage.stopCurrentSound(),this.popupId=s.FreeGamesModuleConstants.layouts.freeGamesTotalWin,this.createPopup(),this.dispatcher.dispatch(s.FreeGamesEvent.TOTAL_WIN_INIT,this.freeGamesModel.freeSpinsTotalWin),this.dispatcher.dispatch(a.MainScreenEvents.SHOW_OVERLAY),this.dispatcher.dispatch(s.FreeGamesEvent.FREE_GAMES_OUTRO_START),this.dispatcher.addListener(s.FreeGamesEvent.TOTAL_WIN_COMPLETE,function(){return t.readyToFinish()},this),this.dispatcher.addListener(a.Event.ANYWHERE_CLICK,function(){t.hidePopup()},this),this.checkIfTerminateNeeded()},e.prototype.createPopup=function(){this.scenesManager.createPopupByLayoutId(this.popupId)},e.prototype.internalTerminate=function(){this.hidePopup()},e.prototype.hidePopup=function(){this.dispatcher.dispatch(s.FreeGamesEvent.TOTAL_WIN_SKIP)},e.prototype.skipPopup=function(){this.readyToFinish()},e.prototype.readyToFinish=function(){this.freeGamesManager.unlockUI(),this.scenesManager.removePopupById(this.popupId,!0);var e=this.getUIConfigOnFinish();this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,e),this.dispatcher.dispatch(s.FreeGamesEvent.FREE_GAMES_OUTRO_END),this.dispatcher.dispatch(s.FreeGamesEvent.FREE_GAMES_END),this.dispatcher.dispatch(a.MainScreenEvents.HIDE_OVERLAY),this.dispatcher.dispatch(s.FreeGamesEvent.HIDE_COUNTER),this.dispatcher.dispatch(a.HeaderEvents.SHOW_LOGO_HEADER),this.dispatcher.dispatch(s.WinBoxEvents.TOGGLE_WIN_BOX_LABELS,[s.WinBoxMessageTypes.GOOD_LUCK,s.WinBoxMessageTypes.CLICK_TO_SPIN]),this.ambientSoundsManage.setActiveSound(a.AmbientSoundType.MAIN),this.updateBackground(),this.dispatcher.removeListeners(s.FreeGamesEvent.TOTAL_WIN_COMPLETE,this),this.dispatcher.removeListeners(a.Event.ANYWHERE_CLICK,this),t.prototype.readyToFinish.call(this)},e.prototype.getUIConfigOnExecute=function(){return{anywhereClick:!0,spin:{enabled:!1,rotate:!1},bets:!1,info:!1,auto:!1,turbo:!1,wrapperMainMenu:!1,wrapperGamesMenu:!1}},e.prototype.getUIConfigOnFinish=function(){return this.autoSpinsModel.isActive?{anywhereClick:!1,spin:{enabled:!0,rotate:!0},bets:!1,info:!1,auto:!0,turbo:!1,wrapperMainMenu:!1,wrapperGamesMenu:!1}:{anywhereClick:!1,spin:{enabled:!0,rotate:!0},bets:!0,info:!0,auto:!0,turbo:!0,wrapperMainMenu:!0,wrapperGamesMenu:!0}},e.prototype.checkIfTerminateNeeded=function(){this.mainActionInfo.isTerminating&&this.hidePopup()},e.prototype.updateBackground=function(){this.backgroundManager.setCurrentBackground(!1),this.dispatcher.dispatch(a.MainScreenEvents.CHANGE_REELS_BACKGROUND)},e}(s.BaseFeaturePopupWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(r.FreeGamesModel),e}return i.a(e,t),e.prototype.guard=function(){return this.freeGamesModel.isJustWon||this.freeGamesModel.isJustWonMore},e.prototype.getSoundId=function(){return r.FreeGamesModuleConstants.winActions.triggerSoundId},e}(r.BaseFeaturePlayTriggerSoundWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(s.FreeGamesModel),e.scenesManager=n.i(o.inject)(r.a),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.backgroundManager=n.i(o.inject)(a.BackgroundManager),e.ambientSoundsManager=n.i(o.inject)(a.AmbientSoundsManager),e.soundsManager=n.i(o.inject)(o.SoundManager),e}return i.a(e,t),e.prototype.guard=function(){return this.freeGamesModel.isJustWon||this.freeGamesModel.isJustRestored},e.prototype.internalExecute=function(){this.dispatcher.dispatch(a.HeaderEvents.HIDE_LOGO_HEADER),this.dispatcher.dispatch(s.FreeGamesEvent.SHOW_COUNTER),this.backgroundManager.setCurrentBackground(!0),this.dispatcher.dispatch(a.MainScreenEvents.CHANGE_REELS_BACKGROUND,s.FreeGamesModuleConstants.layouts.freeGamesReelsBgImage),this.ambientSoundsManager.setActiveSound(a.AmbientSoundType.FREE_GAMES_MAIN);var t={spin:{enabled:!0,mode:s.SpinButtonState.SPIN,glow:!1,rotate:!1}};this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,t)},e}(s.BaseFeaturePrepareToStartWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(r.FreeGamesModel),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.dispatcher.dispatch(r.WinBoxEvents.SHOW_WIN_AMOUNT,new r.ShowWinAmountVO(e.freeGamesModel.freeSpinsTotalWin,0,!0)),n(t)})},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.gameDataModel=n.i(o.inject)(r.GameDataModel),e.symbolsManager=n.i(o.inject)(r.SymbolManager),e.winManager=n.i(o.inject)(a.WinManager),e.init(),e}return i.a(e,t),e.prototype.init=function(){this.symbolAnimationType=a.SymbolAnimationType.FREE_GAMES},e.prototype.findFeatureSymbols=function(){var t=[];return(this.freeGamesModel.isJustWon||this.freeGamesModel.isJustWonMore)&&(t=a.FreeGamesUtils.getFreeGamesTriggerSymbols(this.symbolsManager,this.gameDataModel.slotState.getAllWinningSymbols())),t},e}(a.BaseFeatureShowSymbolsWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this,n.i(o.inject)(r.ContextModel).context.api)||this;return e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.freeGamesManager=n.i(o.inject)(a.FreeGamesManager),e}return i.a(e,t),e.prototype.guard=function(t){return this.freeGamesModel.isJustWon},e.prototype.onExecute=function(e){return this.autoSpinsModel.isUntilFeature&&(this.autoSpinsModel.autoPlayShowToRestart=!0),this.freeGamesManager.lockUI(),t.prototype.onExecute.call(this,e)},e.prototype.getResourceId=function(){return r.ResourceId.FREE_SPINS},e}(a.BaseFeatureStartWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.promoMessagesManager=n.i(o.inject)(a.PromoMessagesManager),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.gameDataModel=n.i(o.inject)(r.GameDataModel),e.symbolsManager=n.i(o.inject)(r.SymbolManager),e}return i.a(e,t),e.prototype.guard=function(t){return!(!this.freeGamesModel.isJustWon||t.isTerminating)},e.prototype.onExecute=function(e){var n=this.promoMessagesManager.getPromoMessage("promoImage5");return n&&this.dispatcher.dispatch(a.PromoMessagesEvents.SHOW_DRIVEN_PROMO_MESSAGE,n),t.prototype.onExecute.call(this,e)},e.prototype.findFeatureSymbols=function(){var t=[];return(this.freeGamesModel.isJustWon||this.freeGamesModel.isJustWonMore)&&(t=a.FreeGamesUtils.getFreeGamesTriggerSymbols(this.symbolsManager,this.gameDataModel.slotState.getAllWinningSymbols())),t},e.prototype.getSoundId=function(){return a.FreeGamesModuleConstants.winActions.startPendingSoundId},e}(a.BaseFeatureWaitCancellingWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winManager=n.i(o.inject)(a.WinManager),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.noWinDelay=400,e}return i.a(e,t),e.prototype.guard=function(t){return 0===this.winManager.totalWin},e.prototype.onExecute=function(t){var e=this;return this.noWinDelayTimeout=setTimeout(function(){return e.readyToResolve()},this.noWinDelay),this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,{spin:{enabled:!0,mode:a.SpinButtonState.SPIN}}),new Promise(function(n){e.mainResolve=n,e.mainActionInfo=t})},e.prototype.readyToResolve=function(){this.mainResolve&&(this.mainResolve(this.mainActionInfo),this.mainResolve=null,clearTimeout(this.noWinDelayTimeout))},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={layouts:{freeGamesIntro:"FreeGamesIntro",freeGamesMore:"FreeGamesMore",freeGamesTotalWin:"FreeGamesTotalWin",freeGamesReelsBgImage:"winningFrameBackgroundFreeSpins.jpg",freeGamesCounter:"freeGamesCounter"},totalWin:{view:{totalWinTitleLocaleId:"totalWin",winTickupMaxTime:1.25,winTickupShowDelay:1,desappearDelay:2,winAmountDisappearDelay:.5,finalScaleFactor:.44,finalScaleFactorMobilePortrait:.64,finalScaleFactorMobileLandScape:.5},sounds:{TOTAL_WIN_TICKUP:"TOTAL_WIN_TICKUP",TOTAL_WIN_END:"TOTAL_WIN_END"}},counter:{view:{multiplierAmountLocaleId:"freeGamesMultiplierAmount",multiplierTextLocaleId:"freeGamesMultiplierText",counterTextLocaleId:"freeGamesCounterText",winLocaleId:"freeGamesWinCounterTitle",oneTickTime:.25},sounds:{FREE_GAMES_COUNTER_AMOUNT_CHANGED:"FREE_GAMES_COUNTER_AMOUNT_CHANGED"}},introPopup:{autoCloseDelay:6},morePopup:{autoCloseDelay:6},winActions:{triggerSoundId:"FREE_GAMES_TRIGGER_SOUND",startPendingSoundId:"FREE_GAMES_START_PENDING",introSoundId:"FREE_GAMES_INTRO",moreSoundId:"FREE_GAMES_MORE",outroSoundId:"FREE_GAMES_OUTRO"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={FREE_GAMES_MODEL_STATE_CHANGE:"FREE_GAMES_MODEL_STATE_CHANGE",SHOW_COUNTER:"SHOW_COUNTER",HIDE_COUNTER:"HIDE_COUNTER",TOTAL_WIN_COMPLETE:"TOTAL_WIN_COMPLETE",TOTAL_WIN_INIT:"TOTAL_WIN_INIT",TOTAL_WIN_SKIP:"TOTAL_WIN_SKIP",COUNTER_VIEW_CHANGE_ANIM_COMPLETE:"COUNTER_VIEW_CHANGE_ANIM_COMPLETE",COUNTER_CHANGE_ANIM_COMPLETE:"COUNTER_CHANGE_ANIM_COMPLETE",COUNTER_DECREASE_VISIBLE_AMOUNT:"COUNTER_DECREASE_VISIBLE_AMOUNT",COUNTER_INCREASE_VISIBLE_AMOUNT:"COUNTER_INCREASE_VISIBLE_AMOUNT",SHOW_FREE_GAMES_TOTAL_WIN:"SHOW_FREE_GAMES_TOTAL_WIN",FREE_GAMES_START:"FREE_GAMES_START",FREE_GAMES_END:"FREE_GAMES_END",FREE_GAMES_OUTRO_START:"FREE_GAMES_OUTRO_START",FREE_GAMES_OUTRO_END:"FREE_GAMES_OUTRO_END"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(2),r=n(3),a=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.freeGamesModel=n.i(i.inject)(r.FreeGamesModel),this.autoPlayModeModel=n.i(i.inject)(o.AutoPlayModeModel),this.turboModeModel=n.i(i.inject)(o.TurboModeModel),this.featuresModel=n.i(i.inject)(o.FeaturesModel),this.autoSpinsModel=n.i(i.inject)(r.AutoSpinsModel),this.init()}return t.prototype.init=function(){this.dispatcher.addListener(r.FreeGamesEvent.FREE_GAMES_MODEL_STATE_CHANGE,this.notifyFreeGamesModelStateChange,this),this.dispatcher.addListener(o.Event.REELS_SPIN_STARTED,this.notifyReelsSpinStarted,this)},t.prototype.lockUI=function(){this.turboModeModel.block(this),this.autoSpinsModel.blockDecrease(this)},t.prototype.unlockUI=function(){this.turboModeModel.unblock(this),this.autoSpinsModel.unblockDecrease(this)},t.prototype.notifyFreeGamesModelStateChange=function(){this.freeGamesModel.isJustWon&&(this.featuresModel.isFeatureJustWon=!0);var t=!1;(this.freeGamesModel.isJustEnd||this.freeGamesModel.freeSpinsCount>0&&!this.freeGamesModel.isJustWon)&&(t=!0);var e=!1;this.freeGamesModel.freeSpinsCount>0&&!this.freeGamesModel.isJustWon&&(e=!0),this.autoPlayModeModel.changeBy(this,e,t)},t.prototype.notifyReelsSpinStarted=function(){this.freeGamesModel.freeSpinsCount>0&&this.dispatcher.dispatch(r.FreeGamesEvent.COUNTER_DECREASE_VISIBLE_AMOUNT)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(a.FreeGamesCounterView,e),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.slotModel=n.i(o.inject)(r.SlotModel),e.addListeners(),e}return i.a(e,t),e.prototype.addListeners=function(){this.dispatcher.addListener(a.FreeGamesEvent.SHOW_COUNTER,this.onShowCounter,this),this.dispatcher.addListener(a.FreeGamesEvent.HIDE_COUNTER,this.onHideCounter,this),this.dispatcher.addListener(a.FreeGamesEvent.COUNTER_DECREASE_VISIBLE_AMOUNT,this.onDecreaseVisibleAmount,this),this.dispatcher.addListener(a.FreeGamesEvent.COUNTER_INCREASE_VISIBLE_AMOUNT,this.onIncreaseVisibleAmount,this),this.dispatcher.addListener(a.FreeGamesEvent.SHOW_FREE_GAMES_TOTAL_WIN,this.onShowFreeGamesTotalWin,this),this.dispatcher.addListener(a.WinBoxEvents.SKIP_WIN_ANIMATION,this.onSkipFreeGamesWin,this),this.view.on(a.FreeGamesEvent.COUNTER_VIEW_CHANGE_ANIM_COMPLETE,this.onViewChangeAnimComplete,this)},e.prototype.removeListeners=function(){this.dispatcher.addListener(a.FreeGamesEvent.SHOW_COUNTER,this.onShowCounter,this),this.dispatcher.addListener(a.FreeGamesEvent.HIDE_COUNTER,this.onHideCounter,this),this.dispatcher.addListener(a.FreeGamesEvent.COUNTER_DECREASE_VISIBLE_AMOUNT,this.onDecreaseVisibleAmount,this),this.dispatcher.addListener(a.FreeGamesEvent.COUNTER_INCREASE_VISIBLE_AMOUNT,this.onIncreaseVisibleAmount,this),this.dispatcher.addListener(a.FreeGamesEvent.SHOW_FREE_GAMES_TOTAL_WIN,this.onShowFreeGamesTotalWin,this),this.dispatcher.addListener(a.WinBoxEvents.SKIP_WIN_ANIMATION,this.onSkipFreeGamesWin,this),this.view.on(a.FreeGamesEvent.COUNTER_VIEW_CHANGE_ANIM_COMPLETE,this.onViewChangeAnimComplete,this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeListeners()},e.prototype.onViewChangeAnimComplete=function(){this.dispatcher.dispatch(a.FreeGamesEvent.COUNTER_CHANGE_ANIM_COMPLETE)},e.prototype.onShowCounter=function(){this.showView(),this.view.freeGamesCount=this.freeGamesModel.freeSpinsCount,this.view.changeMultiplier(this.slotModel.multiplier),this.view.isFreeGamesStarted=!0,this.view.resetFreeGamesWin()},e.prototype.onHideCounter=function(){this.hideView(),this.view.isFreeGamesStarted=!1},e.prototype.onDecreaseVisibleAmount=function(){this.view.freeGamesCount=this.freeGamesModel.freeSpinsCount-1,this.view.changeMultiplier(this.slotModel.multiplier)},e.prototype.onIncreaseVisibleAmount=function(){this.view.freeGamesCount=this.freeGamesModel.freeSpinsCount,this.view.changeMultiplier(this.slotModel.multiplier)},e.prototype.onShowFreeGamesTotalWin=function(){this.view.setFreeGamesTotalWin(this.freeGamesModel.freeSpinsWinPrevious,this.freeGamesModel.freeSpinsWin)},e.prototype.onSkipFreeGamesWin=function(){this.view.skipFreeGamesWin()},e.prototype.showView=function(){TweenLite.killTweensOf(this.view),TweenLite.to(this.view,.35,{alpha:1,ease:Linear.easeOut})},e.prototype.hideView=function(){TweenLite.killTweensOf(this.view),TweenLite.to(this.view,.35,{alpha:0,ease:Linear.easeOut})},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.FreeGamesIntroPopup,e),e.freeGamesModel=n.i(o.inject)(r.FreeGamesModel),e.init(),e}return i.a(e,t),e.prototype.init=function(){this.view.setFreeGamesCount(this.freeGamesModel.freeSpinsCount)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.FreeGamesMorePopup,e),e.freeGamesModel=n.i(o.inject)(r.FreeGamesModel),e.init(),e}return i.a(e,t),e.prototype.init=function(){this.view.setFreeGamesCount(this.freeGamesModel.freeSpinsMoreCount)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(a.TotalWinView,e),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.init(),e}return i.a(e,t),e.prototype.init=function(){var t=this;this.dispatcher.addListener(a.FreeGamesEvent.TOTAL_WIN_INIT,function(e){t.onInitTotalWin(e)},this),this.dispatcher.addListener(a.FreeGamesEvent.TOTAL_WIN_SKIP,function(){t.view.skip()},this),this.dispatcher.addListener(o.KeyboardEvent.SPACEBAR,function(){t.view.isContinueButtonEnabled()&&t.onViewClose()},this),this.view.on(this.view.getCloseEventName(),this.onViewClose,this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.dispatcher.removeListeners(o.KeyboardEvent.SPACEBAR,this),this.dispatcher.removeListeners(a.FreeGamesEvent.TOTAL_WIN_INIT,this),this.dispatcher.removeListeners(a.FreeGamesEvent.TOTAL_WIN_SKIP,this),this.view.removeListener(this.view.getCloseEventName(),this.onViewClose,this)},e.prototype.onViewClose=function(){this.freeGamesModel.totalWinPopupWasShown=!0,this.dispatcher.dispatch(a.FreeGamesEvent.TOTAL_WIN_COMPLETE)},e.prototype.onInitTotalWin=function(t){this.view.initTotalWin(t),this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,{spin:{enabled:!1},bets:!1,info:!1,auto:!1,turbo:!1})},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(2),r=n(3),a=function(){function t(){this.freeSpinsMoreCount=0,this.initialFreeSpinsCount=0,this.totalFreeSpinsCount=0,this.freeSpinsWin=0,this.freeSpinsWinPrevious=0,this.initialFreeSpinWin=0,this.isJustWon=!1,this.isJustWonMore=!1,this.isJustEnd=!1,this.totalWinPopupWasShown=!1,this._isJustRestored=!1,this._isRestorationBeforeClickToStart=!1,this._isRestorationFreeGamesInProgress=!1,this._freeSpinsCount=0,this.prevFreeSpinsCount=0,this.dispatcher=n.i(i.inject)(i.EventDispatcher)}return t.prototype.parseResponse=function(e){var n,i,a,s=e.previousResult;if(void 0===s||null===s?(n=e.events,i=e.state):(a=!0,n=s.events,i=s.state),i&&(this.freeSpinsCount=i.freeSpinsCount||0,this.initialFreeSpinsCount=i.initialFreeSpinsCount||0,this.totalFreeSpinsCount=i.totalFreeSpinsCount||0,null==i.freeSpinsWin?this.freeSpinsWin=this.freeSpinsWinPrevious=0:(this.freeSpinsWinPrevious=this.freeSpinsWin,this.freeSpinsWin=i.freeSpinsWin),this.initialFreeSpinWin=i.initialFreeSpinWin||0),this.isJustWon=!1,this.isJustWonMore=!1,this.freeSpinsMoreCount=0,this.isJustEnd=!1,this.totalWinPopupWasShown=!1,o.ServerUtils.getEvents(n,t.FREE_GAMES_EVENT_TYPES).length>0){var u=void 0;u=o.ServerUtils.getEvents(n,[o.ServerEventType.FREE_SPINS_START]),u.length>0&&(this.isJustWon=!0),u=o.ServerUtils.getEvents(n,[o.ServerEventType.FREE_SPINS_ADDED]),u.length>0&&(this.isJustWonMore=!0,this.freeSpinsMoreCount=u[0].amount),u=o.ServerUtils.getEvents(n,[o.ServerEventType.FREE_SPINS_END]),u.length>0&&(this.isJustEnd=!0)}this._isJustRestored=!1,this._isRestorationBeforeClickToStart=!1,this._isRestorationFreeGamesInProgress=!1,a&&this.freeSpinsCount>0&&this.prevFreeSpinsCount<=0&&(this._isJustRestored=!0),this.isJustRestored&&this.defineRestorationType(s),this.dispatcher.dispatch(r.FreeGamesEvent.FREE_GAMES_MODEL_STATE_CHANGE)},t.prototype.defineRestorationType=function(t){t&&this.initialFreeSpinsCount===this.freeSpinsCount&&this.initialFreeSpinsCount===this.totalFreeSpinsCount?this._isRestorationBeforeClickToStart=!0:this._isRestorationFreeGamesInProgress=!0},Object.defineProperty(t.prototype,"isFreeSpinsActive",{get:function(){return this.freeSpinsCount>0||this.isJustEnd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFreeSpinsLastSpinWon",{get:function(){return this.freeSpinsWin-this.freeSpinsWinPrevious>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"freeSpinsTotalWin",{get:function(){return this.freeSpinsWin+this.initialFreeSpinWin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isJustRestored",{get:function(){return this._isJustRestored},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRestorationBeforeClickToStart",{get:function(){return this._isRestorationBeforeClickToStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRestorationFreeGamesInProgress",{get:function(){return this._isRestorationFreeGamesInProgress},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"freeSpinsCount",{get:function(){return this._freeSpinsCount},set:function(t){this.prevFreeSpinsCount=this.freeSpinsCount,this._freeSpinsCount=t},enumerable:!0,configurable:!0}),t.FREE_GAMES_EVENT_TYPES=[o.ServerEventType.FREE_SPINS_START,o.ServerEventType.FREE_SPINS_ADDED,o.ServerEventType.FREE_SPINS_END],t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.getFreeGamesTriggerSymbols=function(t,e){return e.filter(function(e){var n=t.getSymbolModel(""+e.symbolIndex);return!(!n||!n.slotSymbolConfig.triggerFreeSpins)})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentManager=n.i(o.inject)(o.ContentManager),e.soundsManager=n.i(o.inject)(o.SoundManager),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.wbConfigManager=n.i(o.inject)(a.WinBoxConfigManager),e.freeGamesTextLabelStartPos=new r.e,e.freeGamesTextLabelStartScale=new r.e,e.freeGamesAmountLabelStartPos=new r.e,e.freeGamesAmountLabelStartScale=new r.e,e.labelsContSourceWidth=0,e.prevFreeGamesCount=0,e._freeGamesCount=0,e._visibleFreeGamesCount=0,e.amountToTextDistance=10,e.lastArrangedAmountLettersCount=0,e.arrangeCounterByReachingTargetValue=!0,e.tempTweenObj={tempVisibleFreeGamesCount:0},e}return i.a(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.resetAnims(),this.counter&&(this.counter.destroy(),this.counter=null)},e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.labelsCont.freeGamesTextLabel&&(this.labelsCont.freeGamesTextLabel instanceof r.w&&(this.labelsCont.freeGamesTextLabel.text=o.StringUtils.substituteByList(this.contentManager.i18n(a.FreeGamesModuleConstants.counter.view.counterTextLocaleId))),this.freeGamesTextLabelStartPos.x=this.labelsCont.freeGamesTextLabel.x,this.freeGamesTextLabelStartPos.y=this.labelsCont.freeGamesTextLabel.y,this.freeGamesTextLabelStartScale.x=this.labelsCont.freeGamesTextLabel.scale.x,this.freeGamesTextLabelStartScale.y=this.labelsCont.freeGamesTextLabel.scale.y,this.labelsCont.freeGamesTextLabel instanceof r.w&&this.labelsCont.freeGamesTextLabel.arrange()),this.freeGamesAmountLabelStartPos.x=this.labelsCont.freeGamesAmountLabel.x,this.freeGamesAmountLabelStartPos.y=this.labelsCont.freeGamesAmountLabel.y,this.freeGamesAmountLabelStartScale.x=this.labelsCont.freeGamesAmountLabel.scale.x,this.freeGamesAmountLabelStartScale.y=this.labelsCont.freeGamesAmountLabel.scale.y,this.labelsCont.freeGamesAmountLabel.autoSize=!0,this.labelsCont.freeGamesAmountLabel.arrange(),this.labelsContSourceWidth=this.labelsCont.width,this.labelsCont.sizeArea&&(this.labelsContSourceWidth=this.labelsCont.sizeArea.width),this.multiplierTextLabel&&(this.multiplierTextLabel.text=o.StringUtils.substituteByList(this.contentManager.i18n(a.FreeGamesModuleConstants.counter.view.multiplierTextLocaleId))),this.freeGamesWinCount&&(this.freeGamesWinCount.freeGamesWinTitle.text=this.contentManager.i18n(a.FreeGamesModuleConstants.counter.view.winLocaleId),this.freeGamesWinCount.freeGamesWinLabel.updatePositionOnLettersChangeOnly=!0,this.counter=new a.CommonCountUp,this.counter.setupGraphics(this.freeGamesWinCount.freeGamesWinLabel)),this.arrange()},e.prototype.dispatchAnimComplete=function(){this.emit(a.FreeGamesEvent.COUNTER_VIEW_CHANGE_ANIM_COMPLETE)},Object.defineProperty(e.prototype,"freeGamesCount",{get:function(){return this._freeGamesCount},set:function(t){t!==this.freeGamesCount&&(this.prevFreeGamesCount=this.freeGamesCount,this._freeGamesCount=t,this.commitFreeGamesData())},enumerable:!0,configurable:!0}),e.prototype.resetFreeGamesWin=function(){this.freeGamesWinCount.freeGamesWinLabel.text="",this.freeGamesWinCount.freeGamesWinLabel.visible=!1},e.prototype.setFreeGamesTotalWin=function(t,e){null!=this.freeGamesWinCount&&(this.freeGamesWinCount.freeGamesWinLabel.visible=!0,this.counter.setTickupTime(this.wbConfigManager.totalDuration),this.counter.countUp(t,e,function(){}))},e.prototype.skipFreeGamesWin=function(){null!=this.freeGamesWinCount&&this.counter.skip()},Object.defineProperty(e.prototype,"visibleFreeGamesCount",{get:function(){return this._visibleFreeGamesCount},set:function(t){t!==this.visibleFreeGamesCount&&(this._visibleFreeGamesCount=t,this.labelsCont.freeGamesAmountLabel.text=""+this.visibleFreeGamesCount,this.showChangeAmountAnim(),this.labelsCont.freeGamesAmountLabel.text.length!==this.lastArrangedAmountLettersCount?this.arrange():this.visibleFreeGamesCount===this.freeGamesCount&&this.arrangeCounterByReachingTargetValue&&this.arrange())},enumerable:!0,configurable:!0}),e.prototype.commitFreeGamesData=function(){this.resetAnims(),this.labelsCont.freeGamesAmountLabel&&(this.freeGamesCount<this.prevFreeGamesCount?(this.visibleFreeGamesCount=this.freeGamesCount,this.dispatchAnimComplete()):this.isFreeGamesStarted?this.showIncreaseAnim():(this.visibleFreeGamesCount=this.freeGamesCount,this.freeGamesModel.isJustRestored||this.animateTitle(),this.dispatchAnimComplete()))},e.prototype.resetAnims=function(){TweenLite.killTweensOf(this.tempTweenObj),TweenLite.killTweensOf(this.labelsCont.freeGamesAmountLabel.scale),this.labelsCont.freeGamesTextLabel&&TweenLite.killTweensOf(this.labelsCont.freeGamesTextLabel.scale)},e.prototype.showChangeAmountAnim=function(){this.labelsCont.freeGamesAmountLabel.scale.set(this.freeGamesAmountLabelStartScale.x,this.freeGamesAmountLabelStartScale.y),TweenLite.killTweensOf(this.labelsCont.freeGamesAmountLabel.scale),TweenLite.from(this.labelsCont.freeGamesAmountLabel.scale,.7,{x:.5*this.freeGamesAmountLabelStartScale.x,y:.5*this.freeGamesAmountLabelStartScale.y,ease:Circ.easeOut,overwrite:o.TweenConstants.OVERRIDE_NONE})},e.prototype.showIncreaseAnim=function(){var t=this;this.tempTweenObj.tempVisibleFreeGamesCount=this.visibleFreeGamesCount;var e=this.getIncreaseTickupTime();TweenLite.killTweensOf(this.tempTweenObj),TweenLite.to(this.tempTweenObj,e,{ease:Linear.easeNone,tempVisibleFreeGamesCount:this.freeGamesCount,onUpdate:function(){var e=Math.floor(t.tempTweenObj.tempVisibleFreeGamesCount);e!==t.visibleFreeGamesCount&&(t.soundsManager.playSound(a.FreeGamesModuleConstants.counter.sounds.FREE_GAMES_COUNTER_AMOUNT_CHANGED),t.visibleFreeGamesCount=e)},onComplete:function(){t.animateTitle(function(){t.dispatchAnimComplete()})}})},e.prototype.getIncreaseTickupTime=function(){var t=this.freeGamesCount-this.visibleFreeGamesCount;return a.FreeGamesModuleConstants.counter.view.oneTickTime*t},e.prototype.changeMultiplier=function(t){this.multiplierAmountLabel&&(this.multiplierAmountLabel.text=o.StringUtils.substituteByList(this.contentManager.i18n(a.FreeGamesModuleConstants.counter.view.multiplierAmountLocaleId),""+t))},e.prototype.animateTitle=function(t){var e=this;this.labelsCont.freeGamesTextLabel?(this.labelsCont.freeGamesTextLabel.scale.set(this.freeGamesTextLabelStartScale.x,this.freeGamesTextLabelStartScale.y),TweenLite.killTweensOf(this.labelsCont.freeGamesTextLabel.scale),TweenLite.to(this.labelsCont.freeGamesTextLabel.scale,.2,{x:.9*this.freeGamesTextLabelStartScale.x,y:.9*this.freeGamesTextLabelStartScale.y,ease:Circ.easeInOut,overwrite:o.TweenConstants.OVERRIDE_NONE,onComplete:function(){TweenLite.to(e.labelsCont.freeGamesTextLabel.scale,.2,{x:1.1*e.freeGamesTextLabelStartScale.x,y:1.1*e.freeGamesTextLabelStartScale.y,ease:Circ.easeInOut,overwrite:o.TweenConstants.OVERRIDE_NONE,onComplete:function(){TweenLite.to(e.labelsCont.freeGamesTextLabel.scale,.2,{x:e.freeGamesTextLabelStartScale.x,y:e.freeGamesTextLabelStartScale.y,ease:Circ.easeOut,overwrite:o.TweenConstants.OVERRIDE_NONE,onComplete:function(){t&&t()}})}})}})):t&&t()},e.prototype.arrange=function(){this.lastArrangedAmountLettersCount=this.labelsCont.freeGamesAmountLabel.text.length;var t=this.labelsCont.freeGamesAmountLabel.width,e=0;this.labelsCont.freeGamesTextLabel&&(e=this.labelsCont.freeGamesTextLabel.width,this.labelsCont.freeGamesTextLabel instanceof r.w&&(e=this.labelsCont.freeGamesTextLabel.textWidth*this.labelsCont.freeGamesTextLabel.scale.x),t+=this.amountToTextDistance+e);var n=(this.labelsContSourceWidth-t)/2;this.labelsCont.freeGamesAmountLabel.pivot.set(this.labelsCont.freeGamesAmountLabel.width/2,this.labelsCont.freeGamesAmountLabel.height/2),this.labelsCont.freeGamesAmountLabel.x=n+this.labelsCont.freeGamesAmountLabel.pivot.x,this.labelsCont.freeGamesAmountLabel.y=this.freeGamesAmountLabelStartPos.y+this.labelsCont.freeGamesAmountLabel.pivot.y,this.labelsCont.freeGamesTextLabel&&(this.labelsCont.freeGamesTextLabel.pivot.set(this.labelsCont.freeGamesTextLabel.width/2,this.labelsCont.freeGamesTextLabel.height/2),this.labelsCont.freeGamesTextLabel.x=this.labelsCont.freeGamesAmountLabel.x-this.labelsCont.freeGamesAmountLabel.pivot.x+this.labelsCont.freeGamesAmountLabel.width+this.amountToTextDistance,this.labelsCont.freeGamesTextLabel.x+=this.labelsCont.freeGamesTextLabel.pivot.x,this.labelsCont.freeGamesTextLabel.y=this.freeGamesTextLabelStartPos.y+this.labelsCont.freeGamesTextLabel.pivot.y)},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(4),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentManager=n.i(o.inject)(o.ContentManager),e}return i.a(e,t),e.prototype.setFreeGamesCount=function(t){this.freeGamesIntro4&&(this.freeGamesIntro4.text=o.StringUtils.substitute(this.contentManager.i18n("freeGamesIntro4"),{freeGamesCount:t}))},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(4),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentManager=n.i(o.inject)(o.ContentManager),e}return i.a(e,t),e.prototype.setFreeGamesCount=function(t){this.freeGamesMore4&&(this.freeGamesMore4.text=o.StringUtils.substitute(this.contentManager.i18n("freeGamesMore4"),{freeGamesCount:t}))},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetAmount=0,e.visibleAmount=0,e.renderManager=n.i(o.inject)(r.b),e.contentManager=n.i(o.inject)(o.ContentManager),e.stakesModel=n.i(o.inject)(a.StakesModel),e.soundManager=n.i(o.inject)(o.SoundManager),e.betHelper=n.i(o.inject)(a.BetHelper),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.moneyFormatter=n.i(o.inject)(a.MoneyFormatterUtils),e.lastArrangedAmountLettersCount=0,e.titleShowFinishY=0,e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.dispatcher.dispatch(s.FreeGamesEvent.HIDE_COUNTER),this.dispatcher.dispatch(a.HeaderEvents.SHOW_LOGO_HEADER)},e.prototype.getCloseEventName=function(){return"close_popup_event"},e.prototype.isContinueButtonEnabled=function(){return this.outroBtn.enabled},e.prototype.close=function(){this.emit(this.getCloseEventName())},e.prototype.onRemoved=function(){t.prototype.onRemoved.call(this),this.destroyAnimationLeftovers()},e.prototype.destroyAnimationLeftovers=function(){this.soundManager.stopSound(s.FreeGamesModuleConstants.totalWin.sounds.TOTAL_WIN_TICKUP),this.soundManager.stopSound(s.FreeGamesModuleConstants.totalWin.sounds.TOTAL_WIN_END),TweenLite.killTweensOf(this),TweenLite.killTweensOf(this.titleLabel),TweenLite.killTweensOf(this.titleLabel.scale),TweenLite.killTweensOf(this.amountCont),TweenLite.killTweensOf(this.amountCont.scale),TweenLite.killTweensOf(this.amountInsideCont),TweenLite.killTweensOf(this.amountInsideCont.scale)},e.prototype.onWinAmountChange=function(){var t=this.moneyFormatter.formatNumberAutoDecimalsForTickup(this.visibleAmount,this.targetAmount,this.betHelper.getTotalBet(),this.stakesModel.currentStakeValue,{showCurrency:!1});this.amountLabel.text=t,this.arrange()},e.prototype.initTotalWin=function(t){this.targetAmount=t,this.initContent(),this.startAnim(),this.initOutroBtnAnimations(),this.initClickHandler()},e.prototype.initOutroBtnAnimations=function(){var t=this;this.outroBtn.alpha=this.outroBtnText.alpha=1,this.blinkAnimation=TweenMax.fromTo(this.outroBtnHilight,1,{alpha:0},{alpha:1,yoyo:!0,repeat:-1}),this.outroBtn.on("mousedown",function(){TweenMax.killTweensOf(t.outroBtnText),TweenMax.killTweensOf(t.outroBtnHilight),t.outroBtnHilight.alpha=0,TweenMax.to(t.outroBtnText.scale,.1,{x:.9,y:.9})}),this.outroBtn.on("mouseout",function(){TweenMax.killTweensOf(t.outroBtnText),TweenMax.to(t.outroBtnText.scale,.05,{x:1,y:1}),t.blinkAnimation.isActive()||(t.blinkAnimation=TweenMax.fromTo(t.outroBtnHilight,1,{alpha:0},{alpha:1,yoyo:!0,repeat:-1}))})},e.prototype.initClickHandler=function(){var t=this;this.outroBtn.on("click",function(){t.outroBtn.enabled=!1,t.close()})},e.prototype.initContent=function(){this.contentWidth=this.renderManager.canvasWidth,this.contentHeight=this.renderManager.canvasHeight,this.titleLabel.text=this.contentManager.i18n(s.FreeGamesModuleConstants.totalWin.view.totalWinTitleLocaleId),this.titleLabel.alpha=0,this.titleLabel.pivot.set(this.titleLabel.width/2,this.titleLabel.height/2),this.titleLabel.x+=this.titleLabel.width/2,this.titleLabel.y+=this.titleLabel.height/2,this.titleShowFinishY=this.titleLabel.y,this.amountCont=new r.d,this.addChild(this.amountCont),this.amountCont.x=this.titleLabel.x,this.amountCont.y=this.amountLabel.y+Math.floor(this.amountLabel.height/2),this.amountInsideCont=new r.d,this.amountCont.addChild(this.amountInsideCont),this.amountInsideCont.addChild(this.currencyLabel),this.currencyLabel.x=0,this.currencyLabel.y=0,this.currencyLabel.text=this.moneyFormatter.getFormattedCurrencySign(),this.currencyLabel.autoSize=!0,this.amountInsideCont.addChild(this.amountLabel),this.amountLabel.x=0,this.amountLabel.y=0,this.amountLabel.autoSize=!0,this.onWinAmountChange(),this.outroBtn.enabled=!0},e.prototype.startAnim=function(){var t=this;this.lastArrangedAmountLettersCount=0,this.showTitle(),this.showAmount();var e=0===this.targetAmount?1:Math.floor(this.targetAmount/this.betHelper.getTotalBet());e=Math.min(s.FreeGamesModuleConstants.totalWin.view.winTickupMaxTime,e),TweenLite.to(this,e,{visibleAmount:this.targetAmount,ease:Linear.easeNone,delay:s.FreeGamesModuleConstants.totalWin.view.winTickupShowDelay,overwrite:o.TweenConstants.OVERRIDE_NONE,onStart:function(){return t.onStartTikup()},onUpdate:function(){return t.onWinAmountChange()},onComplete:function(){t.arrange(),t.startAmountTickupCompleteAnim()}})},e.prototype.onStartTikup=function(){this.soundManager.playSound(s.FreeGamesModuleConstants.totalWin.sounds.TOTAL_WIN_TICKUP,-1)},e.prototype.startAmountTickupCompleteAnim=function(){this.isAmountCompleteAnimStarted||(this.isAmountCompleteAnimStarted=!0,this.internalStartAmountTickupCompleteAnim())},e.prototype.internalStartAmountTickupCompleteAnim=function(){this.destroyAnimationLeftovers(),this.soundManager.stopSound(s.FreeGamesModuleConstants.totalWin.sounds.TOTAL_WIN_TICKUP),this.soundManager.playSound(s.FreeGamesModuleConstants.totalWin.sounds.TOTAL_WIN_END),this.visibleAmount=this.targetAmount,this.onWinAmountChange(),this.amountCont.scale.set(e.AMOUNT_CONT_SCALE_BEFORE_HIDE),this.amountCont.alpha=1,this.titleLabel.scale.set(e.TITLE_LABEL_SCALE_BEFORE_HIDE),this.titleLabel.y=this.titleShowFinishY,this.titleLabel.alpha=1;var t=TweenLite.to(this.amountCont.scale,.2,{delay:.5,x:1.25,y:1.25,ease:Linear.easeOut,overwrite:o.TweenConstants.OVERRIDE_NONE,onComplete:function(){return t.reverse()}})},e.prototype.showTitle=function(){var t=this;this.titleLabel.y=this.titleLabel.y+100,this.titleLabel.scale.x=1.13,this.titleLabel.scale.y=1.13,this.titleLabel.alpha=0,TweenLite.to(this.titleLabel,.06,{y:this.titleShowFinishY,alpha:1,ease:Linear.easeNone,delay:.13,overwrite:o.TweenConstants.OVERRIDE_NONE}),o.Tween.to(this.titleLabel.scale,.06,{x:.82,y:.82,ease:Linear.easeNone,delay:.13,overwrite:o.TweenConstants.OVERRIDE_NONE}).then(function(){o.Tween.to(t.titleLabel.scale,.06,{x:1.18,y:1.18,ease:Linear.easeNone,overwrite:o.TweenConstants.OVERRIDE_NONE}).then(function(){o.Tween.to(t.titleLabel.scale,.77,{x:1.3,y:1.3,ease:Linear.easeNone,overwrite:o.TweenConstants.OVERRIDE_NONE}).then(function(){o.Tween.to(t.titleLabel.scale,.04,{x:e.TITLE_LABEL_SCALE_BEFORE_HIDE,y:e.TITLE_LABEL_SCALE_BEFORE_HIDE,ease:Linear.easeNone,overwrite:o.TweenConstants.OVERRIDE_NONE})})})})},e.prototype.hideTitle=function(){var t=this,e=this.titleLabel.y+400,n=this.titleLabel.y-35,i=this.titleLabel.y-30;TweenLite.killTweensOf(this.titleLabel),TweenLite.killTweensOf(this.titleLabel.scale),TweenLite.to(this.titleLabel,.1,{y:n,ease:Linear.easeNone,overwrite:o.TweenConstants.OVERRIDE_NONE}),o.Tween.to(this.titleLabel.scale,.1,{x:.9,y:.9,ease:Linear.easeNone,overwrite:o.TweenConstants.OVERRIDE_NONE}).then(function(){TweenLite.to(t.titleLabel,.2,{y:i,ease:Linear.easeIn,overwrite:o.TweenConstants.OVERRIDE_NONE}),o.Tween.to(t.titleLabel.scale,.2,{x:1.3,y:1.3,ease:Linear.easeIn,overwrite:o.TweenConstants.OVERRIDE_NONE}).then(function(){TweenLite.to(t.titleLabel,.2,{y:e,alpha:0,ease:Linear.easeOut,overwrite:o.TweenConstants.OVERRIDE_NONE}),TweenLite.to(t.titleLabel.scale,.2,{x:.3,y:.3,ease:Linear.easeOut,overwrite:o.TweenConstants.OVERRIDE_NONE})})})},e.prototype.showAmount=function(){var t=this;this.amountCont.alpha=0,this.amountCont.scale.x=.55,this.amountCont.scale.y=.55,TweenLite.to(this.amountCont,.05,{alpha:1,delay:s.FreeGamesModuleConstants.totalWin.view.winTickupShowDelay,overwrite:o.TweenConstants.OVERRIDE_NONE}),o.Tween.to(this.amountCont.scale,.05,{x:1.3,y:1.3,delay:s.FreeGamesModuleConstants.totalWin.view.winTickupShowDelay,overwrite:o.TweenConstants.OVERRIDE_NONE}).then(function(){TweenLite.to(t.amountCont.scale,.81,{x:e.AMOUNT_CONT_SCALE_BEFORE_HIDE,y:e.AMOUNT_CONT_SCALE_BEFORE_HIDE,overwrite:o.TweenConstants.OVERRIDE_NONE})})},e.prototype.hideAmount=function(){var t=this;o.Tween.to(this.titleLabel,1,{alpha:0,overwrite:o.TweenConstants.OVERRIDE_NONE}),o.Tween.to(this.amountCont,1,{alpha:0,overwrite:o.TweenConstants.OVERRIDE_NONE}).then(function(){return t.close()})},e.prototype.arrange=function(){this.amountLabel.text&&this.amountLabel.text.length!==this.lastArrangedAmountLettersCount&&(this.lastArrangedAmountLettersCount=this.amountLabel.text.length,this.amountLabel.x=this.currencyLabel.x+this.currencyLabel.width,this.amountInsideCont.pivot.set(this.amountInsideCont.width/2,this.amountInsideCont.height/2))},e.prototype.skip=function(){this.startAmountTickupCompleteAnim()},e.TITLE_LABEL_SCALE_BEFORE_HIDE=1,e.AMOUNT_CONT_SCALE_BEFORE_HIDE=1,e}(r.g)},function(t,e,n){"use strict";var i=n(0),o=n(3);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.a(e,t),e.prototype.initClickHandler=function(){var t=this;this.outroBtn.on("touchstart",function(){t.outroBtn.enabled=!1,t.close()})}}(o.TotalWinView)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(o.RestoreGameAction).to(r.DefaultRestoreGameAction)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.actionManager=new o.ActionManager,e.dispatcher=n.i(o.inject)(o.EventDispatcher),e}return i.a(e,t),e.prototype.isTerminable=function(){return!1},e.prototype.initActionSequence=function(){var t=this;if(this.actionSequence=this.getActionSequence(),this.actionSequence.length>0){for(var e=0,i=this.actionSequence;e<i.length;e++){var r=i[e];this.actionManager.addAction(n.i(o.inject)(r))}this.actionManager.onStart=function(e){t.onActionManagerStart(e)},this.actionManager.onFinish=function(e){t.removeListeners()}}},e.prototype.onActionManagerStart=function(t){this.setListeners(t)},e.prototype.setListeners=function(t){var e=this;this.dispatcher.addListener(r.BottomBarEvent.READY_TO_SPIN,function(){t.shouldForceSpin=!0,e.actionManager.terminate()},this)},e.prototype.removeListeners=function(){this.dispatcher.removeListeners(r.BottomBarEvent.READY_TO_SPIN,this)},e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.initActionSequence(),e.actionSequence.length>0?e.actionManager.startAsync(Object.assign(t,{isTerminating:!1})).then(function(){n(t)}):n(t)})},e.prototype.getActionSequence=function(){return[]},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjection.call(this,e),e.bind(o.GameRunScene).to(r.GameRunSceneMark2).asView(),e.bind(o.GameRunMediator).to(r.GameRunMediatorMark2)},e}(o.GameRunModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_MAIN_VIEW:"SHOW_MAIN_VIEW",HIDE_MAIN_VIEW:"HIDE_MAIN_VIEW",SHOW_BOTTOM_BAR:"SHOW_BOTTOM_BAR",HIDE_BOTTOM_BAR:"HIDE_BOTTOM_BAR"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(e){var n=t.call(this,e)||this;return n.init(),n}return i.a(e,t),e.prototype.init=function(){this.viewMark2=this.view,this.addListeners()},e.prototype.addListeners=function(){this.dispatcher.addListener(r.GameRunEventMark2.SHOW_MAIN_VIEW,this.onShowMainView,this),this.dispatcher.addListener(r.GameRunEventMark2.HIDE_MAIN_VIEW,this.onHideMainView,this),this.dispatcher.addListener(r.GameRunEventMark2.SHOW_BOTTOM_BAR,this.onShowBottomBar,this),this.dispatcher.addListener(r.GameRunEventMark2.HIDE_BOTTOM_BAR,this.onHideBottomBar,this)},e.prototype.onShowMainView=function(t){void 0===t&&(t=0),this.viewMark2.showMainView(t)},e.prototype.onHideMainView=function(t){void 0===t&&(t=0),this.viewMark2.hideMainView(t)},e.prototype.onShowBottomBar=function(t){void 0===t&&(t=0),this.viewMark2.showBottomBar(t)},e.prototype.onHideBottomBar=function(t){void 0===t&&(t=0),this.viewMark2.hideBottomBar(t)},e.prototype.destroy=function(){this.removeListeners(),t.prototype.destroy.call(this)},e.prototype.removeListeners=function(){this.dispatcher.addListener(r.GameRunEventMark2.SHOW_MAIN_VIEW,this.onShowMainView,this),this.dispatcher.addListener(r.GameRunEventMark2.HIDE_MAIN_VIEW,this.onHideMainView,this),this.dispatcher.addListener(r.GameRunEventMark2.SHOW_BOTTOM_BAR,this.onShowBottomBar,this),this.dispatcher.addListener(r.GameRunEventMark2.HIDE_BOTTOM_BAR,this.onHideBottomBar,this)},e}(o.GameRunMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(4),r=n(2),a=n(3),s=n(1),u=function(t){function e(){return t.call(this,n.i(s.inject)(r.ContextModel).context.api)||this}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.popupContainers.setContainer(this.mainView.lazyContainer,o.f.INNER)},e.prototype.loadingStartChangeUI=function(){this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,{spin:{enabled:!1,mode:a.SpinButtonState.SPIN,rotate:!1,glow:!1},bets:!1,info:!1,auto:!1,turbo:!1})},e.prototype.addBackgroundLayer=function(t,e){void 0===e&&(e=-10);var n=new PIXI.Point(.5,.5);this.backgroundSprite=new a.ParallaxLayerMark2(n),this.backgroundSprite.pz=e,this.camera.addLayer(this.backgroundSprite),this.backgroundSprite.changeImage(PIXI.utils.TextureCache[t])},e.prototype.setCurrentBackground=function(e,n){n?this.backgroundSpriteMark2.changeBackgroundImage(PIXI.utils.TextureCache[e],n):t.prototype.setCurrentBackground.call(this,e)},e.prototype.showMainView=function(t){this.mainView.visible=!0,TweenLite.to(this.mainView,t,{alpha:1})},e.prototype.hideMainView=function(t){var e=this;TweenLite.to(this.mainView,t,{alpha:0,onComplete:function(){e.mainView.visible=!1}})},e.prototype.showBottomBar=function(t){this.bottomBar.visible=!0,TweenLite.to(this.bottomBar,t,{alpha:1})},e.prototype.hideBottomBar=function(t){var e=this;TweenLite.to(this.bottomBar,t,{alpha:0,onComplete:function(){e.bottomBar.visible=!1}})},Object.defineProperty(e.prototype,"backgroundSpriteMark2",{get:function(){return this.backgroundSprite},enumerable:!0,configurable:!0}),e}(r.GameRunScene)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.StartGameAction).to(r.DefaultStartGameAction),e.bind(o.PlayBtn).to(r.PlayBtnMark2),e.bind(o.LoaderBar).to(r.LoaderBarMark2),e.bind(o.StartScene).to(r.StartSceneMark2)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.api=e,r.slotSettings=i,r.dispatcher=n.i(o.inject)(o.EventDispatcher),r.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),r}return i.a(e,t),e.prototype.getInitialResourcesIds=function(){var t=[];return this.freeGamesModel.isJustRestored&&t.push(r.ResourceId.FREE_SPINS),t},e}(r.DefaultShowStartGameAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.updateProgress=function(e){e<=this.progressValue||t.prototype.updateProgress.call(this,e)},e}(o.LoaderBar)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.initVisualEffects=function(){},e}(o.PlayBtn)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onLoadComplete=function(){t.prototype.onLoadComplete.call(this),this.playBtn.initVisualEffects()},e}(o.StartScene)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjection.call(this,e),e.bind(o.InfoBarMediator).to(r.InfoBarMediatorMark2),e.bind(o.InfoBarView).to(r.InfoBarViewMark2)},e}(o.InfoBarModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(52),o={SHOW_YOU_WON_BONUS:i.a.SHOW_YOU_WON_BONUS,SHOW_MESSAGE:i.a.SHOW_MESSAGE,SHOW_MESSAGE_WITH_TOTAL_WIN:"SHOW_MESSAGE_WITH_TOTAL_WIN"}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(2),r=n(1),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.winManager=n.i(r.inject)(a.WinManager),e.view=n.i(r.inject)(a.InfoBarViewMark2,e),e.freeGamesModel=n.i(r.inject)(a.FreeGamesModel),e.moneyFormatter=n.i(r.inject)(o.MoneyFormatterUtils),e.updateAvailableFrom=0,e.currentMessageTextIndex=0,e.init(),e}return i.a(e,t),e.prototype.init=function(){var t=this;this.dispatcher.addListener(a.InfoBarEventMark2.SHOW_MESSAGE_WITH_TOTAL_WIN,function(e){t.setMessage(e,!0)},this)},e.prototype.setMediatorView=function(e){t.prototype.setMediatorView.call(this,e),this.dispatcher.removeListeners(o.InfoBarEvent.SHOW_MESSAGE,this),this.dispatcher.addListener(o.InfoBarEvent.SHOW_MESSAGE,this.showMark2Message,this)},e.prototype.showMark2Message=function(t){t.texts?this.setMessage(t):this.onShowMessage(t)},e.prototype.setMessage=function(t,e){var n=this,i=!1;(t.forceUpdate||Date.now()>=this.updateAvailableFrom)&&(i=!0),i&&(this.currentMessageTextIndex=-1,clearTimeout(this.changeTextsTimeout),this.afterPreventTimeoutMessage=null,t.preventUpdateTimeout?(this.updateAvailableFrom=Date.now()+t.preventUpdateTimeout,this.afterPreventTimeoutMessage=t.afterPreventTimeoutMessage,this.afterPreventTimeoutMessage&&setTimeout(function(){n.preventUpdateTimeoutComplete()},t.preventUpdateTimeout)):this.updateAvailableFrom=Date.now(),this.showNextMessage(t,e))},e.prototype.showNextMessage=function(t,e){var n=this,i=0;this.freeGamesModel.isJustWonMore&&(this.view.setOneText(""),i=3500),this.currentMessageTextIndex++,this.currentMessageTextIndex=this.currentMessageTextIndex%t.texts.length,e?(clearTimeout(this.beforeRetriggerTimeout),this.view.setDoubleText(t.texts[0],this.getTotalWin())):this.beforeRetriggerTimeout=setTimeout(function(){n.view.setOneText(t.texts[n.currentMessageTextIndex])},i),t.changeTimeout&&(this.changeTextsTimeout=setTimeout(function(){n.showNextMessage(t)},t.changeTimeout))},e.prototype.preventUpdateTimeoutComplete=function(){this.afterPreventTimeoutMessage&&this.setMessage(this.afterPreventTimeoutMessage)},e.prototype.getTotalWin=function(){return a.MessageFactoryMark2.createMessage(["screenWin"],[{value:this.moneyFormatter.formatNumber(this.winManager.totalWin)}]).texts[0]},e}(o.InfoBarMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(2),o=function(){function t(){}return t.createMessage=function(t,e,n,o,r,a){return{texts:t.map(function(t,n){return i.MessageFactory.createMessage(t,e&&e[n],o,r).text}),localeIds:t,changeTimeout:n,preventUpdateTimeout:o,forceUpdate:r,afterPreventTimeoutMessage:a}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.getTargetLabelByKey=function(t){var e=this[t];return e||(e=this.infoLabel),e},e.prototype.setOneText=function(t){this.infoLabel.text=t,this.infoLabelLeft&&(this.infoLabelLeft.text="",this.infoLabelRight.text="")},e.prototype.setDoubleText=function(t,e){this.infoLabel.text="",this.infoLabelLeft.text=t,this.infoLabelLeft.arrange(),this.infoLabelRight.text=e,this.infoLabelRight.arrange()},e}(o.InfoBarView)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(56),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.MainScreenMediator).to(r.a)},e}(o.MainScreenModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={paytablePageId:0,PAYOUTS_TEXTURE_FILENAME:"payouts.png",winTextsPattern:[{page:0,pattern:"0"},{page:0,pattern:"1"},{page:0,pattern:"2"},{page:0,pattern:"3"},{page:0,pattern:"4"},{page:0,pattern:"5"},{page:0,pattern:"6"}]}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(r.PaytablePayoutController).asSingleton().forceCreation(),e.bind(r.PaytablePayoutModel).asSingleton(),e.bind(o.PayTableMediator).to(r.PayTableMediatorMark2),e.bind(o.PayTableView).to(r.PayTableViewMark2)},e}(o.PayTableModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(2),r=n(3),a=function(){function t(){this.pageContainerId="ptPageContainer",this.highlightPostfix="_glow",this.freeGamesModel=n.i(i.inject)(r.FreeGamesModel),this.paytableModel=n.i(i.inject)(r.PaytablePayoutModel),this.view=n.i(i.inject)(o.PayTableView),this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.paytablePageId=r.PaytableMark2Constants.paytablePageId,this.isPaytableShown=!1,this.blinkTimeout=400,this.addListeners()}return t.prototype.resetWins=function(){this.paytableModel.reset()},t.prototype.addListeners=function(){this.view.on(o.PaytableEvents.OPEN,this.onPaytableOpen,this),this.view.on(o.PaytableEvents.CLOSE,this.onPaytableClose,this)},t.prototype.removeListeners=function(){this.view.off(o.PaytableEvents.OPEN,this.onPaytableOpen,this),this.view.off(o.PaytableEvents.CLOSE,this.onPaytableClose,this),this.view.off(o.PaytableEvents.PAGE_CHANGE_START,this.onPageChangeStart,this),this.view.off(o.PaytableEvents.PAGE_CHANGE_END,this.onPageChangeEnd,this)},t.prototype.onPaytableOpen=function(){this.view.on(o.PaytableEvents.PAGE_CHANGE_START,this.onPageChangeStart,this),this.view.on(o.PaytableEvents.PAGE_CHANGE_END,this.onPageChangeEnd,this),this.dispatcher.dispatch(o.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS),this.paytableModel.hasWinTextsId(this.view.selectedPageIndex)&&this.view.setPage(this.view.selectedPageIndex)},t.prototype.onPaytableClose=function(){this.view.off(o.PaytableEvents.PAGE_CHANGE_START,this.onPageChangeStart,this),this.view.off(o.PaytableEvents.PAGE_CHANGE_END,this.onPageChangeEnd,this),this.dispatcher.dispatch(o.SymbolAnimationEvents.RESUME_ALL_SYMBOL_ANIMATIONS),clearInterval(this.blinkInterval)},t.prototype.onPageChangeStart=function(){this.stopBlinkingWins()},t.prototype.stopBlinkingWins=function(){this.blinkInterval&&(clearInterval(this.blinkInterval),this.showWinPayout(!1))},t.prototype.onPageChangeEnd=function(t){var e=this;if(!this.freeGamesModel.totalWinPopupWasShown&&this.paytableModel.hasWinTextsId(this.view.selectedPageIndex)){var n=!0;this.blinkInterval=setInterval(function(){e.showWinPayout(n),n=!n},this.blinkTimeout)}},t.prototype.showWinPayout=function(t){this.isPaytableShown=t;var e=this.paytableModel.getWinTextsId(this.view.selectedPageIndex),n=this.view[this.pageContainerId];if(e&&n.children.length)for(var i=n.getChildAt(0),o=0,r=e;o<r.length;o++){var a=r[o];i[a]&&(i[a].visible=!t,i[a+this.highlightPostfix].visible=t)}},t.prototype.destroy=function(){clearInterval(this.blinkInterval),this.removeListeners(),this.view=null},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(r.PayTableView,e),e.paytablePayoutController=n.i(o.inject)(a.PaytablePayoutController),e.addListeners(),e}return i.a(e,t),e.prototype.addListeners=function(){var t=this;this.dispatcher.addListener(r.Event.REELS_SPIN_STARTED,function(){return t.onPaytableReset()})},e.prototype.onPaytableReset=function(){this.view.setPage(0),this.paytablePayoutController.resetWins()},e}(r.PayTableMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameDataModel=n.i(o.inject)(r.GameDataModel),e.rewardsModel=n.i(o.inject)(r.RewardsModel),e.winTextsViewsKeys={},e.isReset=!0,e}return i.a(e,t),e.prototype.updateModel=function(){this.winTextsViewsKeys=[];for(var t=this.getWinningRewards().concat(),e=0,n=t;e<n.length;e++){var i=n[e];this.fillWinTextViewKeys(i)}},e.prototype.fillWinTextViewKeys=function(t){var e=this.getCorrectPattern(""+t.payoutId);if(e&&0!==e.pattern.length){var n=e.pattern+"x"+t.payoutSymbolsCount;this.isPatternUnique(e.page,n)&&(this.winTextsViewsKeys[e.page]||(this.winTextsViewsKeys[e.page]=[]),this.winTextsViewsKeys[e.page].push(n))}},e.prototype.isPatternUnique=function(t,e){return!this.winTextsViewsKeys[t]||-1===this.winTextsViewsKeys[t].indexOf(e)},e.prototype.getCorrectPattern=function(t){for(var e=0,n=a.PaytableMark2Constants.winTextsPattern;e<n.length;e++){var i=n[e];if(i.pattern===t)return i}return null},e.prototype.getWinningRewards=function(){return this.rewardsModel.getPayRewards([r.ServerRewardType.LINE,r.ServerRewardType.SCATTER])},e.prototype.hasWinTextsId=function(t){return this.isReset&&(this.isReset=!1,this.updateModel()),this.winTextsViewsKeys&&this.winTextsViewsKeys[t]&&0!==this.winTextsViewsKeys[t].length},e.prototype.getWinTextsId=function(t){return this.winTextsViewsKeys[t]},e.prototype.reset=function(){this.winTextsViewsKeys=[],this.isReset=!0},e}(o.BaseModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this)},e.prototype.startListeners=function(){t.prototype.startListeners.call(this),this.setBtnListeners(this.paytableCancelButton,this.closeBtnImage,1),this.setBtnListeners(this.paytableBackButton,this.backBtnImage,-1),this.setBtnListeners(this.paytableForwardButton,this.forwardBtnImage,1);for(var e=0;e<this.paytableModel.pagesCount;e++)this.pageButtons[e].on(this.eventName.click,this.playPageButtonSound,this)},e.prototype.changePaytableVisibility=function(e){t.prototype.changePaytableVisibility.call(this,e),this.paytableCancelButton.setDefaultState()},e.prototype.setPage=function(e){t.prototype.setPage.call(this,e)},e.prototype.setBtnListeners=function(t,e,n){e&&(t.on("mousedown",function(){TweenMax.killTweensOf(e),TweenLite.to(e.scale,.1,{x:.9*n,y:.9})}),t.on("mouseout",function(){TweenMax.killTweensOf(e),TweenLite.to(e.scale,.05,{x:n,y:1})}),t.on("mouseup",function(){TweenMax.killTweensOf(e),TweenLite.to(e.scale,.05,{x:n,y:1})}))},e.prototype.playPageButtonSound=function(){this.soundManager.playSound(o.PayTableModuleConstant.sounds.PAYTABLE_FORWARD)},e}(o.PayTableView)},function(t,e,n){"use strict";var i=n(0),o=n(4),r=n(2);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonScale=.6,e}i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this)},e.prototype.changePaytableVisibility=function(e){this.visible!==e&&t.prototype.changePaytableVisibility.call(this,e),this.drag_enabled=this.visible},e.prototype.setPage=function(t){this.emit(r.PaytableEvents.PAGE_CHANGE_START,this.selectedPageIndex);var e=t<this.selectedPageIndex;if(this.ptSlideContainer.x=e?this.pagesArea.x-this.pagesArea.width:this.pagesArea.x+this.pagesArea.width,this.selectedPageIndex===t)return this.ptPageContainer.removeChildren(),this.ptPageContainer.addChild(this.getPage(this.selectedPageIndex)),this.ptPageContainer.x=this.pagesArea.x,this.ptSlideContainer.removeChildren(),this.ptSlideContainer.addChild(this.getPage(t+1<this.paytableModel.pagesCount-1?t+1:0)),this.setNavigationButtonsStates(),void this.emit(r.PaytableEvents.PAGE_CHANGE_END,this.selectedPageIndex);this.selectedPageIndex=t,this.addSlideContent(t),this.paytableBackButton.enabled=!1,this.paytableForwardButton.enabled=!1,this.autoScroll(e)},e.prototype.addSlideContent=function(t){this.ptSlideContainer.removeChildren(),t<0?this.ptSlideContainer.addChild(this.getPage(0)):t>=this.paytableModel.pagesCount?this.ptSlideContainer.addChild(this.getPage(this.paytableModel.pagesCount-1)):this.ptSlideContainer.addChild(this.getPage(t))},e.prototype.onResize=function(t,e,n){this.updateTransform();var i=1/this.worldTransform.a,r=i*this.buttonScale;this.buttonSet.forEach(function(t){t.scale.set(r)});var a,s=n?10:25,u=n?e/2:.75*e;a=this.paytableBackButton.parent.toLocal(new o.e(s,u)),a.x+=this.paytableBackButton.width/2*r,this.paytableBackButton.position.set(Math.floor(a.x),Math.floor(a.y)),a=this.paytableForwardButton.parent.toLocal(new o.e(t-s,u)),a.x-=this.paytableBackButton.width/2*r,this.paytableForwardButton.position.set(Math.floor(a.x),Math.floor(a.y));var l=n?e-10:u;a=this.paytableCancelButton.parent.toLocal(new o.e(t/2,l)),n&&(a.y-=this.paytableCancelButton.height/2*r),this.paytableCancelButton.position.set(Math.floor(a.x),Math.floor(a.y)),this.onDragEnd()}}(r.PayTableViewMobile)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(2),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.PromoMessagesManager).asSingleton(),e.bind(o.PromoMessagesView).asView().withId(r.HeaderModuleConstant.layouts.mainScreenHeader).bindMediator(o.PromoMessagesMediator)},e}(r.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={groups:{mainScene:{groupId:"mainScene",headTimer:20,promoTimer:12},freeGame:{groupId:"freeGame",headTimer:8,promoTimer:8},drivenMessages:{groupId:"drivenMessages",headTimer:0,promoTimer:0}},layouts:{promoMessagesLibraryId:"promoMessagesLibrary"}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_PROMO_MESSAGE:"SHOW_PROMO_MESSAGE",STOP_PROMO_MESSAGE:"STOP_PROMO_MESSAGE",SHOW_DRIVEN_PROMO_MESSAGE:"SHOW_DRIVEN_PROMO_MESSAGE",PAUSE_PROMO_MESSAGE:"PAUSE_PROMO_MESSAGE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.promoMessagesView=n.i(o.inject)(a.PromoMessagesView,e),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.loadManager=n.i(o.inject)(o.LoadManager),e.context=n.i(o.inject)(r.ContextModel).context,e.slotParameters=e.context.slotParameters,e.addListeners(),e.initPromoMessages(),e}return i.a(e,t),e.prototype.initPromoMessages=function(){var t=this;this.isPromoLoaded()?this.onPromoLoaded():this.loadManager.onCompleteSingleResourceLoad(a.ResourceIdMark2.PROMO_GROUP,function(){t.onPromoLoaded()})},e.prototype.onPromoLoaded=function(){this.promoMessagesView.initPromoMessages(),!this.freeGamesModel.isJustWon&&this.freeGamesModel.isFreeSpinsActive||this.showPromoMessage({promoMessageData:a.PromoMessagesModuleConstant.groups.mainScene,headerWidget:this.promoMessagesView.headerLogo})},e.prototype.addListeners=function(){this.dispatcher.addListener(r.HeaderEvents.SHOW_LOGO_HEADER,this.showLogo,this),this.dispatcher.addListener(r.HeaderEvents.HIDE_LOGO_HEADER,this.hideLogo,this),this.dispatcher.addListener(a.PromoMessagesEvents.SHOW_PROMO_MESSAGE,this.showPromoMessage,this),this.dispatcher.addListener(a.PromoMessagesEvents.STOP_PROMO_MESSAGE,this.stopPromoMessage,this),this.dispatcher.addListener(a.PromoMessagesEvents.PAUSE_PROMO_MESSAGE,this.pausePromoMessage,this),this.dispatcher.addListener(a.PromoMessagesEvents.SHOW_DRIVEN_PROMO_MESSAGE,this.showDrivenMessage,this),this.dispatcher.addListener(a.WinBoxEvents.SHOW_WIN_AMOUNT,this.updatePromoTimer,this),this.dispatcher.addListener(r.Event.REELS_SPIN_STARTED,this.resetPromoTimer,this)},e.prototype.showPromoMessage=function(t){this.isPromoLoaded()&&this.promoMessagesView.showPromoMessagesGroup(t)},e.prototype.pausePromoMessage=function(){this.promoMessagesView.pausePromoMessages()},e.prototype.stopPromoMessage=function(){this.promoMessagesView.stopPromoMessages()},e.prototype.showDrivenMessage=function(t){this.isPromoLoaded()&&this.promoMessagesView.showDrivenMessage(t)},e.prototype.showLogo=function(){this.promoMessagesView.headerLogo.visible=!0,this.showPromoMessage({promoMessageData:a.PromoMessagesModuleConstant.groups.mainScene,headerWidget:this.promoMessagesView.headerLogo})},e.prototype.hideLogo=function(){this.promoMessagesView.headerLogo.visible=!1,this.promoMessagesView.stopPromoMessages()},e.prototype.updatePromoTimer=function(){this.freeGamesModel.isFreeSpinsActive||this.promoMessagesView.updateTimer()},e.prototype.resetPromoTimer=function(){this.freeGamesModel.isFreeSpinsActive||this.promoMessagesView.checkForShowNext()},e.prototype.destroy=function(){this.dispatcher.removeListeners(r.HeaderEvents.SHOW_LOGO_HEADER,this),this.dispatcher.removeListeners(r.HeaderEvents.HIDE_LOGO_HEADER,this),this.dispatcher.removeListeners(a.PromoMessagesEvents.SHOW_PROMO_MESSAGE,this),this.dispatcher.removeListeners(a.PromoMessagesEvents.STOP_PROMO_MESSAGE,this),this.dispatcher.removeListeners(a.PromoMessagesEvents.PAUSE_PROMO_MESSAGE,this),this.dispatcher.removeListeners(a.PromoMessagesEvents.SHOW_DRIVEN_PROMO_MESSAGE,this),this.dispatcher.removeListeners(a.WinBoxEvents.SHOW_WIN_AMOUNT,this),this.dispatcher.removeListeners(a.BottomBarEvent.READY_TO_SPIN,this)},e.prototype.isPromoLoaded=function(){return!!this.loadManager.isResourcesLoaded(a.ResourceIdMark2.PROMO_GROUP)},e}(o.Mediator)},function(t,e,n){"use strict";!function(){function t(t,e){this.viewId=t,this.priority=e}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.initPromoMessages()}return t.prototype.initPromoMessages=function(){this.promoMessages={}},t.prototype.getActiveMessage=function(){return this.activeMessage},t.prototype.setActiveMessage=function(t){this.activeMessage=t},t.prototype.getNextPromo=function(t){var e,n,i=this.promoMessages[t];return this.activeMessage?(e=i.indexOf(this.activeMessage),n=e+1):n=0,n>i.length-1&&(n=0),i[n]},t.prototype.getPromoMessage=function(t){var e;for(var n in this.promoMessages)if(n){var i=this.promoMessages[n];if(e=i.filter(function(e){return e.viewId===t}),1===e.length)return e[0]}return null},t.prototype.isPromoMessageGroupAvailable=function(t){return!!this.promoMessages[t]},t}()},function(t,e,n){"use strict";!function(){function t(t,e){this.promoMessageData=t,this.headerWidget=e}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentManager=n.i(o.inject)(o.ContentManager),e.promoMessagesManager=n.i(o.inject)(a.PromoMessagesManager),e.defaultPositions={},e.isShowRegularPromoMessage=!1,e.timerUpdate=!1,e.moveUpPositionY=-50,e.maxPromoFreezeRemainingTime=10,e.promoSwitchingTime=1,e}return i.a(e,t),e.prototype.initPromoMessages=function(){this.promoMessagesContainer=n.i(o.getViewComponent)(a.PromoMessagesModuleConstant.layouts.promoMessagesLibraryId),this.addChild(this.promoMessagesContainer),this.promoMessagesContainer.getChildAt(0)&&this.promoMessagesContainer.children.forEach(function(t){t.alpha=0,t.visible=!0}),this.promoMessagesContainer.visible=!0,this.saveDefaultPosition(this.headerLogo)},e.prototype.showPromoMessagesGroup=function(t){this.promoMessagesManager.isPromoMessageGroupAvailable(t.promoMessageData.groupId)&&(this.stopPromoMessages(),this.currentPromoMessageData=t.promoMessageData,this.currentHeaderWidget=t.headerWidget,this.currentHeaderWidget.alpha=1,this.currentVisibleWidget=this.currentHeaderWidget,this.saveDefaultPosition(this.currentVisibleWidget),this.currentShowTime=this.currentPromoMessageData.headTimer,TweenLite.to(this,.35,{alpha:1,ease:Linear.easeOut}),this.activateTimer())},e.prototype.showDrivenMessage=function(t){this.stopAnimation(),this.currentPromoMessageData&&(this.currentShowTime=this.currentPromoMessageData.promoTimer),TweenLite.to(this,.35,{alpha:1,ease:Linear.easeOut}),this.startSwitchAnimation(this.promoMessagesContainer[t.viewId],!0)},e.prototype.stopPromoMessages=function(){this.stopAnimation(),TweenLite.to(this,.35,{alpha:0,ease:Linear.easeOut}),this.currentHeaderWidget&&(this.currentHeaderWidget.alpha=1),this.isShowRegularPromoMessage=!1},e.prototype.pausePromoMessages=function(){this.stopAnimation(),this.alpha<1&&TweenLite.to(this,.35,{alpha:1,ease:Linear.easeOut}),this.currentVisibleWidget&&(this.currentVisibleWidget.alpha=1),this.isShowRegularPromoMessage=!1,this.timer&&this.timer.kill()},e.prototype.updateTimer=function(){this.timer&&this.timer.time()>this.promoSwitchingTime&&this.currentShowTime-this.timer.time()<this.maxPromoFreezeRemainingTime&&(this.timer.kill(),this.currentShowTime=10,this.activateTimer(),this.timerUpdate=!0)},e.prototype.checkForShowNext=function(){this.timerUpdate&&(this.timer.kill(),this.showNextWidget())},e.prototype.startSwitchAnimation=function(t,e){var n=this,i=t.y;this.saveDefaultPosition(t),this.switchAnimation&&this.switchAnimation.kill(),this.switchAnimation=(new TimelineLite).to(this.currentVisibleWidget,e?0:.7,{y:this.moveUpPositionY,alpha:0,ease:Linear.easeNone}).add(function(){n.currentVisibleWidget.y=n.getDefaultPosition(n.currentVisibleWidget).y,n.currentVisibleWidget=t,t.y=n.moveUpPositionY,n.isShowRegularPromoMessage=!n.isShowRegularPromoMessage}).fromTo(t,.7,{alpha:0},{y:i,alpha:1,ease:Linear.easeNone}),this.activateTimer()},e.prototype.activateTimer=function(){this.timer&&this.timer.kill(),this.timer=TweenMax.to({},this.currentShowTime,{onComplete:this.showNextWidget.bind(this)})},e.prototype.showNextWidget=function(){this.timerUpdate=!1;var t;if(this.isShowRegularPromoMessage)t=this.currentHeaderWidget,this.currentShowTime=this.currentPromoMessageData.headTimer,this.startSwitchAnimation(t,!1);else{var e=this.promoMessagesManager.getNextPromo(this.currentPromoMessageData.groupId);t=this.promoMessagesContainer[e.viewId],this.promoMessagesManager.setActiveMessage(e),this.currentShowTime=this.currentPromoMessageData.promoTimer,this.startSwitchAnimation(t,!1)}},e.prototype.stopAnimation=function(){if(this.timer&&this.timer.kill(),this.switchAnimation&&this.switchAnimation.kill(),TweenLite.killTweensOf(this),this.currentVisibleWidget&&this.getDefaultPosition(this.currentVisibleWidget)){var t=this.getDefaultPosition(this.currentVisibleWidget);this.currentVisibleWidget.position.set(t.x,t.y),this.currentVisibleWidget.alpha=0}this.timerUpdate=!1},e.prototype.saveDefaultPosition=function(t){this.defaultPositions[t.name]||(this.defaultPositions[t.name]=new r.e(t.x,t.y))},e.prototype.getDefaultPosition=function(t){return this.defaultPositions[t.name]},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.InitAllReelsAction).to(r.InitAllReelsActionMark2),e.bind(o.RestoreInitAllReelsAction).to(r.RestoreInitAllReelsActionMark2),e.bind(o.SingleReelModel).to(r.SingleReelModelMark2),e.bind(o.ReelsPlayAction).to(r.DefaultReelsPlayAction),e.bind(r.StopSingleReelAction),e.bind(r.StartSingleReelAction),e.bind(r.WaitSpinAction).asSingleton(),e.bind(r.DoSpinRequestAction).asSingleton(),e.bind(r.StartAllReelsAction).asSingleton(),e.bind(r.WaitResponseAction).asSingleton(),e.bind(r.WaitStopAction).asSingleton(),e.bind(r.FinishAllReelsAction).asSingleton(),e.bind(r.AllReelsModel).asSingleton(),e.bind(r.SingleReelSymbolAnimationAction),e.bind(r.AllReelsStoppedAction).asSingleton(),e.bind(o.ReelsAreaView).to(r.ReelsAreaViewMark2),e.bind(o.ReelsMediator).to(r.ReelsMediatorMark2),e.bind(r.ReelsPromiseManager).asSingleton(),e.bind(r.CalculateModelsForAnticipationAction).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(2),r=n(3),a=n(1),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allReelsModel=n.i(a.inject)(r.AllReelsModel),e.anticipationModel=n.i(a.inject)(r.AnticipationModel),e.eventDispatcher=n.i(a.inject)(a.EventDispatcher),e.slotModel=n.i(a.inject)(o.SlotModel),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){Promise.all(t.reelStopCompletePromises).then(function(){e.eventDispatcher.dispatch(o.Event.REELS_SPIN_STOPPED),(t.isTerminating||0===e.anticipationModel.getAnticipationCount())&&(e.allReelsModel.isAllLandingAnimationsCompleted=!0),n(t)})})},e}(a.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(3),a=n(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotModel=n.i(o.inject)(a.SlotModel),e.allReelsModel=n.i(o.inject)(r.AllReelsModel),e.symbolManager=n.i(o.inject)(a.SymbolManager),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.allReelsModel.firsScatterStopReelIndex=-1;for(var i=0;i<e.slotModel.getSlotConfig().reelsCount;i++){var o=e.slotModel.reels[i],r=e.calculateLandingAnimationSymbols(o.reelIndex);r.length>0&&-1===e.allReelsModel.firsScatterStopReelIndex&&(e.allReelsModel.firsScatterStopReelIndex=i),o.setLandingAnimation(r)}n(t)})},e.prototype.calculateLandingAnimationSymbols=function(t){for(var e,n,i=[],o=this.slotModel.stopReelsSymbols[t],r=o.length,a=0;a<r;a++)n=""+o[a],e=this.symbolManager.getSymbolModel(n).slotSymbolConfig,e.hasLandingAnimation&&i.push({symbolId:n,lineIndex:a});return i},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.reelsActionManager=new a.ActionManagerMark2,e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.slotModel=n.i(o.inject)(r.SlotModel),e.reelsManager=n.i(o.inject)(r.ReelsManager),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.init(),e}return i.a(e,t),e.prototype.init=function(){var t=this;this.initReelsModels(),this.initReelsActionManager(),this.reelsActionManager.onStart=function(e){t.setListeners()}},e.prototype.initReelsActionManager=function(){this.reelsActionManager.addAction(n.i(o.inject)(r.InitAllReelsAction)).addAction(n.i(o.inject)(a.WaitSpinAction)).addAction(n.i(o.inject)(a.DoSpinRequestAction)).addAction(n.i(o.inject)(a.StartAllReelsAction)).addAction(n.i(o.inject)(a.WaitResponseAction)).addAction(n.i(o.inject)(a.WaitStopAction)).addAction(n.i(o.inject)(a.CalculateModelsForAnticipationAction));for(var t=[],e=0,i=this.slotModel.reels;e<i.length;e++){var s=i[e];t.push(new a.SequenceAction([n.i(o.inject)(a.StopSingleReelAction).init(s),n.i(o.inject)(a.SingleReelSymbolAnimationAction).init(s)]))}this.reelsActionManager.addAction(new a.SequenceAction(t)).addAction(n.i(o.inject)(a.AllReelsStoppedAction)).addAction(n.i(o.inject)(a.FinishAllReelsAction))},e.prototype.initReelsModels=function(){if(!this.freeGamesModel.isRestorationBeforeClickToStart&&0===this.slotModel.reels.length)for(var t=0;t<this.slotModel.getSlotConfig().reelsCount;t++){var e=t===this.slotModel.getSlotConfig().reelsCount-1,n=new a.SingleReelModelMark2(e);this.slotModel.reels.push(n)}},e.prototype.isTerminable=function(){return!1},e.prototype.setListeners=function(){var t=this;this.dispatcher.addListener(a.BottomBarEvent.STOP_CLICK,function(){var e={spin:{enabled:!1,mode:a.SpinButtonState.SPIN}};t.dispatcher.dispatch(r.UIEvent.CHANGE_UI,e),t.clearInfoField(),t.reelsActionManager.terminate()},this)},e.prototype.removeListeners=function(){this.dispatcher.removeListeners(a.BottomBarEvent.STOP_CLICK,this)},e.prototype.runChain=function(t){var e=this;return new Promise(function(n){e.reelsActionManager.start(Object.assign(t,{spinStartTime:0,spinResponsePromise:null,isTerminating:t.isTerminating,isSuccess:!0,reelStopCompletePromises:[]})),e.reelsActionManager.onFinish=function(t){n(e.cleanUpActionInfo(t)),e.removeListeners()}})},e.prototype.cleanUpActionInfo=function(t){return t.spinResponsePromise=null,t.spinStartTime=0,t},e.prototype.clearInfoField=function(){this.dispatcher.dispatch(r.InfoBarEvent.SHOW_MESSAGE,a.MessageFactoryMark2.createMessage([""]))},e.prototype.onExecute=function(t){return this.runChain(t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotModel=n.i(o.inject)(r.SlotModel),e.stakesModel=n.i(o.inject)(r.StakesModel),e.serverService=n.i(o.inject)(r.ServerService),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.betHelper=n.i(o.inject)(r.BetHelper),e.context=n.i(o.inject)(r.ContextModel).context,e}return i.a(e,t),e.prototype.onExecute=function(t){return this.freeGamesModel.freeSpinsCount<=0&&this.context.updateViewBalance(this.context.api.getViewBalance()-this.betHelper.getTotalBet()),t.spinResponsePromise=this.serverService.spin(this.slotModel.paylinesCount,this.stakesModel.currentStakeValue,this.stakesModel.currentCoinsValue),Promise.resolve(t)},e.prototype.isTerminable=function(){return!1},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MIN_SPIN_TIME=500,e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.soundsManager=n.i(o.inject)(o.SoundManager),e.autoSpinsModel=n.i(o.inject)(a.AutoSpinsModel),e.allReelsModel=n.i(o.inject)(a.AllReelsModel),e.slotModel=n.i(o.inject)(r.SlotModel),e.winManager=n.i(o.inject)(a.WinManager),e.userModel=n.i(o.inject)(r.UserModel),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.rewardsModel=n.i(o.inject)(r.RewardsModel),e.betHelper=n.i(o.inject)(r.BetHelper),e.context=n.i(o.inject)(r.ContextModel).context,e.slower=0,e}return i.a(e,t),e.prototype.isTerminable=function(){return!1},e.prototype.checkIfStopReelsSpinSound=function(){return this.winManager.totalWin>0||!this.userModel.hasEnoughBalance(this.betHelper.getTotalBet())},e.prototype.onExecute=function(t){var e,i=this;this.winManager.updateState();var a=this.getReelsSpinSoundId();this.soundsManager.stopSound(a);var s=n.i(o.inject)(r.SlotSoundsUtils).getLastPlayedSound(r.SlotSoundsModuleConstants.abstractIds.spinStart);s&&this.checkIfStopReelsSpinSound()&&s!==a&&this.soundsManager.stopSound(s),this.slotModel.isSpinning=!1,this.allReelsModel.isScatterLoopAnimationStarted=!1,this.allReelsModel.beforeAnticipationScatters.length=0,this.context.updateViewBalance(),this.updateUI();var u=(new Date).getTime();return u-this.slower>this.MIN_SPIN_TIME?(e=Promise.resolve(t),this.slower=u):e=new Promise(function(e){setTimeout(function(){i.slower=(new Date).getTime(),e(t)},i.MIN_SPIN_TIME-(u-i.slower))}),e},e.prototype.getReelsSpinSoundId=function(){return n.i(o.inject)(r.SlotSoundsUtils).getToggleSoundId({abstractSoundId:r.SlotSoundsModuleConstants.abstractIds.spinStart,reelSet:this.freeGamesModel.isFreeSpinsActive&&!this.freeGamesModel.isJustWon?r.SoundReelSet.FREE_GAMES:r.SoundReelSet.MAIN},this.soundsManager)},e.prototype.updateUI=function(){var t={bets:!0,info:!0,auto:!0,turbo:!0,wrapperGamesMenu:!0,wrapperMainMenu:!0};this.freeGamesModel.isFreeSpinsActive&&(t.auto=!1,t.bets=!1,t.info=!1,t.turbo=!1,t.wrapperGamesMenu=!1,t.wrapperMainMenu=!1),this.freeGamesModel.freeSpinsCount>0&&!this.freeGamesModel.isJustWon&&this.rewardsModel.rewards.length<=0||0===this.freeGamesModel.freeSpinsCount&&this.freeGamesModel.isFreeSpinsActive?t.spin={mode:a.SpinButtonState.STOP,enabled:!1,rotate:!1}:t.spin={enabled:!0,mode:a.SpinButtonState.SPIN,rotate:!0},this.autoSpinsModel.isActive&&(t.bets=!1,t.info=!1,t.turbo=!1,t.wrapperGamesMenu=!1,t.wrapperMainMenu=!1),this.freeGamesModel.isFreeSpinsActive||this.autoSpinsModel.isActive||this.dispatcher.dispatch(a.WinBoxEvents.TOGGLE_WIN_BOX_LABELS,[a.WinBoxMessageTypes.GOOD_LUCK,a.WinBoxMessageTypes.CLICK_TO_SPIN]),this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e}return i.a(e,t),e.prototype.getIsDirtyReelSet=function(){return!(this.freeGamesModel.isJustWon&&!this.freeGamesModel.isJustRestored)&&this.reelSetId!==this.getReelSetId()},e.prototype.getReelSetId=function(){return this.freeGamesModel.isJustWon&&this.freeGamesModel.isJustRestored?a.ReelsConstants.reelId.main:this.slotModel.startReelSetId},e.prototype.createTapes=function(t){for(var e,n=[],i=t.reels.length,o=0;o<i;o++)e=this.reelsManager.getReelConfig(o),n.push(new a.ValidatedTapeMark2(t.reels[o],e.rows));return n},e}(r.InitAllReelsAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createTapes=function(t){for(var e,n=[],i=t.reels.length,o=0;o<i;o++)e=this.reelsManager.getReelConfig(o),n.push(new r.ValidatedTapeMark2(t.reels[o],e.rows));return n},e}(o.RestoreInitAllReelsAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singleReelsStartActionManager=new o.ActionManager,e.isSingleReelActionsInitialized=!1,e.allReelsModel=n.i(o.inject)(a.AllReelsModel),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.soundsManager=n.i(o.inject)(o.SoundManager),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.autoSpinsModel=n.i(o.inject)(a.AutoSpinsModel),e.turboModeModel=n.i(o.inject)(r.TurboModeModel),e.slotModel=n.i(o.inject)(r.SlotModel),e}return i.a(e,t),e.prototype.isTerminable=function(){return!1},e.prototype.getSingleReelAction=function(t){return n.i(o.inject)(a.StartSingleReelAction).setReelModel(t)},e.prototype.getReelsSpinSoundId=function(){return n.i(o.inject)(r.SlotSoundsUtils).getToggleSoundId({abstractSoundId:r.SlotSoundsModuleConstants.abstractIds.spinStart,reelSet:this.freeGamesModel.freeSpinsCount>0?r.SoundReelSet.FREE_GAMES:r.SoundReelSet.MAIN},this.soundsManager)},e.prototype.onExecute=function(t){var e=this;this.allReelsModel.isAllLandingAnimationsCompleted=!1;var n=this.getReelsSpinSoundId();if(n&&!this.turboModeModel.isActive){var i=this.soundsManager.getSound(n);i&&!i.isPlaying()&&this.playSpinSound(n,-1)}if(!this.isSingleReelActionsInitialized){this.isSingleReelActionsInitialized=!0;for(var o=0,s=this.slotModel.reels;o<s.length;o++){var u=s[o];this.singleReelsStartActionManager.addAction(this.getSingleReelAction(u))}}return t.spinStartTime=Date.now(),this.slotModel.isSpinning=!0,this.dispatcher.dispatch(r.Event.REELS_SPIN_STARTED),this.dispatcher.dispatch(a.WinBoxEvents.SHOW_WIN_BOX_LABEL,a.WinBoxMessageTypes.GOOD_LUCK),new Promise(function(n){e.updateUI(),e.singleReelsStartActionManager.onFinish=function(e){Promise.all(e.animationPromises).then(function(){n(t)})},e.singleReelsStartActionManager.start({animationPromises:[],isSuccess:!0,isTerminating:!1})})},e.prototype.playSpinSound=function(t,e){this.soundsManager.playSound(t,e)},e.prototype.updateUI=function(){var t={spin:{enabled:!1,mode:a.SpinButtonState.STOP,glow:!1,rotate:!1},bets:!1,info:!1,auto:!1,turbo:!1,wrapperMainMenu:!1,wrapperGamesMenu:!1};this.autoSpinsModel.isActive&&this.freeGamesModel.freeSpinsCount<=0&&(t.auto=!0),this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.slotModel=n.i(o.inject)(r.SlotModel),e.autoSpinsModel=n.i(o.inject)(a.AutoSpinsModel),e}return i.a(e,t),e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){t.spinResponsePromise.then(function(i){e.fillStopReels(e.slotModel.reels),e.updateUI(),n(t)},function(t){})})},e.prototype.fillStopReels=function(t){for(var e=0;e<t.length;e++)t[e].stopOn(this.slotModel.stopReelsSymbols[e])},e.prototype.updateUI=function(){var t={spin:{enabled:!0,mode:a.SpinButtonState.STOP}};this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userModel=n.i(o.inject)(r.UserModel),e.reelsManager=n.i(o.inject)(r.ReelsManager),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.slotModel=n.i(o.inject)(r.SlotModel),e.turboModeModel=n.i(o.inject)(r.TurboModeModel),e.autoSpinsModel=n.i(o.inject)(a.AutoSpinsModel),e.autoPlayModeModel=n.i(o.inject)(r.AutoPlayModeModel),e.contentManager=n.i(o.inject)(o.ContentManager),e.betHelper=n.i(o.inject)(r.BetHelper),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.reelsPromiseManager=n.i(o.inject)(a.ReelsPromiseManager),e.anticipationModel=n.i(o.inject)(a.AnticipationModel),e.context=n.i(o.inject)(r.ContextModel).context,e.spinsCount=0,e.isInsufficientBalanceOnStage=!1,e}return i.a(e,t),e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(t){var e=this;return this.dispatcher.dispatch(a.AutoSpinsModelEvent.SHOW_CONTINUE_AUTO_PLAY_SLIDER),new Promise(function(n){e.mainResolve=n,e.context.updateViewBalance(),e.dispatcher.dispatch(r.Event.ACTIVATE_SPIN),e.spinsCount>0&&e.showDefaultMessages(),e.dispatcher.addListener(a.BottomBarEvent.READY_TO_SPIN,function(){e.startWithCheck(t)},e),(e.autoPlayModeModel.autoSpinAllowed||t.shouldForceSpin)&&e.startWithCheck(t)})},e.prototype.hideAllAnimations=function(){var t=this;this.dispatcher.addListener(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE,function(e){t.reelsPromiseManager.reset(),t.anticipationModel.reset(),t.dispatcher.dispatch(r.Event.SHOW_REEL_SYMBOLS,e)},this).once(),this.dispatcher.dispatch(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS)},e.prototype.startWithCheck=function(t){if(this.userModel.hasEnoughBalance(this.betHelper.getTotalBet()))t.shouldForceSpin=!1,t.isTerminating=!1,this.dispatcher.dispatch(r.InfoBarEvent.SHOW_MESSAGE,a.MessageFactoryMark2.createMessage(["clickToStopEarly"])),this.configureReels(t),this.readyToResolve(t);else if(this.showInsufficientMessage(),this.autoSpinsModel.isActive){var e={info:!0,auto:!0,turbo:!0,bets:!0,wrapperMainMenu:!0,wrapperGamesMenu:!0};this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,e),this.dispatcher.dispatch(a.WinBoxEvents.TOGGLE_WIN_BOX_LABELS,[a.WinBoxMessageTypes.GOOD_LUCK,a.WinBoxMessageTypes.CLICK_TO_SPIN]),this.autoSpinsModel.deactivate()}},e.prototype.readyToResolve=function(t){this.hideAllAnimations(),this.dispatcher.removeListeners(a.BottomBarEvent.READY_TO_SPIN,this),this.autoSpinsModel.isActive&&(this.autoSpinsModel.isUntilFeature&&this.dispatcher.dispatch(a.BottomBarEvent.ROTATE_UNTIL_FEATURE_ICON),this.autoSpinsModel.decrease()),this.spinsCount++,this.mainResolve(t)},e.prototype.configureReels=function(t){this.turboModeModel.isActive?this.reelsManager.setState(r.SlotState.Turbo):this.autoSpinsModel.isActive?this.reelsManager.setState(r.SlotState.Auto):this.reelsManager.setState(r.SlotState.Regular);for(var e=0,n=this.slotModel.reels;e<n.length;e++){n[e].setSpinConfig(this.reelsManager.getSpinConfig())}},e.prototype.showInsufficientMessage=function(){var t=this;this.isInsufficientBalanceOnStage||(this.isInsufficientBalanceOnStage=!0,this.dispatcher.dispatch(a.PopupEvent.SHOW_POPUP,{title:this.contentManager.i18n("insufficientTitle"),message:this.contentManager.i18n("insufficientMessage")}),this.dispatcher.addListener(a.PopupEvent.POPUP_HIDDEN,function(){t.isInsufficientBalanceOnStage=!1,t.dispatcher.removeListeners(a.PopupEvent.POPUP_HIDDEN,t)},this))},e.prototype.showDefaultMessages=function(){var t;t=this.freeGamesModel.isFreeSpinsActive||this.autoSpinsModel.isActive?a.MessageFactoryMark2.createMessage(["playingLines"],[{count:this.slotModel.paylinesCount}]):a.MessageFactoryMark2.createMessage(["clickSpinToStart","playingLines"],[null,{count:this.slotModel.paylinesCount}],5e3),this.dispatcher.dispatch(r.InfoBarEvent.SHOW_MESSAGE,t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reelsManager=n.i(o.inject)(r.ReelsManager),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return t.isTerminating?Promise.resolve(t):new Promise(function(n){var i=Date.now(),o=i-t.spinStartTime;o>e.reelsManager.getSpinConfig().spinTime?n(t):e.stopTimeout=setTimeout(function(){n(t)},e.reelsManager.getSpinConfig().spinTime-o)})},e.prototype.onTerminate=function(e){return clearTimeout(this.stopTimeout),t.prototype.onTerminate.call(this,e)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotModel=n.i(o.inject)(a.SlotModel),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.symbolManager=n.i(o.inject)(a.SymbolManager),e.landingSymbolAnimationVO=[],e.allReelsModel=n.i(o.inject)(s.AllReelsModel),e.turboModeModel=n.i(o.inject)(a.TurboModeModel),e.reelsPromiseManager=n.i(o.inject)(s.ReelsPromiseManager),e.symbolAnimationManager=n.i(o.inject)(s.SymbolAnimationManager),e.symbolsConfig=n.i(o.inject)(a.SymbolConfigModel),e.anticipationModel=n.i(o.inject)(s.AnticipationModel),e.loadManager=n.i(o.inject)(o.LoadManager),e.slotParameters=n.i(o.inject)(a.ContextModel).context.slotParameters,e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){var i=e.singleReelModel.getLandingAnimationSymbols();if(i.length>0){e.landingSymbolAnimationVO=[];for(var o=0,r=i;o<r.length;o++){var a=r[o];!function(t){e.canShowLandingAnimation()&&(e.landingAnimationTimeout=setTimeout(function(){e.showLandingAnimation(t.symbolId,t.lineIndex)},e.getLandingAnimationDelay()))}(a)}}else e.onLastReelLandingAnimationComplete(null);n(t)})},e.prototype.getLandingAnimationDelay=function(){return this.singleReelModel.spinConfig.stopAnimation.time-this.singleReelModel.spinConfig.stopAnimation.delay},e.prototype.onTerminate=function(e){return clearTimeout(this.landingAnimationTimeout),t.prototype.onTerminate.call(this,e)},e.prototype.canShowLandingAnimation=function(){return(!this.turboModeModel.isActive||this.slotParameters.playLandingInTurbo)&&this.loadManager.isLazyAssetsLoaded},e.prototype.init=function(t){return this.singleReelModel=t,this},e.prototype.isTerminable=function(){return!0},e.prototype.guard=function(t){return!t.isTerminating&&(this.singleReelModel.getLandingAnimationSymbols().length>0||this.singleReelModel.isLastReel)},e.prototype.showLandingAnimation=function(t,e){var n=this,i=new a.SymbolAnimationVO(t,this.singleReelModel.reelIndex,e,s.SymbolAnimationType.LANDING);this.landingSymbolAnimationVO.push(i),this.hideReelSymbol(i),this.symbolAnimationManager.showSymbolAnimation(i,function(t){n.reelsPromiseManager.setLandingPromise(n.singleReelModel.reelIndex,t),t.then(function(){n.onLandingAnimationComplete(i),n.allReelsModel.isScatterLoopAnimationStarted?n.startScatterAnticipation(i):n.anticipationModel.getAnticipationCount()&&n.checkForStartAnticipation(i)})})},e.prototype.checkForStartAnticipation=function(t){if(this.anticipationModel.anticipations[this.singleReelModel.reelIndex+1]){this.allReelsModel.isScatterLoopAnimationStarted=!0;for(var e=0;e<this.allReelsModel.beforeAnticipationScatters.length;e++)this.startScatterAnticipation(this.allReelsModel.beforeAnticipationScatters[e]);this.startScatterAnticipation(t),this.allReelsModel.beforeAnticipationScatters.length=0}else this.allReelsModel.beforeAnticipationScatters.push(t)},e.prototype.hasAnimation=function(t){var e=this.symbolsConfig.getAnimationKeys(t.symbolId,t.animationType);return void 0!==this.symbolManager.getSymbolView(t.symbolId).getClipByKey(e[0],t.animationType)},e.prototype.startScatterAnticipation=function(t){var e=this;t.animationType=s.SymbolAnimationType.ANTICIPATION_START,this.hasAnimation(t)?this.symbolAnimationManager.showSymbolAnimation(t,function(n){n.then(function(){e.reelsPromiseManager.removeAnticipationPromises(e.singleReelModel.reelIndex,n),e.startLoopAnticipationSynced(t)})}):this.startLoopAnticipationSynced(t)},e.prototype.startLoopAnticipationSynced=function(t){var e=this,n=this.getSyncPromise();Promise.all(n).then(function(){e.hideReelSymbol(t),e.loopScatterAnticipation(t)})},e.prototype.getSyncPromise=function(){return this.anticipationModel.isSymbolAnticipationSynced()?this.reelsPromiseManager.getAnticipationPromises(this.allReelsModel.firsScatterStopReelIndex):[]},e.prototype.hideReelSymbol=function(t){this.dispatcher.dispatch(a.Event.HIDE_REEL_SYMBOLS,[new r.e(t.reelIndex,t.lineIndex)])},e.prototype.loopScatterAnticipation=function(t){var e=this;this.anticipationModel.isSymbolAnticipationStopNeeded(t.symbolId)?(t.animationType=s.SymbolAnimationType.ANTICIPATION,this.symbolAnimationManager.showSymbolAnimation(t,function(n){e.reelsPromiseManager.setAnticipationPromise(e.singleReelModel.reelIndex,n),n.then(function(){e.loopScatterAnticipation(t)})})):this.hideSymbolAnimation(t)},e.prototype.onLandingAnimationComplete=function(t){this.singleReelModel.isLastReel&&this.onLastReelLandingAnimationComplete(t),this.hideSymbolAnimation(t)},e.prototype.hideSymbolAnimation=function(t){this.dispatcher.dispatch(a.SymbolAnimationEvents.HIDE_SYMBOL_ANIMATION,t),this.dispatcher.dispatch(a.Event.SHOW_REEL_SYMBOLS,[new r.e(t.reelIndex,t.lineIndex)])},e.prototype.onLastReelLandingAnimationComplete=function(t){this.allReelsModel.isAllLandingAnimationsCompleted=!0,this.dispatcher.dispatch(s.ReelsEventsMark2.LANDING_ANIMATION_FINISHED,t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.setReelModel=function(t){return this.singleReelModel=t,this},e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.singleReelModel.frozen||t.animationPromises.push(e.singleReelModel.start()),e.singleReelModel.spinConfig.startAnimation.delay>0?setTimeout(function(){n(t)},e.singleReelModel.spinConfig.startAnimation.delay):n(t)})},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reelSpinSoundId="REEL_SPIN_START_main",e.soundManager=n.i(o.inject)(o.SoundManager),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.slotModel=n.i(o.inject)(r.SlotModel),e.turboModeModel=n.i(o.inject)(r.TurboModeModel),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e}return i.a(e,t),e.prototype.init=function(t){return this.singleReelModel=t,this},e.prototype.isTerminable=function(){return!0},e.prototype.onTerminate=function(e){var n=this;return t.prototype.onTerminate.call(this,e),clearTimeout(this.nextActionTimeout),this.isLastReel()?this.stopAnimationPromise.then(function(){n.readyToResolveExecute(e)}):this.readyToResolveExecute(e),this.mainPromise},e.prototype.prepareStopAnimations=function(t,e){var n=this;return void 0===e&&(e=null),new Promise(function(i){Promise.all([e]).then(function(){n.singleReelModel.frozen?i(t):(n.playReelSound(t),n.singleReelModel.forceStop(t.isTerminating).then(function(){i(t)}))})})},e.prototype.onExecute=function(t){var e,n=this;return this.stopAnimationPromise=this.prepareStopAnimations(t),t.reelStopCompletePromises.push(this.stopAnimationPromise),e=this.isLastReel()?new Promise(function(e){n.mainPromiseResolve=e,n.stopAnimationPromise.then(function(){n.readyToResolveExecute(t)})}):t.isTerminating?Promise.resolve(t):new Promise(function(e){n.mainPromiseResolve=e,n.nextActionTimeout=setTimeout(function(){n.readyToResolveExecute(t)},n.getNextActionDelay())}),this.mainPromise=e,e},e.prototype.readyToResolveExecute=function(t){this.mainPromiseResolve&&this.mainPromiseResolve(t)},e.prototype.getNextActionDelay=function(){return this.singleReelModel.spinConfig.stopAnimation.delay},e.prototype.playReelSound=function(t){var e=this,i=n.i(o.inject)(r.SlotSoundsUtils).getSpinAndSymbolsStopSound(this.soundManager,this.singleReelModel.reelIndex,this.slotModel.stopReelsSymbols,t.isTerminating);if(!t.isTerminating||!i.isReelStopSound){var a=t.isTerminating?0:this.getStopSoundDelay();i.isReelStopSound?this.canPlayStopSound()&&this.playReelStopSound(i.soundId,a):this.playSymbolLandingSound(i.soundId,a,t),this.singleReelModel.reelIndex===this.slotModel.getSlotConfig().reelsCount-1&&setTimeout(function(){return e.soundManager.stopSound(e.getReelSpinSoundId())},a)}},e.prototype.playReelStopSound=function(t,e){var n=this;setTimeout(function(){return n.soundManager.playSound(t)},e)},e.prototype.playSymbolLandingSound=function(t,e,i){var a=this;this.playSymbolLandingSoundOnCurrentReel(i)&&!this.turboModeModel.isActive?setTimeout(function(){return a.soundManager.playSound(t)},e):(t=n.i(o.inject)(r.SlotSoundsUtils).getSpinStopSound(this.soundManager,this.singleReelModel.reelIndex,!1),this.playReelStopSound(t,e))},e.prototype.getStopSoundDelay=function(){return this.singleReelModel.spinConfig.stopAnimation.time},e.prototype.playSymbolLandingSoundOnCurrentReel=function(t){var e=!0;return this.singleReelModel.reelIndex!==this.slotModel.reels.length-1&&this.singleReelModel.reelIndex!==this.slotModel.reels.length-2||(e=!1),e},e.prototype.getReelSpinSoundId=function(){return this.reelSpinSoundId},e.prototype.isLastReel=function(){return this.singleReelModel.reelIndex===this.slotModel.reels.length-1},e.prototype.canPlayStopSound=function(){return!(this.freeGamesModel.isFreeSpinsActive&&!this.freeGamesModel.isJustWon)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SMOOTH_STOP_TIME=60,e.anticipationModel=n.i(o.inject)(s.AnticipationModel),e.gameModel=n.i(o.inject)(a.GameDataModel),e.reelsManager=n.i(o.inject)(a.ReelsManager),e.anticipationUtils=n.i(o.inject)(s.AnticipationUtils),e.scatterModel=n.i(o.inject)(s.ScatterModel),e}return i.a(e,t),e.prototype.isTerminable=function(){return!0},e.prototype.onTerminate=function(e){return this.isAnticipationNeeded&&(clearTimeout(this.anticipationTimeout),this.anticipationPromiseResolve(e),this.isAnticipationNeeded=!1,this.dispatcher.dispatch(s.AnticipationEvent.HIDE_REEL_ANTICIPATION,this.singleReelModel.reelIndex),this.stopAnticipationSound()),t.prototype.onTerminate.call(this,e)},e.prototype.onExecute=function(e){var n=this,i=t.prototype.onExecute.call(this,e);return this.stopAnimationPromise.then(function(){n.anticipationModel.currentAnticipationIndex=n.singleReelModel.reelIndex}),i},e.prototype.readyToResolveExecute=function(e){this.singleReelModel.reelIndex<this.slotModel.getSlotConfig().reelsCount-1&&this.showNextReelSymbols(),this.isAnticipationNeeded&&this.singleReelModel.reelIndex!==this.slotModel.getSlotConfig().reelsCount-1||this.stopAnticipationSound(),t.prototype.readyToResolveExecute.call(this,e)},e.prototype.showNextReelSymbols=function(){var t=this;this.anticipationUtils.checkIfAnticipationIsNeeded(this.singleReelModel.reelIndex+1,this.slotModel.stopReelsSymbols,this.gameModel.winningLinesConfig)||(this.scatterModel.currentAnimations.forEach(function(e){t.dispatcher.dispatch(a.Event.SHOW_REEL_SYMBOLS,[new r.e(e.reelIndex,e.lineIndex)]),t.dispatcher.dispatch(a.SymbolAnimationEvents.HIDE_SYMBOL_ANIMATION,e)},this),this.scatterModel.currentAnimations.length=0)},e.prototype.getNextActionDelay=function(){return this.isAnticipationNeeded?1e3*this.anticipationModel.getAnticipationDuration(this.turboModeModel.isActive):t.prototype.getNextActionDelay.call(this)},e.prototype.prepareStopAnimations=function(e){return this.isAnticipationNeeded=!1,e.isTerminating?t.prototype.prepareStopAnimations.call(this,e):(this.isAnticipationNeeded=this.anticipationUtils.checkIfAnticipationIsNeeded(this.singleReelModel.reelIndex,this.slotModel.stopReelsSymbols,this.gameModel.winningLinesConfig),this.isAnticipationNeeded&&this.anticipationModel.getAnticipationDuration(this.turboModeModel.isActive)>0?(this.startAnticipationAnimation(e),t.prototype.prepareStopAnimations.call(this,e,this.anticipationPromise)):t.prototype.prepareStopAnimations.call(this,e))},e.prototype.startAnticipationAnimation=function(t){var e=this;this.dispatcher.dispatch(s.AnticipationEvent.SHOW_REEL_ANTICIPATION,this.singleReelModel.reelIndex),this.playAnticipationSound(),this.anticipationPromise=new Promise(function(n){e.anticipationPromiseResolve=n;var i=e.getAnticipationStoppingTime();e.anticipationTimeout=setTimeout(function(){e.dispatcher.dispatch(s.AnticipationEvent.HIDE_REEL_ANTICIPATION,e.singleReelModel.reelIndex),n(t)},i)})},e.prototype.playAnticipationSound=function(){this.soundManager.playSound(this.getAnticipationSoundId(),-1)},e.prototype.stopAnticipationSound=function(){this.soundManager.stopSound(this.getAnticipationSoundId())},e.prototype.getAnticipationSoundId=function(){return this.turboModeModel.isActive?s.AnticipationModuleConstant.soundId.turboAnticipation:s.AnticipationModuleConstant.soundId.mainAnticipation},e.prototype.getAnticipationStoppingTime=function(){return 1e3*this.anticipationModel.getAnticipationDuration(this.turboModeModel.isActive)-this.reelsManager.getSpinConfig().stopAnimation.time-this.SMOOTH_STOP_TIME},e.prototype.playSymbolLandingSoundOnCurrentReel=function(e){var n=!1;return(t.prototype.playSymbolLandingSoundOnCurrentReel.call(this,e)||this.isAnticipationNeeded)&&(n=!0),n},e}(s.StopSingleReelAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={reelId:{main:"main"},additionalReelSymbolCountSpin:2,additionalReelSymbolCountIdle:5}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={LANDING_ANIMATION_FINISHED:"LANDING_ANIMATION_FINISHED"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.prototype.getLandingPromises=function(t){return this._landingPromises[t]},t.prototype.setLandingPromise=function(t,e){this._landingPromises[t]||(this._landingPromises[t]=[]),this._landingPromises[t].push(e)},t.prototype.getAnticipationPromises=function(t){return this._anticipationLoopPromises[t]||[]},t.prototype.setAnticipationPromise=function(t,e){this._anticipationLoopPromises[t]||(this._anticipationLoopPromises[t]=[]),this._anticipationLoopPromises[t].push(e)},t.prototype.reset=function(){this.resetLandingPromise(),this.resetAnticipationPromise()},t.prototype.resetLandingPromise=function(){this._landingPromises={}},t.prototype.resetAnticipationPromise=function(){this._anticipationLoopPromises={}},t.prototype.removeAnticipationPromises=function(t,e){this._anticipationLoopPromises[t]},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addListeners=function(){var e=this;t.prototype.addListeners.call(this),this.dispatcher.addListener(r.AnticipationEvent.SHOW_REEL_ANTICIPATION,function(t){e.view.initReelSpeedIncreaseTimer(t)},this),this.dispatcher.addListener(r.AnticipationEvent.HIDE_REEL_ANTICIPATION,function(t){e.view.resetReelSpeedTimer(t)},this)},e.prototype.removeListeners=function(){t.prototype.removeListeners.call(this),this.dispatcher.removeListeners(r.AnticipationEvent.SHOW_REEL_ANTICIPATION,this),this.dispatcher.removeListeners(r.AnticipationEvent.HIDE_REEL_ANTICIPATION,this)},e}(o.ReelsMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this._beforeAnticipationScatters=[],this._isScatterLoopAnimationStarted=!1}return Object.defineProperty(t.prototype,"isAllLandingAnimationsCompleted",{get:function(){return this._isAllLandingAnimationsCompleted},set:function(t){this._isAllLandingAnimationsCompleted=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firsScatterStopReelIndex",{get:function(){return this._firsScatterStopReelIndex},set:function(t){this._firsScatterStopReelIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beforeAnticipationScatters",{get:function(){return this._beforeAnticipationScatters},set:function(t){this._beforeAnticipationScatters=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isScatterLoopAnimationStarted",{get:function(){return this._isScatterLoopAnimationStarted},set:function(t){this._isScatterLoopAnimationStarted=t},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(e){var i=t.call(this)||this;return i._isLastReel=!1,i.slotModel=n.i(o.inject)(r.SlotModel),i.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),i.landingSymbols=[],i._isLastReel=e,i}return i.a(e,t),Object.defineProperty(e.prototype,"isLastReel",{get:function(){return this._isLastReel},enumerable:!0,configurable:!0}),e.prototype.setLandingAnimation=function(t){void 0===t&&(t=[]),this.landingSymbols=t},e.prototype.getLandingAnimationSymbols=function(){return this.landingSymbols},e.prototype.stopTape=function(){this.setValidateTape(this.currentStop.stopFrame),t.prototype.stopTape.call(this)},e.prototype.stopOn=function(e,n){this.freeGamesModel.totalFreeSpinsCount===this.freeGamesModel.freeSpinsCount+1&&this.setValidateTape(e),t.prototype.stopOn.call(this,e,n)},e.prototype.setValidateTape=function(t){this.tape.setTape(this.tape.getTape().concat(t))},e}(r.SingleReelModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.getTape=function(){return this.tape},e.prototype.setTape=function(t){this.tape=t},e}(o.ValidatedTape)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.initReelSpeedIncreaseTimer=function(t){this.reelViews[t].initSpeedIncreaseTimer()},e.prototype.resetReelSpeedTimer=function(t){this.reelViews[t].resetSpeedTimer()},e.prototype.createReelView=function(t,e){return new r.SingleReelViewMark2(t,e)},e}(o.ReelsAreaView)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.turboModel=n.i(o.inject)(r.TurboModeModel),e.anticipationModel=n.i(o.inject)(a.AnticipationModel),e}return i.a(e,t),e.prototype.initSpeedIncreaseTimer=function(){var t=this,n=1e3*this.anticipationModel.getAnticipationDuration(this.turboModel.isActive)/e.INTERVAL_COUNT;this.anticipationTimer=setInterval(function(){3===t.reelModel.getState()?t.currentSpeed+=t.reelModel.spinConfig.spinSpeed:clearInterval(t.anticipationTimer)},n)},e.prototype.resetSpeedTimer=function(){this.anticipationTimer&&clearInterval(this.anticipationTimer)},e.prototype.getSymbol=function(e){var n=t.prototype.getSymbol.call(this,e);return this.changeSingleReelSymbolViewVO(n),n},e.prototype.changeSingleReelSymbolViewVO=function(t){this.turboModel.isActive||(t.displayObject=t.symbolView.getStatic())},e.prototype.getAdditionalSymbolsCount=function(){return 3===this.reelModel.getState()?a.ReelsConstants.additionalReelSymbolCountSpin:a.ReelsConstants.additionalReelSymbolCountIdle},e.INTERVAL_COUNT=3,e}(r.SingleReelView)},function(t,e,n){"use strict";var i=n(0),o=n(1),r=n(2),a=n(3);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.slotModel=n.i(o.inject)(r.SlotModel),e.soundsManager=n.i(o.inject)(o.SoundManager),e.serverService=n.i(o.inject)(r.ServerService),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.stakesModel=n.i(o.inject)(r.StakesModel),e.collapsingSlotModel=n.i(o.inject)(r.CollapsingSlotModel),e.betHelper=n.i(o.inject)(r.BetHelper),e.context=n.i(o.inject)(r.ContextModel).context,e.spinsCount=0,e}i.a(e,t),e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(t){return this.dispatcher.dispatch(r.Event.REELS_SPIN_STARTED),this.dispatcher.dispatch(a.WinBoxEvents.SHOW_WIN_BOX_LABEL,a.WinBoxMessageTypes.GOOD_LUCK),this.spinsCount>0&&this.doSpinRequest(t),this.spinsCount++,Promise.resolve(t)},e.prototype.doSpinRequest=function(t){this.collapsingSlotModel.winCollapsingCount<=0&&this.freeGamesModel.freeSpinsCount<=0&&this.context.updateViewBalance(this.context.api.getViewBalance()-this.betHelper.getTotalBet()),t.spinPromise=this.serverService.spin(this.slotModel.paylinesCount,this.stakesModel.currentStakeValue,this.stakesModel.currentCoinsValue)}}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.RegulationsModel).to(r.RegulationsModelMark2),e.bind(o.RegulationsManager).to(r.RegulationsManagerMark2),e.bind(o.RegulationsAction).to(r.DefaultRegulationsAction),e.bind(r.ShowAutoPlayLimitPopupAction).asSingleton(),e.bind(r.ShowAutoPlayLimitPopupFreeSpinsEndAction).asSingleton(),e.bind(r.WaitAutoPlayLimitPopupAction).asSingleton(),e.bind(r.LockUIAutoPlayLimitPopupAction).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contextModel=n.i(o.inject)(r.ContextModel),e.regulationModel=n.i(o.inject)(r.RegulationsModel),e}return i.a(e,t),e.prototype.onExecute=function(e){return this.applyUntilFeature(),t.prototype.onExecute.call(this,e)},e.prototype.applyUntilFeature=function(){if(!this.regulationModel.regulationsConfig.autoPlayUntilFeatureEnabled){var t=this.contextModel.context.slotSettings.slotParameters;t.autoSpinsOptions=t.autoSpinsOptions.filter(this.untilFeatureFilter),t.autoSpinsOptionsMobile&&(t.autoSpinsOptionsMobile=t.autoSpinsOptionsMobile.filter(this.untilFeatureFilter))}},e.prototype.untilFeatureFilter=function(t){return!t.isUntilFeature},e}(r.RegulationsAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(3),r=n(2),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onExecute=function(t){return this.lockUI(),Promise.resolve(t)},e.prototype.lockUI=function(){var t={spin:this.getSpinBtnConfig(),bets:!1,info:!1,auto:!1,turbo:!1,anywhereClick:!1,wrapperMainMenu:!1,wrapperGamesMenu:!1};this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,t)},e.prototype.getSpinBtnConfig=function(){return{enabled:!1,mode:o.SpinButtonState.SPIN,rotate:!1,glow:!1}},e}(o.WaitAutoPlayLimitPopupAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moneyFormatter=n.i(o.inject)(r.MoneyFormatterUtils),e.regulationsModel=n.i(o.inject)(r.RegulationsModel),e.gameDataModel=n.i(o.inject)(r.GameDataModel),e.contentManager=n.i(o.inject)(o.ContentManager),e.autoSpinsModel=n.i(o.inject)(a.AutoSpinsModel),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.betHelper=n.i(o.inject)(r.BetHelper),e.winManager=n.i(o.inject)(a.WinManager),e}return i.a(e,t),e.prototype.guard=function(t){var e=this.autoSpinsModel.isActive&&!this.getIsFreeGame()&&!this.regulationsModel.isLimitPopupBlocked&&!this.autoSpinsModel.isJustStarted&&(this.regulationsModel.getIsLossLimitReached()||this.regulationsModel.getIsSingleWinReached());return e||this.dispatcher.dispatch(a.RegulationsEventMark2.SKIP_SECOND_LINE_ACTION),e},e.prototype.getIsFreeGame=function(){return this.freeGamesModel.isFreeSpinsActive||this.freeGamesModel.isJustWon||this.getIsFreeGameJustEnded()},e.prototype.getIsFreeGameJustEnded=function(){return 0===this.freeGamesModel.freeSpinsCount&&this.freeGamesModel.totalFreeSpinsCount>0},e.prototype.dispatchShowAutoPlayInfoPopup=function(){var t;if(this.regulationsModel.getIsLossLimitReached()){var e=this.moneyFormatter.formatNumber(this.regulationsModel.lossLimit,{decimalPartAppendType:0,showCurrency:!0});t=r.MessageFactory.createMessage("regulationsLossLimitReached",{limit:e})}if(this.regulationsModel.getIsSingleWinReached()){var n=this.moneyFormatter.formatNumber(this.regulationsModel.singleWinLimit,{decimalPartAppendType:0,showCurrency:!0});t=r.MessageFactory.createMessage("regulationsSingleWinLimitReached",{limit:n})}this.dispatcher.dispatch(r.RegulationsEvent.SHOW_AUTO_PLAY_INFO_POPUP,t.text)},e.prototype.onExecute=function(t){var e=this;return t.isTerminating&&(t.shouldForceSpin=!0,this.regulationsModel.startSpinAfterPopup=!0,this.dispatcher.addListener(r.RegulationsEvent.AUTO_PLAY_INFO_OK,function(){e.regulationsModel.startSpinAfterPopup&&e.dispatcher.dispatch(a.BottomBarEvent.SPIN_CLICK),e.regulationsModel.startSpinAfterPopup=!1}).once()),t.isTerminating=!1,this.dispatchShowAutoPlayInfoPopup(),this.autoSpinsModel.deactivate(),new Promise(function(n){e.dispatcher.addListener(r.RegulationsEvent.AUTO_PLAY_INFO_OK,function(){n(t)}).once()})},e.prototype.getIsLossLimitReached=function(){return this.regulationsModel.getIsLossLimitReached()},e.prototype.getIsSingleWinReached=function(){return this.regulationsModel.getIsSingleWinReached()},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.guard=function(t){var e=this.regulationsModel;return this.autoSpinsModel.isActive&&this.getIsFreeGameJustEnded()&&!this.regulationsModel.isLimitPopupBlocked&&(e.getIsLossLimitReached()||e.getIsSingleWinReached())},e.prototype.onExecute=function(t){var e=this;return this.dispatchShowAutoPlayInfoPopup(),this.autoSpinsModel.deactivate(),new Promise(function(n){e.dispatcher.addListener(o.RegulationsEvent.AUTO_PLAY_INFO_OK,function(){n(t)}).once()})},e}(r.ShowAutoPlayLimitPopupAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(3),a=n(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.regulationsModel=n.i(o.inject)(a.RegulationsModel),e.gameDataModel=n.i(o.inject)(a.GameDataModel),e.contentManager=n.i(o.inject)(o.ContentManager),e.autoSpinsModel=n.i(o.inject)(r.AutoSpinsModel),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.freeGamesModel=n.i(o.inject)(r.FreeGamesModel),e.betHelper=n.i(o.inject)(a.BetHelper),e.winManager=n.i(o.inject)(r.WinManager),e.context=n.i(o.inject)(a.ContextModel).context,e}return i.a(e,t),e.prototype.guard=function(t){return this.autoSpinsModel.isActive&&!this.regulationsModel.isLimitPopupBlocked&&!this.getIsFreeGame()&&(this.regulationsModel.getIsLossLimitReached()||this.regulationsModel.getIsSingleWinReached())},e.prototype.getIsFreeGame=function(){return this.freeGamesModel.isFreeSpinsActive||this.freeGamesModel.isJustWon||this.getIsFreeGameJustEnded()},e.prototype.getIsFreeGameJustEnded=function(){return 0===this.freeGamesModel.freeSpinsCount&&this.freeGamesModel.totalFreeSpinsCount>0},e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.mainResolve=n,e.mainActionInfo=t,e.dispatcher.addListener(a.RegulationsEvent.AUTO_PLAY_INFO_CANCEL,e.readyToResolve,e),e.dispatcher.addListener(a.RegulationsEvent.AUTO_PLAY_INFO_OK,e.readyToResolve,e)})},e.prototype.readyToResolve=function(){this.dispatcher.removeListeners(a.RegulationsEvent.AUTO_PLAY_INFO_CANCEL,this),this.dispatcher.removeListeners(a.RegulationsEvent.AUTO_PLAY_INFO_OK,this),this.mainResolve(this.mainActionInfo)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SKIP_SECOND_LINE_ACTION:"RegulationsEvent.SKIP_SECOND_LINE_ACTION"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onShowAutoPlaySettingsPopup=function(){t.prototype.onShowAutoPlaySettingsPopup.call(this),this.setUIEnable(!1)},e.prototype.onShowAutoInfoPopup=function(e){t.prototype.onShowAutoInfoPopup.call(this,e),this.setUIEnable(!1)},e.prototype.autoPlayLimitPopupClosedCallback=function(){t.prototype.autoPlayLimitPopupClosedCallback.call(this),this.setUIEnable(!0)},e.prototype.autoPlayInfoPopupOkCallback=function(){t.prototype.autoPlayInfoPopupOkCallback.call(this),this.setUIEnable(!0)},e.prototype.setUIEnable=function(t){this.dispatcher.dispatch(o.UIEvent.CHANGE_UI,{info:t,auto:t,turbo:t,bets:t,wrapperMainMenu:t,wrapperGamesMenu:t,spin:{enabled:t,rotate:t}})},e}(o.RegulationsManager)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(2),r=n(1),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameDataModel=n.i(r.inject)(o.GameDataModel),e.autoSpinsModel=n.i(r.inject)(a.AutoSpinsModel),e.freeGamesModel=n.i(r.inject)(a.FreeGamesModel),e.betHelper=n.i(r.inject)(o.BetHelper),e.context=n.i(r.inject)(o.ContextModel).context,e}return i.a(e,t),e.prototype.getIsLossLimitReached=function(){if(this.autoSpinsModel.isActive&&this.regulationsConfig.autoPlayLossLimitEnabled){return this.userBalanceWhenAutoPlayStarted-this.contextModel.context.api.getBalance()+this.betHelper.getTotalBet()>this.lossLimit}return!1},e.prototype.getIsSingleWinReached=function(){return!!(this.autoSpinsModel.isActive&&this.regulationsConfig.autoPlaySingleWinLimitEnabled&&this.singleWinLimit>0)&&(this.getIsFreeGameJustEnded()?this.freeGamesModel.freeSpinsTotalWin>this.singleWinLimit:this.gameDataModel.totalWinning>this.singleWinLimit)},e.prototype.getIsFreeGameJustEnded=function(){return 0===this.freeGamesModel.freeSpinsCount&&this.freeGamesModel.totalFreeSpinsCount>0},e}(o.RegulationsModel)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(r.SlotRenderManager).asSingleton().forceCreation()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(1),o=n(4),r=n(2),a=n(3),s=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.slotModel=n.i(i.inject)(r.SlotModel),this.autoPlayModeModel=n.i(i.inject)(r.AutoPlayModeModel),this.renderManager=n.i(i.inject)(o.b),this.winActionsModel=n.i(i.inject)(a.WinActionsModel),this.init()}return t.prototype.init=function(){this.addListeners()},t.prototype.addListeners=function(){this.dispatcher.addListener(r.SlotModelEvent.SPINNING_CHANGE,this.onChange,this),this.dispatcher.addListener(r.AutoPlayModeEvent.AUTO_PLAY_MODE_CHANGE,this.onChange,this),this.dispatcher.addListener(a.WinActionsModelEvent.WIN_ACTIONS_ACTIVE_CHANGE,this.onChange,this),this.dispatcher.addListener(a.WinActionsModelEvent.CURRENT_WINNING_ACTION_CHANGE,this.onChange,this)},t.prototype.onChange=function(){var t=!1;this.winActionsModel.winActionsActive&&this.winActionsModel.currentWinningAction&&(this.winActionsModel.currentWinningAction.blockRender||(t=!0)),this.slotModel.isSpinning||this.autoPlayModeModel.autoSpinAllowed||t?this.renderManager.addRenderForceLock(this):this.renderManager.removeRenderForceLock(this)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(4),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjection=function(e){t.prototype.addInjection.call(this,e),e.bind(o.x).to(r.SpineProviderMark2)},e}(o.s)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(){this.cache={},this.loader=n.i(i.inject)(i.ApplicationAssetsLoader),this.loadData={},this.extensionList=[".png",".jpg",".jpeg"],this.init()}return t.prototype.init=function(){this.loader.addListener(i.SBResourceEvent.LOADED,this.onLoad,this)},t.prototype.get=function(t){return this.cache[t]||(this.cache[t]=this.parseData(t)),this.cache[t]},t.prototype.onLoad=function(t){8===t.loader.type()&&(this.loadData[t.id]=t.loader.data)},t.prototype.parseData=function(t){var e=this;if(!this.loadData[t])throw Error("No spine with id "+t);for(var n=this.loadData[t],i=new PIXI.spine.core.TextureAtlas(null,null,null),o=0,r=Object.keys(n.skins.default);o<r.length;o++){var a=r[o];Object.keys(n.skins.default[a]).forEach(function(n){var o=e.getTextureFromCache(n);if(!o){if(n=t.substr(0,t.lastIndexOf("/"))+"_"+n,!(o=e.getTextureFromCache(n)))throw Error("Can't find texture "+n+" in TextureCache")}i.addTexture(n,o)})}var s=new PIXI.spine.core.AtlasAttachmentLoader(i);return new PIXI.spine.core.SkeletonJson(s).readSkeletonData(n)},t.prototype.getTextureFromCache=function(t){for(var e,n=0,i=this.extensionList;n<i.length;n++){var o=i[n];if(e=PIXI.utils.TextureCache[t+o])return e}return e},t}()},function(t,e,n){"use strict";var i=n(0),o=n(4),r=n(2),a=n(3);!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjection.call(this,e),e.bind(o.a).to(a.ScenesManagerMark2)}}(r.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(4),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.render=n.i(o.inject)(r.b),e}return i.a(e,t),e.prototype.changeBackground=function(e,n){n?(this.currentScene.setCurrentBackground(e),this.render.render()):t.prototype.changeBackground.call(this,e)},Object.defineProperty(e.prototype,"currentSceneMark2",{get:function(){return this.currentSceneMark2},enumerable:!0,configurable:!0}),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(e){t.prototype.addInjectionWithLayout.call(this,e),e.bind(o.ServerService).to(r.ServerServiceMark2).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(1),a=function(t){function e(){var e=t.call(this,n.i(r.inject)(o.ContextModel).context.api)||this;return e.serverModels.reverse(),e}return i.a(e,t),e}(o.ServerService)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjection=function(e){t.prototype.addInjection.call(this,e),e.bind(o.SymbolAnimationsMediator).to(r.SymbolAnimationsMediatorMark2),e.bind(o.SymbolAnimationsView).to(r.SymbolAnimationsViewMark2),e.bind(r.SymbolAnimationManager)},e}(o.SymbolsModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={ACTIVE_ANIMATION_CONTAINER:"activeAnimationsView"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SKIP_LANDING_SYMBOL_ANIMATIONS:"SKIP_LANDING_SYMBOL_ANIMATIONS"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher)}return t.prototype.showSymbolAnimation=function(t,e){this.dispatcher.dispatch(o.SymbolAnimationEvents.HIDE_SYMBOL_ANIMATION,t),this.dispatcher.removeListeners(o.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION_COMPLETE,this),this.dispatcher.addListener(o.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION_COMPLETE,e).once(),this.dispatcher.dispatch(o.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION,t)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.viewMark2=n.i(o.inject)(r.SymbolAnimationsView),e.init(),e}return i.a(e,t),e.prototype.init=function(){this.addListeners()},e.prototype.addListeners=function(){this.dispatcher.addListener(a.SymbolAnimationEventsMark2.SKIP_LANDING_SYMBOL_ANIMATIONS,this.skipLandingAnimation,this),this.dispatcher.addListener(a.ShowWinningEvents.SHOW_WINNING_FRAMES,this.showWinningFrames,this),this.dispatcher.addListener(a.ShowWinningEvents.HIDE_ALL_WINNING_FRAMES,this.hideWinningFrames,this)},e.prototype.skipLandingAnimation=function(t){this.viewMark2.skipLandingSymbolAnimation(t)},e.prototype.showWinningFrames=function(t){this.viewMark2.moveSymbolsToTop(t.winningSymbols)},e.prototype.hideWinningFrames=function(){this.viewMark2.moveSymbolsToBottom()},e.prototype.removeListeners=function(){this.dispatcher.removeListeners(a.SymbolAnimationEventsMark2.SKIP_LANDING_SYMBOL_ANIMATIONS,this),this.dispatcher.removeListeners(a.ShowWinningEvents.HIDE_ALL_WINNING_FRAMES,this),this.dispatcher.removeListeners(a.ShowWinningEvents.SHOW_WINNING_FRAMES,this)},e.prototype.destroy=function(){this.removeListeners(),t.prototype.destroy.call(this)},e}(r.SymbolAnimationsMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={WINNING:"",LANDING:"landing",STATIC:"static",TURBO:"turbo",FREE_GAMES:"freeGames",FREE_GAMES_START:"freeGames_start",START:"start",STOP:"stop",ANTICIPATION:"anticipation",ANTICIPATION_START:"anticipation_start",OUT:"out"}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(2),a=n(4),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameDataModel=n.i(o.inject)(r.GameDataModel),e.loadManager=n.i(o.inject)(o.LoadManager),e.defaultPivotPoint=new a.e(0,0),e.tweenConteiner=[],e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.activeAnimationContainer=this.parent.getChildByName(s.SymbolsConstantsMark2.ACTIVE_ANIMATION_CONTAINER)},e.prototype.skipLandingSymbolAnimation=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e],o=this.getAnimationForPosition(i.reelIndex,i.lineIndex);if(o)for(var r=0,s=o.displayObject.children;r<s.length;r++){var u=s[r];u instanceof a.k&&u.forceComplete()}}},e.prototype.moveSymbolsToTop=function(t){var e=this;t.forEach(function(t){var n=e.getAnimationForPosition(t.reelIndex,t.lineIndex);n&&e.activeAnimationContainer.addChild(n.displayObject)},this)},e.prototype.moveSymbolsToBottom=function(){var t=this;this.activeAnimationContainer.children.forEach(function(e){t.animationContainer.addChild(e)},this)},e.prototype.removeSingleAnimation=function(t){t.displayObject.parent&&(t.displayObject.pause(),t.displayObject.parent.removeChild(t.displayObject)),this.symbolManager.releaseSymbolView(t.symbolView),t.displayObject=null},e.prototype.playSymbolAnimation=function(t,e){var n=this.getAnimationForPosition(t.reelIndex,t.lineIndex),i=!0;n&&!n.data.allowChangesByOtherAnimations&&(i=!1);var o=!1;if(n||(o=!0,n=this.createSymbolAnimation(t)),i){var r=this.symbolPositionsModel.getPosition(new a.e(n.data.reelIndex,n.data.lineIndex));n.displayObject.x=r.x,n.displayObject.y=r.y,n.displayObject.setLoop(t.loop)}if(o&&(this.animationContainer.addChild(n.displayObject),this.symbolAnimationsDataList.push(n)),this.gameDataModel.isCurrentWinSymbol(t.reelIndex,t.lineIndex)){var s=this.getAnimationForPosition(t.reelIndex,t.lineIndex);this.activeAnimationContainer.addChild(s.displayObject)}return this.playAnimation(n,e)},e.prototype.playAnimation=function(e,n){return e.displayObject.pivot.copy(this.defaultPivotPoint),this.useStaticAnimations&&!n&&this.playStaticAnimation(e),t.prototype.playAnimation.call(this,e)},e.prototype.removeAllSymbolAnimations=function(e){if(this.tweenConteiner.length>0)for(var n=0;n<this.tweenConteiner.length;n++)this.tweenConteiner[n].kill();return this.tweenConteiner=[],t.prototype.removeAllSymbolAnimations.call(this,e)},e.prototype.playStaticAnimation=function(t){function e(){i.reverse()}function n(){i.restart()}t.displayObject.pivot.x=this.symbolWidth/2,t.displayObject.pivot.y=this.symbolHeight/2,t.displayObject.x=this.getCurrentPosition(t).x+t.displayObject.pivot.x,t.displayObject.y=this.getCurrentPosition(t).y+t.displayObject.pivot.y;var i=TweenLite.to(t.displayObject.scale,.4,{x:1.1,y:1.1,onComplete:e.bind(this),onReverseComplete:n.bind(this)});this.tweenConteiner.push(i)},e.prototype.getCurrentPosition=function(t){return this.symbolPositionsModel.getPosition(new a.e(t.data.reelIndex,t.data.lineIndex))},Object.defineProperty(e.prototype,"useStaticAnimations",{get:function(){return!this.loadManager.isLazyAssetsLoaded},enumerable:!0,configurable:!0}),e}(r.SymbolAnimationsView)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(e){var n=t.call(this,e)||this;return n.context=e,n}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(r.WinManager).forceCreation().asSingleton(),t.bind(r.WinActionsModel).asSingleton(),t.bind(o.SymbolPositionsModel).asSingleton(),t.bind(r.WinLinesView).asView().withId(r.WinActionsModuleConstants.layouts.winLinesView).bindMediator(r.WinLinesMediator),t.bind(r.WinFramesView).asView().withId(r.WinActionsModuleConstants.layouts.winFramesView).bindMediator(r.WinFramesMediator),t.bind(o.WinningPlayAction).to(r.DefaultWinningPlayAction).asSingleton(),t.bind(r.FiveOfAKindAction).asSingleton(),t.bind(r.MobileSpaghettiLineDisplayAction).asSingleton(),t.bind(r.FirstLineToggleCycleAction).asSingleton(),t.bind(r.SecondLineToggleCycleAction).asSingleton(),t.bind(r.ResetInfoMessageWinningAction).asSingleton(),t.bind(r.WinBoxInfoLabelWinningAction).asSingleton(),t.bind(r.WinBoxWinningAction).asSingleton(),t.bind(r.AfterFreeGamesWinBoxWinningAction).asSingleton(),t.bind(r.AfterFreeSpinsInitAllReelsAction).asSingleton(),t.bind(r.StartWinningSymbolsAnimationAction).asSingleton(),t.bind(r.StopWinningSymbolsAnimationAction).asSingleton(),t.bind(r.ShowWinLinesAndFramesAction).asSingleton(),t.bind(r.WinAnimationAction).asSingleton(),t.bind(r.StopWinAnimationAction).asSingleton(),t.bind(r.TurboModeWinAnimationAction).asSingleton(),t.bind(r.WaitForLandingAnimationCompleteAction).asSingleton(),t.bind(r.ScatterModel).asSingleton().forceCreation().asModel().serverModel(),t.bind(r.WinCappingAction).asSingleton(),t.bind(r.FreeGamesWinCappingAction).asSingleton()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.regulationsModel=n.i(o.inject)(r.RegulationsModel),e}return i.a(e,t),e.prototype.guard=function(t){return this.freeGamesModel.isJustEnd},e.prototype.onExecute=function(e){this.freeGamesModel.isJustEnd=!1;var n={};return n.spin={enabled:this.isSpinEnabled,mode:a.SpinButtonState.SPIN,rotate:!0},this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,n),t.prototype.onExecute.call(this,e)},Object.defineProperty(e.prototype,"isSpinEnabled",{get:function(){return!(!this.regulationsModel.isLimitPopupBlocked&&(this.regulationsModel.getIsSingleWinReached()||this.regulationsModel.getIsLossLimitReached()))},enumerable:!0,configurable:!0}),e.prototype.getWinAmountToShow=function(){return new a.ShowWinAmountVO(this.freeGamesModel.freeSpinsWin+this.freeGamesModel.initialFreeSpinWin,null,null,this.freeGamesModel.initialFreeSpinWin)},e.prototype.onActionIsTerminating=function(){this.startWinBoxAnimation()},e.prototype.addListeners=function(){var e=this;this.addListenersTimeout=setTimeout(function(){return t.prototype.addListeners.call(e)},0)},e.prototype.removeListeners=function(){clearTimeout(this.addListenersTimeout),t.prototype.removeListeners.call(this)},e.prototype.onTerminate=function(e){return e.shouldForceSpin=!0,t.prototype.onTerminate.call(this,e)},e}(a.WinBoxWinningAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e}return i.a(e,t),e.prototype.guard=function(t){return this.freeGamesModel.isJustEnd},e.prototype.onExecute=function(e){return this.reelSetId=r.ServerReelSetType.FREE_GAMES,t.prototype.onExecute.call(this,e)},e}(r.InitAllReelsAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(57),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ALL_WAYS_TOGGLE_MESSAGE_TYPE_NAME="wayWin",e}return i.a(e,t),e.prototype.showWinningLines=function(t,e){},e.prototype.getMessageType=function(){return this.ALL_WAYS_TOGGLE_MESSAGE_TYPE_NAME},e}(o.a)},function(t,e,n){"use strict";var i=n(0),o=n(1),r=n(3);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(o.inject)(r.FreeGamesModel),e}i.a(e,t),e.prototype.checkIfCanShowNextAnimation=function(){return!0},e.prototype.guard=function(t){var e=!0;return(t.isTerminating||this.getWinningRewards().length<=0||this.winManager.autoModeWinAnimationsAllowed||this.freeGamesModel.isFreeSpinsActive&&!this.freeGamesModel.isJustWon)&&(e=!1),e},e.prototype.getShowFrames=function(){return!0}}(r.AllWaysFirstLineToggleCycleAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e}return i.a(e,t),e.prototype.guard=function(t){return this.findFeatureSymbols().length>0},e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){var i=e.findFeatureSymbols();e.dispatcher.dispatch(a.MainScreenEvents.HIDE_OVERLAY);for(var o,s=[],u=i.length,l=0;l<u;l++){o=i[l];var c=new a.SymbolAnimationVO(""+o.symbolIndex,o.reelIndex,o.lineIndex,a.SymbolAnimationType.WINNING);s.push(new r.e(o.reelIndex,o.lineIndex)),e.dispatcher.dispatch(a.SymbolAnimationEvents.HIDE_SYMBOL_ANIMATION,c)}e.dispatcher.dispatch(a.Event.SHOW_REEL_SYMBOLS,s),n(t)})},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundsManager=n.i(o.inject)(o.SoundManager),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.getSoundId()&&e.soundsManager.playSound(e.getSoundId()),n(t)})},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.mainResolve=n,e.mainActionInfo=t,e.terminateResolve=null,e.terminateActionInfo=null,e.internalExecute()})},e.prototype.onTerminate=function(t){var e=this;return new Promise(function(n){e.terminateResolve=n,e.terminateActionInfo=t,e.internalTerminate()})},e.prototype.readyToFinish=function(){this.isTerminated?this.terminateResolve(this.terminateActionInfo):this.mainResolve(this.mainActionInfo)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.internalExecute(),n(t)})},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(4),a=n(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.symbolAnimationType=a.SymbolAnimationType.WINNING,e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){if(t.isTerminating)n(t);else{var i=e.findFeatureSymbols();if(i&&i.length>0){for(var o=[],s=void 0,u=i.length,l=0;l<u;l++){s=i[l];var c=new a.SymbolAnimationVO(""+s.symbolIndex,s.reelIndex,s.lineIndex,e.symbolAnimationType,!0);c.allowRemoveWithAllSymbols=!1,c.allowChangesByOtherAnimations=!1,e.dispatcher.dispatch(a.Event.HIDE_REEL_SYMBOLS,[new r.e(c.reelIndex,c.lineIndex)]),e.dispatcher.dispatch(a.SymbolAnimationEvents.HIDE_SYMBOL_ANIMATION,c),e.dispatcher.removeListeners(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION_COMPLETE,e),e.dispatcher.addListener(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION_COMPLETE,function(t){o.push(t)},e).once(),e.dispatcher.dispatch(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION,c)}Promise.all(o).then(function(){n(t)})}else n(t)}})},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(e){var i=t.call(this)||this;return i.api=e,i.autoSpinsModel=n.i(o.inject)(a.AutoSpinsModel),i.dispatcher=n.i(o.inject)(o.EventDispatcher),i}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return this.loadAssets().then(function(){return new Promise(function(n){e.autoSpinsModel.isUntilFeature&&e.autoSpinsModel.deactivate(),e.dispatcher.dispatch(r.UIEvent.CHANGE_UI,e.getUIConfig()),n(t)})})},e.prototype.loadAssets=function(){var t=this,e=n.i(o.inject)(o.LoadManager),i=this.getResourceId();return e.isResourcesLoaded(i)?Promise.resolve():(this.dispatcher.dispatch(a.PopupEvent.SHOW_LOADING_POPUP),this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,this.getDisabledUIConfig()),e.loadImmediately(i).then(function(){return t.dispatcher.dispatch(a.PopupEvent.HIDE_POPUP)}))},e.prototype.getUIConfig=function(){return{spin:{enabled:!0,mode:a.SpinButtonState.CLICK_TO_START,glow:!0},bets:!1,info:!1,auto:!1,turbo:!1,wrapperMainMenu:!1,wrapperGamesMenu:!1}},e.prototype.getDisabledUIConfig=function(){return{spin:{enabled:!1,glow:!1},bets:!1,info:!1,auto:!1,turbo:!1,wrapperMainMenu:!1,wrapperGamesMenu:!1}},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(2),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.soundsManager=n.i(o.inject)(o.SoundManager),e.winBoxModel=n.i(o.inject)(r.WinBoxModel),e}return i.a(e,t),e.prototype.onTerminate=function(e){return this.dispatcher.removeListeners(r.WinBoxModelEvent.TICKUP_ENDED,this),this.soundsManager.stopSound(this.getSoundId()),t.prototype.onTerminate.call(this,e)},e.prototype.onExecute=function(t){var e=this;return new Promise(function(t){e.findFeatureSymbols().length>0&&e.dispatcher.dispatch(r.MainScreenEvents.SHOW_OVERLAY),e.getSoundId()&&(e.winBoxModel.getIsTickupActive()?e.dispatcher.addListener(r.WinBoxModelEvent.TICKUP_ENDED,e.onWinTickupEnded,e):e.soundsManager.playSound(e.getSoundId(),-1))})},e.prototype.onWinTickupEnded=function(){this.getSoundId()&&this.soundsManager.playSound(this.getSoundId(),-1)},e}(o.Action)},function(t,e,n){"use strict";var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winManager=n.i(o.inject)(s.WinManager),e.gameDataModel=n.i(o.inject)(a.GameDataModel),e.rewardsModel=n.i(o.inject)(a.RewardsModel),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.autoPlayModeModel=n.i(o.inject)(a.AutoPlayModeModel),e.slotModel=n.i(o.inject)(a.SlotModel),e.contentManager=n.i(o.inject)(o.ContentManager),e.moneyFormatter=n.i(o.inject)(a.MoneyFormatterUtils),e.currentRewardIndex=0,e}i.a(e,t),e.prototype.onTerminate=function(e){return this.stopAllAnimations(),t.prototype.onTerminate.call(this,e)},e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.mainResolve=n,e.mainActionInfo=t,e.payRewards=e.getWinningRewards(),e.showWinAnimations()})},e.prototype.getWinningRewards=function(){return this.rewardsModel.getPayRewards([a.ServerRewardType.LINE,a.ServerRewardType.SCATTER])},e.prototype.readyToFinish=function(){this.stopAllAnimations(),this.mainResolve(this.mainActionInfo)},e.prototype.showWinAnimations=function(){this.dispatcher.dispatch(a.MainScreenEvents.SHOW_OVERLAY),s.WinUtils.sortRewardsForFirstLineWinningAction(this.payRewards,this.gameDataModel,this.slotModel.stopReelsSymbols),this.currentRewardIndex=-1,this.showNextWinAnimation()},e.prototype.showNextWinAnimation=function(){if(this.currentRewardIndex++,this.checkIfCanShowNextAnimation()){var t=this.currentRewardIndex%this.payRewards.length;this.showSingleWinAnimation(this.payRewards[t])}else this.readyToFinish()},e.prototype.showSingleWinAnimation=function(t){var e,n=this,i=[];if(t.type===a.ServerRewardType.LINE){var o=t,u=this.winManager.getLine(o.lineId);i.push(u);var l=this.gameDataModel.winningLinesConfig[o.lineId],c=a.LineUtils.getLineSymbolPositions(l,o.payoutSymbolsCount,o.direction);e=[];for(var d=void 0,p=c.length,h=0;h<p;h++)d=this.gameDataModel.slotState.getWinningSymbolAt(c[h].x,c[h].y),e.push(d);this.dispatcher.dispatch(a.InfoBarEvent.SHOW_MESSAGE,s.MessageFactoryMark2.createMessage(["lineWin"],[{lineNumber:o.lineId+1,money:this.moneyFormatter.formatNumber(o.value)}]))}else if(t.type===a.ServerRewardType.SCATTER){var f=t;e=[],f.positions.forEach(function(t){var i=n.gameDataModel.slotState.getWinningSymbolAt(t.x,t.y);e.push(i)}),this.dispatcher.dispatch(a.InfoBarEvent.SHOW_MESSAGE,s.MessageFactoryMark2.createMessage(["winScatters"],[{scattersCount:f.positions.length,value:this.moneyFormatter.formatNumber(f.value,{showCurrency:!0})}]))}var M=new s.WinningDataToShowVO(this.winManager.totalWin,i,e);this.dispatcher.dispatch(s.ShowWinningEvents.SHOW_WINNING_FRAMES,M),this.dispatcher.dispatch(s.ShowWinningEvents.SHOW_WINNING_LINES,M);var y=[];e.forEach(function(t){var e=new a.SymbolAnimationVO(""+t.symbolIndex,t.reelIndex,t.lineIndex,n.getSymbolAnimationType());n.dispatcher.dispatch(a.Event.HIDE_REEL_SYMBOLS,[new r.e(e.reelIndex,e.lineIndex)]),n.dispatcher.removeListeners(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION_COMPLETE,n),n.dispatcher.addListener(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION_COMPLETE,function(t){y.push(t)},n).once(),n.dispatcher.dispatch(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION,e)}),this.waitForSingleAnimationComplete(y)},e.prototype.onSingleAnimationComplete=function(){this.isTerminated||(this.stopSingleAnimation(),this.showNextWinAnimation())},e.prototype.stopAllAnimations=function(){this.stopSingleAnimation(),this.dispatcher.dispatch(a.MainScreenEvents.HIDE_OVERLAY)},e.prototype.stopSingleAnimation=function(){var t=this;this.dispatcher.dispatch(s.ShowWinningEvents.HIDE_ALL_WINNING_FRAMES),this.dispatcher.dispatch(s.ShowWinningEvents.HIDE_ALL_WINNING_LINES),this.dispatcher.removeListeners(a.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE,this),this.dispatcher.addListener(a.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE,function(e){t.dispatcher.dispatch(a.Event.SHOW_REEL_SYMBOLS,e)},this).once(),this.dispatcher.dispatch(a.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS,!1)}}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.actionManager=new a.ActionManagerMark2,e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.autoPlayModeModel=n.i(o.inject)(r.AutoPlayModeModel),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.bonusModel=n.i(o.inject)(a.BonusModel),e.winManager=n.i(o.inject)(a.WinManager),e.winActionsModel=n.i(o.inject)(a.WinActionsModel),e.terminating=!1,e.init(),e}return i.a(e,t),e.prototype.init=function(){for(var t=this,e=0,i=this.getActionSequence();e<i.length;e++){var r=i[e];r instanceof Function?this.actionManager.addAction(n.i(o.inject)(r)):this.actionManager.addAction(r)}this.actionManager.onStart=function(e){t.onActionManagerStart(e)},this.actionManager.onFinish=function(e){t.removeListeners()},this.actionManager.onChange=function(e){t.terminating=!1,t.winActionsModel.currentWinningAction=t.actionManager.getCurrentAction()}},e.prototype.onActionManagerStart=function(t){this.checkIsCanActivateSpinButton()&&this.dispatcher.dispatch(r.Event.ACTIVATE_SPIN),this.setListeners(t)},e.prototype.checkIsCanActivateSpinButton=function(){return!this.autoPlayModeModel.autoSpinAllowed},e.prototype.setListeners=function(t){var e=this;this.dispatcher.addListener(a.BottomBarEvent.READY_TO_SPIN,function(){e.terminating||(e.terminating=!0,e.actionManager.terminate(),e.freeGamesModel.isJustEnd||e.bonusModel.isJustWon||(t.shouldForceSpin=!0))},this)},e.prototype.removeListeners=function(){this.dispatcher.removeListeners(a.BottomBarEvent.READY_TO_SPIN,this),this.terminating=!1},e.prototype.isTerminable=function(){return!1},e.prototype.onExecute=function(t){var e=this;return this.winManager.updateState(),this.winActionsModel.winActionsActive=!0,new Promise(function(n){e.actionManager.startAsync(Object.assign(t,{isTerminating:!1})).then(function(){e.winActionsModel.winActionsActive=!1,e.winActionsModel.currentWinningAction=null,n(t)})})},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=t.call(this)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.gameDataModel=n.i(o.inject)(a.GameDataModel),e.rewardsModel=n.i(o.inject)(a.RewardsModel),e.scenesManager=n.i(o.inject)(r.a),e.winManager=n.i(o.inject)(s.WinManager),e.turboModeModel=n.i(o.inject)(a.TurboModeModel),e.autoSpinsModel=n.i(o.inject)(s.AutoSpinsModel),e.autoPlayModeModel=n.i(o.inject)(a.AutoPlayModeModel),e.freeGamesModel=n.i(o.inject)(s.FreeGamesModel),e.slotModel=n.i(o.inject)(a.SlotModel),e.loadManager=n.i(o.inject)(o.LoadManager),e.regulationsModel=n.i(o.inject)(a.RegulationsModel),e.context=n.i(o.inject)(a.ContextModel).context,e.init(),e}return i.a(e,t),e.prototype.init=function(){this.api=this.context.api,this.slotParameters=this.context.slotParameters},e.prototype.guard=function(t){var e=!1;if(!t.isTerminating&&this.gameDataModel.isFullLineWon){var n=this.winManager.isBigWin||this.winManager.isMegaWin;!this.check5OAKHasBiggestWin()||this.turboModeModel.isActive&&!n||(e=!0)}return!this.loadManager.isResourcesLoaded(s.ResourceIdMark2.FIVE_OF_A_KIND_GROUP)&&this.slotParameters.skipDwbIfNotLoaded&&(e=!1),e},e.prototype.check5OAKHasBiggestWin=function(){var t=this.getWinningRewards().concat();return s.WinUtils.sortRewardsForFirstLineWinningAction(t,this.gameDataModel,this.slotModel.stopReelsSymbols),t[0].payoutSymbolsCount>=this.slotModel.getSlotConfig().reelsCount},e.prototype.getWinningRewards=function(){return this.rewardsModel.getPayRewards([a.ServerRewardType.LINE,a.ServerRewardType.SCATTER])},e.prototype.onExecute=function(t){var e=this;return this.startAnim(),new Promise(function(n){e.dispatcher.addListener(a.FiveOfKindEvents.FIVE_OF_A_KIND_ANIMATION_COMPLETE,function(){e.onAnimComplete(),n(t)},e)})},e.prototype.onTerminate=function(e){return this.isAnimSkipped=!0,this.onAnimComplete(),t.prototype.onTerminate.call(this,e)},e.prototype.startAnim=function(){var t=this;this.isAnimSkipped=!1,this.dispatcher.dispatch(a.FiveOfKindEvents.SHOW_FIVE_OF_A_KIND),this.dispatcher.removeListeners(a.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS_COMPLETE,this),this.dispatcher.addListener(a.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS_COMPLETE,function(e){t.dispatcher.dispatch(a.Event.SHOW_REEL_SYMBOLS,e)},this).once(),this.dispatcher.dispatch(a.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS,!0),this.setStartAnimationUI(),this.loadManager.isResourcesLoaded(s.ResourceIdMark2.FIVE_OF_A_KIND_GROUP)?this.addView():(this.dispatcher.dispatch(s.PopupEvent.SHOW_LOADING_POPUP),this.loadManager.loadImmediately(s.ResourceIdMark2.FIVE_OF_A_KIND_GROUP).then(function(){t.dispatcher.dispatch(s.PopupEvent.HIDE_POPUP),t.addView(),t.setStartAnimationUI()}))},e.prototype.getStartAnimUIConfig=function(){var t={auto:!1,bets:!1,info:!1,turbo:!1,wrapperMainMenu:!1,wrapperGamesMenu:!1};return 0===this.freeGamesModel.freeSpinsCount&&this.freeGamesModel.isFreeSpinsActive?t.spin={enabled:!1,mode:s.SpinButtonState.STOP,rotate:!1,glow:!1}:this.loadManager.isResourcesLoaded(s.ResourceIdMark2.FIVE_OF_A_KIND_GROUP)?t.spin={enabled:this.lockSpinUntilFiveOfAKind(),mode:s.SpinButtonState.SPIN,rotate:!0,glow:!1}:t.spin={enabled:this.lockSpinUntilFiveOfAKind(),mode:s.SpinButtonState.SPIN,rotate:!1,glow:!1},t},e.prototype.lockSpinUntilFiveOfAKind=function(){return!(this.freeGamesModel.isJustWon||!this.regulationsModel.isLimitPopupBlocked&&(this.regulationsModel.getIsSingleWinReached()||this.regulationsModel.getIsLossLimitReached()))},e.prototype.setStartAnimationUI=function(){this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,this.getStartAnimUIConfig())},e.prototype.addView=function(){this.scenesManager.createPopupByLayoutId(s.FiveOfAKindModuleConstant.layouts.fiveOfAKind)},e.prototype.onAnimComplete=function(){this.dispatcher.removeListeners(a.FiveOfKindEvents.FIVE_OF_A_KIND_ANIMATION_COMPLETE,this),this.dispatcher.dispatch(a.UIEvent.CHANGE_UI,this.getAnimCompleteUIConfig()),this.scenesManager.removePopupById(s.FiveOfAKindModuleConstant.layouts.fiveOfAKind,!0)},e.prototype.getAnimCompleteUIConfig=function(){var t={};return this.autoPlayModeModel.autoSpinAllowed||this.freeGamesModel.isJustEnd||this.freeGamesModel.isJustWon?(t.bets=!1,t.info=!1,t.turbo=!1,t.wrapperMainMenu=!1,t.wrapperGamesMenu=!1,this.autoSpinsModel.isActive&&this.freeGamesModel.freeSpinsCount<=0&&!this.freeGamesModel.isJustEnd&&(t.auto=!0)):(this.dispatcher.dispatch(s.WinBoxEvents.TOGGLE_WIN_BOX_LABELS,[s.WinBoxMessageTypes.GOOD_LUCK,s.WinBoxMessageTypes.CLICK_TO_SPIN]),t.bets=!0,t.info=!0,t.turbo=!0,t.wrapperMainMenu=!0,t.wrapperGamesMenu=!0,t.auto=!0),t},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.guard=function(){return this.freeGamesModel.isFreeSpinsActive&&this.slotModelMark2.isWinCappingTriggered},e}(o.WinCappingAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.winManager=n.i(o.inject)(s.WinManager),e.gameDataModel=n.i(o.inject)(a.GameDataModel),e.autoPlayModeModel=n.i(o.inject)(a.AutoPlayModeModel),e.slotModel=n.i(o.inject)(a.SlotModel),e.rewardsModel=n.i(o.inject)(a.RewardsModel),e.soundManager=n.i(o.inject)(o.SoundManager),e.turboModeModel=n.i(o.inject)(a.TurboModeModel),e.betHelper=n.i(o.inject)(a.BetHelper),e.currentLineIndex=0,e}return i.a(e,t),e.prototype.guard=function(t){return!1},e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){if(e.mainResolve=n,e.actionInfo=t,e.gameDataModel.isFullLineWon&&!e.winManager.isRegularWin&&e.dispatcher.dispatch(a.UIEvent.CHANGE_UI,{spin:{enabled:!1,rotate:!1}}),e.slotModel.getSlotConfig().allWays||e.turboModeModel.isActive&&e.winManager.isRegularWin)e.showAllLines();else{var i=e.getSortedWinningLines().length,o=e.calculateLineDisplayInterval(i);e.playingSoundName=e.getSoundName(i),e.soundManager.playSound(e.playingSoundName),e.showLinesInSpaghettiMode(o,function(){e.onAllLinesShown()})}})},e.prototype.onAllLinesShown=function(){this.winManager.autoModeWinAnimationsAllowed&&this.winManager.isRegularWin?this.startWinTickup():this.endExecution(e.SWITCH_TO_NEXT_ACTION_DELAY)},e.prototype.startWinTickup=function(){var t=this,n=e.TURBO_MODE_TICKUP_TIME;this.turboModeModel.isActive||(n=s.WinUtils.getWinTickupTime(this.winManager.totalWin,this.betHelper.getTotalBet()));var i=0;this.autoPlayModeModel.autoModeWinAnimationsAllowed&&(i=e.AUTO_MODE_HIDE_DELAY),this.autoModeTimeout=setTimeout(function(){return t.endExecution()},1e3*(n+i)),this.dispatcher.dispatch(s.WinBoxEvents.SHOW_WIN_AMOUNT,new s.ShowWinAmountVO(this.winManager.totalWin,n))},e.prototype.endExecution=function(t){var e=this;void 0===t&&(t=0),this.cancelWinningsDisplay(),this.switchToNextActionTimeout=setTimeout(function(){return e.mainResolve(e.actionInfo)},t)},e.prototype.onTerminate=function(t){var e=this;return new Promise(function(n){clearTimeout(e.switchToNextActionTimeout),clearTimeout(e.autoModeTimeout),e.cancelWinningsDisplay(),e.playingSoundName&&e.soundManager.stopSound(e.playingSoundName),e.playingSoundName=null,n(t)})},e.prototype.getSortedWinningLines=function(){return this.winManager.winLines.map(function(t){return t}).sort(function(t,e){return t.lineIndex-e.lineIndex})},e.prototype.dispatchShowWinningLine=function(t){this.dispatcher.dispatch(s.ShowWinningEvents.SHOW_WINNING_LINES,t)},e.prototype.getNextWinningLine=function(){var t=this.getSortedWinningLines();if(this.currentLineIndex<t.length){var e=this.currentLineIndex;return this.currentLineIndex++,t[e]}return null},e.prototype.showLinesInSpaghettiMode=function(t,e){var n=this,i=this.getNextWinningLine();i?(this.dispatchShowWinningLine(new s.WinningDataToShowVO(this.winManager.totalWin,[i],[],!1)),this.winningsDisplayTimeout=setTimeout(function(){return n.showLinesInSpaghettiMode(t,e)},t)):this.gameDataModel.hasScatterWinnings()?(this.showStaticWinningSymbols(this.getScattersSymbols()),this.autoPlayModeModel.autoModeWinAnimationsAllowed&&this.showReelsOverlayForOnlyScattersWinning(),this.winningsDisplayTimeout=setTimeout(function(){return e()},t)):e()},e.prototype.showAllLines=function(){var t=new s.WinningDataToShowVO(this.winManager.totalWin,this.winManager.winLines,[],!1);this.dispatchShowWinningLine(t),this.slotModel.getSlotConfig().allWays&&(this.showStaticWinningSymbols(this.gameDataModel.slotState.getWinningLineSymbols()),this.dispatcher.dispatch(a.MainScreenEvents.SHOW_OVERLAY)),this.showStaticWinningSymbols(this.getScattersSymbols()),this.showReelsOverlayForOnlyScattersWinning(),this.winManager.isRegularWin?this.startWinTickup():this.endExecution()},e.prototype.showReelsOverlayForOnlyScattersWinning=function(){this.winManager.winLines.length||this.slotModel.getSlotConfig().allWays||this.dispatcher.dispatch(a.MainScreenEvents.SHOW_OVERLAY)},e.prototype.showStaticWinningSymbols=function(t){var e=this,n=new s.WinningDataToShowVO(this.winManager.totalWin,[],t,!1);this.dispatcher.dispatch(s.ShowWinningEvents.SHOW_WINNING_FRAMES,n),t.forEach(function(t){var n=new a.SymbolAnimationVO(""+t.symbolIndex,t.reelIndex,t.lineIndex,a.SymbolAnimationType.STATIC);e.dispatcher.dispatch(a.Event.HIDE_REEL_SYMBOLS,[new r.e(n.reelIndex,n.lineIndex)]),e.dispatcher.dispatch(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION,n)})},e.prototype.getScattersSymbols=function(){return this.gameDataModel.slotState.getWinningScatterSymbols()},e.prototype.cancelWinningsDisplay=function(){var t=this;this.currentLineIndex=0,clearTimeout(this.winningsDisplayTimeout),this.dispatcher.dispatch(s.ShowWinningEvents.HIDE_ALL_WINNING_FRAMES);var n=e.DEFAULT_LINE_FADEOUT_TIME;this.autoPlayModeModel.autoModeWinAnimationsAllowed&&(n=e.AUTO_MODE_LINE_FADEOUT_TIME),this.dispatcher.dispatch(s.ShowWinningEvents.HIDE_ALL_WINNING_LINES,n),this.dispatcher.removeListeners(a.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE,this),this.dispatcher.addListener(a.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE,function(e){t.dispatcher.dispatch(a.Event.SHOW_REEL_SYMBOLS,e)},this),this.dispatcher.dispatch(a.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS,!1),this.dispatcher.dispatch(a.MainScreenEvents.HIDE_OVERLAY)},e.prototype.getSoundName=function(t){return t<4?e.SOUND_NAME_PREFIX+"1-3":t>8&&t<16?e.SOUND_NAME_PREFIX+"9-15":e.SOUND_NAME_PREFIX+""+Math.min(t,16)},e.prototype.calculateLineDisplayInterval=function(t){var e=[280,280,280,300,320,340,600,700,1350,1350,1350,1350,1350,1350,1350,2050];return e[(t>16?16:t)-1]/t},e.AUTO_MODE_LINE_FADEOUT_TIME=.3,e.DEFAULT_LINE_FADEOUT_TIME=.5,e.SWITCH_TO_NEXT_ACTION_DELAY=200,e.TURBO_MODE_TICKUP_TIME=.5,e.AUTO_MODE_HIDE_DELAY=.5,e.SOUND_NAME_PREFIX="SPAGHETTI_",e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.winManager=n.i(o.inject)(a.WinManager),e}return i.a(e,t),e.prototype.guard=function(t){var e=!1;return this.winManager.totalWin>0&&(e=!0),e},e.prototype.onExecute=function(t){return this.dispatcher.dispatch(r.InfoBarEvent.SHOW_MESSAGE,a.MessageFactoryMark2.createMessage([""])),Promise.resolve(t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bonusModel=n.i(o.inject)(r.BonusModel),e.winActionModel=n.i(o.inject)(r.WinActionsModel),e.autoSpinsModel=n.i(o.inject)(r.AutoSpinsModel),e.freeGamesModel=n.i(o.inject)(r.FreeGamesModel),e}return i.a(e,t),e.prototype.checkIfCanShowNextAnimation=function(){return!0},e.prototype.guard=function(t){var e=!0,n=this.getWinningRewards();return(t.isTerminating||this.winManager.isRegularWin&&this.turboModeModel.isActive&&this.autoSpinsModel.isActive||this.winActionModel.isSymbolAnimationComplete&&(this.autoSpinsModel.isActive||this.freeGamesModel.isFreeSpinsActive)||n.length<=0||this.bonusModel.isJustWon)&&(e=!1),e},e.prototype.onWinBoxActionComplete=function(){this.readyToFinish()},e.prototype.addListeners=function(){(this.autoSpinsModel.isActive||this.freeGamesModel.isFreeSpinsActive)&&this.dispatcher.addListener(r.RegulationsEventMark2.SKIP_SECOND_LINE_ACTION,this.onWinBoxActionComplete,this),t.prototype.addListeners.call(this)},e.prototype.removeListeners=function(){this.dispatcher.removeListener(r.RegulationsEventMark2.SKIP_SECOND_LINE_ACTION,this.onWinBoxActionComplete,this),t.prototype.removeListeners.call(this)},e.prototype.getShowFrames=function(){return!0},e}(r.FirstLineToggleCycleAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winManager=n.i(o.inject)(a.WinManager),e.rewardsModel=n.i(o.inject)(r.RewardsModel),e.gameDataModel=n.i(o.inject)(r.GameDataModel),e.slotModel=n.i(o.inject)(r.SlotModel),e.soundsManager=n.i(o.inject)(o.SoundManager),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.slotViewModel=n.i(o.inject)(r.SlotViewModel),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.autoSpinsModel=n.i(o.inject)(a.AutoSpinsModel),e.moneyFormatter=n.i(o.inject)(r.MoneyFormatterUtils),e.currentRewardIndex=0,e.isMuted=!1,e}return i.a(e,t),e.prototype.guard=function(t){return this.winManager.totalWin>0&&!t.isTerminating},e.prototype.isTerminable=function(){return!0},e.prototype.pause=function(){clearTimeout(this.toggleTimeout),this.hideLinesAndFrames()},e.prototype.resume=function(){var t=this.getRewardByIndex(this.getNextRewardIndex());this.showNextLineAnimation(t)},e.prototype.pauseSounds=function(){this.isMuted=!0,this.stopToggleSound()},e.prototype.resumeSounds=function(){this.isMuted=!1},e.prototype.onExecute=function(t){var e=this;return new Promise(function(){e.rewards=e.getRewards(),e.showWinLinesAndFrames(e.rewards)})},e.prototype.onTerminate=function(e){return clearTimeout(this.toggleTimeout),this.hideLinesAndFrames(),this.stopToggleSound(),t.prototype.onTerminate.call(this,e)},e.prototype.getRewards=function(){return this.rewardsModel.getPayRewards([r.ServerRewardType.LINE,r.ServerRewardType.SCATTER])},e.prototype.showWinLinesAndFrames=function(t){a.WinUtils.sortRewardsForFirstLineWinningAction(t,this.gameDataModel,this.slotModel.stopReelsSymbols),this.currentRewardIndex=0;var e=this.getRewardByIndex(this.currentRewardIndex);this.showNextLineAnimation(e)},e.prototype.showNextLineAnimation=function(t){var e,n,i=this;switch(t.type){case r.ServerRewardType.LINE:var o=t;n=[this.winManager.getLine(o.lineId)],e=this.getLineSymbols(o),this.setLineInfoMessage(o);break;case r.ServerRewardType.SCATTER:var s=t;n=[],e=this.getScatterSymbols(s),this.setScattersInfoMessage(s);break;default:n=[],e=[]}var u=new a.WinningDataToShowVO(this.winManager.totalWin,n,e);this.dispatcher.dispatch(a.ShowWinningEvents.SHOW_WINNING_FRAMES,u),this.dispatcher.dispatch(a.ShowWinningEvents.SHOW_WINNING_LINES,u);var l;l=this.autoSpinsModel.isActive||this.freeGamesModel.isFreeSpinsActive?a.WinActionsModuleConstants.timings.fgLineToggleDelay:a.WinActionsModuleConstants.timings.lineToggleDelay,this.toggleTimeout=setTimeout(function(){i.onRewardToggleComplete()},l)},e.prototype.onRewardToggleComplete=function(){if(clearTimeout(this.toggleTimeout),this.rewards.length>1){this.hideLinesAndFrames(),this.playToggleSound();var t=this.getRewardByIndex(this.getNextRewardIndex());this.showNextLineAnimation(t)}},e.prototype.getNextRewardIndex=function(){return this.currentRewardIndex++,this.currentRewardIndex===this.rewards.length&&(this.currentRewardIndex=0),this.currentRewardIndex},e.prototype.getRewardByIndex=function(t){return this.rewards[t]},e.prototype.playToggleSound=function(){this.isMuted||this.slotViewModel.isPaytableOpen||this.soundsManager.playSound(a.WinActionsModuleConstants.sounds.LINE_TOGGLE)},e.prototype.stopToggleSound=function(){this.soundsManager.stopSound(a.WinActionsModuleConstants.sounds.LINE_TOGGLE)},e.prototype.hideLinesAndFrames=function(){this.dispatcher.dispatch(a.ShowWinningEvents.HIDE_ALL_WINNING_FRAMES),this.dispatcher.dispatch(a.ShowWinningEvents.HIDE_ALL_WINNING_LINES)},e.prototype.getScatterSymbols=function(t){var e,n=this,i=[];return t.positions.forEach(function(t){e=n.gameDataModel.slotState.getWinningSymbolAt(t.x,t.y),i.push(e)}),i},e.prototype.getLineSymbols=function(t){for(var e,n=[],i=this.gameDataModel.winningLinesConfig[t.lineId],o=r.LineUtils.getLineSymbolPositions(i,t.payoutSymbolsCount,t.direction),a=o.length,s=0;s<a;s++)e=this.gameDataModel.slotState.getWinningSymbolAt(o[s].x,o[s].y),n.push(e);return n},e.prototype.setLineInfoMessage=function(t){this.dispatcher.dispatch(r.InfoBarEvent.SHOW_MESSAGE,a.MessageFactoryMark2.createMessage(["lineWin"],[{lineNumber:t.lineId+1,money:this.moneyFormatter.formatNumber(t.value)}]))},e.prototype.setScattersInfoMessage=function(t){this.dispatcher.dispatch(a.InfoBarEventMark2.SHOW_MESSAGE,a.MessageFactoryMark2.createMessage(["winScatters"],[{scattersCount:t.payoutSymbolsCount+1,value:this.moneyFormatter.formatNumber(t.value,{showCurrency:!0})}]))},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(e){var i=t.call(this)||this;return i.api=e,i.winManager=n.i(o.inject)(s.WinManager),i.dispatcher=n.i(o.inject)(o.EventDispatcher),i.gameDataModel=n.i(o.inject)(a.GameDataModel),i}return i.a(e,t),e.prototype.guard=function(t){return this.winManager.totalWin>0&&!t.isTerminating},e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){e.startSymbolAnimations(),n(t)})},e.prototype.startSymbolAnimations=function(){var t=this;this.dispatcher.dispatch(a.MainScreenEvents.SHOW_OVERLAY),this.gameDataModel.slotState.getAllWinningSymbols().forEach(function(e){var n=new a.SymbolAnimationVO(""+e.symbolIndex,e.reelIndex,e.lineIndex,a.SymbolAnimationType.WINNING,!0);t.dispatcher.dispatch(a.Event.HIDE_REEL_SYMBOLS,[new r.e(n.reelIndex,n.lineIndex)]),t.dispatcher.dispatch(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION,n)})},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.autoSpinsModel=n.i(o.inject)(a.AutoSpinsModel),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.bonusModel=n.i(o.inject)(a.BonusModel),e}return i.a(e,t),e.prototype.guard=function(t){return this.autoSpinsModel.isActive||this.freeGamesModel.isFreeSpinsActive||this.bonusModel.isJustWon},e.prototype.onTerminate=function(e){return this.stopAllAnimations(),t.prototype.onTerminate.call(this,e)},e.prototype.onExecute=function(t){return this.stopAllAnimations(),Promise.resolve(t)},e.prototype.stopAllAnimations=function(){var t=this;this.dispatcher.removeListeners(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE,this),this.dispatcher.addListener(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS_COMPLETE,function(e){t.dispatcher.dispatch(r.Event.SHOW_REEL_SYMBOLS,e)},this).once(),this.dispatcher.dispatch(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS,!1)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(e){var i=t.call(this)||this;return i.api=e,i.winManager=n.i(o.inject)(s.WinManager),i.dispatcher=n.i(o.inject)(o.EventDispatcher),i.autoPlayModel=n.i(o.inject)(a.AutoPlayModeModel),i.freeGamesModel=n.i(o.inject)(s.FreeGamesModel),i.gameDataModel=n.i(o.inject)(a.GameDataModel),i}return i.a(e,t),e.prototype.guard=function(t){return this.winManager.totalWin>0},e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){(e.autoPlayModel.autoModeWinAnimationsAllowed||t.isTerminating||e.freeGamesModel.isJustWon)&&(e.stopSymbolAnimations(),n(t))})},e.prototype.onTerminate=function(e){return this.stopSymbolAnimations(),t.prototype.onTerminate.call(this,e)},e.prototype.stopSymbolAnimations=function(){this.dispatcher.dispatch(a.MainScreenEvents.HIDE_OVERLAY);for(var t=[],e=this.gameDataModel.slotState.getAllWinningSymbols(),n=this.gameDataModel.slotState.getWinningScatterSymbols(),i=0;i<e.length;i++){var o=e[i];if(!this.isScatter(o,n)||!this.freeGamesModel.isJustWon){var s=new a.SymbolAnimationVO(""+o.symbolIndex,o.reelIndex,o.lineIndex,null);this.dispatcher.dispatch(a.SymbolAnimationEvents.HIDE_SYMBOL_ANIMATION,s),t.push(new r.e(o.reelIndex,o.lineIndex))}}this.dispatcher.dispatch(a.Event.SHOW_REEL_SYMBOLS,t)},e.prototype.isScatter=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(t.lineIndex===i.lineIndex&&t.reelIndex===i.reelIndex)return!0}return!1},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.guard=function(t){var e=!0;return this.payRewards=this.getWinningRewards(),(t.isTerminating||this.payRewards.length<=0||!this.turboModeModel.isActive||!this.winManager.isRegularWin||this.autoSpinsModel.isActive)&&(e=!1),e},e}(o.WinAnimationAction)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(3),a=n(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allReelsModel=n.i(o.inject)(r.AllReelsModel),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.turboModeModel=n.i(o.inject)(a.TurboModeModel),e}return i.a(e,t),e.prototype.guard=function(t){return!this.allReelsModel.isAllLandingAnimationsCompleted&&this.turboModeModel.isActive},e.prototype.onExecute=function(t){var e=this,n=new Promise(function(t){e.mainResolve=t});return this.dispatcher.addListener(r.ReelsEventsMark2.LANDING_ANIMATION_FINISHED,function(){e.mainResolve(t)},this).once(),n},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winManager=n.i(o.inject)(s.WinManager),e.gameDataModel=n.i(o.inject)(a.GameDataModel),e.rewardsModel=n.i(o.inject)(a.RewardsModel),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.autoPlayModeModel=n.i(o.inject)(a.AutoPlayModeModel),e.autoSpinsModel=n.i(o.inject)(s.AutoSpinsModel),e.turboModeModel=n.i(o.inject)(a.TurboModeModel),e.slotModel=n.i(o.inject)(a.SlotModel),e.contentManager=n.i(o.inject)(o.ContentManager),e.symbolManager=n.i(o.inject)(a.SymbolManager),e.freeGamesModel=n.i(o.inject)(s.FreeGamesModel),e.bonusModel=n.i(o.inject)(s.BonusModel),e.currentPlayingAnims=[],e}return i.a(e,t),e.prototype.guard=function(t){var e=!0;return this.payRewards=this.getWinningRewards(),(t.isTerminating||this.payRewards.length<=0||this.turboModeModel.isActive&&this.winManager.isRegularWin)&&(e=!1),e},e.prototype.getWinningRewards=function(){return this.rewardsModel.getPayRewards([a.ServerRewardType.LINE,a.ServerRewardType.SCATTER])},e.prototype.onExecute=function(t){return this.currentPlayingAnims.length=0,this.showWinAnimations(),Promise.resolve(t)},e.prototype.showWinAnimations=function(){var t=this;this.payRewards.forEach(function(e){t.showWinAnimation(e)})},e.prototype.showWinAnimation=function(t){var e,n=this,i=[];if(t.type===a.ServerRewardType.LINE){var o=t,u=this.winManager.getLine(o.lineId);i.push(u);var l=this.gameDataModel.winningLinesConfig[o.lineId],c=a.LineUtils.getLineSymbolPositions(l,o.payoutSymbolsCount,o.direction);e=[];for(var d=void 0,p=c.length,h=0;h<p;h++)d=this.gameDataModel.slotState.getWinningSymbolAt(c[h].x,c[h].y),e.push(d)}else if(t.type===a.ServerRewardType.SCATTER){var f=t;e=this.findScatterSymbols(f)}var M={},y={};e.forEach(function(t){if(-1===n.currentPlayingAnims.indexOf(t.reelIndex+"_"+t.lineIndex)){var e=n.hasStartAnimation(""+t.symbolIndex,s.SymbolAnimationType.START)?s.SymbolAnimationType.START:s.SymbolAnimationType.WINNING;t.isScatterSymbol&&(n.freeGamesModel.isJustWon||n.freeGamesModel.isJustWonMore)&&(e=n.hasStartAnimation(""+t.symbolIndex,s.SymbolAnimationType.FREE_GAMES_START)?s.SymbolAnimationType.FREE_GAMES_START:s.SymbolAnimationType.FREE_GAMES);var i=new a.SymbolAnimationVO(""+t.symbolIndex,t.reelIndex,t.lineIndex,e);n.dispatcher.dispatch(a.Event.HIDE_REEL_SYMBOLS,[new r.e(i.reelIndex,i.lineIndex)]),y.hasOwnProperty(""+t.symbolIndex)||(y[""+t.symbolIndex]=[]),y[""+t.symbolIndex].push(i),n.currentPlayingAnims.push(t.reelIndex+"_"+t.lineIndex),n.dispatcher.removeListeners(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION_COMPLETE,n),n.dispatcher.addListener(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION_COMPLETE,function(e){M.hasOwnProperty(""+t.symbolIndex)||(M[""+t.symbolIndex]=[]),M[""+t.symbolIndex].push(e)},n).once(),n.dispatcher.dispatch(a.SymbolAnimationEvents.HIDE_SYMBOL_ANIMATION,i),n.dispatcher.dispatch(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION,i)}});for(var m in y){if(!y[m]||!M[m])throw Error("WinAnimationAction::showWinAnimation something is wrong");this.waitForStartAnimationComplete(M[m],y[m])}},e.prototype.hasStartAnimation=function(t,e){var i=this.symbolManager.getSymbolModel(t),r=n.i(o.inject)(a.SymbolConfigModel),s=r.getAnimationKeys(t,e)[0];return void 0!==i.getMovieClipInfo(s)},e.prototype.waitForStartAnimationComplete=function(t,e){var n=this;Promise.all(t).then(function(){n.isTerminated||n.playLoopAnimation(e)})},e.prototype.playLoopAnimation=function(t){var e=this;t.forEach(function(t){e.dispatcher.dispatch(a.SymbolAnimationEvents.HIDE_SYMBOL_ANIMATION,t),t.animationType===s.SymbolAnimationType.FREE_GAMES||t.animationType===s.SymbolAnimationType.FREE_GAMES_START?t.animationType=s.SymbolAnimationType.FREE_GAMES:t.animationType=s.SymbolAnimationType.WINNING,t.loop=!0,e.dispatcher.dispatch(a.SymbolAnimationEvents.SHOW_SYMBOL_ANIMATION,t)})},e.prototype.findScatterSymbols=function(t){var e=this,n=[];return this.freeGamesModel.isJustWon||this.freeGamesModel.isJustWonMore?n=s.FreeGamesUtils.getFreeGamesTriggerSymbols(this.symbolManager,this.gameDataModel.slotState.getAllWinningSymbols()):t.positions.forEach(function(t){var i=e.gameDataModel.slotState.getWinningSymbolAt(t.x,t.y);n.push(i)}),n},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.winManager=n.i(o.inject)(r.WinManager),e.freeGameModel=n.i(o.inject)(r.FreeGamesModel),e.bonusModel=n.i(o.inject)(r.BonusModel),e}return i.a(e,t),e.prototype.guard=function(t){var e=!1;return 0===this.winManager.totalWin&&(this.freeGameModel.isJustWon||this.bonusModel.isJustWon)&&(e=!0),e},e.prototype.onExecute=function(t){return this.freeGameModel.isJustWon?this.dispatcher.dispatch(r.WinBoxEvents.SHOW_WIN_BOX_LABEL,r.WinBoxMessageTypes.FREE_GAMES_WON):this.bonusModel.isJustWon&&this.dispatcher.dispatch(r.WinBoxEvents.SHOW_WIN_BOX_LABEL,r.WinBoxMessageTypes.BONUS_GAME_WON),Promise.resolve(t)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.winManager=n.i(o.inject)(a.WinManager),e.winBoxConfigManager=n.i(o.inject)(a.WinBoxConfigManager),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.gameDataModel=n.i(o.inject)(r.GameDataModel),e.autoPlayModel=n.i(o.inject)(r.AutoPlayModeModel),e.freeGamesModel=n.i(o.inject)(a.FreeGamesModel),e.winActionModel=n.i(o.inject)(a.WinActionsModel),e.loadManager=n.i(o.inject)(o.LoadManager),e.api=n.i(o.inject)(r.ContextModel).context.api,e.autoPlayResolveDelay=600,e.init(),e}return i.a(e,t),e.prototype.init=function(){},e.prototype.guard=function(t){return this.winManager.totalWin>0},e.prototype.onExecute=function(t){var e=this,n=this.winManager.totalWin,i=this.winBoxConfigManager.getWinLevel(n),o=this.winBoxConfigManager.getResourceId(i);return!o||this.loadManager.isResourcesLoaded(o)?new Promise(function(n){e.mainResolve=n,e.continueOnExecute(t)}):new Promise(function(n){e.mainResolve=n,e.dispatcher.dispatch(r.UIEvent.CHANGE_UI,{anywhereClick:!1,spin:{enabled:!1},bets:!1,info:!1,auto:!1,turbo:!1}),e.dispatcher.dispatch(a.PopupEvent.SHOW_LOADING_POPUP),e.loadManager.loadImmediately(o).then(function(){e.dispatcher.dispatch(a.PopupEvent.HIDE_POPUP),e.dispatcher.dispatch(r.UIEvent.CHANGE_UI,{anywhereClick:!0,spin:{enabled:!0},bets:!0,info:!0,auto:!0,turbo:!0}),e.continueOnExecute(t)})})},e.prototype.continueOnExecute=function(t){this.mainActionInfo=t,this.terminateResolve=null,this.terminateActionInfo=null,this.isActive=!0,this.winActionModel.isSymbolAnimationComplete=!1,this.isSkipAnimationStarted=!1,this.addListeners(),this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,{anywhereClick:!0}),t.isTerminating?this.onActionIsTerminating():this.startWinBoxAnimation()},e.prototype.onActionIsTerminating=function(){this.startWinBoxAnimation(),this.startSkipAnimation(),this.disableSpinButton()},e.prototype.onTerminate=function(t){var e=this;return new Promise(function(n){e.dispatcher.dispatch(r.UIEvent.CHANGE_UI,{anywhereClick:!1}),e.disableSpinButton(),e.terminateResolve=n,e.terminateActionInfo=t,e.startSkipAnimation()})},e.prototype.getWinAmountToShow=function(){return new a.ShowWinAmountVO(this.winManager.totalWin)},e.prototype.startWinBoxAnimation=function(){var t=this;this.dispatcher.removeListeners(a.WinBoxEvents.SHOW_WIN_AMOUNT_COMPLETE,this),this.dispatcher.addListener(a.WinBoxEvents.SHOW_WIN_AMOUNT_COMPLETE,function(e){e.then(function(){t.removeListeners(),t.autoPlayModel.autoModeWinAnimationsAllowed?(clearTimeout(t.autoModeTimeout),t.autoModeTimeout=setTimeout(function(){return t.readyToResolve()},t.autoPlayResolveDelay)):t.readyToResolve()})},this).once(),this.dispatcher.dispatch(a.WinBoxEvents.SHOW_WIN_AMOUNT,this.getWinAmountToShow())},e.prototype.startSkipAnimation=function(){var t=this;this.isSkipAnimationStarted||(this.removeListeners(),clearTimeout(this.autoModeTimeout),this.isSkipAnimationStarted=!0,this.freeGamesModel.isJustWon||this.resumeSymbolAnimations(),this.dispatcher.removeListeners(a.WinBoxEvents.SKIP_WIN_ANIMATION_COMPLETE,this),this.dispatcher.addListener(a.WinBoxEvents.SKIP_WIN_ANIMATION_COMPLETE,function(e){e.then(function(){t.readyToResolve()})},this).once(),this.dispatcher.dispatch(a.WinBoxEvents.SKIP_WIN_ANIMATION))},e.prototype.readyToResolve=function(){this.isActive=!1,this.winActionModel.isSymbolAnimationComplete=!0,this.dispatcher.dispatch(a.WinBoxEvents.ACTION_COMPLETE),this.terminateResolve?this.terminateResolve(this.terminateActionInfo):this.mainResolve(this.mainActionInfo),this.freeGamesModel.isJustWon||this.dispatcher.dispatch(a.AutoSpinsModelEvent.SHOW_CONTINUE_AUTO_PLAY_SLIDER)},e.prototype.onCountUpComplete=function(){this.freeGamesModel.isJustWon||this.resumeSymbolAnimations()},e.prototype.resumeSymbolAnimations=function(){var t=this;this.dispatcher.addListener(r.SymbolAnimationEvents.RESUME_ALL_SYMBOL_ANIMATIONS_COMPLETE,function(e){t.dispatcher.dispatch(r.Event.HIDE_REEL_SYMBOLS,e),t.dispatcher.removeListeners(r.SymbolAnimationEvents.RESUME_ALL_SYMBOL_ANIMATIONS_COMPLETE,t)},this),this.dispatcher.dispatch(r.MainScreenEvents.HIDE_OVERLAY),this.dispatcher.dispatch(r.SymbolAnimationEvents.RESUME_ALL_SYMBOL_ANIMATIONS)},e.prototype.disableSpinButton=function(){this.dispatcher.dispatch(r.UIEvent.CHANGE_UI,{spin:{enabled:!1,rotate:!1}})},e.prototype.addListeners=function(){this.dispatcher.addListener(r.GameRunEvents.SHOW_PAYTABLE,this.startSkipAnimation,this),this.dispatcher.addListener(r.Event.ANYWHERE_CLICK,this.startSkipAnimation,this),this.dispatcher.addListener(a.WinBoxEvents.COUNT_UP_COMPLETE,this.onCountUpComplete,this)},e.prototype.removeListeners=function(){this.dispatcher.removeListener(r.GameRunEvents.SHOW_PAYTABLE,this.startSkipAnimation,this),this.dispatcher.removeListener(r.Event.ANYWHERE_CLICK,this.startSkipAnimation,this),this.dispatcher.removeListener(a.WinBoxEvents.COUNT_UP_COMPLETE,this.onCountUpComplete,this)},e}(o.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(2),r=n(1),a=n(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGamesModel=n.i(r.inject)(a.FreeGamesModel),e.contentManager=n.i(r.inject)(r.ContentManager),e.slotModelMark2=n.i(r.inject)(o.SlotModel),e.dispatcher=n.i(r.inject)(r.EventDispatcher),e.moneyFormatter=n.i(r.inject)(o.MoneyFormatterUtils),e}return i.a(e,t),e.prototype.onExecute=function(t){var e=this;return new Promise(function(n){var i=e.moneyFormatter.formatNumber(e.slotModelMark2.getWinCappingAmount()),o=a.MessageFactoryMark2.createMessage(["winCappingMessage"],[{amount:i}]);e.dispatcher.dispatch(a.PopupEvent.SHOW_POPUP,{title:e.contentManager.i18n("winCappingTitle"),message:o.texts[0]}),e.dispatcher.addListener(a.PopupEvent.POPUP_HIDDEN,function(){e.dispatcher.removeListeners(a.PopupEvent.POPUP_HIDDEN,e),n(t)},e),e.slotModelMark2.isWinCappingTriggered=!1})},e.prototype.isTerminable=function(){return!1},e.prototype.guard=function(){return!this.freeGamesModel.isFreeSpinsActive&&this.slotModelMark2.isWinCappingTriggered},e}(r.Action)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={sounds:{LINE_TOGGLE:"LINE_TOGGLE"},layouts:{winLinesView:"winLinesView",winFramesView:"winFramesView"},timings:{lineToggleDelay:800,fgLineToggleDelay:300}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_WINNING_LINES:"SHOW_WINNING_LINES",HIDE_ALL_WINNING_LINES:"HIDE_ALL_WINNING_LINES",SHOW_WINNING_FRAMES:"SHOW_WINNING_FRAMES",HIDE_ALL_WINNING_FRAMES:"HIDE_ALL_WINNING_FRAMES"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={FIRST_LINE_TOGGLE_COMPLETE:"FIRST_LINE_TOGGLE_COMPLETE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={WIN_ACTIONS_ACTIVE_CHANGE:"WIN_ACTIONS_ACTIVE_CHANGE",CURRENT_WINNING_ACTION_CHANGE:"CURRENT_WINNING_ACTION_CHANGE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.totalWin=0,this.totalBet=0,this.winLines=[],this.gameDataModel=n.i(i.inject)(o.GameDataModel),this.stakesModel=n.i(i.inject)(o.StakesModel),this.slotModel=n.i(i.inject)(o.SlotModel),this.betHelper=n.i(i.inject)(o.BetHelper),this.turboModeModel=n.i(i.inject)(o.TurboModeModel),this.autoPlayModeModel=n.i(i.inject)(o.AutoPlayModeModel),this.bigWinCoef=25,this.megaWinCoef=40}return t.prototype.updateState=function(){this.autoModeWinAnimationsAllowed=this.autoPlayModeModel.autoModeWinAnimationsAllowed,this.isTurbo=this.turboModeModel.isActive;var t=this.slotModel.getSlotConfig().bigWinCoef,e=this.slotModel.getSlotConfig().megaWinCoef;t&&(this.bigWinCoef=t),e&&(this.megaWinCoef=e),this.winLines=this.gameDataModel.lineWinnings,this.totalWin=this.gameDataModel.totalWinning,this.totalBet=this.betHelper.getTotalBet(),this.isRegularWin=!1,this.isBigWin=!1,this.isMegaWin=!1,this.totalWin>0&&(this.totalWin>=this.totalBet*this.megaWinCoef?this.isMegaWin=!0:this.totalWin>=this.totalBet*this.bigWinCoef?this.isBigWin=!0:this.isRegularWin=!0)},t.prototype.getLine=function(t){for(var e,n,i=this.winLines.length,o=0;o<i;o++)if(n=this.winLines[o],n.lineIndex===t){e=n;break}return e},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(2),a=n(3),s=PIXI.Point,u=function(t){function e(){var e=t.call(this)||this;return e.positionsMap={},e.view=n.i(o.inject)(a.WinFramesView,e),e.init(),e}return i.a(e,t),e.prototype.init=function(){this.view.setSymbolPositionsModel(n.i(o.inject)(r.SymbolPositionsModel)),this.addListeners()},e.prototype.addListeners=function(){this.dispatcher.addListener(a.ShowWinningEvents.SHOW_WINNING_FRAMES,this.showWinningFrames,this),this.dispatcher.addListener(a.ShowWinningEvents.HIDE_ALL_WINNING_FRAMES,this.hideWinningFrames,this),this.dispatcher.addListener(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS,this.view.resetFrames,this.view),this.dispatcher.addListener(a.BottomBarEvent.READY_TO_SPIN,this.view.resetFrames,this.view)},e.prototype.removeListeners=function(){this.dispatcher.removeListeners(a.ShowWinningEvents.HIDE_ALL_WINNING_FRAMES,this),this.dispatcher.removeListeners(a.ShowWinningEvents.SHOW_WINNING_FRAMES,this),this.dispatcher.removeListeners(r.SymbolAnimationEvents.HIDE_ALL_SYMBOL_ANIMATIONS,this),this.dispatcher.removeListeners(a.BottomBarEvent.READY_TO_SPIN,this)},e.prototype.destroy=function(){this.removeListeners()},e.prototype.showWinningFrames=function(t){var e=t.winningLines.length;if(this.positionsMap={},0===e&&t.winningSymbols.length)this.showFrames(t.winningSymbols);else for(var n=0;n<e;n++)this.showFrames(t.winningSymbols,t.winningLines[n].lineIndex)},e.prototype.showFrames=function(t,e){var n=this;void 0===e&&(e=0),this.filteredPositions=[],t.forEach(function(t){var e=n.getFramePoint(t);e&&n.filteredPositions.push(e)}),this.view.showFrame(this.filteredPositions,e)},e.prototype.getFramePoint=function(t){return this.positionsMap[t.reelIndex]||(this.positionsMap[t.reelIndex]={}),this.positionsMap[t.reelIndex][t.lineIndex]?null:(this.positionsMap[t.reelIndex][t.lineIndex]=!0,new s(t.reelIndex,t.lineIndex))},e.prototype.hideWinningFrames=function(){this.view.resetFrames()},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.view=n.i(o.inject)(a.WinLinesView,e),e.init(),e}return i.a(e,t),e.prototype.init=function(){var t=n.i(o.inject)(r.SymbolPositionsModel);this.view.setSymbolPositionsModel(t),this.gameDataModel=n.i(o.inject)(r.GameDataModel),this.addListeners()},e.prototype.addListeners=function(){var t=this;this.dispatcher.addListener(a.ShowWinningEvents.SHOW_WINNING_LINES,this.showWinningLines,this),this.dispatcher.addListener(a.ShowWinningEvents.HIDE_ALL_WINNING_LINES,this.hideWinningLines,this),this.dispatcher.addListener(a.BottomBarEvent.READY_TO_SPIN,function(){t.view.clearAllLines()},this)},e.prototype.removeListeners=function(){this.dispatcher.removeListeners(a.ShowWinningEvents.SHOW_WINNING_LINES,this),this.dispatcher.removeListeners(a.ShowWinningEvents.HIDE_ALL_WINNING_LINES,this),this.dispatcher.removeListeners(a.BottomBarEvent.READY_TO_SPIN,this)},e.prototype.destroy=function(){this.removeListeners()},e.prototype.showWinningLines=function(t){var e=this;t.winningLines.forEach(function(n){return e.view.drawLine(e.gameDataModel.getLineById(n.lineIndex),n.lineIndex,t)})},e.prototype.hideWinningLines=function(t){void 0===t&&(t=0),this.view.clearAllLines(t)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.currentScatter=0,this.currentAnimations=[]}return t.prototype.parseResponse=function(t){},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(3),r=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this._isSymbolAnimationComplete=!1}return Object.defineProperty(t.prototype,"winActionsActive",{get:function(){return this._winActionsActive},set:function(t){t!==this.winActionsActive&&(this._winActionsActive=t,this.dispatcher.dispatch(o.WinActionsModelEvent.WIN_ACTIONS_ACTIVE_CHANGE))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSymbolAnimationComplete",{get:function(){return this._isSymbolAnimationComplete},set:function(t){this._isSymbolAnimationComplete=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWinningAction",{get:function(){return this._currentWinningAction},set:function(t){t!==this.currentWinningAction&&(this._currentWinningAction=t,this.dispatcher.dispatch(o.WinActionsModelEvent.CURRENT_WINNING_ACTION_CHANGE))},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.points=[],this.pointsDist=[],this.points=t,this.pointsDist=e}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i){void 0===n&&(n=[]),void 0===i&&(i=!0),this.totalWin=t,this.winningLines=e,this.winningSymbols=n,this.hasFramesMask=i}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(2),o=function(){function t(){}return t.getWinTickupTime=function(t,e){return Math.max(t/e,this.MIN_WIN_TICKUP_TIME)},t.getUniqueWinningSymbolsForLines=function(t,e){var n,i=[],o=[];return t.forEach(function(t){n=e.slotState.getWinningLineSymbols(t.lineIndex),n.forEach(function(t){o[t.reelIndex]||(o[t.reelIndex]=[]),o[t.reelIndex][t.lineIndex]||(o[t.reelIndex][t.lineIndex]=t,i.push(t))})}),i},t.sortRewardsForFirstLineWinningAction=function(t,e,n,o){void 0===o&&(o=!0);var r=t,a=function(t){var o=0;if(t.type===i.ServerRewardType.LINE){var r=t;e.slotState.getWinningLineSymbols(r.lineId).forEach(function(t){t.symbolIndex>o&&(o=t.symbolIndex)})}else if(t.type===i.ServerRewardType.SCATTER){var a,s=t;s.positions.forEach(function(t){a=0,n[t.x]&&(a=n[t.x][t.y]),a>o&&(o=a)})}return o};return r.sort(function(t,e){var n=0,r=a(t),s=a(e);if(t.value>e.value)n=-1;else if(t.value<e.value)n=1;else if(r>s)n=o?1:-1;else if(r<s)n=o?-1:1;else if(t.type!==i.ServerRewardType.LINE&&e.type===i.ServerRewardType.LINE)n=-1;else if(t.type===i.ServerRewardType.LINE&&e.type!==i.ServerRewardType.LINE)n=1;else if(t.type===i.ServerRewardType.LINE&&e.type===i.ServerRewardType.LINE){var u=t,l=e;u.lineId<u.lineId?n=-1:u.lineId>l.lineId&&(n=1)}return n}),r},t.MIN_WIN_TICKUP_TIME=.5,t}()},function(t,e,n){"use strict";var i=n(0),o=n(1),r=n(4),a=n(3),s=PIXI.Sprite;!function(t){function e(e){var i=t.call(this)||this;i.contentManager=n.i(o.inject)(o.ContentManager),i.textureId="winframe.png",i.drawFrameGaphics=!0,i.frameImageScale=1;var r=i.contentManager.getConfigPart("reels");i.symbolWidth=r[o.ReelsSettings.CELL_WIDTH],i.symbolHeight=r[o.ReelsSettings.CELL_HEIGHT];var a=e.lines;return i.lineThickness=a.lineThickness||7,i.lineColors=r[o.ReelsSettings.LINES].map(function(t){return o.NumberUtils.convertToDecimal(t.c)}),i.frameIncrease=a.frameIncrease||0,i.shadowThickness=i.lineThickness*(a.shadowThickness||.6),i.shadowOffset=i.lineThickness*(a.shadowOffset||.2),i}i.a(e,t),e.prototype.setSymbolPositionsModel=function(t){this.symbolPositionsModel=t},e.prototype.showFrame=function(t,e){void 0===e&&(e=0),this.drawFrameGaphics&&this.drawFrameGraphics(t,e),this.frameImageData&&this.addFrameImages(t,e)},e.prototype.addFrameImages=function(t,e){for(var n=e<this.lineColors.length?this.lineColors[e]:this.lineColors[0],i=0;i<t.length;i++){var o=this.symbolPositionsModel.getPosition(t[i]),r=new s(this.frameImageData);r.scale.set(this.frameImageScale,this.frameImageScale),r.position.set(o.x,o.y),r.tint=n,this.addChild(r)}},e.prototype.drawFrameGraphics=function(t,e){void 0===e&&(e=0);for(var n=e<this.lineColors.length?this.lineColors[e]:this.lineColors[0],i=PIXI.utils.TextureCache[this.textureId],o=i._uvs.x0,s=i._uvs.x1,u=s-o,l=i.orig.width,c=0;c<t.length;c++){var d=this.symbolPositionsModel.getPosition(t[c]),p=this.getSymbolPolygon(d);p=this.smoothEdges(p,20,10);for(var h=[],f=0;f<p.length;f++)h.push(new r.e(5*(p[f].x-p[0].x),0));for(var M=[0],f=1;f<p.length;f++)M.push(M[M.length-1]+a.MathUtils.getDistance(p[f-1],p[f]));var y=new PIXI.mesh.Rope(i,h);y.tint=n;for(var f=0;f<p.length;f++){var m=o+u*(M[f]/l),g=4*f;y.uvs[g]=m,y.uvs[g+2]=m,h[f].set(p[f].x,p[f].y)}this.addChild(y)}},e.prototype.getSymbolPolygon=function(t){var e=Math.round(this.lineThickness/3)-this.frameIncrease,n=new r.D(t.x+e,t.y+e,this.symbolWidth-e,this.symbolHeight-e);return[new r.e(n.left+(n.right-n.left)/2,n.bottom),new r.e(n.left,n.bottom),new r.e(n.left,n.top),new r.e(n.right,n.top),new r.e(n.right,n.bottom),new r.e(n.left+(n.right-n.left)/2,n.bottom)]},e.prototype.smoothEdges=function(t,e,n){void 0===e&&(e=20),void 0===n&&(n=3);var i=[];i.push(t[0]);for(var o=1;o<t.length-1;o++)for(var r=t[o-1],s=t[o],u=t[o+1],l=a.MathUtils.lineIntersectCircle(r,s,s,e),c=a.MathUtils.lineIntersectCircle(u,s,s,e),d=0;d<=n;d++)i.push(a.MathUtils.bezier(l.enter,s,s,c.enter,d/n));return i.push(t[t.length-1]),i},e.prototype.resetFrames=function(){this.removeChildren()}}(r.g)},function(t,e,n){"use strict";var i=n(0),o=n(1),r=n(4),a=n(3);!function(t){function e(e){var i=t.call(this)||this;i.contentManager=n.i(o.inject)(o.ContentManager),i.lineContainers=[],i.textureId="winline.png";var r=i.contentManager.getConfigPart("reels");i.symbolWidth=r[o.ReelsSettings.CELL_WIDTH],i.symbolHeight=r[o.ReelsSettings.CELL_HEIGHT];var a=e.lines;return i.lineThickness=a.lineThickness||7,i.shadowThickness=i.lineThickness*(a.shadowThickness||.6),i.shadowOffset=i.lineThickness*(a.shadowOffset||.2),i.lineColors=r[o.ReelsSettings.LINES].map(function(t){return o.NumberUtils.convertToDecimal(t.c)}),i.lineLength=a.lineLength,i.linesCount=e.linesCount,i.reelsCount=e.reelsCount,i.frameIncrease=a.frameIncrease||0,i}i.a(e,t),e.prototype.setSymbolPositionsModel=function(t){this.symbolPositionsModel=t},e.prototype.drawLine=function(t,e,n){void 0===e&&(e=0);var i=this.getInitialLinePoints(t);i=this.smoothEdges(i,40,10);for(var o=[0],s=1;s<i.length;s++)o.push(o[o.length-1]+a.MathUtils.getDistance(i[s-1],i[s]));var u=[new a.SegmentVO(i,o)];if(!0===n.hasFramesMask){var l=this.getWinSymbolRectangles(n.winningSymbols);u=this.getVisibleSegments(u,l)}var c=new r.d;this.drawRopeSegments(u,c,this.lineColors[e]),this.addChild(c),this.lineContainers.push(c)},e.prototype.drawRopeSegments=function(t,e,n){for(var i=PIXI.utils.TextureCache[this.textureId],o=i._uvs.x0,a=i._uvs.x1,s=a-o,u=i.orig.width,l=0;l<t.length;l++){for(var c=t[l].points,d=t[l].pointsDist,p=[],h=0;h<c.length;h++)p.push(new r.e(5*(c[h].x-c[0].x),0));var f=new PIXI.mesh.Rope(i,p);f.tint=n;for(var h=0;h<c.length;h++){var M=o+s*(d[h]/u),y=4*h;f.uvs[y]=M,f.uvs[y+2]=M,p[h].set(c[h].x,c[h].y)}e.addChild(f)}},e.prototype.clearAllLines=function(t){void 0===t&&(t=0);for(var e=0;e<this.lineContainers.length;e++){var n=this.lineContainers[e];n.parent.removeChild(n)}this.lineContainers=[]},Object.defineProperty(e.prototype,"lines",{get:function(){return this.lineContainers},enumerable:!0,configurable:!0}),e.prototype.smoothEdges=function(t,e,n){void 0===e&&(e=20),void 0===n&&(n=3);var i=[];i.push(t[0]);for(var o=1;o<t.length-1;o++)for(var r=t[o-1],s=t[o],u=t[o+1],l=a.MathUtils.lineIntersectCircle(r,s,s,e),c=a.MathUtils.lineIntersectCircle(u,s,s,e),d=0;d<=n;d++)i.push(a.MathUtils.bezier(l.enter,s,s,c.enter,d/n));return i.push(t[t.length-1]),i},e.prototype.getInitialLinePoints=function(t){for(var e=t.length,n=[],i=0;i<e;i++){var o=t[i],a=this.symbolPositionsModel.getPosition(new r.e(i,o)),s=new r.e(a.x+.5*this.symbolWidth,a.y+.5*this.symbolHeight),u=Math.floor(s.y);if(0===i){var l=Math.floor(s.x);n.push(new r.e(l,u))}else n.push(new r.e(Math.floor(s.x),u))}return n},e.prototype.getVisibleSegments=function(t,e){for(var n=0;n<e.length;n++)for(var i=t.pop(),o=this.cutLine(i,e[n]),r=0;r<o.length;r++)t.push(o[r]);return t},e.prototype.cutLine=function(t,e){var n=[],i=new a.SegmentVO;n.push(i);for(var o=0;o<t.points.length-1;o++){var r=t.points[o],s=t.points[o+1],u=t.pointsDist[o],l=t.pointsDist[o+1],c=a.MathUtils.lineIntersectPoly(r,s,e);0!==o||c.startInside||(i.points.push(r),i.pointsDist.push(u)),c.intersects?!c.startInside&&c.endInside?(i.points.push(c.intersections[0]),i.pointsDist.push(u+a.MathUtils.getDistance(r,c.intersections[0])),n.push(new a.SegmentVO),i=n[n.length-1]):c.startInside&&!c.endInside?(n[n.length-1].points.length&&(n.push(new a.SegmentVO),i=n[n.length-1]),i.points.push(c.intersections[0]),i.pointsDist.push(u+a.MathUtils.getDistance(r,c.intersections[0])),i.points.push(s),i.pointsDist.push(l)):c.startInside||c.endInside||(i.points.push(c.intersections[0]),i.pointsDist.push(u+a.MathUtils.getDistance(r,c.intersections[0])),n.push(new a.SegmentVO),i=n[n.length-1],i.points.push(c.intersections[c.intersections.length-1]),i.pointsDist.push(u+a.MathUtils.getDistance(r,c.intersections[c.intersections.length-1])),i.points.push(s),i.pointsDist.push(l)):c.endInside||(i.points.push(s),i.pointsDist.push(l))}return n},e.prototype.getWinSymbolRectangles=function(t){for(var e=[],n=t.length,i=0;i<this.reelsCount;i++){for(var o=void 0,r=0,a=!1;r<n;){if(o=t[r],o.reelIndex===i){a=!0;break}r++}for(var s=0;s<this.linesCount;s++)a&&o.lineIndex===s&&e.push(this.getSymbolPolygon(i,s))}return e},e.prototype.getSymbolPolygon=function(t,e){var n=this.symbolPositionsModel.getPosition(new r.e(t,e)),i=Math.round(this.lineThickness/3)-this.frameIncrease;return[new r.e(n.x+i,n.y+i),new r.e(n.x+this.symbolWidth-i,n.y+i),new r.e(n.x+this.symbolWidth-i,n.y+this.symbolHeight-i),new r.e(n.x+i,n.y+this.symbolHeight-i)]}}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=PIXI.Sprite,u=function(t){function e(){var e=t.call(this)||this;e.drawFrameGaphics=!0,e.frameImageScale=1,e.shadowColor=0,e.shadowOpacity=.2,e.contentManager=n.i(o.inject)(o.ContentManager),e.slotParameters=n.i(o.inject)(a.ContextModel).context.slotParameters;var i=e.contentManager.getConfigPart("reels");e.symbolWidth=i[o.ReelsSettings.CELL_WIDTH],e.symbolHeight=i[o.ReelsSettings.CELL_HEIGHT];var r=e.slotParameters.lines;return e.lineThickness=r.lineThickness||7,e.lineColors=i[o.ReelsSettings.LINES].map(function(t){return o.NumberUtils.convertToDecimal(t.c)}),e.frameIncrease=r.frameIncrease||0,e.shadowThickness=e.lineThickness*(r.shadowThickness||.6),e.shadowOffset=e.lineThickness*(r.shadowOffset||.2),e}return i.a(e,t),e.prototype.setSymbolPositionsModel=function(t){this.symbolPositionsModel=t},e.prototype.showFrame=function(t,e){void 0===e&&(e=0),this.drawFrameGaphics&&this.drawFrameGraphics(t,e),this.frameImageData&&this.addFrameImages(t)},e.prototype.addFrameImages=function(t){for(var e=0;e<t.length;e++){var n=this.symbolPositionsModel.getPosition(t[e]),i=new s(this.frameImageData);i.scale.set(this.frameImageScale,this.frameImageScale),i.position.set(n.x,n.y),this.addChild(i)}},e.prototype.drawFrameGraphics=function(t,e){void 0===e&&(e=0);var n=new r.o,i=new r.o,o=this.lineThickness/2,a=e<this.lineColors.length?this.lineColors[e]:this.lineColors[0];n.lineStyle(this.lineThickness,a),i.lineStyle(this.shadowThickness,this.shadowColor,this.shadowOpacity);for(var s=0;s<t.length;s++){var u=this.symbolPositionsModel.getPosition(t[s]),l=new r.D(u.x,u.y,this.symbolWidth,this.symbolHeight),c=this.increaseRectangle(l,this.frameIncrease-o);n.drawRect(c.x,c.y,c.width,c.height);var d=this.increaseRectangle(c,-o);d.x-=this.shadowOffset,d.y-=this.shadowOffset,i.moveTo(d.right,d.top),i.lineTo(d.left,d.top),i.lineTo(d.left,d.bottom);var p=this.increaseRectangle(c,o);p.x-=this.shadowOffset,p.y-=this.shadowOffset,i.moveTo(p.left,p.bottom),i.lineTo(p.right,p.bottom),i.lineTo(p.right,p.top)}this.addChild(n),this.addChild(i)},e.prototype.increaseRectangle=function(t,e){return new r.D(t.x-e,t.y-e,t.width+2*e,t.height+2*e)},e.prototype.resetFrames=function(){this.removeChildren()},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=t.call(this)||this;e.shadowColor=0,e.shadowOpacity=.2,e.contentManager=n.i(o.inject)(o.ContentManager),e.lineContainers=[],e.slotParameters=n.i(o.inject)(a.ContextModel).context.slotParameters;var i=e.contentManager.getConfigPart("reels");e.symbolWidth=i[o.ReelsSettings.CELL_WIDTH],e.symbolHeight=i[o.ReelsSettings.CELL_HEIGHT];var r=e.slotParameters.lines;return e.lineThickness=r.lineThickness||7,e.shadowThickness=e.lineThickness*(r.shadowThickness||.6),e.shadowOffset=e.lineThickness*(r.shadowOffset||.2),e.lineColors=i[o.ReelsSettings.LINES].map(function(t){return o.NumberUtils.convertToDecimal(t.c)}),e.lineLength=r.lineLength,e.linesCount=e.slotParameters.linesCount,e.reelsCount=e.slotParameters.reelsCount,e.frameIncrease=r.frameIncrease||0,e}return i.a(e,t),e.prototype.setSymbolPositionsModel=function(t){this.symbolPositionsModel=t},e.prototype.drawLine=function(t,e,n){void 0===e&&(e=0);var i,o=this.getInitialLinePoints(t);if(!0===n.hasFramesMask){var r=this.getWinSymbolRectangles(n.winningSymbols);i=this.getVisibleSegments(o,r)}else i=[o];this.drawLineToScreen(i,e)},e.prototype.clearAllLines=function(t){var e=this;void 0===t&&(t=0);for(var n=this,i=0;i<this.lineContainers.length;i++)!function(i){var o=n.lineContainers[i];TweenLite.to(n.lineContainers[i],t,{alpha:0,onComplete:function(){return e.removeChild(o)}})}(i);this.lineContainers=[]},Object.defineProperty(e.prototype,"lines",{get:function(){return this.lineContainers},enumerable:!0,configurable:!0}),e.prototype.drawLineToScreen=function(t,e){var n=new r.o,i=new r.o,o=new r.d,a=this.lineThickness/2,s=e<this.lineColors.length?this.lineColors[e]:this.lineColors[0];n.lineStyle(this.lineThickness,s),i.lineStyle(this.shadowThickness,this.shadowColor,this.shadowOpacity);for(var u=0;u<t.length;u++)for(var l=t[u],c=0;c<l.length;c++)0===c?(n.moveTo(Math.floor(l[c].x),Math.floor(l[c].y)),i.moveTo(Math.floor(l[c].x),Math.floor(l[c].y)+a-this.shadowOffset)):(n.lineTo(Math.floor(l[c].x),Math.floor(l[c].y)),i.lineTo(Math.floor(l[c].x),Math.floor(l[c].y)+a-this.shadowOffset));o.addChild(n),o.addChild(i),this.addChild(o),this.lineContainers.push(o)},e.prototype.getInitialLinePoints=function(t){for(var e=t.length,n=[],i=0;i<e;i++){var o=t[i],a=this.symbolPositionsModel.getPosition(new r.e(i,o)),s=new r.e(a.x+.5*this.symbolWidth,a.y+.5*this.symbolHeight),u=Math.floor(s.y);if(0===i){var l=Math.floor(s.x);n.push(new r.e(l,u))}else n.push(new r.e(Math.floor(s.x),u))}return n},e.prototype.getVisibleSegments=function(t,e){for(var n=[t],i=0;i<e.length;i++)for(var o=n.pop(),r=this.cutLine(o,e[i]),a=0;a<r.length;a++)n.push(r[a]);return n},e.prototype.cutLine=function(t,e){var n=[];n.push([]);for(var i=0;i<t.length-1;i++){var o=t[i],r=t[i+1],a=s.MathUtils.lineIntersectPoly(o,r,e);0!==i||a.startInside||n[n.length-1].push(o),a.intersects?!a.startInside&&a.endInside?(n[n.length-1].push(a.intersections[0]),n.push([])):a.startInside&&!a.endInside?(n[n.length-1].length&&n.push([]),n[n.length-1].push(a.intersections[0]),n[n.length-1].push(r)):a.startInside||a.endInside||(n[n.length-1].push(a.intersections[0]),n.push([]),n[n.length-1].push(a.intersections[1]),n[n.length-1].push(r)):n[n.length-1].push(r)}return n},e.prototype.getWinSymbolRectangles=function(t){for(var e=[],n=t.length,i=0;i<this.reelsCount;i++){for(var o=void 0,r=0,a=!1;r<n;){if(o=t[r],o.reelIndex===i){a=!0;break}r++}for(var s=0;s<this.linesCount;s++)a&&o.lineIndex===s&&e.push(this.getSymbolPolygon(i,s))}return e},e.prototype.getSymbolPolygon=function(t,e){var n=this.symbolPositionsModel.getPosition(new r.e(t,e)),i=Math.round(this.lineThickness/3)-this.frameIncrease;return[new r.e(n.x+i,n.y+i),new r.e(n.x+this.symbolWidth-i,n.y+i),new r.e(n.x+this.symbolWidth-i,n.y+this.symbolHeight-i),new r.e(n.x+i,n.y+this.symbolHeight-i)]},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){this.addCommonInjections(t),this.addDesktopInjections(t)},e.prototype.addCommonInjections=function(t){t.bind(r.WinBoxModel).asSingleton().forceCreation().asModel(),t.bind(r.WinBoxConfigManager).asSingleton(),t.bind(r.WinBoxInfoLabel).asView().withId("winBoxInfoLabel")},e.prototype.addMobileInjections=function(t){t.bind(r.WinBoxViewMobile).asView().withId(r.WinBoxConstants.layouts.winBox).bindMediator(r.WinBoxMediatorMobile)},e.prototype.addDesktopInjections=function(t){t.bind(r.WinBoxViewDesktop).asView().withId(r.WinBoxConstants.layouts.winBox).bindMediator(r.WinBoxMediatorDesktop)},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(3),o={maxWinLevelForFreegames:2,maxRegularWinLevel:2,layouts:{winBox:"winBox",bigWin:"bigWin",megaWin:"megaWin"},sounds:{winBoxSkip:"WIN_BOX_SKIP",winTickupLoopSoundId:"WIN_TICKUP_LOOP",winTickupEndSoundId:"WIN_TICKUP_END",freespinTickupLoopSoundId:"FREESPINS_TICKUP_LOOP_SOUND",freespinTickupEndSoundId:"FREESPINS_TICKUP_END_SOUND"},winLevelResorseGroups:[null,null,null,i.ResourceIdMark2.BIG_WIN_GROUP,i.ResourceIdMark2.BIG_WIN_GROUP]}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={GOOD_LUCK:"good_luck",CLICK_TO_SPIN:"click_to_spin",FREE_GAMES_WON:"free_games_won",BONUS_GAME_WON:"bonus_game_won"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_WIN_AMOUNT:"SHOW_WIN_AMOUNT",SHOW_WIN_AMOUNT_COMPLETE:"SHOW_WIN_AMOUNT_COMPLETE",WIN_ANIMATION_COMPLETE:"WIN_ANIMATION_COMPLETE",SKIP_WIN_ANIMATION:"SKIP_WIN_ANIMATION",SKIP_WIN_ANIMATION_COMPLETE:"SKIP_WIN_ANIMATION_COMPLETE",ACTION_COMPLETE:"ACTION_COMPLETE",COUNT_UP_COMPLETE:"COUNT_UP_COMPLETE",SHOW_WINBOX:"SHOW_WINBOX",HIDE_WINBOX:"HIDE_WINBOX",SHOW_WIN_BOX_LABEL:"SHOW_WIN_BOX_LABEL",TOGGLE_WIN_BOX_LABELS:"TOGGLE_WIN_BOX_LABELS"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={WIN_BOX_PLAY_NEXT_LEVEL:"win_box_play_next_level",WIN_BOX_LAST_LEVEL_COMPLETED:"win_box_last_level_completed",WIN_BOX_COUNT_UP_COMPLETE:"WIN_BOX_COUNT_UP_COMPLETE"}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(1),r=n(2),a=n(3),s=function(t){function e(){var e=t.call(this)||this;return e.model=n.i(o.inject)(a.WinBoxModel),e.configManager=n.i(o.inject)(a.WinBoxConfigManager),e.promoMessagesManager=n.i(o.inject)(a.PromoMessagesManager),e.init(),e}return i.a(e,t),e.prototype.init=function(){this.setupView(),this.dispatcher.addListener(a.WinBoxEvents.SHOW_WIN_AMOUNT,this.onShowWinAmount,this),this.dispatcher.addListener(a.WinBoxEvents.SKIP_WIN_ANIMATION,this.onSkipWinAnimation,this),this.dispatcher.addListener(a.WinBoxEvents.SHOW_WIN_BOX_LABEL,this.onShowWinBoxLabel,this),this.dispatcher.addListener(a.WinBoxEvents.TOGGLE_WIN_BOX_LABELS,this.onToggleWinBoxLabels,this),this.view.on(a.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,this.onWinBoxPlayNextLevel,this),this.view.on(a.WinBoxViewEvents.WIN_BOX_LAST_LEVEL_COMPLETED,this.onWinBoxLastLevelCompleted,this),this.view.on(a.WinBoxViewEvents.WIN_BOX_COUNT_UP_COMPLETE,this.onCountUpCompleted,this)},e.prototype.destroy=function(){null!=this.dispatcher&&(this.dispatcher.removeListeners(a.WinBoxEvents.SHOW_WIN_AMOUNT,this),this.dispatcher.removeListeners(a.WinBoxEvents.SKIP_WIN_ANIMATION,this),this.dispatcher.removeListeners(a.WinBoxEvents.SHOW_WIN_BOX_LABEL,this),this.dispatcher.removeListeners(a.WinBoxEvents.TOGGLE_WIN_BOX_LABELS,this),this.dispatcher=null),null!=this.view&&(this.view.off(a.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,this.onWinBoxPlayNextLevel,this),this.view.off(a.WinBoxViewEvents.WIN_BOX_LAST_LEVEL_COMPLETED,this.onWinBoxLastLevelCompleted,this),this.view.off(a.WinBoxViewEvents.WIN_BOX_COUNT_UP_COMPLETE,this.onCountUpCompleted,this),this.view=null),this.model=null,this.configManager=null,this.promoMessagesManager=null,this.skipAnimationPromise=null,t.prototype.destroy.call(this)},e.prototype.onShowWinBoxLabel=function(t){var e=this;this.model.isAnimating||(this.skipAnimationPromise?this.skipAnimationPromise.then(function(){return e.view.showMessage(t)}):this.view.showMessage(t))},e.prototype.onToggleWinBoxLabels=function(t){this.model.isAnimating||this.view.toggleMessages(t)},e.prototype.onShowWinAmount=function(t){var e=this;this.view.showAmountLabel();var n;if(t.ignoreAnimation)this.view.setWinImmediately(t.amount),n=Promise.resolve();else{this.skipAnimationPromise=null;var i=this.configManager.createWinLevelsVO(t.amount);i.length>0?(this.dispatcher.dispatch(a.FreeGamesEvent.SHOW_FREE_GAMES_TOTAL_WIN),this.model.isAnimating=!0,this.model.isCountUp=!0,n=this.view.play(t.amount,i,t.startAmount),n.then(function(){e.model.isAnimating=!1})):n=Promise.resolve()}this.dispatcher.dispatch(a.WinBoxEvents.SHOW_WIN_AMOUNT_COMPLETE,n)},e.prototype.onSkipWinAnimation=function(){var t;this.model.isAnimating?(t=this.view.skip(),this.model.isAnimating=!1,this.model.isCountUp=!1,this.skipAnimationPromise=t):t=Promise.resolve(),this.dispatcher.dispatch(a.WinBoxEvents.SKIP_WIN_ANIMATION_COMPLETE,t)},e.prototype.onWinBoxPlayNextLevel=function(t){var e=this;"level_3"===t&&(this.dispatcher.addListener(r.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS_COMPLETE,function(t){e.dispatcher.dispatch(r.Event.SHOW_REEL_SYMBOLS,t),e.dispatcher.dispatch(r.MainScreenEvents.SHOW_OVERLAY),e.dispatcher.removeListeners(r.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS_COMPLETE,e)},this),this.dispatcher.dispatch(r.SymbolAnimationEvents.PAUSE_ALL_SYMBOL_ANIMATIONS))},e.prototype.onWinBoxLastLevelCompleted=function(){this.dispatcher.dispatch(a.WinBoxEvents.WIN_ANIMATION_COMPLETE)},e.prototype.onCountUpCompleted=function(){this.model.isCountUp=!1,this.dispatcher.dispatch(a.WinBoxEvents.COUNT_UP_COMPLETE)},e.prototype.setupView=function(){this.view=n.i(o.inject)(a.WinBoxView,this)},e}(o.Mediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.setupView=function(){this.view=n.i(o.inject)(r.WinBoxViewDesktop,this)},e}(r.WinBoxMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.setupView=function(){this.view=n.i(o.inject)(r.WinBoxViewMobile,this)},e}(r.WinBoxMediator)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.isAnimating=!1,this.isCountUp=!1}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(2),r=function(){function t(){this.stakesModel=n.i(i.inject)(o.StakesModel),this.betHelper=n.i(i.inject)(o.BetHelper),this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.moneyFormatter=n.i(i.inject)(o.MoneyFormatterUtils),this.currentTickUp=0,this.tickupTime=3.6,this._endValue=0,this._showCurrency=!0}return t.prototype.setupGraphics=function(t){this._label=t,this._label.updatePositionOnLettersChangeOnly=!0,this._startValue=0},t.prototype.countUp=function(t,e,n){this._endValue=e,this._callback=n,this.currentTickUp=t,t===e?this.onComplete():(this.startTime=(new Date).getTime(),this.tickUpValue=t,this._startValue=t,this.dispatcher.addListener(i.RenderManagerEvent.RENDER,this.onTickUpUpdate.bind(this),this))},t.prototype.onComplete=function(){this.killTimer(),this.tickUpValue=this._endValue,this._callback&&this._callback()},t.prototype.skip=function(){this.isCompleted||this.onComplete()},t.prototype.clear=function(){this._label.text=""},t.prototype.setTickupTime=function(t){this.tickupTime=1e3*t},t.prototype.onTickUpUpdate=function(){var t=(new Date).getTime(),e=Math.min(1,(t-this.startTime)/this.tickupTime);this.currentTickUp=this._startValue+(this._endValue-this._startValue)*e,this.tickUpValue=this.currentTickUp,1===e&&this.onComplete()},t.prototype.killTimer=function(){this.timeOut&&clearTimeout(this.timeOut),this.dispatcher.removeListeners(i.RenderManagerEvent.RENDER,this)},Object.defineProperty(t.prototype,"tickUpValue",{set:function(t){var e=this.moneyFormatter.formatNumberAutoDecimalsForTickup(t,this._endValue,this.betHelper.getTotalBet(),this.stakesModel.currentStakeValue,{showCurrency:this._showCurrency});this._label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tickupProcess",{get:function(){return this._startValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this._endValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCurrency",{get:function(){return this._showCurrency},set:function(t){this._showCurrency=t},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.killTimer(),this._label=null},Object.defineProperty(t.prototype,"isCompleted",{get:function(){return this.currentTickUp===this._endValue},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.promises=[]}return t.prototype.add=function(t){var e=this;this.promises.push(t),t.then(function(){e.onOnePromiseComplete(t)})},t.prototype.onComplete=function(t){this.callback=t},t.prototype.onOnePromiseComplete=function(t){var e=this.promises.indexOf(t);this.promises.splice(e,1),0===this.promises.length&&this.callback()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(2),r=n(3),a=function(){function t(){this.winManager=n.i(i.inject)(r.WinManager),this.freeGameModel=n.i(i.inject)(r.FreeGamesModel),this.turboModeModel=n.i(i.inject)(o.TurboModeModel),this.loadManager=n.i(i.inject)(i.LoadManager),this.context=n.i(i.inject)(o.ContextModel).context,this.slotParameters=this.context.slotParameters,this.setConfig()}return t.prototype.createWinLevelsVO=function(t){var e=[],n=this.getWinLevel(t);this._totalDuration=0;for(var i=0;i<=n;i++){var o=new r.WinBoxVO;o.duration=this.winLevelTimeMap[n][i],this._totalDuration+=o.duration,o.animations=this.animations[i],o.exitDelay=this.exitDelays[i],o.skipDelay=this.skipDelays[i],o.id="level_"+i,o.level=i,e.push(o)}return e},t.prototype.getWinLevel=function(t){for(var e,n=t/this.winManager.totalBet,i=0;i<this.winLevelLimits.length&&!(this.winLevelLimits[i]>n);i++)e=i;return this.isFreeGamesStateActive()?e=Math.min(e,r.WinBoxConstants.maxWinLevelForFreegames):this.turboModeModel.isActive&&this.winManager.isRegularWin&&(e=0),e=this.slotParameters.skipDwbIfNotLoaded?this.capWinLevel(e):e},t.prototype.capWinLevel=function(t){for(var e=t;e>0;e--){var n=this.getResourceId(e);if(!n||this.loadManager.isResourcesLoaded(n))return e}return 0},t.prototype.isFreeGamesStateActive=function(){return this.freeGameModel.isFreeSpinsActive&&!this.freeGameModel.isJustWon},t.prototype.getResourceId=function(t){return r.WinBoxConstants.winLevelResorseGroups[t]},Object.defineProperty(t.prototype,"totalDuration",{get:function(){return this._totalDuration},set:function(t){this._totalDuration=t},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(){var e=t.call(this)||this;return e.TOGGLE_DELAY=5e3,e._messageMapping=[],e}return i.a(e,t),e.prototype.destroy=function(){this.clearToggleTimer(),this._toggleMessages=null,this._messageMapping=null,t.prototype.destroy.call(this)},e.prototype.addMessage=function(t,e){this._messageMapping.push({view:this.getChildByName(t),messageID:e})},e.prototype.showMessage=function(t){var e;for(this.clearToggleTimer(),e=0;e<this._messageMapping.length;e++)this._messageMapping[e].view.visible=this._messageMapping[e].messageID===t},e.prototype.toggleMessages=function(t){var e=this;void 0===t&&(t=null),null!=t&&(this._toggleMessages=t),this.showMessage(this._toggleMessages[0]),this._toggleMessages.push(this._toggleMessages.shift()),this._toggleTimer=setTimeout(function(){return e.toggleMessages()},this.TOGGLE_DELAY)},e.prototype.clearToggleTimer=function(){null!=this._toggleTimer&&(clearTimeout(this._toggleTimer),this._toggleTimer=null)},e}(o.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this.xOffset=0,this.yOffset=320,this.scaleFactor=1.59,this.moveUpTime=.5,this.moveDownTime=.5,this.scaleUpTime=.5,this.scaleDownTime=.5,this.tweens=[],this.view=t,this.initViewX=this.view.x,this.initViewY=this.view.y}return t.prototype.playStart=function(t){this.winBoxVO=t,"level_2"===this.winBoxVO.id&&this.animateWinBox()},t.prototype.animateWinBox=function(){var t=this;this.killTweens(),this.tweens.push(TweenLite.to(this.view,this.moveUpTime,{x:this.initViewX-this.xOffset,y:this.initViewY-this.yOffset,onComplete:function(){t.onCompleteMoveUp()}})),this.tweens.push(TweenLite.to(this.view.scale,this.scaleUpTime,{x:this.scaleFactor,y:this.scaleFactor}))},t.prototype.playLoop=function(){},t.prototype.playExit=function(){var t=this;switch(this.winBoxVO.id){case"level_1":case"level_2":case"level_3":case"level_4":return new Promise(function(e){t.playFinishAnimation(e)});default:return Promise.resolve()}},t.prototype.skip=function(){var t=this;switch(this.winBoxVO.id){case"level_2":case"level_3":case"level_4":return new Promise(function(e){setTimeout(function(){return t.playFinishAnimation(e)},t.winBoxVO.skipDelay)});default:return new Promise(function(e){setTimeout(function(){return e()},t.winBoxVO.skipDelay)})}},t.prototype.killTweens=function(){for(var t=0;t<this.tweens.length;t++)this.tweens[t].kill();this.tweens.length=0},t.prototype.onCompleteMoveUp=function(){this.killTweens()},t.prototype.playFinishAnimation=function(t){var e=this;this.killTweens(),TweenLite.to(this.view,this.moveDownTime,{x:this.initViewX,y:this.initViewY}),TweenLite.to(this.view.scale,this.scaleDownTime,{x:1,y:1,onComplete:function(){e.onCompleteFinishAnimation(),t()}})},t.prototype.onCompleteFinishAnimation=function(){this.killTweens()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentManager=n.i(o.inject)(o.ContentManager),e.configManager=n.i(o.inject)(s.WinBoxConfigManager),e.soundsManager=n.i(o.inject)(o.SoundManager),e.ambientSoundManager=n.i(o.inject)(a.AmbientSoundsManager),e.freeGameModel=n.i(o.inject)(s.FreeGamesModel),e.winAnimators=[],e.soundId="",e.minlevelForTikupSound=3,e.animationName="WIN_BOX_",e}return i.a(e,t),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.addWinAnimators(),this.counter=new s.CommonCountUp,this.counter.setupGraphics(this.winBoxLabel),this.setupInfoLabel(),this.toggleMessages([s.WinBoxMessageTypes.GOOD_LUCK,s.WinBoxMessageTypes.CLICK_TO_SPIN])},e.prototype.showMessage=function(t){this.winBoxLabel.visible=!1,this.winBoxInfoLabel.visible=!0,this.winBoxInfoLabel.showMessage(t)},e.prototype.toggleMessages=function(t){this.winBoxLabel.visible=!1,this.winBoxInfoLabel.visible=!0,this.winBoxInfoLabel.toggleMessages(t)},e.prototype.showAmountLabel=function(){this.winBoxLabel.visible=!0,this.winBoxInfoLabel.visible=!1},e.prototype.setWinImmediately=function(t){this.showAmountLabel(),this.counter.tickUpValue=t},e.prototype.play=function(t,e,n){var i=this;this.showAmountLabel(),this.level=e.length,this.tickupSoundStart(),this.counter.setTickupTime(this.configManager.totalDuration);var o=0;return n&&n>0&&(o=n),this.counter.countUp(o,t,function(){i.emit(s.WinBoxViewEvents.WIN_BOX_COUNT_UP_COMPLETE),i.tickupSoundEnd()}),this.winBoxesVO=e,this.playLevelSound(),this.playNextLevel(this.winBoxesVO.shift()),new Promise(function(t){i.onCompleteCallback=t})},e.prototype.skip=function(){var t=this;this.stopLevelSound(),this.playSkipSound(),this.counter.skip(),clearTimeout(this.nextLevelTimeout);for(var e=new s.PromiseResolver,n=0,i=this.winAnimators;n<i.length;n++){var o=i[n];e.add(o.skip())}return e.onComplete(this.onCompleted.bind(this)),new Promise(function(e){t.onCompleteCallback=e})},e.prototype.addWinAnimators=function(){},e.prototype.playNextLevel=function(t){var e=this;this.emit(s.WinBoxViewEvents.WIN_BOX_PLAY_NEXT_LEVEL,t.id);for(var n=0,i=this.winAnimators;n<i.length;n++){i[n].playStart(t)}this.winBoxesVO.length>0?this.nextLevelTimeout=setTimeout(function(){e.playNextLevel(e.winBoxesVO.shift())},1e3*t.duration):this.nextLevelTimeout=setTimeout(function(){for(var t=new s.PromiseResolver,n=0,i=e.winAnimators;n<i.length;n++){var o=i[n];t.add(o.playExit())}t.onComplete(e.onCompleted.bind(e)),e.emit(s.WinBoxViewEvents.WIN_BOX_LAST_LEVEL_COMPLETED)},1e3*t.duration+t.exitDelay)},e.prototype.onCompleted=function(){this.stopLevelSound(),this.onCompleteCallback()},e.prototype.tickupSoundStart=function(){this.isFreeGamesStateActive()?this.soundsManager.playSound(s.WinBoxConstants.sounds.freespinTickupLoopSoundId,-1,!1,!0):this.needToPlayTikupSound()&&this.soundsManager.playSound(s.WinBoxConstants.sounds.winTickupLoopSoundId,-1,!1,!0)},e.prototype.tickupSoundEnd=function(){this.isFreeGamesStateActive()?(this.soundsManager.stopSound(s.WinBoxConstants.sounds.freespinTickupLoopSoundId),this.soundsManager.playSound(s.WinBoxConstants.sounds.freespinTickupEndSoundId)):this.needToPlayTikupSound()&&(this.soundsManager.stopSound(s.WinBoxConstants.sounds.winTickupLoopSoundId),this.soundsManager.playSound(s.WinBoxConstants.sounds.winTickupEndSoundId))},e.prototype.playLevelSound=function(){this.needToPlayTikupSound()||(this.lowerAmbientSound(),this.soundId=this.animationName+this.level,this.soundsManager.playSound(this.soundId))},e.prototype.playSkipSound=function(){this.counter.isCompleted||this.needToPlayTikupSound()||this.soundsManager.playSound(s.WinBoxConstants.sounds.winBoxSkip)},e.prototype.stopLevelSound=function(){this.resetAmbientSound(),this.soundsManager.stopSound(this.soundId)},e.prototype.lowerAmbientSound=function(){this.isFreeGamesStateActive()?this.ambientSoundManager.muteCurrentSound():this.ambientSoundManager.setCurrentSoundVolume(.3)},e.prototype.resetAmbientSound=function(){this.ambientSoundManager.unMuteCurrentSound(),this.ambientSoundManager.setCurrentSoundVolume(1)},e.prototype.isFreeGamesStateActive=function(){return this.freeGameModel.isFreeSpinsActive&&!this.freeGameModel.isJustWon},e.prototype.needToPlayTikupSound=function(){return this.level<=this.minlevelForTikupSound},e.prototype.destroy=function(){this.contentManager=null,this.configManager=null,this.soundsManager=null,this.ambientSoundManager=null,this.freeGameModel=null,null!=this.winBoxLabel&&(this.winBoxLabel.destroy(),this.winBoxLabel=null),null!=this.counter&&(this.counter.destroy(),this.counter=null),this.winBoxesVO=null,this.onCompleteCallback=null,this.nextLevelTimeout=null,this.winAnimators=null,this.soundId=null,this.animationName=null,null!=this.winBoxInfoLabel&&(this.winBoxInfoLabel.destroy(),this.winBoxInfoLabel=null),t.prototype.destroy.call(this)},e.prototype.setupInfoLabel=function(){this.winBoxInfoLabel.addMessage("message0",s.WinBoxMessageTypes.CLICK_TO_SPIN),this.winBoxInfoLabel.addMessage("message1",s.WinBoxMessageTypes.GOOD_LUCK)},e}(r.g)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(58),o=n(3),r=function(){function t(t,e){this.coins=[],this.mainContainer=t,this.coinAnimationSettings=e||new o.CoinAnimationSettings}return t.prototype.start=function(t){this.clearAnimations();for(var e=this.createArrayOfImageTextures(t.animationNames),n=0;n<t.count;n++){var o=new i.a(e,this.coinAnimationSettings);o.refresh(),o.play(),this.mainContainer.addChild(o),this.coins.push(o)}},t.prototype.stop=function(){this.clearAnimations()},t.prototype.destroy=function(){this.stop(),this.coins=null,this.mainContainer=null,this.coinAnimationSettings=null},t.prototype.createArrayOfImageTextures=function(t){for(var e,n=[],i=0,o=t;i<o.length;i++){var r=o[i];e=PIXI.utils.TextureCache[r],n.push(e)}return n},t.prototype.clearAnimations=function(){this.coins.forEach(function(t,e,n){t.destroy(),t=null}),this.coins=[]},t}()},function(t,e,n){"use strict";var i=n(3),o=PIXI.Graphics;!function(){function t(t){this.settings=t,this.coinsRain=this.createEmitter(),this.drawMask()}t.prototype.createEmitter=function(){return new i.CoinsRain(this.settings.coinsContainer,this.settings.coinAnimationSettings)},t.prototype.playStart=function(t){return this.winBoxVO=t,this.winBoxVO.id===this.settings.winBoxVOStartID&&(this.settings.coinsContainer.visible=!0,this.coinsRain.start(this.settings.emitterSettings)),Promise.resolve()},t.prototype.playLoop=function(){},t.prototype.playExit=function(){return this.winBoxVO.id===this.settings.winBoxVOEndID&&(this.settings.coinsContainer.visible=!1,this.coinsRain.stop()),Promise.resolve()},t.prototype.skip=function(){return this.playExit()},t.prototype.drawMask=function(){var t=new o;t.isMask=!0,t.interactive=!1,t.beginFill(0,1),t.drawRect(0,0,this.settings.overlayImage.width,this.settings.overlayImage.height),t.endFill(),t.x=this.settings.overlayImage.x,t.y=this.settings.overlayImage.y,this.settings.mainView.addChild(t),this.settings.coinsContainer.mask=t},t.prototype.destroy=function(){this.coinsRain&&(this.coinsRain.destroy(),this.coinsRain=null)}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i){void 0===t&&(t=-900),void 0===e&&(e=650),void 0===n&&(n=1200),void 0===i&&(i=60),this.positionStartY=t,this.maxY=e,this.maxWidth=n,this.originalFps=i,this.MIN_VY=6,this.MAX_VY=9,this.SCALE_START_COEF=.3,this.MAX_VSCALE=.001,this.ROTATION_START_COEF=.6,this.MAX_VROTATION=.02,this.MIN_FPS=5,this.MAX_FPS=15,this.ALPHA_COEF=.4,this.SCALY_START_COEF=.7,this.MIN_SCALY_DIFF=-.1,this.MAX_SCALY_DIFF=.1,this.MIN_SCALEX=.4,this.MAX_SCALEX=.6}return t}()},function(t,e,n){"use strict";!function(){function t(t,e,n,i,o,r,a){this.winBoxVOStartID=t,this.mainView=e,this.coinsContainer=n,this.emitterSettings=i,this.overlayImage=o,this.coinAnimationSettings=r,this.winBoxVOEndID=a||t}}()},function(t,e,n){"use strict";!function(){function t(t,e){void 0===e&&(e=150),this.animationNames=t,this.count=e}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addWinAnimators=function(){t.prototype.addWinAnimators.call(this),this.winAnimators.push(new o.WinBoxTweenAnimator(this))},e}(o.WinBoxView)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(3),u=PIXI.Point,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainScreen=n.i(o.inject)(a.MainScreenView),e.scenesManager=n.i(o.inject)(r.a),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.targetPosRegularWin=new u(560,340),e.targetPosBigWin=new u(560,470),e.targetScaleFactor=1.5,e.bgAnimatedName="bgAnimated",e.bgStaticName="bgStatic",e}return i.a(e,t),e.prototype.playStart=function(t){switch(this.winBoxVO=t,this.winBoxVO.id){case"level_1":this.showBgAnimated();break;case"level_2":this.addResizeListener(),this.updateOffsetAndScale(this.targetPosRegularWin),this.animateWinBox();break;case"level_3":this.addResizeListener(),this.updateOffsetAndScale(this.targetPosBigWin),this.animateWinBox()}},e.prototype.skip=function(){return this.hideBgAnimated(),this.clearResizeListener(),t.prototype.skip.call(this)},e.prototype.handleResize=function(){var t=this;switch(this.winBoxVO.id){case"level_2":this.removeTweens(),clearTimeout(this.resizeDelayTimeout),this.resizeDelayTimeout=setTimeout(function(){t.updateOffsetAndScale(t.targetPosRegularWin),t.view.x=t.initViewX-t.xOffset,t.view.y=t.initViewY-t.yOffset,t.view.scale.set(t.scaleFactor,t.scaleFactor)},0);break;case"level_3":case"level_4":this.removeTweens(),clearTimeout(this.resizeDelayTimeout),this.resizeDelayTimeout=setTimeout(function(){t.updateOffsetAndScale(t.targetPosBigWin),t.view.x=t.initViewX-t.xOffset,t.view.y=t.initViewY-t.yOffset,t.view.scale.set(t.scaleFactor,t.scaleFactor)},0);break;default:clearTimeout(this.resizeDelayTimeout),this.removeTweens(),this.view.x=this.initViewX,this.view.y=this.initViewY,this.view.scale.set(1,1)}},e.prototype.removeTweens=function(){for(var t=0;t<this.tweens.length;t++)this.tweens[t].kill();this.tweens.length=0},e.prototype.playFinishAnimation=function(e){this.clearResizeListener(),t.prototype.playFinishAnimation.call(this,e)},e.prototype.addResizeListener=function(){this.dispatcher.addListener(r.B.SCENE_RESIZED,this.handleResize,this)},e.prototype.clearResizeListener=function(){clearTimeout(this.resizeDelayTimeout),this.dispatcher.removeListener(r.B.SCENE_RESIZED,this.handleResize,this)},e.prototype.updateOffsetAndScale=function(t){this.yOffset=-(this.getFinalPosition(t).y-this.view.pivot.y),this.scaleFactor=this.getScaleFactor()},e.prototype.getScaleFactor=function(){var t=this.targetScaleFactor*(this.mainScreen.worldTransform.a/this.view.parent.worldTransform.a);return Math.max(1,t)},e.prototype.getFinalPosition=function(t){var e=this.mainScreen.toGlobal(t);return this.view.parent.toLocal(e)},e.prototype.showBgAnimated=function(){TweenLite.to(this.view.getChildByName(this.bgAnimatedName),.5,{alpha:1}),TweenLite.to(this.view.getChildByName(this.bgStaticName),.5,{alpha:0,delay:.3})},e.prototype.hideBgAnimated=function(){TweenLite.to(this.view.getChildByName(this.bgAnimatedName),.3,{alpha:0,delay:.3}),TweenLite.to(this.view.getChildByName(this.bgStaticName),.3,{alpha:1})},e.prototype.onCompleteFinishAnimation=function(){t.prototype.onCompleteFinishAnimation.call(this),this.hideBgAnimated()},e}(s.WinBoxTweenAnimator)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(3),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.setupInfoLabel=function(){t.prototype.setupInfoLabel.call(this),this.winBoxInfoLabel.addMessage("message2",o.WinBoxMessageTypes.FREE_GAMES_WON),this.winBoxInfoLabel.addMessage("message3",o.WinBoxMessageTypes.BONUS_GAME_WON)},e.prototype.addWinAnimators=function(){t.prototype.addWinAnimators.call(this),this.winAnimators.push(new o.WinBoxTweenAnimatorMobile(this))},e}(o.WinBoxView)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(2),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjectionWithLayout=function(t){t.bind(r.WrapperPopupManagerMark2).asSingleton().forceCreation()},e}(o.SlotApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={SHOW_POPUP:"SHOW_POPUP",SHOW_ERROR_POPUP:"SHOW_ERROR_POPUP",SHOW_LOADING_POPUP:"SHOW_LOADING_POPUP",HIDE_POPUP:"HIDE_POPUP",POPUP_SHOWN:"POPUP_SHOWN",POPUP_HIDDEN:"POPUP_HIDDEN"}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(2),r=n(3),a=function(){function t(){this.context=n.i(i.inject)(o.ContextModel).context,this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.currentPopupIds=[],this.popupStateUpdatedCallbacks=[],this.hasPopups=!1,this.addListeners(),this.setupCallback()}return t.prototype.addListeners=function(){this.dispatcher.addListener(r.PopupEvent.SHOW_POPUP,this.notifyShowPopup,this),this.dispatcher.addListener(r.PopupEvent.SHOW_ERROR_POPUP,this.notifyShowErrorPopup,this),this.dispatcher.addListener(r.PopupEvent.SHOW_LOADING_POPUP,this.notifyShowLoadingPopup,this),this.dispatcher.addListener(r.PopupEvent.HIDE_POPUP,this.notifyHidePopup,this)},t.prototype.setupCallback=function(){var t=this,e=this.context.api.popupManager;if(e){var n=e.onPopupsStateUpdatedCallback,i=this.context.api.onPopupsStateUpdated;this.context.api.onPopupsStateUpdated=function(e){t.popupStateUpdatedCallbacks.push(e)}.bind(this),i.call(this.context.api,function(e){return t.notifyTruePopupStateUpdate(e)}),this.context.api.onPopupsStateUpdated(function(e){e?(t.hasPopups=!0,t.dispatcher.dispatch(r.PopupEvent.POPUP_SHOWN)):(t.hasPopups=!1,t.currentPopupIds.length=0,t.dispatcher.dispatch(r.PopupEvent.POPUP_HIDDEN)),n&&n(e)})}},t.prototype.notifyShowPopup=function(t){this.currentPopupIds.push(this.context.api.showPopup(t))},t.prototype.notifyShowErrorPopup=function(){this.currentPopupIds.push(this.context.api.showLoadErrorPopup())},t.prototype.notifyShowLoadingPopup=function(){this.currentPopupIds.push(this.context.api.showLoadingPopup())},t.prototype.notifyHidePopup=function(t){var e=this.currentPopupIds.indexOf(t);t&&-1!==e?this.currentPopupIds.splice(e,1):t||(t=this.currentPopupIds[0]),this.context.api.hidePopup(t)},t.prototype.notifyTruePopupStateUpdate=function(t){this.popupStateUpdatedCallbacks.forEach(function(e){return e(t)})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={REGULAR_WIN_GROUP:"regular_win_group",BIG_WIN_GROUP:"big_win_group",FIVE_OF_A_KIND_GROUP:"five_of_a_kind_group",PROMO_GROUP:"promo_group"}},function(t,e,n){"use strict";var i=n(1);!function(){function t(){}t.handleEvents=function(t,e,o){var r=n.i(i.inject)(i.EventDispatcher),a=[],s=0;t.forEach(function(n){r.addListener(n,function(i){r.removeListeners(n,o),i&&a.push(i),++s===t.length&&e.apply(o,a)},o)})}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(4),o=function(){function t(){}return t.getDistance=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},t.interpolate=function(t,e,n){return new i.e(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},t.lineIntersectLine=function(t,e,n,o,r){void 0===r&&(r=!0);var a=e.y-t.y,s=t.x-e.x,u=e.x*t.y-t.x*e.y,l=o.y-n.y,c=n.x-o.x,d=o.x*n.y-n.x*o.y,p=a*c-l*s;if(0===p)return null;var h=new i.e((s*d-c*u)/p,(l*u-a*d)/p);if(r){if(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)>Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))return null;if(Math.pow(h.x-t.x,2)+Math.pow(h.y-t.y,2)>Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))return null;if(Math.pow(h.x-o.x,2)+Math.pow(h.y-o.y,2)>Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2))return null;if(Math.pow(h.x-n.x,2)+Math.pow(h.y-n.y,2)>Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2))return null}return h},t.lineIntersectPoly=function(t,e,n){var o,r,a,s=1,u=1,l=0,c=0,d={};n.push(n[0]),d.intersects=!1,d.intersections=[],d.startInside=!1,d.endInside=!1;for(var p=n.length-1;p>-1;)o=n[p],p>0&&(l+=o.x,c+=o.y,r=n[p-1]||n[0],a=this.lineIntersectLine(t,e,o,r),null!=a&&d.intersections.push(a),null!=this.lineIntersectLine(t,new i.e(1e10,t.y),o,r)&&s++,null!=this.lineIntersectLine(e,new i.e(1e10,e.y),o,r)&&u++),p--;return s%2==0&&(d.startInside=!0),u%2==0&&(d.endInside=!0),d.centroid=new i.e(l/(n.length-1),c/(n.length-1)),d.intersects=d.intersections.length>0,d},t.lineIntersectCircle=function(t,e,n,i){void 0===i&&(i=1);var o={};o.inside=!1,o.tangent=!1,o.intersects=!1,o.enter=null,o.exit=null;var r=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y),a=2*((e.x-t.x)*(t.x-n.x)+(e.y-t.y)*(t.y-n.y)),s=n.x*n.x+n.y*n.y+t.x*t.x+t.y*t.y-2*(n.x*t.x+n.y*t.y)-i*i,u=a*a-4*r*s;if(u<=0)o.inside=!1;else{var l=Math.sqrt(u),c=(-a+l)/(2*r),d=(-a-l)/(2*r);(c<0||c>1)&&(d<0||d>1)?o.inside=!(c<0&&d<0||c>1&&d>1):(0<=d&&d<=1&&(o.enter=this.interpolate(e,t,1-d)),0<=c&&c<=1&&(o.exit=this.interpolate(e,t,1-c)),o.intersects=!0,null!=o.exit&&null!=o.enter&&o.exit.equals(o.enter)&&(o.tangent=!0))}return o},t.bezier=function(t,e,n,o,r){var a=1-r,s=a*a,u=s*a;return new i.e(t.x*u+3*e.x*s*r+3*n.x*a*r*r+o.x*r*r*r,t.y*u+3*e.y*s*r+3*n.y*a*r*r+o.y*r*r*r)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(e){var n=t.call(this,e)||this;return n.imgAnchor=e,n}return i.a(e,t),e.prototype.changeBackgroundImage=function(t,e){var n;null!==this.currentImage&&(n=this.currentImage),null!==t&&(this.currentImage=new PIXI.Sprite,this.addChild(this.currentImage),this.currentImage.texture=t,this.currentImage.anchor.set(this.imageAnchor.x,this.imageAnchor.y),this.currentImage.alpha=0,TweenLite.to(this.currentImage,e,{alpha:1,ease:Sine.easeInOut,onComplete:function(){null!=n&&(TweenLite.killTweensOf(n),n.parent.removeChild(n))}}))},e}(o.y)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this.filter=new PIXI.filters.ColorMatrixFilter}return t.startBlinkingAnimation=function(t){this.addColorFilter(t);var e=t.filters[0];return TweenMax.fromTo(e.matrix,1,(n={},n[0]=1,n[6]=1,n[12]=1,n),(i={},i[0]=1.5,i[6]=1.5,i[12]=1.5,i.yoyo=!0,i.repeat=-1,i.ease=Linear.easeNone,i));var n,i},t.addColorFilter=function(t){if(t.filters&&0!==t.filters.length)return!1;var e=new PIXI.filters.ColorMatrixFilter;return e.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1],t.filters=[e],e.brightness(1,!1),!0},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(4),r=n(3),a=function(t){function e(){var e=t.call(this)||this;return e.registerBuilder(o.t.LABEL,new r.LabelBuilderMark2,!0),e}return i.a(e,t),e}(o.i)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(4),r=n(3),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.LabelMark2},e.prototype.applyProperties=function(e,n,i){t.prototype.applyProperties.call(this,e,n,i),e.fontStyleMark2=o.u.getFontStyle(n)},e}(o.u)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(4),r=function(t){function e(e,n){void 0===e&&(e="");var i=t.call(this,e,n)||this;return i.IMG_START_TAG="[",i.IMG_END_TAG="]",i.fontStyleMark2=n,i}return i.a(e,t),Object.defineProperty(e.prototype,"fontStyleMark2",{get:function(){return this._fontStyleMark2},set:function(t){this._fontStyleMark2=t},enumerable:!0,configurable:!0}),e.prototype.onAdded=function(){t.prototype.onAdded.call(this),this.text.indexOf(this.IMG_START_TAG)>=0&&this.imageSeparation()},e.prototype.imageSeparation=function(){var t,n,i,r,a,s,u,l,c,d,p;for(i=this.x-this.pivot.x,r=this.y-this.pivot.y,n=i,d=[],p=[],t=this.text.indexOf(this.IMG_START_TAG);t>=0;){l=this.text.substring(0,t),this.text=this.text.substring(t+this.IMG_START_TAG.length),t=this.text.indexOf(this.IMG_END_TAG),u=this.text.substring(0,t),this.text=this.text.substring(t+this.IMG_END_TAG.length);var h=new e(l,this.fontStyleMark2);h.x=n,n+=h.textWidth,h.y=r,h.width=h.textWidth+h.textWidth/4,h.height=this.height,this.parent.addChild(h),c=this.parent.getChildByName(u),c.x=n+c.pivot.x,c.y=r+this.textHeight/2,n+=c.width,d.push(h),p.push(c),t=this.text.indexOf(this.IMG_START_TAG)}""!==this.text&&(this.pivot.x=0,this.pivot.y=0,this.x=n,n+=this.textWidth,this.y=r,d.push(this)),a=this.fontStyleMark2.hAlign===o.c.CENTER?(this.width-n)/2:this.fontStyleMark2.hAlign===o.c.RIGHT?this.width-n:0,s=this.fontStyleMark2.vAlign===o.v.MIDDLE?(this.height-this.textHeight)/2:this.fontStyleMark2.vAlign===o.v.BOTTOM?this.height-this.textHeight:0,this.fontStyleMark2.hAlign=o.c.LEFT,this.fontStyleMark2.vAlign=o.v.TOP;for(var f=0;f<d.length;f++)d[f].fontStyle=this.fontStyleMark2,d[f].x+=a,d[f].y+=s;for(var f=0;f<p.length;f++)p[f].x+=a,p[f].y+=s},e}(o.w)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={NORMAL:"default",HOVER:"hover",DOWN:"down",DISABLED:"disabled",SELECTED:"checked",HOVER_SELECTED:"hoverSelected",DOWN_SELECTED:"downSelected",DISABLED_SELECTED:"disabledSelected"}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(19),o=function(){function t(t){this.bitmapFont=!1,this.fontFamily="Arial",this.fontSize=20,this.fontColor=16777215,this.hAlign=i.a.LEFT,this.vAlign=i.b.TOP,this.fitToSize=!1,this.wordWrap=!1,this.dropShadow=!1,t&&Object.assign(this,t)}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=PIXI.utils.EventEmitter,r=function(t){function e(e,n,i,o){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0);var r=t.call(this)||this;return r._left=e,r._top=n,r._right=i,r._bottom=o,r}return i.a(e,t),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left!==t&&(this._left=t,this.emit(e.PROPERTY_CHANGED))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this._top},set:function(t){this._top!==t&&(this._top=t,this.emit(e.PROPERTY_CHANGED))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right!==t&&(this._right=t,this.emit(e.PROPERTY_CHANGED))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this._bottom},set:function(t){this._bottom!==t&&(this._bottom=t,this.emit(e.PROPERTY_CHANGED))},enumerable:!0,configurable:!0}),e.PROPERTY_CHANGED="propertyChanged",e}(o)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.ENABLED_STATE_CHANGED="buttonEnabledStateChanged",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(9),o=PIXI.Point,r=function(){function t(){this._p0=new o,this._p1=new o,this._p2=new o,this._p3=new o}return t.prototype.setSegment=function(t,e,n,i){this._p0.copy(t),this._p1.copy(e),this._p2.copy(n),this._p3.copy(i)},t.prototype.computePoint=function(t){return new o(this.computeX(t),this.computeY(t))},t.prototype.computeX=function(t){return i.a.bezier(this._p0.x,this._p1.x,this._p2.x,this._p3.x,t)},t.prototype.computeY=function(t){return i.a.bezier(this._p0.y,this._p1.y,this._p2.y,this._p3.y,t)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(1),r=n(779),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.addInjection=function(t){t.bind(o.ApplicationAssetsLoader).asSingleton(),t.bind(o.LoaderProvider).to(r.a).asSingleton()},e}(o.ApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(23),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.type=function(){return 7},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),o=n(1),r=n(780),a=n(778),s=n(23),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.getBitmapFontLoader=function(){return a.a},e.prototype.getImageLoader=function(){return s.a},e.prototype.getSpriteSheetLoader=function(){return r.a},e}(o.LoaderProvider)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(23),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.type=function(){return 5},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(0),o=n(1),r=n(783),a=n(784),s=n(24),u=n(782),l=n(60),c=n(61),d=n(17),p=function(t){function e(e){return t.call(this,e)||this}return i.a(e,t),e.prototype.addInjection=function(t){t.bind(l.a).to(u.a).asSingleton(),t.bind(c.a).to(r.a).asSingleton(),t.bind(d.a).to(a.a).asSingleton(),t.bind(s.a).asSingleton()},e}(o.ApplicationModule)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=PIXI.extras.BitmapText,o=function(){function t(){}return t.prototype.isFontRegistered=function(t){return!!i.fonts[t]},t.prototype.registerFont=function(t,e){},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=PIXI.Texture,o=function(){function t(){}return t.prototype.fromImage=function(t){return i.EMPTY},t.prototype.destroyTexture=function(t){var e=i.removeTextureFromCache(t);e&&e.destroy()},t.prototype.destroy=function(){},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=PIXI.utils.TextureCache,o=function(){function t(){}return t.prototype.getTexture=function(t){var e=i[t];if(!e)throw Error("No image with id "+t+" could be found in asset library loader");return e},t.prototype.hasTexture=function(t){return i[t]},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(1),o=n(4),r=function(){function t(t,e,n){void 0===e&&(e=300),void 0===n&&(n=10),this.baseContainer=t,this.focalLength=e,this.movementDamping=n,this.x=0,this.y=0,this.layers=[],this._baseZoom=1,this._zoom=1,this.zoomShift=.05,this.useParallaxScale=!0,this._shakeEndTime=0,this._shakeStrength=0,this.resizeWidth=0,this.resizeHeight=0}return t.prototype.setCenter=function(t,e){this.sw=t,this.sh=e},t.prototype.scaleToSize=function(t,e){this.resizeWidth=t,this.resizeHeight=e,this.commitResizeData()},t.prototype.commitResizeData=function(){if(!(this.resizeWidth<=0||this.resizeHeight<=0)&&this.layers.length){var t=this.getSize(),e=Math.max(this.resizeWidth/t.x,this.resizeHeight/t.y);this.zoom=e+this.zoomShift}},t.prototype.getSize=function(){return this.layers[0]?new o.e(this.layers[0].width,this.layers[0].height):new o.e(1,1)},t.prototype.update=function(){if(this.baseContainer){var t=this.sw,e=this.sh,n=0,o=0,r=this._target;r&&(0===this.movementDamping?(this.x=-r.x,this.y=-r.y):(this.x+=(-this.x-r.x)/this.movementDamping,this.y+=(-this.y-r.y)/this.movementDamping));var a=this._shakeStrength;if(a){Date.now()>this._shakeEndTime?this._shakeStrength=0:(n=i.NumberUtils.getRandom(-a,a),o=i.NumberUtils.getRandom(-a,a))}for(var s=this.layers.length;--s>-1;){var u=this.layers[s],l=this.focalLength/(this.focalLength-u.pz);u.x=(u.px+this.x+n)*l,u.y=(u.py+this.y+o)*l,this.useParallaxScale&&u.scale.set(l)}this.baseContainer.x=this.x-0+n+t,this.baseContainer.y=this.y-0+o+e}},t.prototype.addLayer=function(t){-1===this.layers.indexOf(t)&&(this.layers.push(t),this.baseContainer.addChild(t),this.zsort()),this.commitResizeData()},t.prototype.removeLayer=function(t){var e=this.layers.indexOf(t);-1!==e&&this.layers.splice(e,1),t.parent===this.baseContainer&&this.baseContainer.removeChild(t),this.commitResizeData()},t.prototype.shake=function(t,e){void 0===e&&(e=1),this._shakeStrength=t,this._shakeEndTime=Date.now()+1e3*e},t.prototype.stopShake=function(){this._shakeStrength=0},t.prototype.setTarget=function(t,e){void 0===e&&(e=!0),this._target=t,t&&e&&(this.x=-t.x,this.y=-t.y)},t.prototype.zsort=function(){this.layers=this.layers.sort(function(t,e){return t.pz-e.pz});for(var t=0;t<this.layers.length;++t)this.baseContainer.addChildAt(this.layers[t],t)},t.prototype.dispose=function(){this.layers=null,this._target=null,this.baseContainer.removeChildren(),this.baseContainer=null},Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseZoom",{get:function(){return this._baseZoom},set:function(t){this._baseZoom=t,this.zoom=this.zoom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoom",{get:function(){return this._zoom},set:function(t){this._zoom=t,this.baseContainer.scale.set(t*this._baseZoom)},enumerable:!0,configurable:!0}),t.prototype.getParallaxParent=function(t){return t?t.pz?t:this.getParallaxParent(t.parent):null},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(4),o=function(){function t(){this.containers={}}return t.prototype.setContainer=function(t,e){e=e||i.f.DEFAULT,this.containers[e]=t},t.prototype.getContainer=function(t){return void 0===t&&(t=null),this.containers[t]||(t=i.f.DEFAULT),this.containers[t]},t.prototype.addChild=function(t,e){void 0===e&&(e=null);var n=this.getContainer(e);n&&n.addChild(t),t.show&&t.show()},t.prototype.removeChild=function(t,e){void 0===e&&(e=!1);var n;return n=t.hide?t.hide():Promise.resolve(),n.then(function(){t.parent&&t.parent.removeChild(t),e&&t.destroy()}),n},t.prototype.destroy=function(){this.containers=null},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return M});var i=n(0),o=n(1),r=n(4),a=n(76),s=n(63),u=n(786),l=n(25),c=n(64),d=n(62),p=n(785),h=n(65),f=n(17),M=function(t){function e(){var e=t.call(this)||this;return e.paused=!1,e.allViews=[],e.contentManager=n.i(o.inject)(o.ContentManager),e.dispatcher=n.i(o.inject)(o.EventDispatcher),e.textureProvider=n.i(o.inject)(f.a),e.bgScaleType=s.a.ALWAYS,e.sceneVAlign=h.a.MIDDLE,e.topGap=0,e.objectToResize=e,e.popupContainers=new u.a,e.popupContainers.setContainer(e,l.a.DEFAULT),e.initBackground(),e}return i.a(e,t),e.prototype.initBackground=function(){this.background=new r.d,this.addChild(this.background),this.camera=new p.a(this.background)},e.prototype.setCurrentBackground=function(t){this.backgroundSprite?this.backgroundSprite.changeImage(this.textureProvider.getTexture(t)):(this.addBackgroundLayer(t),this.recalculateBackground())},e.prototype.setTargetPoint=function(t,e){this.background&&(this.targetPoint||(this.targetPoint=new r.e(0,0),this.camera.setTarget(this.targetPoint),this.recalculateBackground()),this.targetPoint.set(t,e))},e.prototype.addBackgroundLayer=function(t,e){void 0===e&&(e=-10);var n=new r.e(.5,.5);this.backgroundSprite=new d.a(n),this.backgroundSprite.pz=e,this.camera.addLayer(this.backgroundSprite),this.backgroundSprite.changeImage(this.textureProvider.getTexture(t))},e.prototype.addView=function(t){this.allViews.push(t)},e.prototype.removeView=function(t){if(this.allViews){var e=this.allViews.indexOf(t);if(-1!==e)return this.allViews.splice(e,1),!0}return!1},e.prototype.attachView=function(t){return this.addView(t),!0},e.prototype.detachView=function(t){return this.removeView(t)},e.prototype.draw=function(t){if(!this.paused){for(var e=this.allViews,n=e.length;n--;){e[n].draw(t)}this.camera.update()}},e.prototype.deactivate=function(){this.onRemoved(),this.allViews=null,this.destroy()},e.prototype.activate=function(){this.emit(r.d.ADDED_TO_SCENE)},e.prototype.resize=function(t,e,n){this.canvasWidth=t,this.canvasHeight=e,this.children.length&&this.internalResize(n),this.dispatcher.dispatch(c.a.SCENE_RESIZED,{canvasWidth:t,canvasHeight:e,scale:this.objectToResize.scale.x})},e.prototype.internalResize=function(t){void 0===t&&(t=0);var e=this.resizeArea;if(e||(e=this),!(this.canvasWidth<=0||this.canvasHeight<=0)){this.objectToResize.scale.set(1),this.objectToResize.position.set(0);var n=e.getBounds();if(!(n.width<=0||n.height<=0)){var i=n.height,o=n.width,a=new r.e(this.canvasWidth,this.canvasHeight-t-this.topGap),s=Math.min(Math.min(a.x,o)/o,Math.min(a.y,i)/i);this.objectToResize.scale.set(s);var u=new r.e(n.x*s,n.y*s),l=new r.e(o*s,i*s),c=new r.e(Math.floor((a.x-l.x)/2-u.x),0);switch(this.sceneVAlign){case h.a.TOP:c.y=this.topGap-u.y;break;case h.a.BOTTOM:c.y=this.topGap+a.y-l.y-u.y;break;default:c.y=this.topGap+((a.y-l.y)/2-u.y),c.y=Math.floor(c.y)}this.objectToResize.position.set(c.x,c.y),this.recalculateBackground()}}},e.prototype.recalculateBackground=function(){var t=this.objectToResize.scale.x;if(!(t<=0||this.canvasWidth<=0||this.canvasHeight<=0)){var e;if(this.bgScaleType===s.a.ALWAYS)e=new r.e(this.canvasWidth/t,this.canvasHeight/t);else if(this.bgScaleType===s.a.ONLY_UPSCALE){e=new r.e(this.canvasWidth/t,this.canvasHeight/t);var n=this.camera.getSize();n.x>=e.x&&n.y>=e.y&&(e.x=n.x,e.y=n.y)}else if(this.bgScaleType===s.a.NEVER){var n=this.camera.getSize();e=new r.e(n.x,n.y)}var i,o;this.camera.baseContainer.parent===this.objectToResize?(i=(this.canvasWidth/2-this.objectToResize.x)/t,o=(this.canvasHeight/2-this.objectToResize.y)/t):(i=this.canvasWidth/2,o=this.canvasHeight/2,e.x*=t,e.y*=t),this.camera.setCenter(i,o),this.camera.scaleToSize(e.x,e.y)}},e.prototype.getPopupContainers=function(){return this.popupContainers},e.prototype.destroy=function(){this.objectToResize=null,this.popupContainers&&(this.popupContainers.destroy(),this.popupContainers=null),this.resizeArea=null,this.camera.dispose(),t.prototype.destroy.call(this)},e}(a.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(1),o=n(16),r=n(25),a=function(){function t(){this.dispatcher=n.i(i.inject)(i.EventDispatcher),this.renderManager=n.i(i.inject)(o.a),this.scenes={},this.popups={},this.contentManager=n.i(i.inject)(i.ContentManager),this.dispatcher.addListener(i.RenderManagerEvent.RENDER,this.onRender,this),this.dispatcher.addListener(i.RenderManagerEvent.RESIZE,this.onRenderResize,this)}return t.prototype.onRender=function(){this.currentScene&&this.currentScene.draw(Date.now())},t.prototype.onRenderResize=function(){this.resize(this.renderManager.canvasWidth,this.renderManager.canvasHeight)},t.prototype.resize=function(t,e){this.currentScene&&this.currentScene.resize(t,e)},t.prototype.createPopupByLayoutId=function(t,e){e=e||r.a.DEFAULT;var o=n.i(i.getViewComponent)(t);return this.addPopup(t,o,e),o},t.prototype.removePopupById=function(t,e){void 0===e&&(e=!1);var n=this.popups[t];return n?(this.popups[t]=null,this.currentScene.getPopupContainers().removeChild(n,e)):Promise.resolve()},t.prototype.addPopup=function(t,e,n){this.popups[t]=e,this.currentScene.getPopupContainers().addChild(e,n)},t.prototype.createScene=function(t){if(!this.scenes[t]){var e=n.i(i.getViewComponent)(t);this.scenes[t]=e}return this.scenes[t]},t.prototype.goToScene=function(t){this.currentScene&&(this.currentScene.deactivate(),this.removeScene(this.currentScene)),this.currentScene=this.scenes[t],this.currentScene.activate(),this.renderManager.objectToRender=this.currentScene,this.currentScene.resize(this.renderManager.canvasWidth,this.renderManager.canvasHeight),this.renderManager.render()},t.prototype.removeScene=function(t){for(var e in this.scenes)this.scenes.hasOwnProperty(e)&&this.scenes[e]===t&&(this.scenes[e]=null)},t.prototype.changeBackground=function(t){this.currentScene.setCurrentBackground(t),this.renderManager.render()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(0),o=n(26),r=n(69),a=n(803),s=n(73),u=n(72),l=n(70),c=n(795),d=n(796),p="customEase",h="easeValue",f=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o._interpolators=[],e[p]?e[p].all?o.initAllInterplators(new c.a(e[p].all)):(o._interpolators.push(new a.a(o.createTweenCurve(e[p].position))),o._interpolators.push(new s.a(o.createTweenCurve(e[p].scale))),o._interpolators.push(new u.a(o.createTweenCurve(e[p].rotation))),o._interpolators.push(new l.a(o.createTweenCurve(e[p].color)))):e[h]?o.initAllInterplators(new d.a(e[h])):o.initAllInterplators(new r.a),o}return i.a(e,t),e.prototype.createTweenCurve=function(t){return t&&t.length?new c.a(t):new r.a},e.prototype.initAllInterplators=function(t){this._interpolators.push(new a.a(t)),this._interpolators.push(new s.a(t)),this._interpolators.push(new u.a(t)),this._interpolators.push(new l.a(t))},e.prototype.updateCurrentFrame=function(t){var e=(t-this.startFrame)/this.duration;if(this.numChildren>0){var n=this.getChildAt(0),i=this.getChildTransformAt(0);if(this.next&&this.next.hasChildAt(0))for(var o=this.next.getChildTransformAt(0),r=0,a=this._interpolators;r<a.length;r++){var s=a[r];s.interpolate(i,o,e,n)}else i.apply(n)}},e.prototype.setCurrentFrame=function(t){this.updateCurrentFrame(t)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.CLASSIC_TWEEN="ct",t.MOTION_TWEEN="mt",t.STATIC="st",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.NORMAL="normal",t.GUIDE="guide",t.GUIDED="guided",t.MASK="mask",t.MASKED="masked",t.FOLDER="folder",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(27),r=function(t){function e(e,n){var i=t.call(this,e,n)||this;i.MASK_PADDING=10,i._renderTransform=new PIXI.Matrix;var o=e.bounds,r=i.MASK_PADDING/2;i._left=o.l-r;var a=o.r+r;i._top=o.t-r;var s=o.b+r,u=Math.ceil(a-i._left),l=Math.ceil(s-i._top);return i._renderTransform.translate(-i._left,-i._top),i._rt=PIXI.RenderTexture.create(u,l,PIXI.SCALE_MODES.LINEAR,1),i._dynamicMask=new PIXI.Sprite(i._rt),i._dynamicMask.position.x=i._left,i._dynamicMask.position.y=i._top,i}return i.a(e,t),Object.defineProperty(e.prototype,"dynamicMask",{get:function(){return this._dynamicMask},enumerable:!0,configurable:!0}),e.prototype.setFrame=function(e){t.prototype.setFrame.call(this,e),this.context.getLayoutsContext().getRenderer().render(this,this._rt,!0,this._renderTransform)},e.prototype.init=function(t,e){t.addChild(this.dynamicMask)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(67),r=PIXI.utils.EventEmitter,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._values={},e}return i.a(e,t),e.prototype.getProperty=function(t){return this._values[t]},e.prototype.setProperty=function(t,e){this._values[t]!==e&&(this._values[t]=e,this.emmitPropertyChange(t,e))},e.prototype.emmitPropertyChange=function(t,e){this.emit(o.a.NAME,new o.a(t,e))},e}(r)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(29),o=n(67),r=function(){function t(t){this._container=t}return t.prototype.bindModel=function(t){this._model!==t&&(this._model&&this._model.removeListener(o.a.NAME,this.onPropertyChanged,this),this._model=t,this._model&&(this._model.addListener(o.a.NAME,this.onPropertyChanged,this),this.performValueAction(this._model.getProperty(this._propertyName))))},t.prototype.onPropertyChanged=function(t){t.propertyName===this._propertyName&&this.performValueAction(this._model.getProperty(this._propertyName))},t.prototype.performValueAction=function(t){t===this._propertyValue&&this._action.execute(this._container)},t.prototype.deserialize=function(t){this._propertyName=t.propertyName,this._propertyValue=t.propertyValue,this._action=i.a.instance.create(t.actionType,t.action)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=n(68),r=function(t){function e(e){return t.call(this,e[1],e[2])||this}return i.a(e,t),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),o=n(68),r=n(9),a=PIXI.Point,s=function(t){function e(e){return e=(e+100)/200,t.call(this,new a(.33,r.a.lerp(0,.66,e)),new a(.66,r.a.lerp(.33,1,e)))||this}return i.a(e,t),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(71),o=n(22),r=function(){function t(t){this.relativeFrame=t.frame,this.transform=new i.a(t.transform),this.position=o.a.deserialize(t.position),this.tangentLeft=o.a.add(this.position,o.a.deserialize(t.tangentLeft)),this.tangentRight=o.a.add(this.position,o.a.deserialize(t.tangentRight))}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(0),o=n(26),r=n(797),a=n(70),s=n(72),u=n(73),l=n(69),c=n(776),d=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;if(o._keyframes=[],o._interpolators=[],o._bezier=new c.a,e.keyframes instanceof Array)for(var d=0,p=e.keyframes;d<p.length;d++){var h=p[d];o._keyframes.push(new r.a(h))}var f=new l.a;return o._interpolators.push(new u.a(f),new s.a(f),new a.a(f)),o}return i.a(e,t),e.prototype.setCurrentFrame=function(t){var e=t-this.startFrame;if(this._keyframes.length&&0!==this.numChildren){for(var n=this.getChildAt(0),i=1;i<this._keyframes.length;i++){var o=this._keyframes[i-1],r=this._keyframes[i];if(o.relativeFrame<=e&&e<r.relativeFrame){for(var a=(e-o.relativeFrame)/(r.relativeFrame-o.relativeFrame),s=0,u=this._interpolators;s<u.length;s++){u[s].interpolate(o.transform,r.transform,a,n)}return this._bezier.setSegment(o.position,o.tangentRight,r.tangentLeft,r.position),void(n.position=this._bezier.computePoint(a))}}var l=this._keyframes[this._keyframes.length-1];l.transform.apply(n),n.position=l.position}},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this._timeline=t}return t.prototype.initFirstFrame=function(){},t.prototype.onEnterFrame=function(t){var e=this._timeline;e.currentFrame=(e.currentFrame+t*e.fps)%e.totalFrames},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e){this._timeline=t,this._startFrame=e}return t.prototype.initFirstFrame=function(){this._timeline.currentFrame=this._startFrame},t.prototype.onEnterFrame=function(t){var e=this._timeline;e.currentFrame=(e.currentFrame+t*e.fps)%e.totalFrames},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i){void 0===i&&(i=!0),this._timeline=t,this._startFrame=e,this._duration=n,this._rewindChildren=i}return t.prototype.initFirstFrame=function(){this._rewindChildren&&this._timeline.rewind(),this._timeline.currentFrame=this._startFrame,this._frame=0},t.prototype.onEnterFrame=function(t){this._frame+=t*this._timeline.fps,this._frame>this._duration&&(this._frame=this._frame%this._duration,this._rewindChildren&&this._timeline.rewind()),this._timeline.currentFrame=this._startFrame+this._frame},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(9),o=function(){function t(t,e,n,o){void 0===o&&(o=null),this._timeline=t,this._startFrame=e,this._endFrame=n,this._onCompleted=o,this._dir=i.a.sign(n-e)}return t.prototype.initFirstFrame=function(){this._timeline.rewind(),this._timeline.currentFrame=this._startFrame},t.prototype.onEnterFrame=function(t){var e=this._timeline,n=e.currentFrame;n+=t*e.fps*this._dir,i.a.inRange(n,this._startFrame,this._endFrame)?e.currentFrame=n:(e.currentFrame=this._endFrame,null!=this._onCompleted&&(e.stop(),this._onCompleted()))},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this._tween=t}return t.prototype.interpolate=function(t,e,n,i){i.pivot.x=this._tween.interpolate(t.pivotX,e.pivotX,n),i.pivot.y=this._tween.interpolate(t.pivotY,e.pivotY,n),i.x=this._tween.interpolate(t.x,e.x,n),i.y=this._tween.interpolate(t.y,e.y,n)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i,o){void 0===o&&(o=.001),this.x1=t,this.y1=e,this.x2=n,this.y2=i,this.epsilon=o}return t.prototype.curveX=function(t){var e=1-t;return 3*e*e*t*this.x1+3*e*t*t*this.x2+t*t*t},t.prototype.curveY=function(t){var e=1-t;return 3*e*e*t*this.y1+3*e*t*t*this.y2+t*t*t},t.prototype.derivativeCurveX=function(t){var e=1-t;return 3*(2*(t-1)*t+e*e)*this.x1+3*(-t*t*t+2*e*t)*this.x2},t.prototype.getYForX=function(t){for(var e,n,i=t,o=0;o<8;o++){if(e=this.curveX(i)-t,Math.abs(e)<this.epsilon)return this.curveY(i);if(n=this.derivativeCurveX(i),Math.abs(n)<1e-6)break;i-=e/n}var r=0,a=1;if((i=t)<r)return this.curveY(r);if(i>a)return this.curveY(a);for(;r<a;){if(e=this.curveX(i),Math.abs(e-t)<this.epsilon)return this.curveY(i);t>e?r=i:a=i,i=.5*(a-r)+r}return this.curveY(i)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.find=function(t,e){for(var n=0,i=t;n<i.length;n++){var o=i[n];if(e(o))return o}return null},t}()},function(t,e,n){"use strict";var i=n(0),o=n(4);!function(t){function e(e,n){var i=t.call(this,e,n)||this;return i._diameter=n.diameter||i.width||100,i._startAngle=n.startAngle||0,i._textInside=void 0===n.textInside||n.textInside,i._inwardFacing=void 0===n.inwardFacing||n.inwardFacing,i}i.a(e,t),Object.defineProperty(e.prototype,"diameter",{get:function(){return this._diameter},set:function(t){this._diameter=t,this.updateText()},enumerable:!0,configurable:!0}),e.prototype.updateText=function(e){if(this.localStyleID!==this._style.styleID&&(this.dirty=!0),this.dirty||!e){"|"===this.text[0]?(this.originalText=this.text,this.textArray=this.text.split("|").slice(1),this.text=this.textArray.join("")):this.originalText&&"|"===this.originalText[0]?(this.textArray=this.originalText.split("|").slice(1),this.text=this.textArray.join("")):this.textArray=this.text.split(""),t.prototype.updateText.call(this,e),this.fontSize=this.style.fontSize+"pt",this.clockwise=this.style.align===o.c.RIGHT?1:-1,this._startAngle=this._startAngle*(Math.PI/180);var n=new PIXI.Text(this.text,{fontFamily:this.style.fontFamily,fontSize:this.fontSize});if(this.textHeight=n.height,this.textWidth=n.width,n.destroy(!0),this.lineLength=Math.PI*(this._diameter-2*this.textHeight),this.textWidth>this.lineLength){var i=this.textWidth+3;this.style.fontSize=Math.floor(this.style.fontSize*this.lineLength/i),this.fontSize=this.style.fontSize+"pt",this.textHeight=this.textHeight*this.lineLength/this.textWidth}this._textInside||(this._diameter+=2*this.textHeight),this.canvas.width=this._diameter*this.resolution,this.canvas.height=this._diameter*this.resolution,this.context.scale(this.resolution,this.resolution),this.context.fillStyle=this.style.fill,this.context.font=this.fontSize+" "+this.style.fontFamily,this.reverseText(),this.positionText(),this.positionLetter(),this.updateTexture()}},e.prototype.reverseText=function(){([o.c.LEFT,o.c.CENTER].indexOf(this.style.align)>-1&&this._inwardFacing||this.style.align===o.c.RIGHT&&!this._inwardFacing)&&this.textArray.reverse()},e.prototype.positionText=function(){var t=this._diameter/2,e=this.textArray.length;this.context.translate(t,t),this._startAngle+=Math.PI*(this._inwardFacing?0:1),this.context.textBaseline=this.style.textBaseline,this.context.textAlign=o.c.CENTER,this.charWidth=Array(e);for(var n=0;n<e;n++)this.charWidth[n]=this.context.measureText(this.textArray[n]).width;if(this.style.align===o.c.CENTER)for(var i=this.textArray.length,n=0;n<i;n++)this._startAngle+=(this.charWidth[n]+(n===i-1?0:this.style.letterSpacing))/(t-this.textHeight)/2*-this.clockwise;this.context.rotate(this._startAngle)},e.prototype.positionLetter=function(){for(var t=this._diameter/2,e=this._inwardFacing?1:-1,n=this.textArray.length,i=0;i<n;i++){var o=this.textArray[i],r=this.charWidth[i];this.context.rotate(r/2/(t-this.textHeight)*this.clockwise),this.context.fillText(o,0,e*(0-t+this.textHeight/2)),this.context.rotate((r/2+this.style.letterSpacing)/(t-this.textHeight)*this.clockwise)}}}(PIXI.Text)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this._select=t.select}return t.prototype.execute=function(t){t.selected=this._select},t.prototype.stop=function(t){},t.create=function(e){return new t(e)},t.TYPE_NAME="CheckBox",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this._name=t.name,this._animationName=t.animationName}return t.prototype.execute=function(t){var e=t;"stop"===this._name?e.stop():"playAnimation"===this._name&&e.playAnim(this._animationName)},t.prototype.stop=function(t){},t.create=function(e){return new t(e)},t.TYPE_NAME="MovieClip",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(1),o=function(){function t(t){this._soundManager=n.i(i.inject)(i.SoundManager),this._soundId=t.soundId,this._playingType=t.playingType,this._repeatCount=t.repeatCount||1,this._syncType=t.syncType}return t.prototype.execute=function(t){var e=this;"repeat"===this._playingType?this._loopInstance=this._soundManager.playSoundInstance(this._soundId,this._repeatCount,function(){e._loopInstance=null}):"loop"===this._playingType&&(this._loopInstance=this._soundManager.playSoundInstance(this._soundId,0))},t.prototype.stop=function(e){this._loopInstance&&(e||this._syncType===t.SYNC)&&(this._loopInstance.stop(),this._loopInstance=null)},t.create=function(e){return new t(e)},t.TYPE_NAME="Sound",t.SYNC="sync",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this._name=t.name,this._animationName=t.animationName}return t.prototype.execute=function(t){var e=t;switch(this._name){case"play":e.paused=!1;break;case"stop":e.paused=!0;break;case"playAnimation":e.animation=this._animationName,e.paused=!1}},t.prototype.stop=function(t){},t.create=function(e){return new t(e)},t.TYPE_NAME="Spine",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(27),o=n(13),r=n(30),a=function(){function t(t){this._name=t.name,this._frame=t.frame}return t.prototype.execute=function(t){var e,n=this.getTimeline(t);switch(this._name){case"stop":n.stop(),n.currentFrame=Math.floor(n.currentFrame);break;case"play":n.play();break;case"gotoAndPlay":e=this.getFrameNumber(n),isNaN(e)||n.gotoAndPlay(e);break;case"gotoAndStop":e=this.getFrameNumber(n),isNaN(e)||n.gotoAndStop(e);break;case"nextFrame":e=(Math.floor(n.currentFrame)+1)%n.totalFrames,n.gotoAndStop(e);break;case"prevFrame":e=Math.floor(n.currentFrame)-1,e<0&&(e+=n.totalFrames),n.gotoAndStop(e)}},t.prototype.stop=function(t){},t.prototype.getFrameNumber=function(t){var e=parseInt(this._frame,10);return e.toString(10)!==this._frame&&(e=t.findFrameByLabel(this._frame)),e},t.prototype.getTimeline=function(t){if(t instanceof r.a){if(t.parent instanceof i.a)return t.parent.parent.timeline}else{if(t instanceof o.a)return t.timeline;if(t.parent instanceof i.a)return t.parent.parent.timeline}return null},t.create=function(e){return new t(e)},t.TYPE_NAME="Timeline",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),o=PIXI.Point,r=function(t){function e(e,n,i){var o=t.call(this)||this;return o._layer=e,o._layer.interactive=!0,o._layer.visible=!1,o._button=n,o._interaction=i,o}return i.a(e,t),e.prototype.contains=function(t,e){var n=this._button.toGlobal(new o(t,e));this._layer.visible=!0,this._layer.updateTransform();var i=null!=this._interaction.hitTest(n,this._layer);return this._layer.visible=!1,i},e}(PIXI.Rectangle)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(75),r=n(814),a=function(t){function e(){var e=t.call(this,"hitArea")||this;return e.registerBuilder(r.a.CIRCLE,r.b),e.registerBuilder(r.a.ELLIPSE,r.c),e.registerBuilder(r.a.RECTANGLE,r.d),e.registerBuilder(r.a.ROUNDED_RECTANGLE,r.e),e.registerBuilder(r.a.POLYGON,r.f),e}return i.a(e,t),e.prototype.create=function(t){var e=this.getBuilder(t.hitType);return e?e(t):null},e}(o.a)},function(t,e,n){"use strict";function i(t){return new l(t.x,t.y,t.radius)}function o(t){var e=t.width/2,n=t.height/2;return new c(t.x+e,t.y+n,e,n)}function r(t){return new d(t.x,t.y,t.width,t.height)}function a(t){return new p(t.x,t.y,t.width,t.height,t.radius)}function s(t){var e=[];if(t.points instanceof Array)for(var n=0,i=t.points;n<i.length;n++){var o=i[n];e.push(u.a.deserialize(o))}var r=new h(e);return r.closed=!0,r}n.d(e,"a",function(){return f}),e.b=i,e.c=o,e.d=r,e.e=a,e.f=s;var u=n(22),l=PIXI.Circle,c=PIXI.Ellipse,d=PIXI.Rectangle,p=PIXI.RoundedRectangle,h=PIXI.Polygon,f=function(){function t(){}return t.CIRCLE="circle",t.ELLIPSE="ellipse",t.RECTANGLE="rectangle",t.ROUNDED_RECTANGLE="rounded rectangle",t.POLYGON="polygon",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(1),o=n(16),r=n(24),a=n(17),s=function(){function t(){this.renderManager=n.i(i.inject)(o.a),this.contentManager=n.i(i.inject)(i.ContentManager),this.textureProvider=n.i(i.inject)(a.a),this.spineProvider=n.i(i.inject)(r.a)}return t.prototype.getLayout=function(t){return this.contentManager.getLibraryComponent(t)},t.prototype.getTexture=function(t){return this.textureProvider.getTexture(t)},t.prototype.getView=function(t){return n.i(i.getView)(t)},t.prototype.getRenderer=function(){return this.renderManager.renderer},t.prototype.getSpineSkeleton=function(t){return this.spineProvider.get(t)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return C});var i=n(0),o=n(15),r=n(78),a=n(820),s=n(815),u=n(75),l=n(92),c=n(33),d=n(95),p=n(97),h=n(94),f=n(105),M=n(102),y=n(32),m=n(82),g=n(99),S=n(818),v=n(90),A=n(88),b=n(34),E=n(79),C=function(t){function e(){var e=t.call(this)||this;return e.onInitCallBack=function(){},e.componentMap={},e._customClasses={},e.registerBuilder(o.a.IMAGE,new l.a),e.registerBuilder(o.a.CONTAINER,new c.a),e.registerBuilder(o.a.LIBRARY_ITEM,new d.a(e.componentMap)),e.registerBuilder(o.a.MOVIE_CLIP,new p.a),e.registerBuilder(o.a.LABEL,new h.a),e.registerBuilder(o.a.TILING_SPRITE,new f.a),e.registerBuilder(o.a.SPINE,new M.a),e.registerBuilder(o.a.BUTTON,new y.a),e.registerBuilder(o.a.CHECKBOX,new m.a),e.registerBuilder(o.a.RECTANGLE_AREA,new g.a),e.registerBuilder(o.a.REELS_VIEW,new S.a),e.registerBuilder(o.a.RECTANGLE,new v.a),e.registerBuilder(o.a.ELLIPSE,new A.a),e.registerBuilder(o.a.LINE,new b.a),e.registerBuilder(o.a.ADVANCED_BUTTON,new E.a),e}return i.a(e,t),e.prototype.setViews=function(t){Object.assign(this._customClasses,t)},e.prototype.setComponentCreatedCallback=function(t){this.libraryComponentCreatedCallback=t},e.prototype.setContextProvider=function(t){if(void 0===t&&(t=new s.a),this._context)throw Error("Context provider already set");this._context=t,this.onInitCallBack()},e.prototype.onInit=function(t){this.onInitCallBack=t},e.prototype.isComponentRegistered=function(t){return!!this.componentMap[t]},e.prototype.registerComponent=function(t,e){if(this.isComponentRegistered(t))throw Error("Layout component for id: "+t+" is already registered");this.componentMap[t]=e},e.prototype.unRegisterComponent=function(t){delete this.componentMap[t]},e.prototype.createFromLibrary=function(t){var e=this._context.getLayout(t);if(!e)throw Error("There is no layout for '"+t+"' in the library");return this.create(e,this.componentMap[t])},e.prototype.create=function(t,e){var n;if(!t)throw Error(">> Layout does not exist");var i=t.t,r=this.getBuilder(i);if(!r)throw Error("Component builder is not registered: "+i);return i!==o.a.LIBRARY_ITEM&&t.id&&(n=this._context.getView(t.id)),n||(n=r.create(t,this,e||this._customClasses[i])),r.applyProperties(n,t,this),n&&this.libraryComponentCreatedCallback&&t.id&&this.libraryComponentCreatedCallback(n,!!e),n},e.prototype.getLayoutsContext=function(){return this._context},e.prototype.createEventsToActionsExecutor=function(){return new r.a},e.prototype.createTriggersList=function(t){return new a.a(t)},e}(u.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(15),o=function(){function t(){}return t.isEqualContent=function(e,n){return!!t.isLibraryItem(e)&&(e.t===n.t&&e.itemId===n.itemId)},t.isLibraryItem=function(t){return t.t===i.a.LIBRARY_ITEM},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),o=n(7),r=n(6),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.createDefault=function(t,e){return new r.a},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(77),o=n(29),r=n(1),a=function(){function t(t){this._dispatcher=n.i(r.inject)(r.EventDispatcher),this._component=t}return t.prototype.addListener=function(){this._dispatcher.addListener(this._event.eventName,this.onEvent,this)},t.prototype.removeListener=function(){this._dispatcher.removeListener(this._event.eventName,this.onEvent,this)},t.prototype.deserialize=function(t){this._event=new i.a(t.event),this._action=o.a.instance.createAction(t.action)},t.prototype.onEvent=function(t){this._event.hasEqualParams(t)&&this._action.execute(this._component)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(819),o=function(){function t(t){this._list=[],this._component=t}return t.prototype.destroy=function(){this._list&&this.removeListeners()},t.prototype.addListeners=function(){for(var t=0,e=this._list;t<e.length;t++){e[t].addListener()}},t.prototype.removeListeners=function(){for(var t=0,e=this._list;t<e.length;t++){e[t].removeListener()}},t.prototype.deserialize=function(t){if(t){this._list&&this.removeListeners();for(var e=0,n=t;e<n.length;e++){var o=n[e],r=new i.a(this._component);r.deserialize(o),this._list.push(r)}}},t}()},function(t,e){function n(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function o(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function r(t){if(d===clearTimeout)return clearTimeout(t);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){M&&h&&(M=!1,h.length?f=h.concat(f):y=-1,f.length&&s())}function s(){if(!M){var t=o(a);M=!0;for(var e=f.length;e;){for(h=f,f=[];++y<e;)h&&h[y].run();y=-1,e=f.length}h=null,M=!1,r(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,d,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(t){d=i}}();var h,f=[],M=!1,y=-1;p.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new u(t,e)),1!==f.length||M||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(t){return[]},p.binding=function(t){throw Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){(function(t,i){function o(t,n){var i={seen:[],stylize:a};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),M(n)?i.showHidden=n:n&&e._extend(i,n),A(i.showHidden)&&(i.showHidden=!1),A(i.depth)&&(i.depth=2),A(i.colors)&&(i.colors=!1),A(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=r),u(i,t,i.depth)}function r(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,i){if(t.customInspect&&n&&L(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(i,t);return S(o)||(o=u(t,o,i)),o}var r=l(t,n);if(r)return r;var a=Object.keys(n),M=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),P(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(n);if(0===a.length){if(L(n)){var y=n.name?": "+n.name:"";return t.stylize("[Function"+y+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return t.stylize(Date.prototype.toString.call(n),"date");if(P(n))return c(n)}var m="",g=!1,v=["{","}"];if(f(n)&&(g=!0,v=["[","]"]),L(n)){m=" [Function"+(n.name?": "+n.name:"")+"]"}if(b(n)&&(m=" "+RegExp.prototype.toString.call(n)),C(n)&&(m=" "+Date.prototype.toUTCString.call(n)),P(n)&&(m=" "+c(n)),0===a.length&&(!g||0==n.length))return v[0]+m+v[1];if(i<0)return b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var A;return A=g?d(t,n,i,M,a):a.map(function(e){return p(t,n,i,M,e,g)}),t.seen.pop(),h(A,m,v)}function l(t,e){if(A(e))return t.stylize("undefined","undefined");if(S(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):M(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,n,i,o){for(var r=[],a=0,s=e.length;a<s;++a)T(e,a+"")?r.push(p(t,e,n,i,a+"",!0)):r.push("");return o.forEach(function(o){o.match(/^\d+$/)||r.push(p(t,e,n,i,o,!0))}),r}function p(t,e,n,i,o,r){var a,s,l;if(l=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),T(i,o)||(a="["+o+"]"),s||(t.seen.indexOf(l.value)<0?(s=y(n)?u(t,l.value,null):u(t,l.value,n-1),s.indexOf("\n")>-1&&(s=r?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),A(a)){if(r&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t,e,n){var i=0;return t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function f(t){return Array.isArray(t)}function M(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return null==t}function g(t){return"number"==typeof t}function S(t){return"string"==typeof t}function v(t){return"symbol"==typeof t}function A(t){return void 0===t}function b(t){return E(t)&&"[object RegExp]"===w(t)}function E(t){return"object"==typeof t&&null!==t}function C(t){return E(t)&&"[object Date]"===w(t)}function P(t){return E(t)&&("[object Error]"===w(t)||t instanceof Error)}function L(t){return"function"==typeof t}function I(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function w(t){return Object.prototype.toString.call(t)}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var _=/%[sdj%]/g;e.format=function(t){if(!S(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,r=i.length,a=(t+"").replace(_,function(t){if("%%"===t)return"%";if(n>=r)return t;switch(t){case"%s":return i[n++]+"";case"%d":return+i[n++];case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),s=i[n];n<r;s=i[++n])y(s)||!E(s)?a+=" "+s:a+=" "+o(s);return a},e.deprecate=function(n,o){function r(){if(!a){if(i.throwDeprecation)throw Error(o);i.traceDeprecation,a=!0}return n.apply(this,arguments)}if(A(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(!0===i.noDeprecation)return n;var a=!1;return r};var k,R={};e.debuglog=function(t){if(A(k)&&(k=i.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(RegExp("\\b"+t+"\\b","i").test(k)){i.pid;R[t]=function(){e.format.apply(e,arguments)}}else R[t]=function(){};return R[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=f,e.isBoolean=M,e.isNull=y,e.isNullOrUndefined=m,e.isNumber=g,e.isString=S,e.isSymbol=v,e.isUndefined=A,e.isRegExp=b,e.isObject=E,e.isDate=C,e.isError=P,e.isFunction=L,e.isPrimitive=I,e.isBuffer=n(823);e.log=function(){},e.inherits=n(822),e._extend=function(t,e){if(!e||!E(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(e,n(825),n(821))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n}]);
